(self.webpackChunkClinicaOnlineLaboIV=self.webpackChunkClinicaOnlineLaboIV||[]).push([[179],{2011:(xt,Oe,B)=>{"use strict";B.d(Oe,{Dh:()=>Ce,GT:()=>$,cc:()=>Ne,hO:()=>Ke,on:()=>te,pX:()=>pe,xv:()=>Ae});var u=B(4650),Y=B(9260),N=B(4976);xt=B.hmd(xt);const ce=["ngOnDestroy"],pe=(Fe,$e,Ue,ke={})=>new Proxy(Fe,{get:(De,Ie)=>Ue.runOutsideAngular(()=>{var We;if(Fe[Ie])return!(null===(We=ke?.spy)||void 0===We)&&We.get&&ke.spy.get(Ie,Fe[Ie]),Fe[Ie];if(ce.indexOf(Ie)>-1)return()=>{};const Ge=$e.toPromise().then(de=>{const st=de&&de[Ie];return"function"==typeof st?st.bind(de):st&&st.then?st.then(kt=>Ue.run(()=>kt)):Ue.run(()=>st)});return new Proxy(()=>{},{get:(de,st)=>Ge[st],apply:(de,st,kt)=>Ge.then(mt=>{var Kt;const at=mt&&mt(...kt);return!(null===(Kt=ke?.spy)||void 0===Kt)&&Kt.apply&&ke.spy.apply(Ie,kt,at),at})})})}),$=(Fe,$e)=>{$e.forEach(Ue=>{Object.getOwnPropertyNames(Ue.prototype||Ue).forEach(ke=>{Object.defineProperty(Fe.prototype,ke,Object.getOwnPropertyDescriptor(Ue.prototype||Ue,ke))})})};class xe{constructor($e){return $e}}const Ce=new u.OlP("angularfire2.app.options"),Ae=new u.OlP("angularfire2.app.name");function te(Fe,$e,Ue){const De="object"==typeof Ue&&Ue||{};De.name=De.name||"string"==typeof Ue&&Ue||"[DEFAULT]";const We=Y.Z.apps.filter(Ge=>Ge&&Ge.name===De.name)[0]||$e.runOutsideAngular(()=>Y.Z.initializeApp(Fe,De));try{JSON.stringify(Fe)!==JSON.stringify(We.options)&&Q("error",`${We.name} Firebase App already initialized with different options${xt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new xe(We)}const Q=(Fe,...$e)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Fe](...$e)},se={provide:xe,useFactory:te,deps:[Ce,u.R0b,[new u.FiY,Ae]]};let Ke=(()=>{class Fe{constructor(Ue){Y.Z.registerVersion("angularfire",N.q4.full,"core"),Y.Z.registerVersion("angularfire",N.q4.full,"app-compat"),Y.Z.registerVersion("angular",u.q4F.full,Ue.toString())}static initializeApp(Ue,ke){return{ngModule:Fe,providers:[{provide:Ce,useValue:Ue},{provide:Ae,useValue:ke}]}}}return Fe.\u0275fac=function(Ue){return new(Ue||Fe)(u.LFG(u.Lbi))},Fe.\u0275mod=u.oAB({type:Fe}),Fe.\u0275inj=u.cJS({providers:[se]}),Fe})();function Ne(Fe,$e,Ue,ke,De){const[,Ie,We]=globalThis.\u0275AngularfireInstanceCache.find(Ge=>Ge[0]===Fe)||[];if(Ie)return function rt(Fe,$e){try{return Fe.toString()===$e.toString()}catch{return Fe===$e}}(De,We)||(Te("error",`${$e} was already initialized on the ${Ue} Firebase App with different settings.${ht?" You may need to reload as Firebase is not HMR aware.":""}`),Te("warn",{is:De,was:We})),Ie;{const Ge=ke();return globalThis.\u0275AngularfireInstanceCache.push([Fe,Ge,De]),Ge}}const ht=!!xt.hot,Te=(Fe,...$e)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Fe](...$e)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(xt,Oe,B)=>{"use strict";B.d(Oe,{q4:()=>Bc,iC:()=>ph,fc:()=>zl,HU:()=>Ya,vb:()=>qf,JM:()=>$c,u3:()=>ur});var u=B(4650),Y=B(259),N=B(5861),ce=B(6881),pe=B(2090),$=B(4859),xe=B(1877);const Ce=(w,T)=>T.some(R=>w instanceof R);let Ae,te;const Ke=new WeakMap,Ne=new WeakMap,rt=new WeakMap,ht=new WeakMap,Te=new WeakMap;let Ue={get(w,T,R){if(w instanceof IDBTransaction){if("done"===T)return Ne.get(w);if("objectStoreNames"===T)return w.objectStoreNames||rt.get(w);if("store"===T)return R.objectStoreNames[1]?void 0:R.objectStore(R.objectStoreNames[0])}return We(w[T])},set:(w,T,R)=>(w[T]=R,!0),has:(w,T)=>w instanceof IDBTransaction&&("done"===T||"store"===T)||T in w};function Ie(w){return"function"==typeof w?function De(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function se(){return te||(te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...T){return w.apply(Ge(this),T),We(Ke.get(this))}:function(...T){return We(w.apply(Ge(this),T))}:function(T,...R){const H=w.call(Ge(this),T,...R);return rt.set(H,T.sort?T.sort():[T]),We(H)}}(w):(w instanceof IDBTransaction&&function $e(w){if(Ne.has(w))return;const T=new Promise((R,H)=>{const ne=()=>{w.removeEventListener("complete",oe),w.removeEventListener("error",ve),w.removeEventListener("abort",ve)},oe=()=>{R(),ne()},ve=()=>{H(w.error||new DOMException("AbortError","AbortError")),ne()};w.addEventListener("complete",oe),w.addEventListener("error",ve),w.addEventListener("abort",ve)});Ne.set(w,T)}(w),Ce(w,function Q(){return Ae||(Ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,Ue):w)}function We(w){if(w instanceof IDBRequest)return function Fe(w){const T=new Promise((R,H)=>{const ne=()=>{w.removeEventListener("success",oe),w.removeEventListener("error",ve)},oe=()=>{R(We(w.result)),ne()},ve=()=>{H(w.error),ne()};w.addEventListener("success",oe),w.addEventListener("error",ve)});return T.then(R=>{R instanceof IDBCursor&&Ke.set(R,w)}).catch(()=>{}),Te.set(T,w),T}(w);if(ht.has(w))return ht.get(w);const T=Ie(w);return T!==w&&(ht.set(w,T),Te.set(T,w)),T}const Ge=w=>Te.get(w),kt=["get","getKey","getAll","getAllKeys","count"],mt=["put","add","delete","clear"],Kt=new Map;function at(w,T){if(!(w instanceof IDBDatabase)||T in w||"string"!=typeof T)return;if(Kt.get(T))return Kt.get(T);const R=T.replace(/FromIndex$/,""),H=T!==R,ne=mt.includes(R);if(!(R in(H?IDBIndex:IDBObjectStore).prototype)||!ne&&!kt.includes(R))return;const oe=function(){var ve=(0,N.Z)(function*(ot,...nt){const At=this.transaction(ot,ne?"readwrite":"readonly");let qt=At.store;return H&&(qt=qt.index(nt.shift())),(yield Promise.all([qt[R](...nt),ne&&At.done]))[0]});return function(nt){return ve.apply(this,arguments)}}();return Kt.set(T,oe),oe}!function ke(w){Ue=w(Ue)}(w=>({...w,get:(T,R,H)=>at(T,R)||w.get(T,R,H),has:(T,R)=>!!at(T,R)||w.has(T,R)}));const ai="@firebase/installations",me="0.6.4",Se=1e4,Pe=`w:${me}`,Le="FIS_v2",et="https://firebaseinstallations.googleapis.com/v1",ze=36e5,vt=new pe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function It(w){return w instanceof pe.ZR&&w.code.includes("request-failed")}function gn({projectId:w}){return`${et}/projects/${w}/installations`}function en(w){return{token:w.token,requestStatus:2,expiresIn:Yt(w.expiresIn),creationTime:Date.now()}}function bn(w,T){return zr.apply(this,arguments)}function zr(){return(zr=(0,N.Z)(function*(w,T){const H=(yield T.json()).error;return vt.create("request-failed",{requestName:w,serverCode:H.code,serverMessage:H.message,serverStatus:H.status})})).apply(this,arguments)}function Dn({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function nr(w){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,N.Z)(function*(w){const T=yield w();return T.status>=500&&T.status<600?w():T})).apply(this,arguments)}function Yt(w){return Number(w.replace("s","000"))}function bt(){return(bt=(0,N.Z)(function*({appConfig:w,heartbeatServiceProvider:T},{fid:R}){const H=gn(w),ne=Dn(w),oe=T.getImmediate({optional:!0});if(oe){const At=yield oe.getHeartbeatsHeader();At&&ne.append("x-firebase-client",At)}const ot={method:"POST",headers:ne,body:JSON.stringify({fid:R,authVersion:Le,appId:w.appId,sdkVersion:Pe})},nt=yield nr(()=>fetch(H,ot));if(nt.ok){const At=yield nt.json();return{fid:At.fid||R,registrationStatus:2,refreshToken:At.refreshToken,authToken:en(At.authToken)}}throw yield bn("Create Installation",nt)})).apply(this,arguments)}function pn(w){return new Promise(T=>{setTimeout(T,w)})}const Zn=/^[cdef][\w-]{21}$/,_r="";function Ln(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const R=function In(w){return function $n(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Zn.test(R)?R:_r}catch{return _r}}function nn(w){return`${w.appName}!${w.appId}`}const wt=new Map;function jt(w,T){const R=nn(w);Kn(R,T),function ci(w,T){const R=function Ir(){return!Pn&&"BroadcastChannel"in self&&(Pn=new BroadcastChannel("[Firebase] FID Change"),Pn.onmessage=w=>{Kn(w.data.key,w.data.fid)}),Pn}();R&&R.postMessage({key:w,fid:T}),function an(){0===wt.size&&Pn&&(Pn.close(),Pn=null)}()}(R,T)}function Kn(w,T){const R=wt.get(w);if(R)for(const H of R)H(T)}let Pn=null;const xi="firebase-installations-database",dn=1,li="firebase-installations-store";let Gt=null;function ir(){return Gt||(Gt=function de(w,T,{blocked:R,upgrade:H,blocking:ne,terminated:oe}={}){const ve=indexedDB.open(w,T),ot=We(ve);return H&&ve.addEventListener("upgradeneeded",nt=>{H(We(ve.result),nt.oldVersion,nt.newVersion,We(ve.transaction))}),R&&ve.addEventListener("blocked",()=>R()),ot.then(nt=>{oe&&nt.addEventListener("close",()=>oe()),ne&&nt.addEventListener("versionchange",()=>ne())}).catch(()=>{}),ot}(xi,dn,{upgrade:(w,T)=>{0===T&&w.createObjectStore(li)}})),Gt}function Wn(w,T){return or.apply(this,arguments)}function or(){return(or=(0,N.Z)(function*(w,T){const R=nn(w),ne=(yield ir()).transaction(li,"readwrite"),oe=ne.objectStore(li),ve=yield oe.get(R);return yield oe.put(T,R),yield ne.done,(!ve||ve.fid!==T.fid)&&jt(w,T.fid),T})).apply(this,arguments)}function sr(w){return ei.apply(this,arguments)}function ei(){return(ei=(0,N.Z)(function*(w){const T=nn(w),H=(yield ir()).transaction(li,"readwrite");yield H.objectStore(li).delete(T),yield H.done})).apply(this,arguments)}function qr(w,T){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,N.Z)(function*(w,T){const R=nn(w),ne=(yield ir()).transaction(li,"readwrite"),oe=ne.objectStore(li),ve=yield oe.get(R),ot=T(ve);return void 0===ot?yield oe.delete(R):yield oe.put(ot,R),yield ne.done,ot&&(!ve||ve.fid!==ot.fid)&&jt(w,ot.fid),ot})).apply(this,arguments)}function J(w){return K.apply(this,arguments)}function K(){return K=(0,N.Z)(function*(w){let T;const R=yield qr(w.appConfig,H=>{const ne=function V(w){return Ot(w||{fid:Ln(),registrationStatus:0})}(H),oe=function j(w,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(vt.create("app-offline"))};const R={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},H=function F(w,T){return re.apply(this,arguments)}(w,R);return{installationEntry:R,registrationPromise:H}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Me(w)}:{installationEntry:T}}(w,ne);return T=oe.registrationPromise,oe.installationEntry});return R.fid===_r?{installationEntry:yield T}:{installationEntry:R,registrationPromise:T}}),K.apply(this,arguments)}function re(){return re=(0,N.Z)(function*(w,T){try{const R=yield function Rn(w,T){return bt.apply(this,arguments)}(w,T);return Wn(w.appConfig,R)}catch(R){throw It(R)&&409===R.customData.serverCode?yield sr(w.appConfig):yield Wn(w.appConfig,{fid:T.fid,registrationStatus:0}),R}}),re.apply(this,arguments)}function Me(w){return ft.apply(this,arguments)}function ft(){return(ft=(0,N.Z)(function*(w){let T=yield Ft(w.appConfig);for(;1===T.registrationStatus;)yield pn(100),T=yield Ft(w.appConfig);if(0===T.registrationStatus){const{installationEntry:R,registrationPromise:H}=yield J(w);return H||R}return T})).apply(this,arguments)}function Ft(w){return qr(w,T=>{if(!T)throw vt.create("installation-not-found");return Ot(T)})}function Ot(w){return function rn(w){return 1===w.registrationStatus&&w.registrationTime+Se<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function Mn(){return(Mn=(0,N.Z)(function*({appConfig:w,heartbeatServiceProvider:T},R){const H=function Qt(w,{fid:T}){return`${gn(w)}/${T}/authTokens:generate`}(w,R),ne=function wr(w,{refreshToken:T}){const R=Dn(w);return R.append("Authorization",function Gr(w){return`${Le} ${w}`}(T)),R}(w,R),oe=T.getImmediate({optional:!0});if(oe){const At=yield oe.getHeartbeatsHeader();At&&ne.append("x-firebase-client",At)}const ot={method:"POST",headers:ne,body:JSON.stringify({installation:{sdkVersion:Pe,appId:w.appId}})},nt=yield nr(()=>fetch(H,ot));if(nt.ok)return en(yield nt.json());throw yield bn("Generate Auth Token",nt)})).apply(this,arguments)}function ar(w){return Yn.apply(this,arguments)}function Yn(){return Yn=(0,N.Z)(function*(w,T=!1){let R;const H=yield qr(w.appConfig,oe=>{if(!cn(oe))throw vt.create("not-registered");const ve=oe.authToken;if(!T&&function St(w){return 2===w.requestStatus&&!function An(w){const T=Date.now();return T<w.creationTime||w.creationTime+w.expiresIn<T+ze}(w)}(ve))return oe;if(1===ve.requestStatus)return R=function we(w,T){return le.apply(this,arguments)}(w,T),oe;{if(!navigator.onLine)throw vt.create("app-offline");const ot=function yn(w){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:T})}(oe);return R=function Ct(w,T){return Vt.apply(this,arguments)}(w,ot),ot}});return R?yield R:H.authToken}),Yn.apply(this,arguments)}function le(){return(le=(0,N.Z)(function*(w,T){let R=yield qe(w.appConfig);for(;1===R.authToken.requestStatus;)yield pn(100),R=yield qe(w.appConfig);const H=R.authToken;return 0===H.requestStatus?ar(w,T):H})).apply(this,arguments)}function qe(w){return qr(w,T=>{if(!cn(T))throw vt.create("not-registered");return function kr(w){return 1===w.requestStatus&&w.requestTime+Se<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Vt(){return Vt=(0,N.Z)(function*(w,T){try{const R=yield function Lt(w,T){return Mn.apply(this,arguments)}(w,T),H=Object.assign(Object.assign({},T),{authToken:R});return yield Wn(w.appConfig,H),R}catch(R){if(!It(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const H=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Wn(w.appConfig,H)}else yield sr(w.appConfig);throw R}}),Vt.apply(this,arguments)}function cn(w){return void 0!==w&&2===w.registrationStatus}function Ma(){return(Ma=(0,N.Z)(function*(w){const T=w,{installationEntry:R,registrationPromise:H}=yield J(T);return H?H.catch(console.error):ar(T).catch(console.error),R.fid})).apply(this,arguments)}function Ro(){return Ro=(0,N.Z)(function*(w,T=!1){const R=w;return yield function Tr(w){return lt.apply(this,arguments)}(R),(yield ar(R,T)).token}),Ro.apply(this,arguments)}function lt(){return(lt=(0,N.Z)(function*(w){const{registrationPromise:T}=yield J(w);T&&(yield T)})).apply(this,arguments)}function ui(w){return vt.create("missing-app-config-values",{valueName:w})}const Jt="installations",Mi=w=>{const T=w.getProvider("app").getImmediate(),R=function bs(w){if(!w||!w.options)throw ui("App Configuration");if(!w.name)throw ui("App Name");const T=["projectId","apiKey","appId"];for(const R of T)if(!w.options[R])throw ui(R);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(T);return{app:T,appConfig:R,heartbeatServiceProvider:(0,ce._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Ws=w=>{const T=w.getProvider("app").getImmediate(),R=(0,ce._getProvider)(T,Jt).getImmediate();return{getId:()=>function Cr(w){return Ma.apply(this,arguments)}(R),getToken:ne=>function Iu(w){return Ro.apply(this,arguments)}(R,ne)}};(function Po(){(0,ce._registerComponent)(new $.wA(Jt,Mi,"PUBLIC")),(0,ce._registerComponent)(new $.wA("installations-internal",Ws,"PRIVATE"))})(),(0,ce.registerVersion)(ai,me),(0,ce.registerVersion)(ai,me,"esm2017");const yr="@firebase/remote-config",Or=new pe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Gd{constructor(T,R,H,ne){this.client=T,this.storage=R,this.storageCache=H,this.logger=ne}isCachedDataFresh(T,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-R,ne=H<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${ne}.`),ne}fetch(T){var R=this;return(0,N.Z)(function*(){const[H,ne]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(ne&&R.isCachedDataFresh(T.cacheMaxAgeMillis,H))return ne;T.eTag=ne&&ne.eTag;const oe=yield R.client.fetch(T),ve=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===oe.status&&ve.push(R.storage.setLastSuccessfulFetchResponse(oe)),yield Promise.all(ve),oe})()}}function yc(w=navigator){return w.languages&&w.languages[0]||w.language}class Is{constructor(T,R,H,ne,oe,ve){this.firebaseInstallations=T,this.sdkVersion=R,this.namespace=H,this.projectId=ne,this.apiKey=oe,this.appId=ve}fetch(T){var R=this;return(0,N.Z)(function*(){const[H,ne]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),ve=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,ot={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},nt={sdk_version:R.sdkVersion,app_instance_id:H,app_instance_id_token:ne,app_id:R.appId,language_code:yc()},At={method:"POST",headers:ot,body:JSON.stringify(nt)},qt=fetch(ve,At),Xt=new Promise((Vi,so)=>{T.signal.addEventListener(()=>{const Ja=new Error("The operation was aborted.");Ja.name="AbortError",so(Ja)})});let Ui;try{yield Promise.race([qt,Xt]),Ui=yield qt}catch(Vi){let so="fetch-client-network";throw"AbortError"===Vi?.name&&(so="fetch-timeout"),Or.create(so,{originalErrorMessage:Vi?.message})}let ri=Ui.status;const pa=Ui.headers.get("ETag")||void 0;let Wu,Qa;if(200===Ui.status){let Vi;try{Vi=yield Ui.json()}catch(so){throw Or.create("fetch-client-parse",{originalErrorMessage:so?.message})}Wu=Vi.entries,Qa=Vi.state}if("INSTANCE_STATE_UNSPECIFIED"===Qa?ri=500:"NO_CHANGE"===Qa?ri=304:("NO_TEMPLATE"===Qa||"EMPTY_CONFIG"===Qa)&&(Wu={}),304!==ri&&200!==ri)throw Or.create("fetch-status",{httpStatus:ri});return{status:ri,eTag:pa,config:Wu}})()}}class ul{constructor(T,R){this.client=T,this.storage=R}fetch(T){var R=this;return(0,N.Z)(function*(){const H=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(T,H)})()}attemptFetch(T,{throttleEndTimeMillis:R,backoffCount:H}){var ne=this;return(0,N.Z)(function*(){yield function ll(w,T){return new Promise((R,H)=>{const ne=Math.max(T-Date.now(),0),oe=setTimeout(R,ne);w.addEventListener(()=>{clearTimeout(oe),H(Or.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,R);try{const oe=yield ne.client.fetch(T);return yield ne.storage.deleteThrottleMetadata(),oe}catch(oe){if(!function qd(w){if(!(w instanceof pe.ZR&&w.customData))return!1;const T=Number(w.customData.httpStatus);return 429===T||500===T||503===T||504===T}(oe))throw oe;const ve={throttleEndTimeMillis:Date.now()+(0,pe.$s)(H),backoffCount:H+1};return yield ne.storage.setThrottleMetadata(ve),ne.attemptFetch(T,ve)}})()}}class Cu{constructor(T,R,H,ne,oe){this.app=T,this._client=R,this._storageCache=H,this._storage=ne,this._logger=oe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function No(w,T){const R=w.target.error||void 0;return Or.create(T,{originalErrorMessage:R&&R?.message})}const Cs="app_namespace_store";class pl{constructor(T,R,H,ne=function fl(){return new Promise((w,T)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=H=>{T(No(H,"storage-open"))},R.onsuccess=H=>{w(H.target.result)},R.onupgradeneeded=H=>{0===H.oldVersion&&H.target.result.createObjectStore(Cs,{keyPath:"compositeKey"})}}catch(R){T(Or.create("storage-open",{originalErrorMessage:R?.message}))}})}()){this.appId=T,this.appName=R,this.namespace=H,this.openDbPromise=ne}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var R=this;return(0,N.Z)(function*(){const H=yield R.openDbPromise;return new Promise((ne,oe)=>{const ot=H.transaction([Cs],"readonly").objectStore(Cs),nt=R.createCompositeKey(T);try{const At=ot.get(nt);At.onerror=qt=>{oe(No(qt,"storage-get"))},At.onsuccess=qt=>{const Xt=qt.target.result;ne(Xt?Xt.value:void 0)}}catch(At){oe(Or.create("storage-get",{originalErrorMessage:At?.message}))}})})()}set(T,R){var H=this;return(0,N.Z)(function*(){const ne=yield H.openDbPromise;return new Promise((oe,ve)=>{const nt=ne.transaction([Cs],"readwrite").objectStore(Cs),At=H.createCompositeKey(T);try{const qt=nt.put({compositeKey:At,value:R});qt.onerror=Xt=>{ve(No(Xt,"storage-set"))},qt.onsuccess=()=>{oe()}}catch(qt){ve(Or.create("storage-set",{originalErrorMessage:qt?.message}))}})})()}delete(T){var R=this;return(0,N.Z)(function*(){const H=yield R.openDbPromise;return new Promise((ne,oe)=>{const ot=H.transaction([Cs],"readwrite").objectStore(Cs),nt=R.createCompositeKey(T);try{const At=ot.delete(nt);At.onerror=qt=>{oe(No(qt,"storage-delete"))},At.onsuccess=()=>{ne()}}catch(At){oe(Or.create("storage-delete",{originalErrorMessage:At?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Yi{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,N.Z)(function*(){const R=T.storage.getLastFetchStatus(),H=T.storage.getLastSuccessfulFetchTimestampMillis(),ne=T.storage.getActiveConfig(),oe=yield R;oe&&(T.lastFetchStatus=oe);const ve=yield H;ve&&(T.lastSuccessfulFetchTimestampMillis=ve);const ot=yield ne;ot&&(T.activeConfig=ot)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Pa(){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,N.Z)(function*(){if(!(0,pe.hl)())return!1;try{return yield(0,pe.eu)()}catch{return!1}})).apply(this,arguments)}!function Ts(){(0,ce._registerComponent)(new $.wA("remote-config",function w(T,{instanceIdentifier:R}){const H=T.getProvider("app").getImmediate(),ne=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Or.create("registration-window");if(!(0,pe.hl)())throw Or.create("indexed-db-unavailable");const{projectId:oe,apiKey:ve,appId:ot}=H.options;if(!oe)throw Or.create("registration-project-id");if(!ve)throw Or.create("registration-api-key");if(!ot)throw Or.create("registration-app-id");const nt=new pl(ot,H.name,R=R||"firebase"),At=new Yi(nt),qt=new xe.Yd(yr);qt.logLevel=xe.in.ERROR;const Xt=new Is(ne,ce.SDK_VERSION,R,oe,ve,ot),Ui=new ul(Xt,nt),ri=new Gd(Ui,nt,At,qt),pa=new Cu(H,ri,At,nt,qt);return function ti(w){const T=(0,pe.m9)(w);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(pa),pa},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(yr,"0.4.4"),(0,ce.registerVersion)(yr,"0.4.4","esm2017")}();const gl=(w,T)=>T.some(R=>w instanceof R);let Ji,Ds;const is=new WeakMap,Lo=new WeakMap,Gn=new WeakMap,As=new WeakMap,Ys=new WeakMap;let Vo={get(w,T,R){if(w instanceof IDBTransaction){if("done"===T)return Lo.get(w);if("objectStoreNames"===T)return w.objectStoreNames||Gn.get(w);if("store"===T)return R.objectStoreNames[1]?void 0:R.objectStore(R.objectStoreNames[0])}return ni(w[T])},set:(w,T,R)=>(w[T]=R,!0),has:(w,T)=>w instanceof IDBTransaction&&("done"===T||"store"===T)||T in w};function Oa(w){return"function"==typeof w?function Du(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function vc(){return Ds||(Ds=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...T){return w.apply(vr(this),T),ni(is.get(this))}:function(...T){return ni(w.apply(vr(this),T))}:function(T,...R){const H=w.call(vr(this),T,...R);return Gn.set(H,T.sort?T.sort():[T]),ni(H)}}(w):(w instanceof IDBTransaction&&function Uo(w){if(Lo.has(w))return;const T=new Promise((R,H)=>{const ne=()=>{w.removeEventListener("complete",oe),w.removeEventListener("error",ve),w.removeEventListener("abort",ve)},oe=()=>{R(),ne()},ve=()=>{H(w.error||new DOMException("AbortError","AbortError")),ne()};w.addEventListener("complete",oe),w.addEventListener("error",ve),w.addEventListener("abort",ve)});Lo.set(w,T)}(w),gl(w,function ka(){return Ji||(Ji=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,Vo):w)}function ni(w){if(w instanceof IDBRequest)return function fr(w){const T=new Promise((R,H)=>{const ne=()=>{w.removeEventListener("success",oe),w.removeEventListener("error",ve)},oe=()=>{R(ni(w.result)),ne()},ve=()=>{H(w.error),ne()};w.addEventListener("success",oe),w.addEventListener("error",ve)});return T.then(R=>{R instanceof IDBCursor&&is.set(R,w)}).catch(()=>{}),Ys.set(T,w),T}(w);if(As.has(w))return As.get(w);const T=Oa(w);return T!==w&&(As.set(w,T),Ys.set(T,w)),T}const vr=w=>Ys.get(w);function Ss(w,T,{blocked:R,upgrade:H,blocking:ne,terminated:oe}={}){const ve=indexedDB.open(w,T),ot=ni(ve);return H&&ve.addEventListener("upgradeneeded",nt=>{H(ni(ve.result),nt.oldVersion,nt.newVersion,ni(ve.transaction))}),R&&ve.addEventListener("blocked",()=>R()),ot.then(nt=>{oe&&nt.addEventListener("close",()=>oe()),ne&&nt.addEventListener("versionchange",()=>ne())}).catch(()=>{}),ot}function _o(w,{blocked:T}={}){const R=indexedDB.deleteDatabase(w);return T&&R.addEventListener("blocked",()=>T()),ni(R).then(()=>{})}const _l=["get","getKey","getAll","getAllKeys","count"],yo=["put","add","delete","clear"],Qs=new Map;function xs(w,T){if(!(w instanceof IDBDatabase)||T in w||"string"!=typeof T)return;if(Qs.get(T))return Qs.get(T);const R=T.replace(/FromIndex$/,""),H=T!==R,ne=yo.includes(R);if(!(R in(H?IDBIndex:IDBObjectStore).prototype)||!ne&&!_l.includes(R))return;const oe=function(){var ve=(0,N.Z)(function*(ot,...nt){const At=this.transaction(ot,ne?"readwrite":"readonly");let qt=At.store;return H&&(qt=qt.index(nt.shift())),(yield Promise.all([qt[R](...nt),ne&&At.done]))[0]});return function(nt){return ve.apply(this,arguments)}}();return Qs.set(T,oe),oe}!function Qn(w){Vo=w(Vo)}(w=>({...w,get:(T,R,H)=>xs(T,R)||w.get(T,R,H),has:(T,R)=>!!xs(T,R)||w.has(T,R)}));const $t="/firebase-messaging-sw.js",Na="/firebase-cloud-messaging-push-scope",yl="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",bc="https://fcmregistrations.googleapis.com/v1",Fa="google.c.a.c_id",Js="google.c.a.c_l",vl="google.c.a.ts",bl="google.c.a.e";var Ee=(()=>{return(w=Ee||(Ee={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",Ee;var w})();function Ht(w){const T=new Uint8Array(w);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wc(w){const R=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(R),ne=new Uint8Array(H.length);for(let oe=0;oe<H.length;++oe)ne[oe]=H.charCodeAt(oe);return ne}const Xs="fcm_token_details_db",cr=5,wl="fcm_token_object_Store";function ki(){return ki=(0,N.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(oe=>oe.name).includes(Xs))return null;let T=null;return(yield Ss(Xs,cr,{upgrade:(H=(0,N.Z)(function*(ne,oe,ve,ot){var nt;if(oe<2||!ne.objectStoreNames.contains(wl))return;const At=ot.objectStore(wl),qt=yield At.index("fcmSenderId").get(w);if(yield At.clear(),qt)if(2===oe){const Xt=qt;if(!Xt.auth||!Xt.p256dh||!Xt.endpoint)return;T={token:Xt.fcmToken,createTime:null!==(nt=Xt.createTime)&&void 0!==nt?nt:Date.now(),subscriptionOptions:{auth:Xt.auth,p256dh:Xt.p256dh,endpoint:Xt.endpoint,swScope:Xt.swScope,vapidKey:"string"==typeof Xt.vapidKey?Xt.vapidKey:Ht(Xt.vapidKey)}}}else if(3===oe){const Xt=qt;T={token:Xt.fcmToken,createTime:Xt.createTime,subscriptionOptions:{auth:Ht(Xt.auth),p256dh:Ht(Xt.p256dh),endpoint:Xt.endpoint,swScope:Xt.swScope,vapidKey:Ht(Xt.vapidKey)}}}else if(4===oe){const Xt=qt;T={token:Xt.fcmToken,createTime:Xt.createTime,subscriptionOptions:{auth:Ht(Xt.auth),p256dh:Ht(Xt.p256dh),endpoint:Xt.endpoint,swScope:Xt.swScope,vapidKey:Ht(Xt.vapidKey)}}}}),function(oe,ve,ot,nt){return H.apply(this,arguments)})})).close(),yield _o(Xs),yield _o("fcm_vapid_details_db"),yield _o("undefined"),function La(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:T}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}(T)?T:null;var H}),ki.apply(this,arguments)}const El="firebase-messaging-database",Il=1,vo="firebase-messaging-store";let ss=null;function Fr(){return ss||(ss=Ss(El,Il,{upgrade:(w,T)=>{0===T&&w.createObjectStore(vo)}})),ss}function hi(w){return Bo.apply(this,arguments)}function Bo(){return Bo=(0,N.Z)(function*(w){const T=Tl(w),H=yield(yield Fr()).transaction(vo).objectStore(vo).get(T);if(H)return H;{const ne=yield function os(w){return ki.apply(this,arguments)}(w.appConfig.senderId);if(ne)return yield Xi(w,ne),ne}}),Bo.apply(this,arguments)}function Xi(w,T){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,N.Z)(function*(w,T){const R=Tl(w),ne=(yield Fr()).transaction(vo,"readwrite");return yield ne.objectStore(vo).put(T,R),yield ne.done,T})).apply(this,arguments)}function as(){return(as=(0,N.Z)(function*(w){const T=Tl(w),H=(yield Fr()).transaction(vo,"readwrite");yield H.objectStore(vo).delete(T),yield H.done})).apply(this,arguments)}function Tl({appConfig:w}){return w.appId}const Jn=new pe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ua(w,T){return ea.apply(this,arguments)}function ea(){return(ea=(0,N.Z)(function*(w,T){const R=yield ta(w),H=eo(T),ne={method:"POST",headers:R,body:JSON.stringify(H)};let oe;try{oe=yield(yield fetch(Ec(w.appConfig),ne)).json()}catch(ve){throw Jn.create("token-subscribe-failed",{errorInfo:ve?.toString()})}if(oe.error)throw Jn.create("token-subscribe-failed",{errorInfo:oe.error.message});if(!oe.token)throw Jn.create("token-subscribe-no-token");return oe.token})).apply(this,arguments)}function Va(){return(Va=(0,N.Z)(function*(w,T){const R=yield ta(w),H=eo(T.subscriptionOptions),ne={method:"PATCH",headers:R,body:JSON.stringify(H)};let oe;try{oe=yield(yield fetch(`${Ec(w.appConfig)}/${T.token}`,ne)).json()}catch(ve){throw Jn.create("token-update-failed",{errorInfo:ve?.toString()})}if(oe.error)throw Jn.create("token-update-failed",{errorInfo:oe.error.message});if(!oe.token)throw Jn.create("token-update-no-token");return oe.token})).apply(this,arguments)}function Al(w,T){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,N.Z)(function*(w,T){const H={method:"DELETE",headers:yield ta(w)};try{const oe=yield(yield fetch(`${Ec(w.appConfig)}/${T}`,H)).json();if(oe.error)throw Jn.create("token-unsubscribe-failed",{errorInfo:oe.error.message})}catch(ne){throw Jn.create("token-unsubscribe-failed",{errorInfo:ne?.toString()})}})).apply(this,arguments)}function Ec({projectId:w}){return`${bc}/projects/${w}/registrations`}function ta(w){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,N.Z)(function*({appConfig:w,installations:T}){const R=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function eo({p256dh:w,auth:T,endpoint:R,vapidKey:H}){const ne={web:{endpoint:R,auth:T,p256dh:w}};return H!==yl&&(ne.web.applicationPubKey=H),ne}const Cc=6048e5;function Dc(){return Dc=(0,N.Z)(function*(w){const T=yield function Kd(w,T){return Ni.apply(this,arguments)}(w.swRegistration,w.vapidKey),R={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:T.endpoint,auth:Ht(T.getKey("auth")),p256dh:Ht(T.getKey("p256dh"))},H=yield hi(w.firebaseDependencies);if(H){if(function pr(w,T){return T.vapidKey===w.vapidKey&&T.endpoint===w.endpoint&&T.auth===w.auth&&T.p256dh===w.p256dh}(H.subscriptionOptions,R))return Date.now()>=H.createTime+Cc?function qn(w,T){return Ac.apply(this,arguments)}(w,{token:H.token,createTime:Date.now(),subscriptionOptions:R}):H.token;try{yield Al(w.firebaseDependencies,H.token)}catch(ne){console.warn(ne)}return Rs(w.firebaseDependencies,R)}return Rs(w.firebaseDependencies,R)}),Dc.apply(this,arguments)}function to(){return to=(0,N.Z)(function*(w){const T=yield hi(w.firebaseDependencies);T&&(yield Al(w.firebaseDependencies,T.token),yield function Cl(w){return as.apply(this,arguments)}(w.firebaseDependencies));const R=yield w.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()}),to.apply(this,arguments)}function Ac(){return Ac=(0,N.Z)(function*(w,T){try{const R=yield function Dl(w,T){return Va.apply(this,arguments)}(w.firebaseDependencies,T),H=Object.assign(Object.assign({},T),{token:R,createTime:Date.now()});return yield Xi(w.firebaseDependencies,H),R}catch(R){throw yield function Zr(w){return to.apply(this,arguments)}(w),R}}),Ac.apply(this,arguments)}function Rs(w,T){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,N.Z)(function*(w,T){const H={token:yield Ua(w,T),createTime:Date.now(),subscriptionOptions:T};return yield Xi(w,H),H.token})).apply(this,arguments)}function Ni(){return(Ni=(0,N.Z)(function*(w,T){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wc(T)})})).apply(this,arguments)}function Ba(w){const T={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function xc(w,T){if(!T.notification)return;w.notification={};const R=T.notification.title;R&&(w.notification.title=R);const H=T.notification.body;H&&(w.notification.body=H);const ne=T.notification.image;ne&&(w.notification.image=ne);const oe=T.notification.icon;oe&&(w.notification.icon=oe)}(T,w),function Sl(w,T){T.data&&(w.data=T.data)}(T,w),function xl(w,T){var R,H,ne,oe,ve;if(!(T.fcmOptions||null!==(R=T.notification)&&void 0!==R&&R.click_action))return;w.fcmOptions={};const ot=null!==(ne=null===(H=T.fcmOptions)||void 0===H?void 0:H.link)&&void 0!==ne?ne:null===(oe=T.notification)||void 0===oe?void 0:oe.click_action;ot&&(w.fcmOptions.link=ot);const nt=null===(ve=T.fcmOptions)||void 0===ve?void 0:ve.analytics_label;nt&&(w.fcmOptions.analyticsLabel=nt)}(T,w),T}function Ps(w,T){const R=[];for(let H=0;H<w.length;H++)R.push(w.charAt(H)),H<T.length&&R.push(T.charAt(H));return R.join("")}function Fi(w){return Jn.create("missing-app-config-values",{valueName:w})}Ps("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ps("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class C{constructor(T,R,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ne=function na(w){if(!w||!w.options)throw Fi("App Configuration Object");if(!w.name)throw Fi("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:R}=w;for(const H of T)if(!R[H])throw Fi(H);return{appName:w.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:ne,installations:R,analyticsProvider:H}}_delete(){return Promise.resolve()}}function D(w){return O.apply(this,arguments)}function O(){return(O=(0,N.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register($t,{scope:Na}),w.swRegistration.update().catch(()=>{})}catch(T){throw Jn.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function ge(){return(ge=(0,N.Z)(function*(w,T){if(!T&&!w.swRegistration&&(yield D(w)),T||!w.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Jn.create("invalid-sw-registration");w.swRegistration=T}})).apply(this,arguments)}function wn(){return(wn=(0,N.Z)(function*(w,T){T?w.vapidKey=T:w.vapidKey||(w.vapidKey=yl)})).apply(this,arguments)}function er(){return er=(0,N.Z)(function*(w,T){if(!navigator)throw Jn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Jn.create("permission-blocked");return yield function Rt(w,T){return wn.apply(this,arguments)}(w,T?.vapidKey),yield function W(w,T){return ge.apply(this,arguments)}(w,T?.serviceWorkerRegistration),function Tc(w){return Dc.apply(this,arguments)}(w)}),er.apply(this,arguments)}function no(){return(no=(0,N.Z)(function*(w,T,R){const H=function ra(w){switch(w){case Ee.NOTIFICATION_CLICKED:return"notification_open";case Ee.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(T);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:R[Fa],message_name:R[Js],message_time:R[vl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ia(){return ia=(0,N.Z)(function*(w,T){const R=T.data;if(!R.isFirebaseMessaging)return;w.onMessageHandler&&R.messageType===Ee.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(Ba(R)):w.onMessageHandler.next(Ba(R)));const H=R.data;(function ja(w){return"object"==typeof w&&!!w&&Fa in w})(H)&&"1"===H[bl]&&(yield function cs(w,T,R){return no.apply(this,arguments)}(w,R.messageType,H))}),ia.apply(this,arguments)}const Ha="@firebase/messaging",Rc=w=>{const T=new C(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function $a(w,T){return ia.apply(this,arguments)}(T,R)),T},Au=w=>{const T=w.getProvider("messaging").getImmediate();return{getToken:H=>function Xn(w,T){return er.apply(this,arguments)}(T,H)}};function Ff(){return Su.apply(this,arguments)}function Su(){return(Su=(0,N.Z)(function*(){try{yield(0,pe.eu)()}catch{return!1}return typeof window<"u"&&(0,pe.hl)()&&(0,pe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Pc(){(0,ce._registerComponent)(new $.wA("messaging",Rc,"PUBLIC")),(0,ce._registerComponent)(new $.wA("messaging-internal",Au,"PRIVATE")),(0,ce.registerVersion)(Ha,"0.12.4"),(0,ce.registerVersion)(Ha,"0.12.4","esm2017")}();const ks="analytics",Rl="firebase_id",Jd="origin",kc=6e4,Xd="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pl="https://www.googletagmanager.com/gtag/js",Lr=new xe.Yd("@firebase/analytics"),lr=new pe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Lf(w){if(!w.startsWith(Pl)){const T=lr.create("invalid-gtag-resource",{gtagURL:w});return Lr.warn(T.message),""}return w}function Os(w){return Promise.all(w.map(T=>T.catch(R=>R)))}function Ns(){return(Ns=(0,N.Z)(function*(w,T,R,H,ne,oe){const ve=H[ne];try{if(ve)yield T[ve];else{const nt=(yield Os(R)).find(At=>At.measurementId===ne);nt&&(yield T[nt.appId])}}catch(ot){Lr.error(ot)}w("config",ne,oe)})).apply(this,arguments)}function oa(){return(oa=(0,N.Z)(function*(w,T,R,H,ne){try{let oe=[];if(ne&&ne.send_to){let ve=ne.send_to;Array.isArray(ve)||(ve=[ve]);const ot=yield Os(R);for(const nt of ve){const At=ot.find(Xt=>Xt.measurementId===nt),qt=At&&T[At.appId];if(!qt){oe=[];break}oe.push(qt)}}0===oe.length&&(oe=Object.values(T)),yield Promise.all(oe),w("event",H,ne||{})}catch(oe){Lr.error(oe)}})).apply(this,arguments)}const Ol=30,ca=new class eh{constructor(T={},R=1e3){this.throttleMetadata=T,this.intervalMillis=R}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,R){this.throttleMetadata[T]=R}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Vf(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function Cn(){return(Cn=(0,N.Z)(function*(w){var T;const{appId:R,apiKey:H}=w,ne={method:"GET",headers:Vf(H)},oe=Xd.replace("{app-id}",R),ve=yield fetch(oe,ne);if(200!==ve.status&&304!==ve.status){let ot="";try{const nt=yield ve.json();null!==(T=nt.error)&&void 0!==T&&T.message&&(ot=nt.error.message)}catch{}throw lr.create("config-fetch-failed",{httpStatus:ve.status,responseMessage:ot})}return ve.json()})).apply(this,arguments)}function nh(){return(nh=(0,N.Z)(function*(w,T=ca,R){const{appId:H,apiKey:ne,measurementId:oe}=w.options;if(!H)throw lr.create("no-app-id");if(!ne){if(oe)return{measurementId:oe,appId:H};throw lr.create("no-api-key")}const ve=T.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ot=new yy;return setTimeout((0,N.Z)(function*(){ot.abort()}),void 0!==R?R:kc),Nu({appId:H,apiKey:ne,measurementId:oe},ve,ot,T)})).apply(this,arguments)}function Nu(w,T,R){return Fu.apply(this,arguments)}function Fu(){return Fu=(0,N.Z)(function*(w,{throttleEndTimeMillis:T,backoffCount:R},H,ne=ca){var oe;const{appId:ve,measurementId:ot}=w;try{yield function Bf(w,T){return new Promise((R,H)=>{const ne=Math.max(T-Date.now(),0),oe=setTimeout(R,ne);w.addEventListener(()=>{clearTimeout(oe),H(lr.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(H,T)}catch(nt){if(ot)return Lr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ot} provided in the "measurementId" field in the local Firebase config. [${nt?.message}]`),{appId:ve,measurementId:ot};throw nt}try{const nt=yield function th(w){return Cn.apply(this,arguments)}(w);return ne.deleteThrottleMetadata(ve),nt}catch(nt){const At=nt;if(!function _y(w){if(!(w instanceof pe.ZR&&w.customData))return!1;const T=Number(w.customData.httpStatus);return 429===T||500===T||503===T||504===T}(At)){if(ne.deleteThrottleMetadata(ve),ot)return Lr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ot} provided in the "measurementId" field in the local Firebase config. [${At?.message}]`),{appId:ve,measurementId:ot};throw nt}const qt=503===Number(null===(oe=At?.customData)||void 0===oe?void 0:oe.httpStatus)?(0,pe.$s)(R,ne.intervalMillis,Ol):(0,pe.$s)(R,ne.intervalMillis),Xt={throttleEndTimeMillis:Date.now()+qt,backoffCount:R+1};return ne.setThrottleMetadata(ve,Xt),Lr.debug(`Calling attemptFetch again in ${qt} millis`),Nu(w,Xt,H,ne)}}),Fu.apply(this,arguments)}class yy{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let la,Wa;function jf(){return(jf=(0,N.Z)(function*(w,T,R,H,ne){if(ne&&ne.global)w("event",R,H);else{const oe=yield T;w("event",R,Object.assign(Object.assign({},H),{send_to:oe}))}})).apply(this,arguments)}function io(){return(io=(0,N.Z)(function*(){if(!(0,pe.hl)())return Lr.warn(lr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,pe.eu)()}catch(w){return Lr.warn(lr.create("indexeddb-unavailable",{errorInfo:w?.toString()}).message),!1}return!0})).apply(this,arguments)}function dt(){return dt=(0,N.Z)(function*(w,T,R,H,ne,oe,ve){var ot;const nt=function Ou(w){return nh.apply(this,arguments)}(w);nt.then(ri=>{R[ri.measurementId]=ri.appId,w.options.measurementId&&ri.measurementId!==w.options.measurementId&&Lr.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${ri.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ri=>Lr.error(ri)),T.push(nt);const At=function ro(){return io.apply(this,arguments)}().then(ri=>{if(ri)return H.getId()}),[qt,Xt]=yield Promise.all([nt,At]);(function aa(w){const T=window.document.getElementsByTagName("script");for(const R of Object.values(T))if(R.src&&R.src.includes(Pl)&&R.src.includes(w))return R;return null})(oe)||function Ga(w,T){const R=function kl(w,T){let R;return window.trustedTypes&&(R=window.trustedTypes.createPolicy(w,T)),R}("firebase-js-sdk-policy",{createScriptURL:Lf}),H=document.createElement("script"),ne=`${Pl}?l=${w}&id=${T}`;H.src=R?R?.createScriptURL(ne):ne,H.async=!0,document.head.appendChild(H)}(oe,qt.measurementId),Wa&&(ne("consent","default",Wa),function Fc(w){Wa=w}(void 0)),ne("js",new Date);const Ui=null!==(ot=ve?.config)&&void 0!==ot?ot:{};return Ui[Jd]="firebase",Ui.update=!0,null!=Xt&&(Ui[Rl]=Xt),ne("config",qt.measurementId,Ui),la&&(ne("set",la),function Ll(w){la=w}(void 0)),qt.measurementId}),dt.apply(this,arguments)}class yi{constructor(T){this.app=T}_delete(){return delete tr[this.app.options.appId],Promise.resolve()}}let tr={},Ul=[];const ls={};let Li,_t,mr="dataLayer",Ar="gtag",bo=!1;function $f(w,T,R){!function vi(){const w=[];if((0,pe.ru)()&&w.push("This is a browser extension environment."),(0,pe.zI)()||w.push("Cookies are not available."),w.length>0){const T=w.map((H,ne)=>`(${ne+1}) ${H}`).join(" "),R=lr.create("invalid-analytics-context",{errorInfo:T});Lr.warn(R.message)}}();const H=w.options.appId;if(!H)throw lr.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw lr.create("no-api-key");Lr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=tr[H])throw lr.create("already-exists",{id:H});if(!bo){!function Ru(w){let T=[];Array.isArray(window[w])?T=window[w]:window[w]=T}(mr);const{wrappedGtag:oe,gtagCore:ve}=function sa(w,T,R,H,ne){let oe=function(...ve){window[H].push(arguments)};return window[ne]&&"function"==typeof window[ne]&&(oe=window[ne]),window[ne]=function Oc(w,T,R,H){function oe(){return oe=(0,N.Z)(function*(ve,...ot){try{if("event"===ve){const[nt,At]=ot;yield function Uf(w,T,R,H,ne){return oa.apply(this,arguments)}(w,T,R,nt,At)}else if("config"===ve){const[nt,At]=ot;yield function Pu(w,T,R,H,ne,oe){return Ns.apply(this,arguments)}(w,T,R,H,nt,At)}else if("consent"===ve){const[nt]=ot;w("consent","update",nt)}else if("get"===ve){const[nt,At,qt]=ot;w("get",nt,At,qt)}else if("set"===ve){const[nt]=ot;w("set",nt)}else w(ve,...ot)}catch(nt){Lr.error(nt)}}),oe.apply(this,arguments)}return function ne(ve){return oe.apply(this,arguments)}}(oe,w,T,R),{gtagCore:oe,wrappedGtag:window[ne]}}(tr,Ul,ls,mr,Ar);_t=oe,Li=ve,bo=!0}return tr[H]=function Sn(w,T,R,H,ne,oe,ve){return dt.apply(this,arguments)}(w,Ul,ls,T,Li,mr,R),new yi(w)}function ih(){return wo.apply(this,arguments)}function wo(){return(wo=(0,N.Z)(function*(){if((0,pe.ru)()||!(0,pe.zI)()||!(0,pe.hl)())return!1;try{return yield(0,pe.eu)()}catch{return!1}})).apply(this,arguments)}const ah="@firebase/analytics";!function gr(){(0,ce._registerComponent)(new $.wA(ks,(T,{options:R})=>$f(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,ce._registerComponent)(new $.wA("analytics-internal",function w(T){try{const R=T.getProvider(ks).getImmediate();return{logEvent:(H,ne,oe)=>function sh(w,T,R,H){w=(0,pe.m9)(w),function vy(w,T,R,H,ne){return jf.apply(this,arguments)}(_t,tr[w.app.options.appId],T,R,H).catch(ne=>Lr.error(ne))}(R,H,ne,oe)}}catch(R){throw lr.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,ce.registerVersion)(ah,"0.10.0"),(0,ce.registerVersion)(ah,"0.10.0","esm2017")}();var ju=B(4408),us=B(7565);const zu=new class Hu extends us.v{}(class $u extends ju.o{constructor(T,R){super(T,R),this.scheduler=T,this.work=R}schedule(T,R=0){return R>0?super.schedule(T,R):(this.delay=R,this.state=T,this.scheduler.flush(this),this)}execute(T,R){return R>0||this.closed?super.execute(T,R):this._execute(T,R)}requestAsyncId(T,R,H=0){return null!=H&&H>0||null==H&&this.delay>0?super.requestAsyncId(T,R,H):(T.flush(this),0)}});var zf=B(4986),Uc=B(9751),ch=B(8505),Vc=B(5363),da=B(9468);const Bc=new u.GfV("7.6.1"),Gu="__angularfire_symbol__analyticsIsSupportedValue",lh="__angularfire_symbol__analyticsIsSupported",jc="__angularfire_symbol__remoteConfigIsSupportedValue",uh="__angularfire_symbol__remoteConfigIsSupported",Gf="__angularfire_symbol__messagingIsSupportedValue",dh="__angularfire_symbol__messagingIsSupported";function $c(w,T,R){if(T){if(1===T.length)return T[0];const oe=T.filter(ve=>ve.app===R);if(1===oe.length)return oe[0]}return R.container.getProvider(w).getImmediate({optional:!0})}globalThis[lh]||(globalThis[lh]=ih().then(w=>globalThis[Gu]=w).catch(()=>globalThis[Gu]=!1)),globalThis[dh]||(globalThis[dh]=Ff().then(w=>globalThis[Gf]=w).catch(()=>globalThis[Gf]=!1)),globalThis[uh]||(globalThis[uh]=Pa().then(w=>globalThis[jc]=w).catch(()=>globalThis[jc]=!1));const qf=(w,T)=>{const R=T?[T]:(0,Y.C6)(),H=[];return R.forEach(ne=>{ne.container.getProvider(w).instances.forEach(ve=>{H.includes(ve)||H.push(ve)})}),H};function ha(){}class Hl{constructor(T,R=zu){this.zone=T,this.delegate=R}now(){return this.delegate.now()}schedule(T,R,H){const ne=this.zone;return this.delegate.schedule(function(ve){ne.runGuarded(()=>{T.apply(this,[ve])})},R,H)}}class Eo{constructor(T){this.zone=T,this.task=null}call(T,R){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ha,{},ha,ha)),R.pipe((0,ch.b)({next:H,complete:H,error:H})).subscribe(T).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ya=(()=>{class w{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Hl(Zone.current)),this.insideAngular=R.run(()=>new Hl(Zone.current,zf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(R){return new(R||w)(u.LFG(u.R0b))},w.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function fa(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function Ls(w){return fa().ngZone.run(()=>w())}function zl(w){return w.pipe((0,Vc.Q)(fa().outsideAngular))}function ph(w){return fa(),function Zf(w){return function(R){return(R=R.lift(new Eo(w.ngZone))).pipe((0,da.R)(w.outsideAngular),(0,Vc.Q)(w.insideAngular))}}(fa())(w)}const Kf=(w,T)=>function(){const H=arguments;return T&&setTimeout(()=>{"scheduled"===T.state&&T.invoke()},10),Ls(()=>w.apply(void 0,H))},ur=(w,T)=>function(){let R;const H=arguments;for(let oe=0;oe<arguments.length;oe++)"function"==typeof H[oe]&&(T&&(R||(R=Ls(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ha,{},ha,ha)))),H[oe]=Kf(H[oe],R));const ne=function fh(w){return fa().ngZone.runOutsideAngular(()=>w())}(()=>w.apply(this,H));if(!T){if(ne instanceof Uc.y){const oe=fa();return ne.pipe((0,da.R)(oe.outsideAngular),(0,Vc.Q)(oe.insideAngular))}return Ls(()=>ne)}return ne instanceof Uc.y?ne.pipe(ph):ne instanceof Promise?Ls(()=>new Promise((oe,ve)=>ne.then(ot=>Ls(()=>oe(ot)),ot=>Ls(()=>ve(ot))))):"function"==typeof ne&&R?function(){return setTimeout(()=>{R&&"scheduled"===R.state&&R.invoke()},10),ne.apply(this,arguments)}:Ls(()=>ne)}},1389:(xt,Oe,B)=>{"use strict";B.d(Oe,{$:()=>$t,A:()=>Q,D:()=>Ne,I:()=>Un,J:()=>Mi,L:()=>Ki,N:()=>qr,P:()=>Sn,Q:()=>pl,R:()=>Fl,U:()=>ml,V:()=>Pa,W:()=>Ks,X:()=>Qi,Y:()=>ka,Z:()=>vc,_:()=>Ys,a:()=>_i,a0:()=>yl,a1:()=>Fa,a2:()=>Wd,a3:()=>wl,a4:()=>ki,a5:()=>El,a6:()=>vo,a7:()=>Fr,a8:()=>Bo,a9:()=>Oi,aA:()=>de,aB:()=>lh,aC:()=>sr,aD:()=>Pr,aE:()=>ch,aF:()=>oh,aG:()=>$l,aH:()=>xn,aL:()=>jo,aO:()=>Ji,aa:()=>Cl,ab:()=>Tl,ac:()=>Zd,ad:()=>Dl,ae:()=>Al,af:()=>Ec,ai:()=>Cc,aj:()=>Dc,ak:()=>Zr,an:()=>Du,ao:()=>xc,aq:()=>wn,ar:()=>Ha,as:()=>kt,at:()=>Ot,au:()=>Me,av:()=>ke,aw:()=>Xt,ax:()=>dh,ay:()=>rn,az:()=>De,b:()=>Ml,c:()=>_t,d:()=>$f,e:()=>Vl,f:()=>ah,g:()=>Hu,h:()=>ju,i:()=>ku,j:()=>zf,k:()=>Qa,l:()=>Nc,m:()=>Ja,o:()=>zc,p:()=>Ce,r:()=>rh,s:()=>Fs,u:()=>ro});var u=B(5861),Y=B(2090),N=B(6881),ce=B(7582),pe=B(1877),$=B(4859);const Ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ne=function se(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},rt=function Ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ht=new Y.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Fe=new pe.Yd("@firebase/auth");function Ue(b,...p){Fe.logLevel<=pe.in.ERROR&&Fe.error(`Auth (${N.SDK_VERSION}): ${b}`,...p)}function ke(b,...p){throw Ge(b,...p)}function De(b,...p){return Ge(b,...p)}function Ie(b,p,g){const E=Object.assign(Object.assign({},rt()),{[p]:g});return new Y.LL("auth","Firebase",E).create(p,{appName:b.name})}function We(b,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&ke(b,"argument-error"),Ie(b,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(b,...p){if("string"!=typeof b){const g=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=b.name),b._errorFactory.create(g,...E)}return ht.create(b,...p)}function de(b,p,...g){if(!b)throw Ge(p,...g)}function st(b){const p="INTERNAL ASSERTION FAILED: "+b;throw Ue(p),new Error(p)}function kt(b,p){b||st(p)}function mt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Kt(){return"http:"===at()||"https:"===at()}function at(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Se{constructor(p,g){this.shortDelay=p,this.longDelay=g,kt(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,Y.uI)()||(0,Y.b$)()}get(){return function ai(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Kt()||(0,Y.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pe(b,p){kt(b.emulator,"Emulator should always be set here");const{url:g}=b.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Le{static initialize(p,g,E){this.fetchImpl=p,g&&(this.headersImpl=g),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void st("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void st("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void st("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const et={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ze=new Se(3e4,6e4);function Ve(b,p){return b.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:b.tenantId}):p}function Et(b,p,g,E){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,u.Z)(function*(b,p,g,E,P={}){return vt(b,P,(0,u.Z)(function*(){let U={},X={};E&&("GET"===p?X=E:U={body:JSON.stringify(E)});const _e=(0,Y.xO)(Object.assign({key:b.config.apiKey},X)).slice(1),Je=yield b._getAdditionalHeaders();return Je["Content-Type"]="application/json",b.languageCode&&(Je["X-Firebase-Locale"]=b.languageCode),Le.fetch()(bn(b,b.config.apiHost,g,_e),Object.assign({method:p,headers:Je,referrerPolicy:"no-referrer"},U))}))})).apply(this,arguments)}function vt(b,p,g){return It.apply(this,arguments)}function It(){return(It=(0,u.Z)(function*(b,p,g){b._canInitEmulator=!1;const E=Object.assign(Object.assign({},et),p);try{const P=new zr(b),U=yield Promise.race([g(),P.promise]);P.clearNetworkTimeout();const X=yield U.json();if("needConfirmation"in X)throw Dn(b,"account-exists-with-different-credential",X);if(U.ok&&!("errorMessage"in X))return X;{const _e=U.ok?X.errorMessage:X.error.message,[Je,ut]=_e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Je)throw Dn(b,"credential-already-in-use",X);if("EMAIL_EXISTS"===Je)throw Dn(b,"email-already-in-use",X);if("USER_DISABLED"===Je)throw Dn(b,"user-disabled",X);const Mt=E[Je]||Je.toLowerCase().replace(/[_\s]+/g,"-");if(ut)throw Ie(b,Mt,ut);ke(b,Mt)}}catch(P){if(P instanceof Y.ZR)throw P;ke(b,"network-request-failed",{message:String(P)})}})).apply(this,arguments)}function gn(b,p,g,E){return en.apply(this,arguments)}function en(){return(en=(0,u.Z)(function*(b,p,g,E,P={}){const U=yield Et(b,p,g,E,P);return"mfaPendingCredential"in U&&ke(b,"multi-factor-auth-required",{_serverResponse:U}),U})).apply(this,arguments)}function bn(b,p,g,E){const P=`${p}${g}?${E}`;return b.config.emulator?Pe(b.config,P):`${b.config.apiScheme}://${P}`}class zr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,E)=>{this.timer=setTimeout(()=>E(De(this.auth,"network-request-failed")),ze.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dn(b,p,g){const E={appName:b.name};g.email&&(E.email=g.email),g.phoneNumber&&(E.phoneNumber=g.phoneNumber);const P=De(b,p,E);return P.customData._tokenResponse=g,P}function nr(){return(nr=(0,u.Z)(function*(b,p){return Et(b,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Yt(){return(Yt=(0,u.Z)(function*(b,p){return Et(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Rn(){return(Rn=(0,u.Z)(function*(b,p){return Et(b,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function bt(b){if(b)try{const p=new Date(Number(b));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Zn(){return(Zn=(0,u.Z)(function*(b,p=!1){const g=(0,Y.m9)(b),E=yield g.getIdToken(p),P=Ln(E);de(P&&P.exp&&P.auth_time&&P.iat,g.auth,"internal-error");const U="object"==typeof P.firebase?P.firebase:void 0,X=U?.sign_in_provider;return{claims:P,token:E,authTime:bt(_r(P.auth_time)),issuedAtTime:bt(_r(P.iat)),expirationTime:bt(_r(P.exp)),signInProvider:X||null,signInSecondFactor:U?.sign_in_second_factor||null}})).apply(this,arguments)}function _r(b){return 1e3*Number(b)}function Ln(b){const[p,g,E]=b.split(".");if(void 0===p||void 0===g||void 0===E)return Ue("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,Y.tV)(g);return P?JSON.parse(P):(Ue("Failed to decode base64 JWT payload"),null)}catch(P){return Ue("Caught error parsing JWT payload as JSON",P?.toString()),null}}function nn(b,p){return wt.apply(this,arguments)}function wt(){return(wt=(0,u.Z)(function*(b,p,g=!1){if(g)return p;try{return yield p}catch(E){throw E instanceof Y.ZR&&function jt({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(E)&&b.auth.currentUser===b&&(yield b.auth.signOut()),E}})).apply(this,arguments)}class rr{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const P=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,P)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),E)}iteration(){var p=this;return(0,u.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&p.schedule(!0))}p.schedule()})()}}class Er{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=bt(this.lastLoginAt),this.creationTime=bt(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Kn(b){return ci.apply(this,arguments)}function ci(){return ci=(0,u.Z)(function*(b){var p;const g=b.auth,E=yield b.getIdToken(),P=yield nn(b,function Gr(b,p){return Rn.apply(this,arguments)}(g,{idToken:E}));de(P?.users.length,g,"internal-error");const U=P.users[0];b._notifyReloadListener(U);const X=null!==(p=U.providerUserInfo)&&void 0!==p&&p.length?function xi(b){return b.map(p=>{var{providerId:g}=p,E=(0,ce._T)(p,["providerId"]);return{providerId:g,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(U.providerUserInfo):[],_e=function an(b,p){return[...b.filter(E=>!p.some(P=>P.providerId===E.providerId)),...p]}(b.providerData,X),Mt=!!b.isAnonymous&&!(b.email&&U.passwordHash||_e?.length),ln={uid:U.localId,displayName:U.displayName||null,photoURL:U.photoUrl||null,email:U.email||null,emailVerified:U.emailVerified||!1,phoneNumber:U.phoneNumber||null,tenantId:U.tenantId||null,providerData:_e,metadata:new Er(U.createdAt,U.lastLoginAt),isAnonymous:Mt};Object.assign(b,ln)}),ci.apply(this,arguments)}function Ir(){return(Ir=(0,u.Z)(function*(b){const p=(0,Y.m9)(b);yield Kn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function li(){return(li=(0,u.Z)(function*(b,p){const g=yield vt(b,{},(0,u.Z)(function*(){const E=(0,Y.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:P,apiKey:U}=b.config,X=bn(b,P,"/v1/token",`key=${U}`),_e=yield b._getAdditionalHeaders();return _e["Content-Type"]="application/x-www-form-urlencoded",Le.fetch()(X,{method:"POST",headers:_e,body:E})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Gt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){de(p.idToken,"internal-error"),de(typeof p.idToken<"u","internal-error"),de(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function In(b){const p=Ln(b);return de(p,"internal-error"),de(typeof p.exp<"u","internal-error"),de(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var E=this;return(0,u.Z)(function*(){return de(!E.accessToken||E.refreshToken,p,"user-token-expired"),g||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var E=this;return(0,u.Z)(function*(){const{accessToken:P,refreshToken:U,expiresIn:X}=yield function dn(b,p){return li.apply(this,arguments)}(p,g);E.updateTokensAndExpiration(P,U,Number(X))})()}updateTokensAndExpiration(p,g,E){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,g){const{refreshToken:E,accessToken:P,expirationTime:U}=g,X=new Gt;return E&&(de("string"==typeof E,"internal-error",{appName:p}),X.refreshToken=E),P&&(de("string"==typeof P,"internal-error",{appName:p}),X.accessToken=P),U&&(de("number"==typeof U,"internal-error",{appName:p}),X.expirationTime=U),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Gt,this.toJSON())}_performRefresh(){return st("not implemented")}}function ir(b,p){de("string"==typeof b||typeof b>"u","internal-error",{appName:p})}class Wn{constructor(p){var{uid:g,auth:E,stsTokenManager:P}=p,U=(0,ce._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=E,this.stsTokenManager=P,this.accessToken=P.accessToken,this.displayName=U.displayName||null,this.email=U.email||null,this.emailVerified=U.emailVerified||!1,this.phoneNumber=U.phoneNumber||null,this.photoURL=U.photoURL||null,this.isAnonymous=U.isAnonymous||!1,this.tenantId=U.tenantId||null,this.providerData=U.providerData?[...U.providerData]:[],this.metadata=new Er(U.createdAt||void 0,U.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,u.Z)(function*(){const E=yield nn(g,g.stsTokenManager.getToken(g.auth,p));return de(E,g.auth,"internal-error"),g.accessToken!==E&&(g.accessToken=E,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),E})()}getIdTokenResult(p){return function $n(b){return Zn.apply(this,arguments)}(this,p)}reload(){return function Pn(b){return Ir.apply(this,arguments)}(this)}_assign(p){this!==p&&(de(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const g=new Wn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(p){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var E=this;return(0,u.Z)(function*(){let P=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),P=!0),g&&(yield Kn(E)),yield E.auth._persistUserIfCurrent(E),P&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,u.Z)(function*(){const g=yield p.getIdToken();return yield nn(p,function wr(b,p){return nr.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var E,P,U,X,_e,Je,ut,Mt;const ln=null!==(E=g.displayName)&&void 0!==E?E:void 0,Bi=null!==(P=g.email)&&void 0!==P?P:void 0,Us=null!==(U=g.phoneNumber)&&void 0!==U?U:void 0,Ku=null!==(X=g.photoURL)&&void 0!==X?X:void 0,_h=null!==(_e=g.tenantId)&&void 0!==_e?_e:void 0,Gc=null!==(Je=g._redirectEventId)&&void 0!==Je?Je:void 0,Xf=null!==(ut=g.createdAt)&&void 0!==ut?ut:void 0,yh=null!==(Mt=g.lastLoginAt)&&void 0!==Mt?Mt:void 0,{uid:Yu,emailVerified:ep,isAnonymous:Qu,providerData:Ju,stsTokenManager:qc}=g;de(Yu&&qc,p,"internal-error");const Xu=Gt.fromJSON(this.name,qc);de("string"==typeof Yu,p,"internal-error"),ir(ln,p.name),ir(Bi,p.name),de("boolean"==typeof ep,p,"internal-error"),de("boolean"==typeof Qu,p,"internal-error"),ir(Us,p.name),ir(Ku,p.name),ir(_h,p.name),ir(Gc,p.name),ir(Xf,p.name),ir(yh,p.name);const Gl=new Wn({uid:Yu,auth:p,email:Bi,emailVerified:ep,displayName:ln,isAnonymous:Qu,photoURL:Ku,phoneNumber:Us,tenantId:_h,stsTokenManager:Xu,createdAt:Xf,lastLoginAt:yh});return Ju&&Array.isArray(Ju)&&(Gl.providerData=Ju.map(vh=>Object.assign({},vh))),Gc&&(Gl._redirectEventId=Gc),Gl}static _fromIdTokenResponse(p,g,E=!1){return(0,u.Z)(function*(){const P=new Gt;P.updateFromServerResponse(g);const U=new Wn({uid:g.localId,auth:p,stsTokenManager:P,isAnonymous:E});return yield Kn(U),U})()}}const or=new Map;function sr(b){kt(b instanceof Function,"Expected a class definition");let p=or.get(b);return p?(kt(p instanceof b,"Instance stored in cache mismatched with class"),p):(p=new b,or.set(b,p),p)}const qr=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,E){var P=this;return(0,u.Z)(function*(){P.storage[g]=E})()}_get(g){var E=this;return(0,u.Z)(function*(){const P=E.storage[g];return void 0===P?null:P})()}_remove(g){var E=this;return(0,u.Z)(function*(){delete E.storage[g]})()}_addListener(g,E){}_removeListener(g,E){}}return b.type="NONE",b})();function Pr(b,p,g){return`firebase:${b}:${p}:${g}`}class J{constructor(p,g,E){this.persistence=p,this.auth=g,this.userKey=E;const{config:P,name:U}=this.auth;this.fullUserKey=Pr(this.userKey,P.apiKey,U),this.fullPersistenceKey=Pr("persistence",P.apiKey,U),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Wn._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,u.Z)(function*(){if(g.persistence===p)return;const E=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,E?g.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,E="authUser"){return(0,u.Z)(function*(){if(!g.length)return new J(sr(qr),p,E);const P=(yield Promise.all(g.map(function(){var ut=(0,u.Z)(function*(Mt){if(yield Mt._isAvailable())return Mt});return function(Mt){return ut.apply(this,arguments)}}()))).filter(ut=>ut);let U=P[0]||sr(qr);const X=Pr(E,p.config.apiKey,p.name);let _e=null;for(const ut of g)try{const Mt=yield ut._get(X);if(Mt){const ln=Wn._fromJSON(p,Mt);ut!==U&&(_e=ln),U=ut;break}}catch{}const Je=P.filter(ut=>ut._shouldAllowMigration);return U._shouldAllowMigration&&Je.length?(U=Je[0],_e&&(yield U._set(X,_e.toJSON())),yield Promise.all(g.map(function(){var ut=(0,u.Z)(function*(Mt){if(Mt!==U)try{yield Mt._remove(X)}catch{}});return function(Mt){return ut.apply(this,arguments)}}())),new J(U,p,E)):new J(U,p,E)})()}}function K(b){const p=b.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(re(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(V(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(ft(p))return"Blackberry";if(Ft(p))return"Webos";if(j(p))return"Safari";if((p.includes("chrome/")||F(p))&&!p.includes("edge/"))return"Chrome";if(Me(p))return"Android";{const E=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function V(b=(0,Y.z$)()){return/firefox\//i.test(b)}function j(b=(0,Y.z$)()){const p=b.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function F(b=(0,Y.z$)()){return/crios\//i.test(b)}function re(b=(0,Y.z$)()){return/iemobile/i.test(b)}function Me(b=(0,Y.z$)()){return/android/i.test(b)}function ft(b=(0,Y.z$)()){return/blackberry/i.test(b)}function Ft(b=(0,Y.z$)()){return/webos/i.test(b)}function Ot(b=(0,Y.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function rn(b=(0,Y.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function Qt(b=(0,Y.z$)()){return Ot(b)||Me(b)||Ft(b)||ft(b)||/windows phone/i.test(b)||re(b)}function Yn(b,p=[]){let g;switch(b){case"Browser":g=K((0,Y.z$)());break;case"Worker":g=`${K((0,Y.z$)())}-${b}`;break;default:g=b}const E=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${N.SDK_VERSION}/${E}`}function le(){return(le=(0,u.Z)(function*(b){return(yield Et(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function qe(b,p){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,u.Z)(function*(b,p){return Et(b,"GET","/v2/recaptchaConfig",Ve(b,p))})).apply(this,arguments)}function Vt(b){return void 0!==b&&void 0!==b.getResponse}function cn(b){return void 0!==b&&void 0!==b.enterprise}class St{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function yn(b){return new Promise((p,g)=>{const E=document.createElement("script");E.setAttribute("src",b),E.onload=p,E.onerror=P=>{const U=De("internal-error");U.customData=P,g(U)},E.type="text/javascript",E.charset="UTF-8",function An(){var b,p;return null!==(p=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==p?p:document}().appendChild(E)})}function kr(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Iu="NO_RECAPTCHA";class Ro{constructor(p){this.type="recaptcha-enterprise",this.auth=xn(p)}verify(p="verify",g=!1){var E=this;return(0,u.Z)(function*(){function U(){return U=(0,u.Z)(function*(_e){if(!g){if(null==_e.tenantId&&null!=_e._agentRecaptchaConfig)return _e._agentRecaptchaConfig.siteKey;if(null!=_e.tenantId&&void 0!==_e._tenantRecaptchaConfigs[_e.tenantId])return _e._tenantRecaptchaConfigs[_e.tenantId].siteKey}return new Promise(function(){var Je=(0,u.Z)(function*(ut,Mt){qe(_e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ln=>{if(void 0!==ln.recaptchaKey){const Bi=new St(ln);return null==_e.tenantId?_e._agentRecaptchaConfig=Bi:_e._tenantRecaptchaConfigs[_e.tenantId]=Bi,ut(Bi.siteKey)}Mt(new Error("recaptcha Enterprise site key undefined"))}).catch(ln=>{Mt(ln)})});return function(ut,Mt){return Je.apply(this,arguments)}}())}),U.apply(this,arguments)}function X(_e,Je,ut){const Mt=window.grecaptcha;cn(Mt)?Mt.enterprise.ready(()=>{Mt.enterprise.execute(_e,{action:p}).then(ln=>{Je(ln)}).catch(()=>{Je(Iu)})}):ut(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((_e,Je)=>{(function P(_e){return U.apply(this,arguments)})(E.auth).then(ut=>{if(!g&&cn(window.grecaptcha))X(ut,_e,Je);else{if(typeof window>"u")return void Je(new Error("RecaptchaVerifier is only supported in browser"));yn("https://www.google.com/recaptcha/enterprise.js?render="+ut).then(()=>{X(ut,_e,Je)}).catch(Mt=>{Je(Mt)})}}).catch(ut=>{Je(ut)})})})()}}function Tr(b,p,g){return lt.apply(this,arguments)}function lt(){return(lt=(0,u.Z)(function*(b,p,g,E=!1){const P=new Ro(b);let U;try{U=yield P.verify(g)}catch{U=yield P.verify(g,!0)}const X=Object.assign({},p);return Object.assign(X,E?{captchaResp:U}:{captchaResponse:U}),Object.assign(X,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(X,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),X})).apply(this,arguments)}class on{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const E=U=>new Promise((X,_e)=>{try{X(p(U))}catch(Je){_e(Je)}});E.onAbort=g,this.queue.push(E);const P=this.queue.length-1;return()=>{this.queue[P]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,u.Z)(function*(){if(g.auth.currentUser===p)return;const E=[];try{for(const P of g.queue)yield P(p),P.onAbort&&E.push(P.onAbort)}catch(P){E.reverse();for(const U of E)try{U()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:P?.message})}})()}}class Hn{constructor(p,g,E,P){this.app=p,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=E,this.config=P,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new po(this),this.idTokenSubscription=new po(this),this.beforeStateQueue=new on(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ht,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=P.sdkClientVersion}_initializeWithPersistence(p,g){var E=this;return g&&(this._popupRedirectResolver=sr(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var P,U;if(!E._deleted&&(E.persistenceManager=yield J.create(E,p),!E._deleted)){if(null!==(P=E._popupRedirectResolver)&&void 0!==P&&P._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(g),E.lastNotifiedUid=(null===(U=E.currentUser)||void 0===U?void 0:U.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,u.Z)(function*(){var E;const P=yield g.assertedPersistence.getCurrentUser();let U=P,X=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const _e=null===(E=g.redirectUser)||void 0===E?void 0:E._redirectEventId,Je=U?._redirectEventId,ut=yield g.tryRedirectSignIn(p);(!_e||_e===Je)&&ut?.user&&(U=ut.user,X=!0)}if(!U)return g.directlySetCurrentUser(null);if(!U._redirectEventId){if(X)try{yield g.beforeStateQueue.runMiddleware(U)}catch(_e){U=P,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(_e))}return U?g.reloadAndSetCurrentUserOrClear(U):g.directlySetCurrentUser(null)}return de(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===U._redirectEventId?g.directlySetCurrentUser(U):g.reloadAndSetCurrentUserOrClear(U)})()}tryRedirectSignIn(p){var g=this;return(0,u.Z)(function*(){let E=null;try{E=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,u.Z)(function*(){try{yield Kn(p)}catch(E){if("auth/network-request-failed"!==E?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function me(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,u.Z)(function*(){const E=p?(0,Y.m9)(p):null;return E&&de(E.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(E&&E._clone(g))})()}_updateCurrentUser(p,g=!1){var E=this;return(0,u.Z)(function*(){if(!E._deleted)return p&&de(E.tenantId===p.tenantId,E,"tenant-id-mismatch"),g||(yield E.beforeStateQueue.runMiddleware(p)),E.queue((0,u.Z)(function*(){yield E.directlySetCurrentUser(p),E.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(sr(p))}))}initializeRecaptchaConfig(){var p=this;return(0,u.Z)(function*(){const g=yield qe(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new St(g);null==p.tenantId?p._agentRecaptchaConfig=E:p._tenantRecaptchaConfigs[p.tenantId]=E,E.emailPasswordEnabled&&new Ro(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new Y.LL("auth","Firebase",p())}onAuthStateChanged(p,g,E){return this.registerStateListener(this.authStateSubscription,p,g,E)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,E){return this.registerStateListener(this.idTokenSubscription,p,g,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var E=this;return(0,u.Z)(function*(){const P=yield E.getOrInitRedirectPersistenceManager(g);return null===p?P.removeCurrentUser():P.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const E=p&&sr(p)||g._popupRedirectResolver;de(E,g,"argument-error"),g.redirectPersistenceManager=yield J.create(g,[sr(E._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,u.Z)(function*(){var E,P;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(E=g._currentUser)||void 0===E?void 0:E._redirectEventId)===p?g._currentUser:(null===(P=g.redirectUser)||void 0===P?void 0:P._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,u.Z)(function*(){if(p===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,E,P){if(this._deleted)return()=>{};const U="function"==typeof g?g:g.next.bind(g),X=this._isInitialized?Promise.resolve():this._initializationPromise;return de(X,this,"internal-error"),X.then(()=>U(this.currentUser)),"function"==typeof g?p.addObserver(g,E,P):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Yn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,u.Z)(function*(){var g;const E={"X-Client-Version":p.clientVersion};p.app.options.appId&&(E["X-Firebase-gmpid"]=p.app.options.appId);const P=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();P&&(E["X-Firebase-Client"]=P);const U=yield p._getAppCheckToken();return U&&(E["X-Firebase-AppCheck"]=U),E})()}_getAppCheckToken(){var p=this;return(0,u.Z)(function*(){var g;const E=yield null===(g=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return E?.error&&function $e(b,...p){Fe.logLevel<=pe.in.WARN&&Fe.warn(`Auth (${N.SDK_VERSION}): ${b}`,...p)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function xn(b){return(0,Y.m9)(b)}class po{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,Y.ne)(g=>this.observer=g)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Un(b,p,g){const E=xn(b);de(E._canInitEmulator,E,"emulator-config-failed"),de(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const P=!!g?.disableWarnings,U=bs(p),{host:X,port:_e}=function ui(b){const p=bs(b),g=/(\/\/)?([^?#/]+)/.exec(b.substr(p.length));if(!g)return{host:"",port:null};const E=g[2].split("@").pop()||"",P=/^(\[[^\]]+\])(:|$)/.exec(E);if(P){const U=P[1];return{host:U,port:Jt(E.substr(U.length+1))}}{const[U,X]=E.split(":");return{host:U,port:Jt(X)}}}(p);E.config.emulator={url:`${U}//${X}${null===_e?"":`:${_e}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:X,port:_e,protocol:U.replace(":",""),options:Object.freeze({disableWarnings:P})}),P||function qs(){function b(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function bs(b){const p=b.indexOf(":");return p<0?"":b.substr(0,p+1)}function Jt(b){if(!b)return null;const p=Number(b);return isNaN(p)?null:p}class Mi{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return st("not implemented")}_getIdTokenResponse(p){return st("not implemented")}_linkToIdToken(p,g){return st("not implemented")}_getReauthenticationResolver(p){return st("not implemented")}}function Ws(b,p){return Po.apply(this,arguments)}function Po(){return(Po=(0,u.Z)(function*(b,p){return Et(b,"POST","/v1/accounts:resetPassword",Ve(b,p))})).apply(this,arguments)}function yr(b,p){return es.apply(this,arguments)}function es(){return(es=(0,u.Z)(function*(b,p){return Et(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Wr(){return(Wr=(0,u.Z)(function*(b,p){return Et(b,"POST","/v1/accounts:update",Ve(b,p))})).apply(this,arguments)}function ws(b,p){return Or.apply(this,arguments)}function Or(){return(Or=(0,u.Z)(function*(b,p){return gn(b,"POST","/v1/accounts:signInWithPassword",Ve(b,p))})).apply(this,arguments)}function Vn(b,p){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,u.Z)(function*(b,p){return Et(b,"POST","/v1/accounts:sendOobCode",Ve(b,p))})).apply(this,arguments)}function Zs(){return(Zs=(0,u.Z)(function*(b,p){return Vn(b,p)})).apply(this,arguments)}function Es(b,p){return ko.apply(this,arguments)}function ko(){return(ko=(0,u.Z)(function*(b,p){return Vn(b,p)})).apply(this,arguments)}function ns(b,p){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,u.Z)(function*(b,p){return Vn(b,p)})).apply(this,arguments)}function ti(){return(ti=(0,u.Z)(function*(b,p){return Vn(b,p)})).apply(this,arguments)}function Oo(){return(Oo=(0,u.Z)(function*(b,p){return gn(b,"POST","/v1/accounts:signInWithEmailLink",Ve(b,p))})).apply(this,arguments)}function Pi(){return(Pi=(0,u.Z)(function*(b,p){return gn(b,"POST","/v1/accounts:signInWithEmailLink",Ve(b,p))})).apply(this,arguments)}class di extends Mi{constructor(p,g,E,P=null){super("password",E),this._email=p,this._password=g,this._tenantId=P}static _fromEmailAndPassword(p,g){return new di(p,g,"password")}static _fromEmailAndCode(p,g,E=null){return new di(p,g,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,u.Z)(function*(){var E;switch(g.signInMethod){case"password":const P={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=p._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const U=yield Tr(p,P,"signInWithPassword");return ws(p,U)}return ws(p,P).catch(function(){var U=(0,u.Z)(function*(X){if("auth/missing-recaptcha-token"===X.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const _e=yield Tr(p,P,"signInWithPassword");return ws(p,_e)}return Promise.reject(X)});return function(X){return U.apply(this,arguments)}}());case"emailLink":return function zi(b,p){return Oo.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:ke(p,"internal-error")}})()}_linkToIdToken(p,g){var E=this;return(0,u.Z)(function*(){switch(E.signInMethod){case"password":return yr(p,{idToken:g,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Ra(b,p){return Pi.apply(this,arguments)}(p,{idToken:g,email:E._email,oobCode:E._password});default:ke(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function mo(b,p){return go.apply(this,arguments)}function go(){return(go=(0,u.Z)(function*(b,p){return gn(b,"POST","/v1/accounts:signInWithIdp",Ve(b,p))})).apply(this,arguments)}class Ki extends Mi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Ki(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):ke("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:P}=g,U=(0,ce._T)(g,["providerId","signInMethod"]);if(!E||!P)return null;const X=new Ki(E,P);return X.idToken=U.idToken||void 0,X.accessToken=U.accessToken||void 0,X.secret=U.secret,X.nonce=U.nonce,X.pendingToken=U.pendingToken||null,X}_getIdTokenResponse(p){return mo(p,this.buildRequest())}_linkToIdToken(p,g){const E=this.buildRequest();return E.idToken=g,mo(p,E)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,mo(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,Y.xO)(g)}return p}}function yc(){return(yc=(0,u.Z)(function*(b,p){return Et(b,"POST","/v1/accounts:sendVerificationCode",Ve(b,p))})).apply(this,arguments)}function ll(){return(ll=(0,u.Z)(function*(b,p){return gn(b,"POST","/v1/accounts:signInWithPhoneNumber",Ve(b,p))})).apply(this,arguments)}function ul(){return(ul=(0,u.Z)(function*(b,p){const g=yield gn(b,"POST","/v1/accounts:signInWithPhoneNumber",Ve(b,p));if(g.temporaryProof)throw Dn(b,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const dl={USER_NOT_FOUND:"user-not-found"};function Cu(){return(Cu=(0,u.Z)(function*(b,p){return gn(b,"POST","/v1/accounts:signInWithPhoneNumber",Ve(b,Object.assign(Object.assign({},p),{operation:"REAUTH"})),dl)})).apply(this,arguments)}class No extends Mi{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new No({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new No({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function Is(b,p){return ll.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function qd(b,p){return ul.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function hl(b,p){return Cu.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:E,verificationCode:P}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:E,code:P}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:E,phoneNumber:P,temporaryProof:U}=p;return E||g||P||U?new No({verificationId:g,verificationCode:E,phoneNumber:P,temporaryProof:U}):null}}class Fo{constructor(p){var g,E,P,U,X,_e;const Je=(0,Y.zd)((0,Y.pd)(p)),ut=null!==(g=Je.apiKey)&&void 0!==g?g:null,Mt=null!==(E=Je.oobCode)&&void 0!==E?E:null,ln=function Cs(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(P=Je.mode)&&void 0!==P?P:null);de(ut&&Mt&&ln,"argument-error"),this.apiKey=ut,this.operation=ln,this.code=Mt,this.continueUrl=null!==(U=Je.continueUrl)&&void 0!==U?U:null,this.languageCode=null!==(X=Je.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(_e=Je.tenantId)&&void 0!==_e?_e:null}static parseLink(p){const g=function Tu(b){const p=(0,Y.zd)((0,Y.pd)(b)).link,g=p?(0,Y.zd)((0,Y.pd)(p)).deep_link_id:null,E=(0,Y.zd)((0,Y.pd)(b)).deep_link_id;return(E?(0,Y.zd)((0,Y.pd)(E)).link:null)||E||g||p||b}(p);try{return new Fo(g)}catch{return null}}}let pl=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(g,E){return di._fromEmailAndPassword(g,E)}static credentialWithLink(g,E){const P=Fo.parseLink(E);return de(P,"argument-error"),di._fromEmailAndCode(g,P.code,P.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Yi{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ts extends Yi{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Qi extends Ts{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return de("providerId"in g&&"signInMethod"in g,"argument-error"),Ki._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return de(p.idToken||p.accessToken,"argument-error"),Ki._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Qi.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Qi.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:E,oauthTokenSecret:P,pendingToken:U,nonce:X,providerId:_e}=p;if(!E&&!P&&!g&&!U||!_e)return null;try{return new Qi(_e)._credential({idToken:g,accessToken:E,nonce:X,pendingToken:U})}catch{return null}}}let ml=(()=>{class b extends Ts{constructor(){super("facebook.com")}static credential(g){return Ki._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return b.credential(g.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Pa=(()=>{class b extends Ts{constructor(){super("google.com"),this.addScope("profile")}static credential(g,E){return Ki._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:E})}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:E,oauthAccessToken:P}=g;if(!E&&!P)return null;try{return b.credential(E,P)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Ks=(()=>{class b extends Ts{constructor(){super("github.com")}static credential(g){return Ki._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return b.credential(g.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Ji extends Mi{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return mo(p,this.buildRequest())}_linkToIdToken(p,g){const E=this.buildRequest();return E.idToken=g,mo(p,E)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,mo(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:P,pendingToken:U}=g;return E&&P&&U&&E===P?new Ji(E,U):null}static _create(p,g){return new Ji(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ka extends Yi{constructor(p){de(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return ka.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return ka.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Ji.fromJSON(p);return de(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:E}=p;if(!g||!E)return null;try{return Ji._create(E,g)}catch{return null}}}let vc=(()=>{class b extends Ts{constructor(){super("twitter.com")}static credential(g,E){return Ki._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:E})}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:E,oauthTokenSecret:P}=g;if(!E||!P)return null;try{return b.credential(E,P)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function is(b,p){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,u.Z)(function*(b,p){return gn(b,"POST","/v1/accounts:signUp",Ve(b,p))})).apply(this,arguments)}class Gn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,E,P=!1){return(0,u.Z)(function*(){const U=yield Wn._fromIdTokenResponse(p,E,P),X=As(E);return new Gn({user:U,providerId:X,_tokenResponse:E,operationType:g})})()}static _forOperation(p,g,E){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const P=As(E);return new Gn({user:p,providerId:P,_tokenResponse:E,operationType:g})})()}}function As(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Ys(b){return fr.apply(this,arguments)}function fr(){return(fr=(0,u.Z)(function*(b){var p;const g=xn(b);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new Gn({user:g.currentUser,providerId:null,operationType:"signIn"});const E=yield is(g,{returnSecureToken:!0}),P=yield Gn._fromIdTokenResponse(g,"signIn",E,!0);return yield g._updateCurrentUser(P.user),P})).apply(this,arguments)}class Uo extends Y.ZR{constructor(p,g,E,P){var U;super(g.code,g.message),this.operationType=E,this.user=P,Object.setPrototypeOf(this,Uo.prototype),this.customData={appName:p.name,tenantId:null!==(U=p.tenantId)&&void 0!==U?U:void 0,_serverResponse:g.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,g,E,P){return new Uo(p,g,E,P)}}function Vo(b,p,g,E){return("reauthenticate"===p?g._getReauthenticationResolver(b):g._getIdTokenResponse(b)).catch(U=>{throw"auth/multi-factor-auth-required"===U.code?Uo._fromErrorAndOperation(b,U,p,E):U})}function Qn(b){return new Set(b.map(({providerId:p})=>p).filter(p=>!!p))}function Du(b,p){return Oa.apply(this,arguments)}function Oa(){return Oa=(0,u.Z)(function*(b,p){const g=(0,Y.m9)(b);yield Ss(!0,g,p);const{providerUserInfo:E}=yield function Xr(b,p){return Yt.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),P=Qn(E||[]);return g.providerData=g.providerData.filter(U=>P.has(U.providerId)),P.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Oa.apply(this,arguments)}function ni(b,p){return vr.apply(this,arguments)}function vr(){return(vr=(0,u.Z)(function*(b,p,g=!1){const E=yield nn(b,p._linkToIdToken(b.auth,yield b.getIdToken()),g);return Gn._forOperation(b,"link",E)})).apply(this,arguments)}function Ss(b,p,g){return _o.apply(this,arguments)}function _o(){return(_o=(0,u.Z)(function*(b,p,g){yield Kn(p);const P=!1===b?"provider-already-linked":"no-such-provider";de(Qn(p.providerData).has(g)===b,p.auth,P)})).apply(this,arguments)}function _l(b,p){return yo.apply(this,arguments)}function yo(){return(yo=(0,u.Z)(function*(b,p,g=!1){const{auth:E}=b,P="reauthenticate";try{const U=yield nn(b,Vo(E,P,p,b),g);de(U.idToken,E,"internal-error");const X=Ln(U.idToken);de(X,E,"internal-error");const{sub:_e}=X;return de(b.uid===_e,E,"user-mismatch"),Gn._forOperation(b,P,U)}catch(U){throw"auth/user-not-found"===U?.code&&ke(E,"user-mismatch"),U}})).apply(this,arguments)}function Qs(b,p){return xs.apply(this,arguments)}function xs(){return(xs=(0,u.Z)(function*(b,p,g=!1){const E="signIn",P=yield Vo(b,E,p),U=yield Gn._fromIdTokenResponse(b,E,P);return g||(yield b._updateCurrentUser(U.user)),U})).apply(this,arguments)}function $t(b,p){return Na.apply(this,arguments)}function Na(){return(Na=(0,u.Z)(function*(b,p){return Qs(xn(b),p)})).apply(this,arguments)}function yl(b,p){return bc.apply(this,arguments)}function bc(){return(bc=(0,u.Z)(function*(b,p){const g=(0,Y.m9)(b);return yield Ss(!1,g,p.providerId),ni(g,p)})).apply(this,arguments)}function Fa(b,p){return Js.apply(this,arguments)}function Js(){return(Js=(0,u.Z)(function*(b,p){return _l((0,Y.m9)(b),p)})).apply(this,arguments)}function bl(){return(bl=(0,u.Z)(function*(b,p){return gn(b,"POST","/v1/accounts:signInWithCustomToken",Ve(b,p))})).apply(this,arguments)}function Wd(b,p){return Ee.apply(this,arguments)}function Ee(){return Ee=(0,u.Z)(function*(b,p){const g=xn(b),E=yield function vl(b,p){return bl.apply(this,arguments)}(g,{token:p,returnSecureToken:!0}),P=yield Gn._fromIdTokenResponse(g,"signIn",E);return yield g._updateCurrentUser(P.user),P}),Ee.apply(this,arguments)}class Ht{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?wc._fromServerResponse(p,g):"totpInfo"in g?Xs._fromServerResponse(p,g):ke(p,"internal-error")}}class wc extends Ht{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new wc(g)}}class Xs extends Ht{constructor(p){super("totp",p)}static _fromServerResponse(p,g){return new Xs(g)}}function cr(b,p,g){var E;de((null===(E=g.url)||void 0===E?void 0:E.length)>0,b,"invalid-continue-uri"),de(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(de(g.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(de(g.android.packageName.length>0,b,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function wl(b,p,g){return os.apply(this,arguments)}function os(){return os=(0,u.Z)(function*(b,p,g){var E;const P=xn(b),U={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=P._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const X=yield Tr(P,U,"getOobCode",!0);g&&cr(P,X,g),yield Es(P,X)}else g&&cr(P,U,g),yield Es(P,U).catch(function(){var X=(0,u.Z)(function*(_e){if("auth/missing-recaptcha-token"!==_e.code)return Promise.reject(_e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Je=yield Tr(P,U,"getOobCode",!0);g&&cr(P,Je,g),yield Es(P,Je)}});return function(_e){return X.apply(this,arguments)}}())}),os.apply(this,arguments)}function ki(b,p,g){return La.apply(this,arguments)}function La(){return(La=(0,u.Z)(function*(b,p,g){yield Ws((0,Y.m9)(b),{oobCode:p,newPassword:g})})).apply(this,arguments)}function El(b,p){return Il.apply(this,arguments)}function Il(){return Il=(0,u.Z)(function*(b,p){yield function ts(b,p){return Wr.apply(this,arguments)}((0,Y.m9)(b),{oobCode:p})}),Il.apply(this,arguments)}function vo(b,p){return ss.apply(this,arguments)}function ss(){return(ss=(0,u.Z)(function*(b,p){const g=(0,Y.m9)(b),E=yield Ws(g,{oobCode:p}),P=E.requestType;switch(de(P,g,"internal-error"),P){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":de(E.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":de(E.mfaInfo,g,"internal-error");default:de(E.email,g,"internal-error")}let U=null;return E.mfaInfo&&(U=Ht._fromServerResponse(xn(g),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:U},operation:P}})).apply(this,arguments)}function Fr(b,p){return hi.apply(this,arguments)}function hi(){return(hi=(0,u.Z)(function*(b,p){const{data:g}=yield vo((0,Y.m9)(b),p);return g.email})).apply(this,arguments)}function Bo(b,p,g){return Xi.apply(this,arguments)}function Xi(){return Xi=(0,u.Z)(function*(b,p,g){var E;const P=xn(b),U={returnSecureToken:!0,email:p,password:g,clientType:"CLIENT_TYPE_WEB"};let X;if(null!==(E=P._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const ut=yield Tr(P,U,"signUpPassword");X=is(P,ut)}else X=is(P,U).catch(function(){var ut=(0,u.Z)(function*(Mt){if("auth/missing-recaptcha-token"===Mt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const ln=yield Tr(P,U,"signUpPassword");return is(P,ln)}return Promise.reject(Mt)});return function(Mt){return ut.apply(this,arguments)}}());const _e=yield X.catch(ut=>Promise.reject(ut)),Je=yield Gn._fromIdTokenResponse(P,"signIn",_e);return yield P._updateCurrentUser(Je.user),Je}),Xi.apply(this,arguments)}function Oi(b,p,g){return $t((0,Y.m9)(b),pl.credential(p,g))}function Cl(b,p,g){return as.apply(this,arguments)}function as(){return as=(0,u.Z)(function*(b,p,g){var E;const P=xn(b),U={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function X(_e,Je){de(Je.handleCodeInApp,P,"argument-error"),Je&&cr(P,_e,Je)}if(null!==(E=P._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const _e=yield Tr(P,U,"getOobCode",!0);X(_e,g),yield ns(P,_e)}else X(U,g),yield ns(P,U).catch(function(){var _e=(0,u.Z)(function*(Je){if("auth/missing-recaptcha-token"!==Je.code)return Promise.reject(Je);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ut=yield Tr(P,U,"getOobCode",!0);X(ut,g),yield ns(P,ut)}});return function(Je){return _e.apply(this,arguments)}}())}),as.apply(this,arguments)}function Tl(b,p){return"EMAIL_SIGNIN"===Fo.parseLink(p)?.operation}function Zd(b,p,g){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,u.Z)(function*(b,p,g){const E=(0,Y.m9)(b),P=pl.credentialWithLink(p,g||mt());return de(P._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),$t(E,P)})).apply(this,arguments)}function ea(){return(ea=(0,u.Z)(function*(b,p){return Et(b,"POST","/v1/accounts:createAuthUri",Ve(b,p))})).apply(this,arguments)}function Dl(b,p){return Va.apply(this,arguments)}function Va(){return Va=(0,u.Z)(function*(b,p){const E={identifier:p,continueUri:Kt()?mt():"http://localhost"},{signinMethods:P}=yield function Ua(b,p){return ea.apply(this,arguments)}((0,Y.m9)(b),E);return P||[]}),Va.apply(this,arguments)}function Al(b,p){return Ms.apply(this,arguments)}function Ms(){return Ms=(0,u.Z)(function*(b,p){const g=(0,Y.m9)(b),P={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};p&&cr(g.auth,P,p);const{email:U}=yield function _c(b,p){return Zs.apply(this,arguments)}(g.auth,P);U!==b.email&&(yield b.reload())}),Ms.apply(this,arguments)}function Ec(b,p,g){return ta.apply(this,arguments)}function ta(){return ta=(0,u.Z)(function*(b,p,g){const E=(0,Y.m9)(b),U={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:p};g&&cr(E.auth,U,g);const{email:X}=yield function rs(b,p){return ti.apply(this,arguments)}(E.auth,U);X!==b.email&&(yield b.reload())}),ta.apply(this,arguments)}function eo(){return(eo=(0,u.Z)(function*(b,p){return Et(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Cc(b,p){return Tc.apply(this,arguments)}function Tc(){return Tc=(0,u.Z)(function*(b,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const E=(0,Y.m9)(b),U={idToken:yield E.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},X=yield nn(E,function Ic(b,p){return eo.apply(this,arguments)}(E.auth,U));E.displayName=X.displayName||null,E.photoURL=X.photoUrl||null;const _e=E.providerData.find(({providerId:Je})=>"password"===Je);_e&&(_e.displayName=E.displayName,_e.photoURL=E.photoURL),yield E._updateTokensIfNecessary(X)}),Tc.apply(this,arguments)}function Dc(b,p){return to((0,Y.m9)(b),p,null)}function Zr(b,p){return to((0,Y.m9)(b),null,p)}function to(b,p,g){return qn.apply(this,arguments)}function qn(){return(qn=(0,u.Z)(function*(b,p,g){const{auth:E}=b,U={idToken:yield b.getIdToken(),returnSecureToken:!0};p&&(U.email=p),g&&(U.password=g);const X=yield nn(b,yr(E,U));yield b._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class Rs{constructor(p,g,E={}){this.isNewUser=p,this.providerId=g,this.profile=E}}class Sc extends Rs{constructor(p,g,E,P){super(p,g,E),this.username=P}}class Kd extends Rs{constructor(p,g){super(p,"facebook.com",g)}}class Ni extends Sc{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class pr extends Rs{constructor(p,g){super(p,"google.com",g)}}class Ba extends Sc{constructor(p,g,E){super(p,"twitter.com",g,E)}}function xc(b){const{user:p,_tokenResponse:g}=b;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Ac(b){var p,g;if(!b)return null;const{providerId:E}=b,P=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},U=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!E&&b?.idToken){const X=null===(g=null===(p=Ln(b.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(X)return new Rs(U,"anonymous"!==X&&"custom"!==X?X:null)}if(!E)return null;switch(E){case"facebook.com":return new Kd(U,P);case"github.com":return new Ni(U,P);case"google.com":return new pr(U,P);case"twitter.com":return new Ba(U,P,b.screenName||null);case"custom":case"anonymous":return new Rs(U,null);default:return new Rs(U,E,P)}}(g)}class ge{constructor(p,g,E){this.type=p,this.credential=g,this.auth=E}static _fromIdtoken(p,g){return new ge("enroll",p,g)}static _fromMfaPendingCredential(p){return new ge("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,E;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return ge._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(E=p.multiFactorSession)&&void 0!==E&&E.idToken)return ge._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Rt{constructor(p,g,E){this.session=p,this.hints=g,this.signInResolver=E}static _fromError(p,g){const E=xn(p),P=g.customData._serverResponse,U=(P.mfaInfo||[]).map(_e=>Ht._fromServerResponse(E,_e));de(P.mfaPendingCredential,E,"internal-error");const X=ge._fromMfaPendingCredential(P.mfaPendingCredential);return new Rt(X,U,function(){var _e=(0,u.Z)(function*(Je){const ut=yield Je._process(E,X);delete P.mfaInfo,delete P.mfaPendingCredential;const Mt=Object.assign(Object.assign({},P),{idToken:ut.idToken,refreshToken:ut.refreshToken});switch(g.operationType){case"signIn":const ln=yield Gn._fromIdTokenResponse(E,g.operationType,Mt);return yield E._updateCurrentUser(ln.user),ln;case"reauthenticate":return de(g.user,E,"internal-error"),Gn._forOperation(g.user,g.operationType,Mt);default:ke(E,"internal-error")}});return function(Je){return _e.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,u.Z)(function*(){return g.signInResolver(p)})()}}function wn(b,p){var g;const E=(0,Y.m9)(b),P=p;return de(p.customData.operationType,E,"argument-error"),de(null===(g=P.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,E,"argument-error"),Rt._fromError(E,P)}class $a{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(E=>Ht._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new $a(p)}getSession(){var p=this;return(0,u.Z)(function*(){return ge._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var E=this;return(0,u.Z)(function*(){const P=p,U=yield E.getSession(),X=yield nn(E.user,P._process(E.user.auth,U,g));return yield E.user._updateTokensIfNecessary(X),E.user.reload()})()}unenroll(p){var g=this;return(0,u.Z)(function*(){const E="string"==typeof p?p:p.uid,P=yield g.user.getIdToken();try{const U=yield nn(g.user,function ra(b,p){return Et(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Ve(b,p))}(g.user.auth,{idToken:P,mfaEnrollmentId:E}));g.enrolledFactors=g.enrolledFactors.filter(({uid:X})=>X!==E),yield g.user._updateTokensIfNecessary(U),yield g.user.reload()}catch(U){throw U}})()}}const ia=new WeakMap;function Ha(b){const p=(0,Y.m9)(b);return ia.has(p)||ia.set(p,$a._fromUser(p)),ia.get(p)}const Mc="__sak";class Rc{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Mc,"1"),this.storage.removeItem(Mc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ml=(()=>{class b extends Rc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,E)=>this.onStorageEvent(g,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Au(){const b=(0,Y.z$)();return j(b)||Ot(b)}()&&function ar(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Qt(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const E of Object.keys(this.listeners)){const P=this.storage.getItem(E),U=this.localCache[E];P!==U&&g(E,U,P)}}onStorageEvent(g,E=!1){if(!g.key)return void this.forAllChangedKeys((_e,Je,ut)=>{this.notifyListeners(_e,ut)});const P=g.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const _e=this.storage.getItem(P);if(g.newValue!==_e)null!==g.newValue?this.storage.setItem(P,g.newValue):this.storage.removeItem(P);else if(this.localCache[P]===g.newValue&&!E)return}const U=()=>{const _e=this.storage.getItem(P);!E&&this.localCache[P]===_e||this.notifyListeners(P,_e)},X=this.storage.getItem(P);!function Mn(){return(0,Y.w1)()&&10===document.documentMode}()||X===g.newValue||g.newValue===g.oldValue?U():setTimeout(U,10)}notifyListeners(g,E){this.localCache[g]=E;const P=this.listeners[g];if(P)for(const U of Array.from(P))U(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,E,P)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:E,newValue:P}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,E){var P=()=>super._set,U=this;return(0,u.Z)(function*(){yield P().call(U,g,E),U.localCache[g]=JSON.stringify(E)})()}_get(g){var E=()=>super._get,P=this;return(0,u.Z)(function*(){const U=yield E().call(P,g);return P.localCache[g]=JSON.stringify(U),U})()}_remove(g){var E=()=>super._remove,P=this;return(0,u.Z)(function*(){yield E().call(P,g),delete P.localCache[g]})()}}return b.type="LOCAL",b})(),_i=(()=>{class b extends Rc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,E){}_removeListener(g,E){}}return b.type="SESSION",b})();let Mu=(()=>{class b{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const E=this.receivers.find(U=>U.isListeningto(g));if(E)return E;const P=new b(g);return this.receivers.push(P),P}isListeningto(g){return this.eventTarget===g}handleEvent(g){var E=this;return(0,u.Z)(function*(){const P=g,{eventId:U,eventType:X,data:_e}=P.data,Je=E.handlersMap[X];if(!Je?.size)return;P.ports[0].postMessage({status:"ack",eventId:U,eventType:X});const ut=Array.from(Je).map(function(){var ln=(0,u.Z)(function*(Bi){return Bi(P.origin,_e)});return function(Bi){return ln.apply(this,arguments)}}()),Mt=yield function Yd(b){return Promise.all(b.map(function(){var p=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(E){return{fulfilled:!1,reason:E}}});return function(g){return p.apply(this,arguments)}}()))}(ut);P.ports[0].postMessage({status:"done",eventId:U,eventType:X,response:Mt})})()}_subscribe(g,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(E)}_unsubscribe(g,E){this.handlersMap[g]&&E&&this.handlersMap[g].delete(E),(!E||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function jo(b="",p=10){let g="";for(let E=0;E<p;E++)g+=Math.floor(10*Math.random());return b+g}class Qd{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,E=50){var P=this;return(0,u.Z)(function*(){const U=typeof MessageChannel<"u"?new MessageChannel:null;if(!U)throw new Error("connection_unavailable");let X,_e;return new Promise((Je,ut)=>{const Mt=jo("",20);U.port1.start();const ln=setTimeout(()=>{ut(new Error("unsupported_event"))},E);_e={messageChannel:U,onMessage(Bi){const Us=Bi;if(Us.data.eventId===Mt)switch(Us.data.status){case"ack":clearTimeout(ln),X=setTimeout(()=>{ut(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),Je(Us.data.response);break;default:clearTimeout(ln),clearTimeout(X),ut(new Error("invalid_response"))}}},P.handlers.add(_e),U.port1.addEventListener("message",_e.onMessage),P.target.postMessage({eventType:p,eventId:Mt,data:g},[U.port2])}).finally(()=>{_e&&P.removeMessageHandler(_e)})})()}}function br(){return window}function Rl(){return typeof br().WorkerGlobalScope<"u"&&"function"==typeof br().importScripts}function kc(){return(kc=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Lr="firebaseLocalStorageDb",za=1,lr="firebaseLocalStorage",Lf="fbase_key";class Os{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function kl(b,p){return b.transaction([lr],p?"readwrite":"readonly").objectStore(lr)}function Ru(){const b=indexedDB.open(Lr,za);return new Promise((p,g)=>{b.addEventListener("error",()=>{g(b.error)}),b.addEventListener("upgradeneeded",()=>{const E=b.result;try{E.createObjectStore(lr,{keyPath:Lf})}catch(P){g(P)}}),b.addEventListener("success",(0,u.Z)(function*(){const E=b.result;E.objectStoreNames.contains(lr)?p(E):(E.close(),yield function Ga(){const b=indexedDB.deleteDatabase(Lr);return new Os(b).toPromise()}(),p(yield Ru()))}))})}function Pu(b,p,g){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,u.Z)(function*(b,p,g){const E=kl(b,!0).put({[Lf]:p,value:g});return new Os(E).toPromise()})).apply(this,arguments)}function oa(){return(oa=(0,u.Z)(function*(b,p){const g=kl(b,!1).get(p),E=yield new Os(g).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Oc(b,p){const g=kl(b,!0).delete(p);return new Os(g).toPromise()}const ku=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield Ru()),g.db})()}_withRetries(g){var E=this;return(0,u.Z)(function*(){let P=0;for(;;)try{const U=yield E._openDb();return yield g(U)}catch(U){if(P++>3)throw U;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return Rl()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=Mu._getInstance(function Pl(){return Rl()?self:null}()),g.receiver._subscribe("keyChanged",function(){var E=(0,u.Z)(function*(P,U){return{keyProcessed:(yield g._poll()).includes(U.key)}});return function(P,U){return E.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var E=(0,u.Z)(function*(P,U){return["keyChanged"]});return function(P,U){return E.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var E,P;if(g.activeServiceWorker=yield function Jd(){return kc.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Qd(g.activeServiceWorker);const U=yield g.sender._send("ping",{},800);U&&null!==(E=U[0])&&void 0!==E&&E.fulfilled&&null!==(P=U[0])&&void 0!==P&&P.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var E=this;return(0,u.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Xd(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:g},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Ru();return yield Pu(g,Mc,"1"),yield Oc(g,Mc),!0}catch{}return!1})()}_withPendingWrite(g){var E=this;return(0,u.Z)(function*(){E.pendingWrites++;try{yield g()}finally{E.pendingWrites--}})()}_set(g,E){var P=this;return(0,u.Z)(function*(){return P._withPendingWrite((0,u.Z)(function*(){return yield P._withRetries(U=>Pu(U,g,E)),P.localCache[g]=E,P.notifyServiceWorker(g)}))})()}_get(g){var E=this;return(0,u.Z)(function*(){const P=yield E._withRetries(U=>function Uf(b,p){return oa.apply(this,arguments)}(U,g));return E.localCache[g]=P,P})()}_remove(g){var E=this;return(0,u.Z)(function*(){return E._withPendingWrite((0,u.Z)(function*(){return yield E._withRetries(P=>Oc(P,g)),delete E.localCache[g],E.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const E=yield g._withRetries(X=>{const _e=kl(X,!1).getAll();return new Os(_e).toPromise()});if(!E)return[];if(0!==g.pendingWrites)return[];const P=[],U=new Set;for(const{fbase_key:X,value:_e}of E)U.add(X),JSON.stringify(g.localCache[X])!==JSON.stringify(_e)&&(g.notifyListeners(X,_e),P.push(X));for(const X of Object.keys(g.localCache))g.localCache[X]&&!U.has(X)&&(g.notifyListeners(X,null),P.push(X));return P})()}notifyListeners(g,E){this.localCache[g]=E;const P=this.listeners[g];if(P)for(const U of Array.from(P))U(E)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),Ou=1e12;class nh{constructor(p){this.auth=p,this.counter=Ou,this._widgets=new Map}render(p,g){const E=this.counter;return this._widgets.set(E,new Nu(p,this.auth.name,g||{})),this.counter++,E}reset(p){var g;const E=p||Ou;null===(g=this._widgets.get(E))||void 0===g||g.delete(),this._widgets.delete(E)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Ou))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,u.Z)(function*(){var E;return null===(E=g._widgets.get(p||Ou))||void 0===E||E.execute(),""})()}}class Nu{constructor(p,g,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const P="string"==typeof p?document.getElementById(p):p;de(P,"argument-error",{appName:g}),this.container=P,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Fu(b){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<b;E++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Bf=kr("rcb"),_y=new Se(3e4,6e4);class la{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=br().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return de(function vy(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(g),p,"argument-error"),this.shouldResolveImmediately(g)&&Vt(br().grecaptcha)?Promise.resolve(br().grecaptcha):new Promise((E,P)=>{const U=br().setTimeout(()=>{P(De(p,"network-request-failed"))},_y.get());br()[Bf]=()=>{br().clearTimeout(U),delete br()[Bf];const _e=br().grecaptcha;if(!_e||!Vt(_e))return void P(De(p,"internal-error"));const Je=_e.render;_e.render=(ut,Mt)=>{const ln=Je(ut,Mt);return this.counter++,ln},this.hostLanguage=g,E(_e)},yn(`https://www.google.com/recaptcha/api.js??${(0,Y.xO)({onload:Bf,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(U),P(De(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=br().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class jf{load(p){return(0,u.Z)(function*(){return new nh(p)})()}clearedOneInstance(){}}const Ur="recaptcha",Nl={theme:"light",type:"image"};class Fl{constructor(p,g=Object.assign({},Nl),E){this.parameters=g,this.type=Ur,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=xn(E),this.isInvisible="invisible"===this.parameters.size,de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const P="string"==typeof p?document.getElementById(p):p;de(P,this.auth,"argument-error"),this.container=P,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new jf:new la,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(g)||new Promise(U=>{const X=_e=>{_e&&(p.tokenChangeListeners.delete(X),U(_e))};p.tokenChangeListeners.add(X),p.isInvisible&&E.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(E=>E(g)),"function"==typeof p)p(g);else if("string"==typeof p){const E=br()[p];"function"==typeof E&&E(g)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const E=document.createElement("div");g.appendChild(E),g=E}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){de(Kt()&&!Rl(),p.auth,"internal-error"),yield function Lu(){let b=null;return new Promise(p=>{"complete"!==document.readyState?(b=()=>p(),window.addEventListener("load",b)):p()}).catch(p=>{throw b&&window.removeEventListener("load",b),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function we(b){return le.apply(this,arguments)}(p.auth);de(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Gi{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=No._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Fs(b,p,g){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,u.Z)(function*(b,p,g){const E=xn(b),P=yield Fc(E,p,(0,Y.m9)(g));return new Gi(P,U=>$t(E,U))})).apply(this,arguments)}function Nc(b,p,g){return qa.apply(this,arguments)}function qa(){return(qa=(0,u.Z)(function*(b,p,g){const E=(0,Y.m9)(b);yield Ss(!1,E,"phone");const P=yield Fc(E.auth,p,(0,Y.m9)(g));return new Gi(P,U=>yl(E,U))})).apply(this,arguments)}function rh(b,p,g){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,u.Z)(function*(b,p,g){const E=(0,Y.m9)(b),P=yield Fc(E.auth,p,(0,Y.m9)(g));return new Gi(P,U=>Fa(E,U))})).apply(this,arguments)}function Fc(b,p,g){return Ll.apply(this,arguments)}function Ll(){return Ll=(0,u.Z)(function*(b,p,g){var E;const P=yield g.verify();try{let U;if(de("string"==typeof P,b,"argument-error"),de(g.type===Ur,b,"argument-error"),U="string"==typeof p?{phoneNumber:p}:p,"session"in U){const X=U.session;if("phoneNumber"in U)return de("enroll"===X.type,b,"internal-error"),(yield function Xn(b,p){return Et(b,"POST","/v2/accounts/mfaEnrollment:start",Ve(b,p))}(b,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:U.phoneNumber,recaptchaToken:P}})).phoneSessionInfo.sessionInfo;{de("signin"===X.type,b,"internal-error");const _e=(null===(E=U.multiFactorHint)||void 0===E?void 0:E.uid)||U.multiFactorUid;return de(_e,b,"missing-multi-factor-info"),(yield function eh(b,p){return Et(b,"POST","/v2/accounts/mfaSignIn:start",Ve(b,p))}(b,{mfaPendingCredential:X.credential,mfaEnrollmentId:_e,phoneSignInInfo:{recaptchaToken:P}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield function Gd(b,p){return yc.apply(this,arguments)}(b,{phoneNumber:U.phoneNumber,recaptchaToken:P});return X}}finally{g._reset()}}),Ll.apply(this,arguments)}function ro(b,p){return io.apply(this,arguments)}function io(){return(io=(0,u.Z)(function*(b,p){yield ni((0,Y.m9)(b),p)})).apply(this,arguments)}let Sn=(()=>{class b{constructor(g){this.providerId=b.PROVIDER_ID,this.auth=xn(g)}verifyPhoneNumber(g,E){return Fc(this.auth,g,(0,Y.m9)(E))}static credential(g,E){return No._fromVerification(g,E)}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:E,temporaryProof:P}=g;return E&&P?No._fromTokenResponse(E,P):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function dt(b,p){return p?sr(p):(de(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class yi extends Mi{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return mo(p,this._buildIdpRequest())}_linkToIdToken(p,g){return mo(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return mo(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function tr(b){return Qs(b.auth,new yi(b),b.bypassAuthState)}function Ul(b){const{auth:p,user:g}=b;return de(g,p,"internal-error"),_l(g,new yi(b),b.bypassAuthState)}function ls(b){return mr.apply(this,arguments)}function mr(){return(mr=(0,u.Z)(function*(b){const{auth:p,user:g}=b;return de(g,p,"internal-error"),ni(g,new yi(b),b.bypassAuthState)})).apply(this,arguments)}class Ar{constructor(p,g,E,P,U=!1){this.auth=p,this.resolver=E,this.user=P,this.bypassAuthState=U,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,u.Z)(function*(E,P){p.pendingPromise={resolve:E,reject:P};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(U){p.reject(U)}});return function(E,P){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,u.Z)(function*(){const{urlResponse:E,sessionId:P,postBody:U,tenantId:X,error:_e,type:Je}=p;if(_e)return void g.reject(_e);const ut={auth:g.auth,requestUri:E,sessionId:P,tenantId:X||void 0,postBody:U||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Je)(ut))}catch(Mt){g.reject(Mt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return tr;case"linkViaPopup":case"linkViaRedirect":return ls;case"reauthViaPopup":case"reauthViaRedirect":return Ul;default:ke(this.auth,"internal-error")}}resolve(p){kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Li=new Se(2e3,1e4);function _t(b,p,g){return bo.apply(this,arguments)}function bo(){return(bo=(0,u.Z)(function*(b,p,g){const E=xn(b);We(b,p,Yi);const P=dt(E,g);return new Vu(E,"signInViaPopup",p,P).executeNotNull()})).apply(this,arguments)}function Vl(b,p,g){return vi.apply(this,arguments)}function vi(){return(vi=(0,u.Z)(function*(b,p,g){const E=(0,Y.m9)(b);We(E.auth,p,Yi);const P=dt(E.auth,g);return new Vu(E.auth,"reauthViaPopup",p,P,E).executeNotNull()})).apply(this,arguments)}function $f(b,p,g){return Za.apply(this,arguments)}function Za(){return(Za=(0,u.Z)(function*(b,p,g){const E=(0,Y.m9)(b);We(E.auth,p,Yi);const P=dt(E.auth,g);return new Vu(E.auth,"linkViaPopup",p,P,E).executeNotNull()})).apply(this,arguments)}let Vu=(()=>{class b extends Ar{constructor(g,E,P,U,X){super(g,E,U,X),this.provider=P,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const E=yield g.execute();return de(E,g.auth,"internal-error"),E})()}onExecution(){var g=this;return(0,u.Z)(function*(){kt(1===g.filter.length,"Popup operations only handle one event");const E=jo();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],E),g.authWindow.associatedEvent=E,g.resolver._originValidation(g.auth).catch(P=>{g.reject(P)}),g.resolver._isIframeWebStorageSupported(g.auth,P=>{P||g.reject(De(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(De(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const g=()=>{var E,P;this.pollId=null!==(P=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==P&&P.closed?window.setTimeout(()=>{this.pollId=null,this.reject(De(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Li.get())};g()}}return b.currentPopupAction=null,b})();const ih="pendingRedirect",wo=new Map;class Bl extends Ar{constructor(p,g,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,u.Z)(function*(){let E=wo.get(g.auth._key());if(!E){try{const U=(yield function jl(b,p){return oo.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;E=()=>Promise.resolve(U)}catch(P){E=()=>Promise.reject(P)}wo.set(g.auth._key(),E)}return g.bypassAuthState||wo.set(g.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,E=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(E,p);if("unknown"!==p.type){if(p.eventId){const P=yield E.auth._redirectUserForId(p.eventId);if(P)return E.user=P,g().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function oo(){return(oo=(0,u.Z)(function*(b,p){const g=Bu(p),E=sh(b);if(!(yield E._isAvailable()))return!1;const P="true"===(yield E._get(g));return yield E._remove(g),P})).apply(this,arguments)}function Hf(b,p){return ua.apply(this,arguments)}function ua(){return(ua=(0,u.Z)(function*(b,p){return sh(b)._set(Bu(p),"true")})).apply(this,arguments)}function $l(){wo.clear()}function oh(b,p){wo.set(b._key(),p)}function sh(b){return sr(b._redirectPersistence)}function Bu(b){return Pr(ih,b.config.apiKey,b.name)}function ah(b,p,g){return function Lc(b,p,g){return gr.apply(this,arguments)}(b,p,g)}function gr(){return(gr=(0,u.Z)(function*(b,p,g){const E=xn(b);We(b,p,Yi),yield E._initializationPromise;const P=dt(E,g);return yield Hf(P,E),P._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function ju(b,p,g){return function $u(b,p,g){return us.apply(this,arguments)}(b,p,g)}function us(){return(us=(0,u.Z)(function*(b,p,g){const E=(0,Y.m9)(b);We(E.auth,p,Yi),yield E.auth._initializationPromise;const P=dt(E.auth,g);yield Hf(P,E.auth);const U=yield da(E);return P._openRedirect(E.auth,p,"reauthViaRedirect",U)})).apply(this,arguments)}function Hu(b,p,g){return function zu(b,p,g){return Ka.apply(this,arguments)}(b,p,g)}function Ka(){return(Ka=(0,u.Z)(function*(b,p,g){const E=(0,Y.m9)(b);We(E.auth,p,Yi),yield E.auth._initializationPromise;const P=dt(E.auth,g);yield Ss(!1,E,p.providerId),yield Hf(P,E.auth);const U=yield da(E);return P._openRedirect(E.auth,p,"linkViaRedirect",U)})).apply(this,arguments)}function zf(b,p){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,u.Z)(function*(b,p){return yield xn(b)._initializationPromise,ch(b,p,!1)})).apply(this,arguments)}function ch(b,p){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,u.Z)(function*(b,p,g=!1){const E=xn(b),P=dt(E,p),X=yield new Bl(E,P,g).execute();return X&&!g&&(delete X.user._redirectEventId,yield E._persistUserIfCurrent(X.user),yield E._setRedirectUser(null,p)),X})).apply(this,arguments)}function da(b){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,u.Z)(function*(b){const p=jo(`${b.uid}:::`);return b._redirectEventId=p,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),p})).apply(this,arguments)}class lh{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(g=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Gf(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uh(b);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var E;if(p.error&&!uh(p)){const P=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";g.onError(De(this.auth,P))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const E=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jc(p))}saveEventToCache(p){this.cachedEventUids.add(jc(p)),this.lastProcessedEventTime=Date.now()}}function jc(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(p=>p).join("-")}function uh({type:b,error:p}){return"unknown"===b&&"auth/no-auth-event"===p?.code}function dh(b){return qu.apply(this,arguments)}function qu(){return(qu=(0,u.Z)(function*(b,p={}){return Et(b,"GET","/v1/projects",p)})).apply(this,arguments)}const by=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vm=/^https?/;function $c(){return($c=(0,u.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:p}=yield dh(b);for(const g of p)try{if(qf(g))return}catch{}ke(b,"unauthorized-domain")})).apply(this,arguments)}function qf(b){const p=mt(),{protocol:g,hostname:E}=new URL(p);if(b.startsWith("chrome-extension://")){const X=new URL(b);return""===X.hostname&&""===E?"chrome-extension:"===g&&b.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&X.hostname===E}if(!Vm.test(g))return!1;if(by.test(b))return E===b;const P=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+P+"|"+P+")$","i").test(E)}const ha=new Se(3e4,6e4);function Hl(){const b=br().___jsl;if(b?.H)for(const p of Object.keys(b.H))if(b.H[p].r=b.H[p].r||[],b.H[p].L=b.H[p].L||[],b.H[p].r=[...b.H[p].L],b.CP)for(let g=0;g<b.CP.length;g++)b.CP[g]=null}let Ya=null;const fh=new Se(5e3,15e3),Ls="__/auth/iframe",zl="emulator/auth/iframe",Wf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ph=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zf(b){const p=b.config;de(p.authDomain,b,"auth-domain-config-required");const g=p.emulator?Pe(p,zl):`https://${b.config.authDomain}/${Ls}`,E={apiKey:p.apiKey,appName:b.name,v:N.SDK_VERSION},P=ph.get(b.config.apiHost);P&&(E.eid=P);const U=b._getFrameworks();return U.length&&(E.fw=U.join(",")),`${g}?${(0,Y.xO)(E).slice(1)}`}function ur(){return ur=(0,u.Z)(function*(b){const p=yield function fa(b){return Ya=Ya||function Eo(b){return new Promise((p,g)=>{var E,P,U;function X(){Hl(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Hl(),g(De(b,"network-request-failed"))},timeout:ha.get()})}if(null!==(P=null===(E=br().gapi)||void 0===E?void 0:E.iframes)&&void 0!==P&&P.Iframe)p(gapi.iframes.getContext());else{if(null===(U=br().gapi)||void 0===U||!U.load){const _e=kr("iframefcb");return br()[_e]=()=>{gapi.load?X():g(De(b,"network-request-failed"))},yn(`https://apis.google.com/js/api.js?onload=${_e}`).catch(Je=>g(Je))}X()}}).catch(p=>{throw Ya=null,p})}(b),Ya}(b),g=br().gapi;return de(g,b,"internal-error"),p.open({where:document.body,url:Zf(b),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wf,dontclear:!0},E=>new Promise(function(){var P=(0,u.Z)(function*(U,X){yield E.restyle({setHideOnLeave:!1});const _e=De(b,"network-request-failed"),Je=br().setTimeout(()=>{X(_e)},fh.get());function ut(){br().clearTimeout(Je),U(E)}E.ping(ut).then(ut,()=>{X(_e)})});return function(U,X){return P.apply(this,arguments)}}()))}),ur.apply(this,arguments)}const w={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T=500,R=600,H="_blank",ne="http://localhost";class oe{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const nt="__/auth/handler",At="emulator/auth/handler",qt=encodeURIComponent("fac");function Xt(b,p,g,E,P,U){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,u.Z)(function*(b,p,g,E,P,U){de(b.config.authDomain,b,"auth-domain-config-required"),de(b.config.apiKey,b,"invalid-api-key");const X={apiKey:b.config.apiKey,appName:b.name,authType:g,redirectUrl:E,v:N.SDK_VERSION,eventId:P};if(p instanceof Yi){p.setDefaultLanguage(b.languageCode),X.providerId=p.providerId||"",(0,Y.xb)(p.getCustomParameters())||(X.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Mt,ln]of Object.entries(U||{}))X[Mt]=ln}if(p instanceof Ts){const Mt=p.getScopes().filter(ln=>""!==ln);Mt.length>0&&(X.scopes=Mt.join(","))}b.tenantId&&(X.tid=b.tenantId);const _e=X;for(const Mt of Object.keys(_e))void 0===_e[Mt]&&delete _e[Mt];const Je=yield b._getAppCheckToken(),ut=Je?`#${qt}=${encodeURIComponent(Je)}`:"";return`${function ri({config:b}){return b.emulator?Pe(b,At):`https://${b.authDomain}/${nt}`}(b)}?${(0,Y.xO)(_e).slice(1)}${ut}`})).apply(this,arguments)}const pa="webStorageSupport",Qa=class Wu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_i,this._completeRedirectFn=ch,this._overrideRedirectResult=oh}_openPopup(p,g,E,P){var U=this;return(0,u.Z)(function*(){var X;kt(null===(X=U.eventManagers[p._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const _e=yield Xt(p,g,E,mt(),P);return function ve(b,p,g,E=T,P=R){const U=Math.max((window.screen.availHeight-P)/2,0).toString(),X=Math.max((window.screen.availWidth-E)/2,0).toString();let _e="";const Je=Object.assign(Object.assign({},w),{width:E.toString(),height:P.toString(),top:U,left:X}),ut=(0,Y.z$)().toLowerCase();g&&(_e=F(ut)?H:g),V(ut)&&(p=p||ne,Je.scrollbars="yes");const Mt=Object.entries(Je).reduce((Bi,[Us,Ku])=>`${Bi}${Us}=${Ku},`,"");if(function Lt(b=(0,Y.z$)()){var p;return Ot(b)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(ut)&&"_self"!==_e)return function ot(b,p){const g=document.createElement("a");g.href=b,g.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(E)}(p||"",_e),new oe(null);const ln=window.open(p||"",_e,Mt);de(ln,b,"popup-blocked");try{ln.focus()}catch{}return new oe(ln)}(p,_e,jo())})()}_openRedirect(p,g,E,P){var U=this;return(0,u.Z)(function*(){return yield U._originValidation(p),function ks(b){br().location.href=b}(yield Xt(p,g,E,mt(),P)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:P,promise:U}=this.eventManagers[g];return P?Promise.resolve(P):(kt(U,"If manager is not set, promise should be"),U)}const E=this.initAndGetManager(p);return this.eventManagers[g]={promise:E},E.catch(()=>{delete this.eventManagers[g]}),E}initAndGetManager(p){var g=this;return(0,u.Z)(function*(){const E=yield function Kf(b){return ur.apply(this,arguments)}(p),P=new lh(p);return E.register("authEvent",U=>(de(U?.authEvent,p,"invalid-auth-event"),{status:P.onEvent(U.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:P},g.iframes[p._key()]=E,P})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(pa,{type:pa},P=>{var U;const X=null===(U=P?.[0])||void 0===U?void 0:U[pa];void 0!==X&&g(!!X),ke(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function hh(b){return $c.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Qt()||j()||Ot()}};class Vi{constructor(p){this.factorId=p}_process(p,g,E){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,E);case"signin":return this._finalizeSignIn(p,g.credential);default:return st("unexpected MultiFactorSessionType")}}}class so extends Vi{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new so(p)}_finalizeEnroll(p,g,E){return function er(b,p){return Et(b,"POST","/v2/accounts/mfaEnrollment:finalize",Ve(b,p))}(p,{idToken:g,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function ca(b,p){return Et(b,"POST","/v2/accounts/mfaSignIn:finalize",Ve(b,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ja=(()=>{class b{constructor(){}static assertion(g){return so._fromCredential(g)}}return b.FACTOR_ID="phone",b})();var Zu="@firebase/auth";class $o{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(E=>{p(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);g&&(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Jf=(0,Y.Pz)("authIdTokenMaxAge")||300;let $m=null;const wy=b=>function(){var p=(0,u.Z)(function*(g){const E=g&&(yield g.getIdTokenResult()),P=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(P&&P>Jf)return;const U=E?.token;$m!==U&&($m=U,yield fetch(b,{method:U?"POST":"DELETE",headers:U?{Authorization:`Bearer ${U}`}:{}}))});return function(g){return p.apply(this,arguments)}}();function zc(b=(0,N.getApp)()){const p=(0,N._getProvider)(b,"auth");if(p.isInitialized())return p.getImmediate();const g=function Dr(b,p){const g=(0,N._getProvider)(b,"auth");if(g.isInitialized()){const P=g.getImmediate(),U=g.getOptions();if((0,Y.vZ)(U,p??{}))return P;ke(P,"already-initialized")}return g.initialize({options:p})}(b,{popupRedirectResolver:Qa,persistence:[ku,Ml,_i]}),E=(0,Y.Pz)("authTokenSyncURL");if(E){const U=wy(E);(function Ps(b,p,g){(0,Y.m9)(b).beforeAuthStateChanged(p,g)})(g,U,()=>U(g.currentUser)),function ja(b,p,g,E){(0,Y.m9)(b).onIdTokenChanged(p,g,E)}(g,X=>U(X))}const P=(0,Y.q4)("auth");return P&&Un(g,`http://${P}`),g}!function Bm(b){(0,N._registerComponent)(new $.wA("auth",(p,{options:g})=>{const E=p.getProvider("app").getImmediate(),P=p.getProvider("heartbeat"),U=p.getProvider("app-check-internal"),{apiKey:X,authDomain:_e}=E.options;de(X&&!X.includes(":"),"invalid-api-key",{appName:E.name});const Je={apiKey:X,authDomain:_e,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yn(b)},ut=new Hn(E,P,U,Je);return function Xo(b,p){const g=p?.persistence||[],E=(Array.isArray(g)?g:[g]).map(sr);p?.errorMap&&b._updateErrorMap(p.errorMap),b._initializeWithPersistence(E,p?.popupRedirectResolver)}(ut,g),ut},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,E)=>{p.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new $.wA("auth-internal",p=>{const g=xn(p.getProvider("auth").getImmediate());return new $o(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(Zu,"0.23.2",function Io(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,N.registerVersion)(Zu,"0.23.2","esm2017")}("Browser")},2090:(xt,Oe,B)=>{"use strict";B.d(Oe,{$s:()=>sr,BH:()=>Ie,G6:()=>Pe,L:()=>Ae,LL:()=>Fn,P0:()=>Ue,Pz:()=>De,Sg:()=>We,UG:()=>st,US:()=>$,ZB:()=>se,ZR:()=>Et,aH:()=>ke,b$:()=>Kt,eu:()=>et,hl:()=>Le,jU:()=>kt,m9:()=>Pr,ne:()=>nn,pd:()=>Ln,q4:()=>$e,r3:()=>Xr,ru:()=>mt,tV:()=>te,uI:()=>de,vZ:()=>bt,w1:()=>ai,xO:()=>Zn,xb:()=>Gr,z$:()=>Ge,zI:()=>ze,zd:()=>_r});const ce=function(J){const K=[];let V=0;for(let j=0;j<J.length;j++){let F=J.charCodeAt(j);F<128?K[V++]=F:F<2048?(K[V++]=F>>6|192,K[V++]=63&F|128):55296==(64512&F)&&j+1<J.length&&56320==(64512&J.charCodeAt(j+1))?(F=65536+((1023&F)<<10)+(1023&J.charCodeAt(++j)),K[V++]=F>>18|240,K[V++]=F>>12&63|128,K[V++]=F>>6&63|128,K[V++]=63&F|128):(K[V++]=F>>12|224,K[V++]=F>>6&63|128,K[V++]=63&F|128)}return K},$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(J,K){if(!Array.isArray(J))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=K?this.byteToCharMapWebSafe_:this.byteToCharMap_,j=[];for(let F=0;F<J.length;F+=3){const re=J[F],Me=F+1<J.length,ft=Me?J[F+1]:0,Ft=F+2<J.length,Ot=Ft?J[F+2]:0;let Mn=(15&ft)<<2|Ot>>6,Qt=63&Ot;Ft||(Qt=64,Me||(Mn=64)),j.push(V[re>>2],V[(3&re)<<4|ft>>4],V[Mn],V[Qt])}return j.join("")},encodeString(J,K){return this.HAS_NATIVE_SUPPORT&&!K?btoa(J):this.encodeByteArray(ce(J),K)},decodeString(J,K){return this.HAS_NATIVE_SUPPORT&&!K?atob(J):function(J){const K=[];let V=0,j=0;for(;V<J.length;){const F=J[V++];if(F<128)K[j++]=String.fromCharCode(F);else if(F>191&&F<224){const re=J[V++];K[j++]=String.fromCharCode((31&F)<<6|63&re)}else if(F>239&&F<365){const Ft=((7&F)<<18|(63&J[V++])<<12|(63&J[V++])<<6|63&J[V++])-65536;K[j++]=String.fromCharCode(55296+(Ft>>10)),K[j++]=String.fromCharCode(56320+(1023&Ft))}else{const re=J[V++],Me=J[V++];K[j++]=String.fromCharCode((15&F)<<12|(63&re)<<6|63&Me)}}return K.join("")}(this.decodeStringToByteArray(J,K))},decodeStringToByteArray(J,K){this.init_();const V=K?this.charToByteMapWebSafe_:this.charToByteMap_,j=[];for(let F=0;F<J.length;){const re=V[J.charAt(F++)],ft=F<J.length?V[J.charAt(F)]:0;++F;const Ot=F<J.length?V[J.charAt(F)]:64;++F;const Lt=F<J.length?V[J.charAt(F)]:64;if(++F,null==re||null==ft||null==Ot||null==Lt)throw new xe;j.push(re<<2|ft>>4),64!==Ot&&(j.push(ft<<4&240|Ot>>2),64!==Lt&&j.push(Ot<<6&192|Lt))}return j},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let J=0;J<this.ENCODED_VALS.length;J++)this.byteToCharMap_[J]=this.ENCODED_VALS.charAt(J),this.charToByteMap_[this.byteToCharMap_[J]]=J,this.byteToCharMapWebSafe_[J]=this.ENCODED_VALS_WEBSAFE.charAt(J),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[J]]=J,J>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(J)]=J,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(J)]=J)}}};class xe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ae=function(J){return function(J){const K=ce(J);return $.encodeByteArray(K,!0)}(J).replace(/\./g,"")},te=function(J){try{return $.decodeString(J,!0)}catch(K){console.error("base64Decode failed: ",K)}return null};function se(J,K){if(!(K instanceof Object))return K;switch(K.constructor){case Date:return new Date(K.getTime());case Object:void 0===J&&(J={});break;case Array:J=[];break;default:return K}for(const V in K)!K.hasOwnProperty(V)||!Ke(V)||(J[V]=se(J[V],K[V]));return J}function Ke(J){return"__proto__"!==J}const Fe=()=>{try{return function Ne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const J=process.env.__FIREBASE_DEFAULTS__;return J?JSON.parse(J):void 0})()||(()=>{if(typeof document>"u")return;let J;try{J=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const K=J&&te(J[1]);return K&&JSON.parse(K)})()}catch(J){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${J}`)}},$e=J=>{var K,V;return null===(V=null===(K=Fe())||void 0===K?void 0:K.emulatorHosts)||void 0===V?void 0:V[J]},Ue=J=>{const K=$e(J);if(!K)return;const V=K.lastIndexOf(":");if(V<=0||V+1===K.length)throw new Error(`Invalid host ${K} with no separate hostname and port!`);const j=parseInt(K.substring(V+1),10);return"["===K[0]?[K.substring(1,V-1),j]:[K.substring(0,V),j]},ke=()=>{var J;return null===(J=Fe())||void 0===J?void 0:J.config},De=J=>{var K;return null===(K=Fe())||void 0===K?void 0:K[`_${J}`]};class Ie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((K,V)=>{this.resolve=K,this.reject=V})}wrapCallback(K){return(V,j)=>{V?this.reject(V):this.resolve(j),"function"==typeof K&&(this.promise.catch(()=>{}),1===K.length?K(V):K(V,j))}}}function We(J,K){if(J.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const j=K||"demo-project",F=J.iat||0,re=J.sub||J.user_id;if(!re)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Me=Object.assign({iss:`https://securetoken.google.com/${j}`,aud:j,iat:F,exp:F+3600,auth_time:F,sub:re,user_id:re,firebase:{sign_in_provider:"custom",identities:{}}},J);return[Ae(JSON.stringify({alg:"none",type:"JWT"})),Ae(JSON.stringify(Me)),""].join(".")}function Ge(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function st(){var J;const K=null===(J=Fe())||void 0===J?void 0:J.forceEnvironment;if("node"===K)return!0;if("browser"===K)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function kt(){return"object"==typeof self&&self.self===self}function mt(){const J="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof J&&void 0!==J.id}function Kt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ai(){const J=Ge();return J.indexOf("MSIE ")>=0||J.indexOf("Trident/")>=0}function Pe(){return!st()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Le(){try{return"object"==typeof indexedDB}catch{return!1}}function et(){return new Promise((J,K)=>{try{let V=!0;const j="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(j);F.onsuccess=()=>{F.result.close(),V||self.indexedDB.deleteDatabase(j),J(!0)},F.onupgradeneeded=()=>{V=!1},F.onerror=()=>{var re;K((null===(re=F.error)||void 0===re?void 0:re.message)||"")}}catch(V){K(V)}})}function ze(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Et extends Error{constructor(K,V,j){super(V),this.code=K,this.customData=j,this.name="FirebaseError",Object.setPrototypeOf(this,Et.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fn.prototype.create)}}class Fn{constructor(K,V,j){this.service=K,this.serviceName=V,this.errors=j}create(K,...V){const j=V[0]||{},F=`${this.service}/${K}`,re=this.errors[K],Me=re?function vt(J,K){return J.replace(It,(V,j)=>{const F=K[j];return null!=F?String(F):`<${j}?>`})}(re,j):"Error";return new Et(F,`${this.serviceName}: ${Me} (${F}).`,j)}}const It=/\{\$([^}]+)}/g;function Xr(J,K){return Object.prototype.hasOwnProperty.call(J,K)}function Gr(J){for(const K in J)if(Object.prototype.hasOwnProperty.call(J,K))return!1;return!0}function bt(J,K){if(J===K)return!0;const V=Object.keys(J),j=Object.keys(K);for(const F of V){if(!j.includes(F))return!1;const re=J[F],Me=K[F];if(pn(re)&&pn(Me)){if(!bt(re,Me))return!1}else if(re!==Me)return!1}for(const F of j)if(!V.includes(F))return!1;return!0}function pn(J){return null!==J&&"object"==typeof J}function Zn(J){const K=[];for(const[V,j]of Object.entries(J))Array.isArray(j)?j.forEach(F=>{K.push(encodeURIComponent(V)+"="+encodeURIComponent(F))}):K.push(encodeURIComponent(V)+"="+encodeURIComponent(j));return K.length?"&"+K.join("&"):""}function _r(J){const K={};return J.replace(/^\?/,"").split("&").forEach(j=>{if(j){const[F,re]=j.split("=");K[decodeURIComponent(F)]=decodeURIComponent(re)}}),K}function Ln(J){const K=J.indexOf("?");if(!K)return"";const V=J.indexOf("#",K);return J.substring(K,V>0?V:void 0)}function nn(J,K){const V=new wt(J,K);return V.subscribe.bind(V)}class wt{constructor(K,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{K(this)}).catch(j=>{this.error(j)})}next(K){this.forEachObserver(V=>{V.next(K)})}error(K){this.forEachObserver(V=>{V.error(K)}),this.close(K)}complete(){this.forEachObserver(K=>{K.complete()}),this.close()}subscribe(K,V,j){let F;if(void 0===K&&void 0===V&&void 0===j)throw new Error("Missing Observer.");F=function rr(J,K){if("object"!=typeof J||null===J)return!1;for(const V of K)if(V in J&&"function"==typeof J[V])return!0;return!1}(K,["next","error","complete"])?K:{next:K,error:V,complete:j},void 0===F.next&&(F.next=Er),void 0===F.error&&(F.error=Er),void 0===F.complete&&(F.complete=Er);const re=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?F.error(this.finalError):F.complete()}catch{}}),this.observers.push(F),re}unsubscribeOne(K){void 0===this.observers||void 0===this.observers[K]||(delete this.observers[K],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(K){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,K)}sendOne(K,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[K])try{V(this.observers[K])}catch(j){typeof console<"u"&&console.error&&console.error(j)}})}close(K){this.finalized||(this.finalized=!0,void 0!==K&&(this.finalError=K),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Er(){}const Gt=1e3,ir=2,Wn=144e5,or=.5;function sr(J,K=Gt,V=ir){const j=K*Math.pow(V,J),F=Math.round(or*j*(Math.random()-.5)*2);return Math.min(Wn,j+F)}function Pr(J){return J&&J._delegate?J._delegate:J}},1925:(xt,Oe,B)=>{"use strict";var u=B(4650);let Y=null;function N(){return Y}class pe{}const $=new u.OlP("DocumentToken");let xe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ce(){return(0,u.LFG)(te)}()},providedIn:"platform"}),n})();const Ae=new u.OlP("Location Initialized");let te=(()=>{class n extends xe{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){Q()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){Q()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function se(){return new te((0,u.LFG)($))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Ke(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ne(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function rt(n){return n&&"?"!==n[0]?"?"+n:n}let ht=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Fe)},providedIn:"root"}),n})();const Te=new u.OlP("appBaseHref");let Fe=(()=>{class n extends ht{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)($).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ke(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+rt(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const l=this.prepareExternalUrl(i+rt(a));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){const l=this.prepareExternalUrl(i+rt(a));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(xe),u.LFG(Te,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$e=(()=>{class n extends ht{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ke(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let l=this.prepareExternalUrl(i+rt(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){let l=this.prepareExternalUrl(i+rt(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(xe),u.LFG(Te,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ue=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function We(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Ne(Ie(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+rt(r))}normalize(t){return n.stripTrailingSlash(function De(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Ie(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rt(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=rt,n.joinWithSlash=Ke,n.stripTrailingSlash=Ne,n.\u0275fac=function(t){return new(t||n)(u.LFG(ht))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ke(){return new Ue((0,u.LFG)(ht))}()},providedIn:"root"}),n})();function Ie(n){return n.replace(/\/index.html$/,"")}function Ro(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}class Dr{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xo=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Dr(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,l),Un(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Un(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Un(n,e){n.context.$implicit=e.item}let ui=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Jt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){qs("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){qs("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Jt{constructor(){this.$implicit=null,this.ngIf=null}}function qs(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let Cs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Tu="browser",Fo="server";function Yi(n){return n===Tu}function Ts(n){return n===Fo}let Ks=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new gl((0,u.LFG)($),window)}),n})();class gl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ds(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const l=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ji(this.window.history)||Ji(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ji(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class vc{}class xl extends pe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ja extends xl{static makeCurrent(){!function ce(n){Y||(Y=n)}(new ja)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function na(){return Ps=Ps||document.querySelector("base"),Ps?Ps.getAttribute("href"):null}();return null==t?null:function C(n){Fi=Fi||document.createElement("a"),Fi.setAttribute("href",n);const e=Fi.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ps=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ro(document.cookie,e)}}let Fi,Ps=null;const D=new u.OlP("TRANSITION_ID"),W=[{provide:u.ip1,useFactory:function O(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=N(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[D,$,u.zs3],multi:!0}];let Rt=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const wn=new u.OlP("EventManagerPlugins");let Xn=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const l=i[a];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(wn),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class er{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=N().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let cs=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let a=i.get(t)??0;return a+=r,a>0?i.set(t,a):i.delete(t),a}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),no=(()=>{class n extends cs{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(a=>a.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const a=this.styleRef.get(r);a?a.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ra={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$a=/%COMP%/g,Pc=new u.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ml(n,e){return e.flat(100).map(t=>t.replace($a,n))}function xu(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let _i=(()=>{class n{constructor(t,r,i,a){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=a,this.rendererByCompId=new Map,this.defaultRenderer=new Yd(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof Rl?i.applyToHost(t):i instanceof ks&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let a=i.get(r.id);if(!a){const l=this.eventManager,f=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(r.encapsulation){case u.ifc.Emulated:a=new Rl(l,f,r,this.appId,_);break;case u.ifc.ShadowDom:return new br(l,f,t,r);default:a=new ks(l,f,r,_)}a.onDestroy=()=>i.delete(r.id),i.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Xn),u.LFG(no),u.LFG(u.AFp),u.LFG(Pc))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Yd{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ra[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Qd(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Qd(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=ra[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=ra[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,xu(r)):this.eventManager.addEventListener(e,t,xu(r))}}function Qd(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class br extends Yd{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Ml(i.id,i.styles);for(const l of a){const f=document.createElement("style");f.textContent=l,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ks extends Yd{constructor(e,t,r,i,a=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=Ml(a,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Rl extends ks{constructor(e,t,r,i,a){const l=i+"-"+r.id;super(e,t,r,a,l),this.contentAttr=function Ff(n){return"_ngcontent-%COMP%".replace($a,n)}(l),this.hostAttr=function Su(n){return"_nghost-%COMP%".replace($a,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Jd=(()=>{class n extends er{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const kc=["alt","control","meta","shift"],Xd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Pl={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Lr=(()=>{class n extends er{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),l=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,a.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let l="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),l="code."),kc.forEach(v=>{const x=r.indexOf(v);x>-1&&(r.splice(x,1),l+=v+".")}),l+=a,0!=r.length||0===a.length)return null;const _={};return _.domEventName=i,_.fullKey=l,_}static matchEventFullKeyCode(t,r){let i=Xd[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),kc.forEach(l=>{l!==i&&(0,Pl[l])(t)&&(a+=l+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Uf=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:Tu},{provide:u.g9A,useValue:function Ga(){ja.makeCurrent()},multi:!0},{provide:$,useFactory:function Pu(){return(0,u.RDi)(document),document},deps:[]}]),oa=new u.OlP(""),Oc=[{provide:u.rWj,useClass:class ge{addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let a=i.length,l=!1;const f=function(_){l=l||_,a--,0==a&&r(l)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],sa=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Ru(){return new u.qLn},deps:[]},{provide:wn,useClass:Jd,multi:!0,deps:[$,u.R0b,u.Lbi]},{provide:wn,useClass:Lr,multi:!0,deps:[$]},{provide:_i,useClass:_i,deps:[Xn,no,u.AFp,Pc]},{provide:u.FYo,useExisting:_i},{provide:cs,useExisting:no},{provide:no,useClass:no,deps:[$]},{provide:Xn,useClass:Xn,deps:[wn,u.R0b]},{provide:vc,useClass:Rt,deps:[]},[]];let aa=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:D,useExisting:u.AFp},W]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oa,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...sa,...Oc],imports:[Cs,u.hGG]}),n})(),Vf=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function ca(){return new Vf((0,u.LFG)($))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Wa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):u.LFG(Ll),r},providedIn:"root"}),n})(),Ll=(()=>{class n extends Wa{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case u.q3G.NONE:return r;case u.q3G.HTML:return(0,u.qzn)(r,"HTML")?(0,u.z3N)(r):(0,u.EiD)(this._doc,String(r)).toString();case u.q3G.STYLE:return(0,u.qzn)(r,"Style")?(0,u.z3N)(r):r;case u.q3G.SCRIPT:if((0,u.qzn)(r,"Script"))return(0,u.z3N)(r);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.qzn)(r,"URL")?(0,u.z3N)(r):(0,u.mCW)(String(r));case u.q3G.RESOURCE_URL:if((0,u.qzn)(r,"ResourceURL"))return(0,u.z3N)(r);throw new Error(`unsafe value used in a resource URL context (see ${u.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${u.JZr})`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Fc(n){return new Ll(n.get($))}(u.LFG(u.zs3)),r},providedIn:"root"}),n})();var io=B(7669),Sn=B(8996);function dt(...n){const e=(0,io.yG)(n);return(0,Sn.D)(n,e)}var yi=B(9751),tr=B(5577),Ul=B(576);function ls(n,e){return(0,Ul.m)(e)?(0,tr.z)(n,e,1):(0,tr.z)(n,1)}var mr=B(4482),Ar=B(5403);function Li(n,e){return(0,mr.e)((t,r)=>{let i=0;t.subscribe((0,Ar.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var _t=B(4004);class bo{}class Vl{}class vi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(l):this.headers.set(a,[l])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(a=>a.toString()),i.length>0){const a=t.toLowerCase();this.headers.set(a,i),this.maybeSetNormalizedName(t,a)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof vi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new vi;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof vi?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let l=this.headers.get(t);if(!l)return;l=l.filter(f=>-1===a.indexOf(f)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Za{encodeKey(e){return Bl(e)}encodeValue(e){return Bl(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const ih=/%(\d[a-f0-9])/gi,wo={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Bl(n){return encodeURIComponent(n).replace(ih,(e,t)=>wo[t]??e)}function jl(n){return`${n}`}class oo{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Za,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Vu(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[l,f]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],_=t.get(l)||[];_.push(f),t.set(l,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(jl):[jl(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new oo({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(jl(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(jl(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class ua{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function oh(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function sh(n){return typeof Blob<"u"&&n instanceof Blob}function Bu(n){return typeof FormData<"u"&&n instanceof FormData}class Lc{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function $l(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new vi),this.context||(this.context=new ua),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+l}}else this.params=new oo,this.urlWithParams=t}serializeBody(){return null===this.body?null:oh(this.body)||sh(this.body)||Bu(this.body)||function ah(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof oo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Bu(this.body)?null:sh(this.body)?this.body.type||null:oh(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof oo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,v=e.params||this.params;const x=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((k,z)=>k.set(z,e.setHeaders[z]),_)),e.setParams&&(v=Object.keys(e.setParams).reduce((k,z)=>k.set(z,e.setParams[z]),v)),new Lc(t,r,a,{params:v,headers:_,context:x,reportProgress:f,responseType:i,withCredentials:l})}}var gr=(()=>((gr=gr||{})[gr.Sent=0]="Sent",gr[gr.UploadProgress=1]="UploadProgress",gr[gr.ResponseHeader=2]="ResponseHeader",gr[gr.DownloadProgress=3]="DownloadProgress",gr[gr.Response=4]="Response",gr[gr.User=5]="User",gr))();class ju{constructor(e,t=200,r="OK"){this.headers=e.headers||new vi,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class $u extends ju{constructor(e={}){super(e),this.type=gr.ResponseHeader}clone(e={}){return new $u({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class us extends ju{constructor(e={}){super(e),this.type=gr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new us({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Hu extends ju{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function zu(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Ka=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof Lc)a=t;else{let _,v;_=i.headers instanceof vi?i.headers:new vi(i.headers),i.params&&(v=i.params instanceof oo?i.params:new oo({fromObject:i.params})),a=new Lc(t,r,void 0!==i.body?i.body:null,{headers:_,context:i.context,params:v,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=dt(a).pipe(ls(_=>this.handler.handle(_)));if(t instanceof Lc||"events"===i.observe)return l;const f=l.pipe(Li(_=>_ instanceof us));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,_t.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,_t.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,_t.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,_t.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new oo).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,zu(i,r))}post(t,r,i={}){return this.request("POST",t,zu(i,r))}put(t,r,i={}){return this.request("PUT",t,zu(i,r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(bo))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function zf(n,e){return e(n)}function Uc(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const Vc=new u.OlP("HTTP_INTERCEPTORS"),da=new u.OlP("HTTP_INTERCEPTOR_FNS");function Bc(){let n=null;return(e,t)=>(null===n&&(n=((0,u.f3M)(Vc,{optional:!0})??[]).reduceRight(Uc,zf)),n(e,t))}let Gu=(()=>{class n extends bo{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(da)));this.chain=r.reduceRight((i,a)=>function ch(n,e,t){return(r,i)=>t.runInContext(()=>e(r,a=>n(a,i)))}(i,a,this.injector),zf)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Vl),u.LFG(u.lqb))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ha=/^\)\]\}',?\n/;let Eo=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new yi.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((q,ee)=>i.setRequestHeader(q,ee.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const q=t.detectContentTypeHeader();null!==q&&i.setRequestHeader("Content-Type",q)}if(t.responseType){const q=t.responseType.toLowerCase();i.responseType="json"!==q?q:"text"}const a=t.serializeBody();let l=null;const f=()=>{if(null!==l)return l;const q=i.statusText||"OK",ee=new vi(i.getAllResponseHeaders()),ae=function Hl(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return l=new $u({headers:ee,status:i.status,statusText:q,url:ae}),l},_=()=>{let{headers:q,status:ee,statusText:ae,url:fe}=f(),je=null;204!==ee&&(je=typeof i.response>"u"?i.responseText:i.response),0===ee&&(ee=je?200:0);let tt=ee>=200&&ee<300;if("json"===t.responseType&&"string"==typeof je){const Xe=je;je=je.replace(ha,"");try{je=""!==je?JSON.parse(je):null}catch(it){je=Xe,tt&&(tt=!1,je={error:it,text:je})}}tt?(r.next(new us({body:je,headers:q,status:ee,statusText:ae,url:fe||void 0})),r.complete()):r.error(new Hu({error:je,headers:q,status:ee,statusText:ae,url:fe||void 0}))},v=q=>{const{url:ee}=f(),ae=new Hu({error:q,status:i.status||0,statusText:i.statusText||"Unknown Error",url:ee||void 0});r.error(ae)};let x=!1;const k=q=>{x||(r.next(f()),x=!0);let ee={type:gr.DownloadProgress,loaded:q.loaded};q.lengthComputable&&(ee.total=q.total),"text"===t.responseType&&i.responseText&&(ee.partialText=i.responseText),r.next(ee)},z=q=>{let ee={type:gr.UploadProgress,loaded:q.loaded};q.lengthComputable&&(ee.total=q.total),r.next(ee)};return i.addEventListener("load",_),i.addEventListener("error",v),i.addEventListener("timeout",v),i.addEventListener("abort",v),t.reportProgress&&(i.addEventListener("progress",k),null!==a&&i.upload&&i.upload.addEventListener("progress",z)),i.send(a),r.next({type:gr.Sent}),()=>{i.removeEventListener("error",v),i.removeEventListener("abort",v),i.removeEventListener("load",_),i.removeEventListener("timeout",v),t.reportProgress&&(i.removeEventListener("progress",k),null!==a&&i.upload&&i.upload.removeEventListener("progress",z)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(vc))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ya=new u.OlP("XSRF_ENABLED"),fh=new u.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),zl=new u.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Wf{}let ph=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ro(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($),u.LFG(u.Lbi),u.LFG(fh))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Zf(n,e){const t=n.url.toLowerCase();if(!(0,u.f3M)(Ya)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,u.f3M)(Wf).getToken(),i=(0,u.f3M)(zl);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var ur=(()=>((ur=ur||{})[ur.Interceptors=0]="Interceptors",ur[ur.LegacyInterceptors=1]="LegacyInterceptors",ur[ur.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ur[ur.NoXsrfProtection=3]="NoXsrfProtection",ur[ur.JsonpSupport=4]="JsonpSupport",ur[ur.RequestsMadeViaParent=5]="RequestsMadeViaParent",ur))();function w(n,e){return{\u0275kind:n,\u0275providers:e}}function T(...n){const e=[Ka,Eo,Gu,{provide:bo,useExisting:Gu},{provide:Vl,useExisting:Eo},{provide:da,useValue:Zf,multi:!0},{provide:Ya,useValue:!0},{provide:Wf,useClass:ph}];for(const t of n)e.push(...t.\u0275providers);return(0,u.MR2)(e)}const H=new u.OlP("LEGACY_INTERCEPTOR_FN");let qt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[T(w(ur.LegacyInterceptors,[{provide:H,useFactory:Bc},{provide:da,useExisting:H,multi:!0}]))]}),n})();const{isArray:ri}=Array,{getPrototypeOf:pa,prototype:Wu,keys:Qa}=Object;function Vi(n){if(1===n.length){const e=n[0];if(ri(e))return{args:e,keys:null};if(function so(n){return n&&"object"==typeof n&&pa(n)===Wu}(e)){const t=Qa(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ja=B(8421);const{isArray:mh}=Array;function Qf(n){return(0,_t.U)(e=>function Yf(n,e){return mh(e)?n(...e):n(e)}(n,e))}function Hc(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Zu(...n){const e=(0,io.jO)(n),{args:t,keys:r}=Vi(n),i=new yi.y(a=>{const{length:l}=t;if(!l)return void a.complete();const f=new Array(l);let _=l,v=l;for(let x=0;x<l;x++){let k=!1;(0,Ja.Xf)(t[x]).subscribe((0,Ar.x)(a,z=>{k||(k=!0,v--),f[x]=z},()=>_--,void 0,()=>{(!_||!k)&&(v||a.next(r?Hc(r,f):f),a.complete())}))}});return e?i.pipe(Qf(e)):i}let gh=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),$o=(()=>{class n extends gh{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Io=new u.OlP("NgValueAccessor"),Jf={provide:Io,useExisting:(0,u.Gpc)(()=>zc),multi:!0},wy=new u.OlP("CompositionEventMode");let zc=(()=>{class n extends gh{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $m(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(wy,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[u._Bn([Jf]),u.qOj]}),n})();const b=!1;function p(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function g(n){return null!=n&&"number"==typeof n.length}const E=new u.OlP("NgValidators"),P=new u.OlP("NgAsyncValidators"),U=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class X{static min(e){return _e(e)}static max(e){return Je(e)}static required(e){return function ut(n){return p(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Mt(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function ln(n){return p(n.value)||U.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Bi(n){return e=>p(e.value)||!g(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Us(n){return e=>g(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Ku(n){if(!n)return _h;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(p(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Ju(e)}static composeAsync(e){return Xu(e)}}function _e(n){return e=>{if(p(e.value)||p(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Je(n){return e=>{if(p(e.value)||p(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function _h(n){return null}function Gc(n){return null!=n}function Xf(n){const e=(0,u.QGY)(n)?(0,Sn.D)(n):n;if(b&&!(0,u.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new u.vHH(-1101,t)}return e}function yh(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Yu(n,e){return e.map(t=>t(n))}function Qu(n){return n.map(e=>function ep(n){return!n.validate}(e)?e:t=>e.validate(t))}function Ju(n){if(!n)return null;const e=n.filter(Gc);return 0==e.length?null:function(t){return yh(Yu(t,e))}}function qc(n){return null!=n?Ju(Qu(n)):null}function Xu(n){if(!n)return null;const e=n.filter(Gc);return 0==e.length?null:function(t){return Zu(Yu(t,e).map(Xf)).pipe((0,_t.U)(yh))}}function Gl(n){return null!=n?Xu(Qu(n)):null}function vh(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Hm(n){return n._rawValidators}function zm(n){return n._rawAsyncValidators}function ed(n){return n?Array.isArray(n)?n:[n]:[]}function Gm(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ey(n,e){const t=ed(e);return ed(n).forEach(i=>{Gm(t,i)||t.push(i)}),t}function rw(n,e){return ed(e).filter(t=>!Gm(n,t))}class iw{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qc(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Gl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Co extends iw{get formDirective(){return null}get path(){return null}}class Wc extends iw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Iy{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Xa=(()=>{class n extends Iy{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Wc,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[u.qOj]}),n})(),qm=(()=>{class n extends Iy{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Co,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[u.qOj]}),n})();function aw(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const ma=!1,ec="VALID",Wm="INVALID",wh="PENDING",np="DISABLED";function Sy(n){return(Zm(n)?n.validators:n)||null}function xy(n,e){return(Zm(e)?e.asyncValidators:n)||null}function Zm(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function lw(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new u.vHH(1e3,ma?function uD(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new u.vHH(1001,ma?function dD(n,e){return`Cannot find form control ${aw(n,e)}`}(e,t):"")}function uw(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new u.vHH(1002,ma?function hD(n,e){return`Must supply a value for form control ${aw(n,e)}`}(e,i):"")})}class Km{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ec}get invalid(){return this.status===Wm}get pending(){return this.status==wh}get disabled(){return this.status===np}get enabled(){return this.status!==np}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ey(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ey(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(rw(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(rw(e,this._rawAsyncValidators))}hasValidator(e){return Gm(this._rawValidators,e)}hasAsyncValidator(e){return Gm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=wh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=np,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ec,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ec||this.status===wh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?np:ec}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=wh,this._hasOwnPendingAsyncValidator=!0;const t=Xf(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?np:this.errors?Wm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wh)?wh:this._anyControlsHaveStatus(Wm)?Wm:ec}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Zm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function fD(n){return Array.isArray(n)?qc(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function cw(n){return Array.isArray(n)?Gl(n):n||null}(this._rawAsyncValidators)}}class ql extends Km{constructor(e,t,r){super(Sy(t),xy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){uw(this,!0,e),Object.keys(e).forEach(r=>{lw(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class My extends ql{}const Zl=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Qm}),Qm="always";function Ry(n,e){return[...e.path,n]}function Jm(n,e,t=Qm){dw(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function mD(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&hw(n,e)})}(n,e),function _D(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function gD(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&hw(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function GR(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Eh(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),rp(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ih(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function dw(n,e){const t=Hm(n);null!==e.validator?n.setValidators(vh(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=zm(n);null!==e.asyncValidator?n.setAsyncValidators(vh(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Ih(e._rawValidators,i),Ih(e._rawAsyncValidators,i)}function rp(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Hm(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(l=>l!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=zm(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(l=>l!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return Ih(e._rawValidators,r),Ih(e._rawAsyncValidators,r),t}function hw(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ny(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Uy(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===zc?t=a:function Fy(n){return Object.getPrototypeOf(n.constructor)===$o}(a)?r=a:i=a}),i||r||t||null}function wD(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Th(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const td=class extends Km{constructor(e=null,t,r){super(Sy(t),xy(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Th(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){wD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){wD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Th(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},jy={provide:Wc,useExisting:(0,u.Gpc)(()=>Kl)},mw=(()=>Promise.resolve())();let Kl=(()=>{class n extends Wc{constructor(t,r,i,a,l,f){super(),this._changeDetectorRef=l,this.callSetDisabledState=f,this.control=new td,this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Uy(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Ny(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Jm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){mw.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,u.D6c)(r);mw.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Ry(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Co,9),u.Y36(E,10),u.Y36(P,10),u.Y36(Io,10),u.Y36(u.sBO,8),u.Y36(Zl,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([jy]),u.qOj,u.TTD]}),n})(),ip=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const gw={provide:Io,useExisting:(0,u.Gpc)(()=>ga),multi:!0};let ga=(()=>{class n extends $o{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},features:[u._Bn([gw]),u.qOj]}),n})(),op=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const ng=new u.OlP("NgModelWithFormControlWarning"),SD={provide:Co,useExisting:(0,u.Gpc)(()=>nd)};let nd=(()=>{class n extends Co{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(rp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Jm(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Eh(t.control||null,t,!1),function vD(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function Ly(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Eh(r||null,t),(n=>n instanceof td)(i)&&(Jm(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Py(n,e){dw(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Xm(n,e){return rp(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){dw(this.form,this),this._oldForm&&rp(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(E,10),u.Y36(P,10),u.Y36(Zl,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([SD]),u.qOj,u.TTD]}),n})();const MD={provide:Wc,useExisting:(0,u.Gpc)(()=>Ah)};let Ah=(()=>{class n extends Wc{set isDisabled(t){}constructor(t,r,i,a,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Uy(0,a)}ngOnChanges(t){this._added||this._setUpControl(),Ny(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Ry(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(Co,13),u.Y36(E,10),u.Y36(P,10),u.Y36(Io,10),u.Y36(ng,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([MD]),u.qOj,u.TTD]}),n})();function bw(n){return"number"==typeof n?n:parseFloat(n)}let Ql=(()=>{class n{constructor(){this._validator=_h}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):_h,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),n})();const ww={provide:E,useExisting:(0,u.Gpc)(()=>id),multi:!0};let id=(()=>{class n extends Ql{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>bw(t),this.createValidator=t=>Je(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[u._Bn([ww]),u.qOj]}),n})();const Wy={provide:E,useExisting:(0,u.Gpc)(()=>cp),multi:!0};let cp=(()=>{class n extends Ql{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>bw(t),this.createValidator=t=>_e(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[u._Bn([Wy]),u.qOj]}),n})(),Yy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[op]}),n})();class LD extends Km{constructor(e,t,r){super(Sy(t),xy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){uw(this,!1,e),e.forEach((r,i)=>{lw(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Dw(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let og=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let a={};return Dw(r)?a=r:null!==r&&(a.validators=r.validator,a.asyncValidators=r.asyncValidator),new ql(i,a)}record(t,r=null){const i=this._reduceControls(t);return new My(i,r)}control(t,r,i){let a={};return this.useNonNullable?(Dw(r)?a=r:(a.validators=r,a.asyncValidators=i),new td(t,{...a,nonNullable:!0})):new td(t,r,i)}array(t,r,i){const a=t.map(l=>this._createControl(l));return new LD(a,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof td||t instanceof Km?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Aw=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Zl,useValue:t.callSetDisabledState??Qm}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Yy]}),n})(),Sw=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ng,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Zl,useValue:t.callSetDisabledState??Qm}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Yy]}),n})();var _a=B(7579);class Ho extends _a.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const sg=(0,B(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Sh=B(4671),jD=B(9672);function Qy(...n){const e=(0,io.yG)(n),t=(0,io.jO)(n),{args:r,keys:i}=Vi(n);if(0===r.length)return(0,Sn.D)([],e);const a=new yi.y(function $D(n,e,t=Sh.y){return r=>{hn(e,()=>{const{length:i}=n,a=new Array(i);let l=i,f=i;for(let _=0;_<i;_++)hn(e,()=>{const v=(0,Sn.D)(n[_],e);let x=!1;v.subscribe((0,Ar.x)(r,k=>{a[_]=k,x||(x=!0,f--),f||r.next(t(a.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>Hc(i,l):Sh.y));return t?a.pipe(Qf(t)):a}function hn(n,e,t){n?(0,jD.f)(t,n,e):e()}var xh=B(8189);function up(...n){return function xw(){return(0,xh.J)(1)}()((0,Sn.D)(n,(0,io.yG)(n)))}function Mw(n){return new yi.y(e=>{(0,Ja.Xf)(n()).subscribe(e)})}var HD=B(9635);function sd(n,e){const t=(0,Ul.m)(n)?n:()=>n,r=i=>i.error(t());return new yi.y(e?i=>e.schedule(r,0,i):r)}var Jl=B(515),ag=B(727);function Jy(){return(0,mr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Ar.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Rw extends yi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,mr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ag.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Ar.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ag.w0.EMPTY)}return e}refCount(){return Jy()(this)}}function bi(n,e){return(0,mr.e)((t,r)=>{let i=null,a=0,l=!1;const f=()=>l&&!i&&r.complete();t.subscribe((0,Ar.x)(r,_=>{i?.unsubscribe();let v=0;const x=a++;(0,Ja.Xf)(n(_,x)).subscribe(i=(0,Ar.x)(r,k=>r.next(e?e(_,k,x,v++):k),()=>{i=null,f()}))},()=>{l=!0,f()}))})}function Kc(n){return n<=0?()=>Jl.E:(0,mr.e)((e,t)=>{let r=0;e.subscribe((0,Ar.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Mh(...n){const e=(0,io.yG)(n);return(0,mr.e)((t,r)=>{(e?up(n,t,e):up(n,t)).subscribe(r)})}function nc(n){return(0,mr.e)((e,t)=>{let r=!1;e.subscribe((0,Ar.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Pw(n=Xy){return(0,mr.e)((e,t)=>{let r=!1;e.subscribe((0,Ar.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Xy(){return new sg}function ya(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Li((i,a)=>n(i,a,r)):Sh.y,Kc(1),t?nc(e):Pw(()=>new sg))}var wi=B(8505);function Xl(n){return(0,mr.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,Ar.x)(t,void 0,void 0,l=>{a=(0,Ja.Xf)(n(l,Xl(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function cg(n,e){return(0,mr.e)(function tP(n,e,t,r,i){return(a,l)=>{let f=t,_=e,v=0;a.subscribe((0,Ar.x)(l,x=>{const k=v++;_=f?n(_,x,k):(f=!0,x),r&&l.next(_)},i&&(()=>{f&&l.next(_),l.complete()})))}}(n,e,arguments.length>=2,!0))}function ev(n){return n<=0?()=>Jl.E:(0,mr.e)((e,t)=>{let r=[];e.subscribe((0,Ar.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function tv(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Li((i,a)=>n(i,a,r)):Sh.y,ev(1),t?nc(e):Pw(()=>new sg))}function Yc(n){return(0,mr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const _n="primary",Rh=Symbol("RouteTitle");class lg{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ph(n){return new lg(n)}function kw(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const l=r[a],f=n[a];if(l.startsWith(":"))i[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function rc(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!Ow(n[i],e[i]))return!1;return!0}function Ow(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Nw(n){return Array.prototype.concat.apply([],n)}function Fw(n){return n.length>0?n[n.length-1]:null}function qi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Qc(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,Sn.D)(Promise.resolve(n)):dt(n)}const dp=!1,nv={exact:function KD(n,e,t){if(!Jc(n.segments,e.segments)||!hp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!KD(n.children[r],e.children[r],t))return!1;return!0},subset:rv},WD={exact:function ZD(n,e){return rc(n,e)},subset:function kh(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Ow(n[t],e[t]))},ignored:()=>!0};function ug(n,e,t){return nv[t.paths](n.root,e.root,t.matrixParams)&&WD[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function rv(n,e,t){return Lw(n,e,e.segments,t)}function Lw(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Jc(i,t)||e.hasChildren()||!hp(i,t,r))}if(n.segments.length===t.length){if(!Jc(n.segments,t)||!hp(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!rv(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Jc(n.segments,i)&&hp(n.segments,i,r)&&n.children[_n])&&Lw(n.children[_n],e,a,r)}}function hp(n,e,t){return e.every((r,i)=>WD[t](n[i].parameters,r.parameters))}class eu{constructor(e=new Tn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ph(this.queryParams)),this._queryParamMap}toString(){return Uw.serialize(this)}}class Tn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,qi(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fh(this)}}class tu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ph(this.parameters)),this._parameterMap}toString(){return Vw(this)}}function Jc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let ad=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new Nh},providedIn:"root"}),n})();class Nh{parse(e){const t=new av(e);return new eu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${cd(e.root,!0)}`,r=function jw(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${pp(t)}=${pp(i)}`).join("&"):`${pp(t)}=${pp(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function iv(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Uw=new Nh;function Fh(n){return n.segments.map(e=>Vw(e)).join("/")}function cd(n,e){if(!n.hasChildren())return Fh(n);if(e){const t=n.children[_n]?cd(n.children[_n],!1):"",r=[];return qi(n.children,(i,a)=>{a!==_n&&r.push(`${a}:${cd(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function fp(n,e){let t=[];return qi(n.children,(r,i)=>{i===_n&&(t=t.concat(e(r,i)))}),qi(n.children,(r,i)=>{i!==_n&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===_n?[cd(n.children[_n],!1)]:[`${i}:${cd(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[_n]?`${Fh(n)}/${t[0]}`:`${Fh(n)}/(${t.join("//")})`}}function dg(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pp(n){return dg(n).replace(/%3B/gi,";")}function ov(n){return dg(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hg(n){return decodeURIComponent(n)}function sv(n){return hg(n.replace(/\+/g,"%20"))}function Vw(n){return`${ov(n.path)}${function Bw(n){return Object.keys(n).map(e=>`;${ov(e)}=${ov(n[e])}`).join("")}(n.parameters)}`}const YD=/^[^\/()?;=#]+/;function fg(n){const e=n.match(YD);return e?e[0]:""}const ds=/^[^=?&#]+/,JD=/^[^&#]+/;class av{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tn([],{}):new Tn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[_n]=new Tn(e,t)),r}parseSegment(){const e=fg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,dp);return this.capture(e),new tu(hg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=fg(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=fg(this.remaining);i&&(r=i,this.capture(r))}e[hg(t)]=hg(r)}parseQueryParam(e){const t=function QD(n){const e=n.match(ds);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function rP(n){const e=n.match(JD);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=sv(t),a=sv(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=fg(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new u.vHH(4010,dp);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=_n);const l=this.parseChildren();t[a]=1===Object.keys(l).length?l[_n]:new Tn([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,dp)}}function pg(n){return n.segments.length>0?new Tn([],{[_n]:n}):n}function mg(n){const e={};for(const r of Object.keys(n.children)){const a=mg(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function XD(n){if(1===n.numberOfChildren&&n.children[_n]){const e=n.children[_n];return new Tn(n.segments.concat(e.segments),e.children)}return n}(new Tn(n.segments,e))}function ld(n){return n instanceof eu}const gg=!1;function eA(n,e,t,r,i){if(0===t.length)return Lh(e.root,e.root,e.root,r,i);const a=function yg(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new va(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,l)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return qi(a.outlets,(_,v)=>{f[v]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===l?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new va(t,e,r)}(t);return a.toRoot()?Lh(e.root,e.root,new Tn([],{}),r,i):function l(_){const v=function zw(n,e,t,r){if(n.isAbsolute)return new Uh(e.root,!0,0);if(-1===r)return new Uh(t,t===e.root,0);return function Gw(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new u.vHH(4005,gg&&"Invalid number of '../'");i=r.segments.length}return new Uh(r,!1,i-a)}(t,r+(mp(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,_),x=v.processChildren?nu(v.segmentGroup,v.index,a.commands):cv(v.segmentGroup,v.index,a.commands);return Lh(e.root,v.segmentGroup,x,r,i)}(n.snapshot?._lastPathIndex)}function mp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function gp(n){return"object"==typeof n&&null!=n&&n.outlets}function Lh(n,e,t,r,i){let l,a={};r&&qi(r,(_,v)=>{a[v]=Array.isArray(_)?_.map(x=>`${x}`):`${_}`}),l=n===e?t:Hw(n,e,t);const f=pg(mg(l));return new eu(f,a,i)}function Hw(n,e,t){const r={};return qi(n.children,(i,a)=>{r[a]=i===e?t:Hw(i,e,t)}),new Tn(n.segments,r)}class va{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&mp(r[0]))throw new u.vHH(4003,gg&&"Root segment cannot have matrix parameters");const i=r.find(gp);if(i&&i!==Fw(r))throw new u.vHH(4004,gg&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Uh{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function cv(n,e,t){if(n||(n=new Tn([],{})),0===n.segments.length&&n.hasChildren())return nu(n,e,t);const r=function rA(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const l=n.segments[i],f=t[r];if(gp(f))break;const _=`${f}`,v=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&v&&"object"==typeof v&&void 0===v.outlets){if(!yp(_,v,l))return a;r+=2}else{if(!yp(_,{},l))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new Tn(n.segments.slice(0,r.pathIndex),{});return a.children[_n]=new Tn(n.segments.slice(r.pathIndex),n.children),nu(a,0,i)}return r.match&&0===i.length?new Tn(n.segments,{}):r.match&&!n.hasChildren()?lv(n,e,t):r.match?nu(n,0,i):lv(n,e,t)}function nu(n,e,t){if(0===t.length)return new Tn(n.segments,{});{const r=function nA(n){return gp(n[0])?n[0].outlets:{[_n]:n}}(t),i={};if(!r[_n]&&n.children[_n]&&1===n.numberOfChildren&&0===n.children[_n].segments.length){const a=nu(n.children[_n],e,t);return new Tn(n.segments,a.children)}return qi(r,(a,l)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[l]=cv(n.children[l],e,a))}),qi(n.children,(a,l)=>{void 0===r[l]&&(i[l]=a)}),new Tn(n.segments,i)}}function lv(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(gp(a)){const _=vg(a.outlets);return new Tn(r,_)}if(0===i&&mp(t[0])){r.push(new tu(n.segments[e].path,_p(t[0]))),i++;continue}const l=gp(a)?a.outlets[_n]:`${a}`,f=i<t.length-1?t[i+1]:null;l&&f&&mp(f)?(r.push(new tu(l,_p(f))),i+=2):(r.push(new tu(l,{})),i++)}return new Tn(r,{})}function vg(n){const e={};return qi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=lv(new Tn([],{}),0,t))}),e}function _p(n){const e={};return qi(n,(t,r)=>e[r]=`${t}`),e}function yp(n,e,t){return n==t.path&&rc(e,t.parameters)}const bg="imperative";class Vs{constructor(e,t){this.id=e,this.url=t}}class qw extends Vs{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ru extends Vs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vp extends Vs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bp extends Vs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class wg extends Vs{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class uv extends Vs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xc extends Vs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Eg extends Vs{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ig extends Vs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wp extends Vs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iA{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ww{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Zw{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oA{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sA{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ep{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kw{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let cA=(()=>{class n{createUrlTree(t,r,i,a,l,f){return eA(t||r.root,i,a,l,f)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),uA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(e){return cA.\u0275fac(e)},providedIn:"root"}),n})();class Yw{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=dv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=dv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=hv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return hv(e,this._root).map(t=>t.value)}}function dv(n,e){if(n===e.value)return e;for(const t of e.children){const r=dv(n,t);if(r)return r}return null}function hv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=hv(n,t);if(r.length)return r.unshift(e),r}return[]}class ic{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function iu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Qw extends Yw{constructor(e,t){super(e),this.snapshot=t,fv(this,e)}toString(){return this.snapshot.toString()}}function Cg(n,e){const t=function dA(n,e){const l=new Tg([],{},{},"",{},_n,e,null,n.root,-1,{});return new Xw("",new ic(l,[]))}(n,e),r=new Ho([new tu("",{})]),i=new Ho({}),a=new Ho({}),l=new Ho({}),f=new Ho(""),_=new Vh(r,i,l,f,a,_n,e,t.root);return _.snapshot=t.root,new Qw(new ic(_,[]),t)}class Vh{constructor(e,t,r,i,a,l,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=f,this.title=this.data?.pipe((0,_t.U)(v=>v[Rh]))??dt(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,_t.U)(e=>Ph(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,_t.U)(e=>Ph(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Jw(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function hA(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Tg{get title(){return this.data?.[Rh]}constructor(e,t,r,i,a,l,f,_,v,x,k){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=f,this.routeConfig=_,this._urlSegment=v,this._lastPathIndex=x,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ph(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ph(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xw extends Yw{constructor(e,t){super(t),this.url=e,fv(this,t)}toString(){return pv(this._root)}}function fv(n,e){e.value._routerState=n,e.children.forEach(t=>fv(n,t))}function pv(n){const e=n.children.length>0?` { ${n.children.map(pv).join(", ")} } `:"";return`${n.value}${e}`}function Dg(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,rc(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),rc(e.params,t.params)||n.params.next(t.params),function GD(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!rc(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),rc(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function mv(n,e){const t=rc(n.params,e.params)&&function Oh(n,e){return Jc(n,e)&&n.every((t,r)=>rc(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||mv(n.parent,e.parent))}function Bh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function aP(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Bh(n,r,i);return Bh(n,r)})}(n,e,t);return new ic(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const l=a.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(f=>Bh(n,f)),l}}const r=function Ag(n){return new Vh(new Ho(n.url),new Ho(n.params),new Ho(n.queryParams),new Ho(n.fragment),new Ho(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Bh(n,a));return new ic(r,i)}}const gv="ngNavigationCancelingError";function eE(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ld(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Sg(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Sg(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[gv]=!0,r.cancellationCode=e,t&&(r.url=t),r}function tE(n){return ba(n)&&ld(n.url)}function ba(n){return n&&n[gv]}class Ip{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new pi,this.attachRef=null}}let pi=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Ip,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oc=!1;let jh=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=_n,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(pi),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,oc);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,oc);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,oc);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new u.vHH(4013,oc);this._activatedRoute=t;const i=this.location,l=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new Bs(t,f,i.injector);if(r&&function _v(n){return!!n.resolveComponentFactory}(r)){const v=r.resolveComponentFactory(l);this.activated=i.createComponent(v,i.length,_)}else this.activated=i.createComponent(l,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]}),n})();class Bs{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Vh?this.route:e===pi?this.childContexts:this.parent.get(e,t)}}let ou=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},dependencies:[jh],encapsulation:2}),n})();function ud(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function xg(n){const e=n.children&&n.children.map(xg),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==_n&&(t.component=ou),t}function hs(n){return n.outlet||_n}function yv(n,e){const t=n.filter(r=>hs(r)===e);return t.push(...n.filter(r=>hs(r)!==e)),t}function zh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class iE{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Dg(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=iu(t);e.children.forEach(a=>{const l=a.value.outlet;this.deactivateRoutes(a,i[l],r),delete i[l]}),qi(i,(a,l)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=iu(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);if(r&&r.outlet){const l=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=iu(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=iu(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new Ep(a.value.snapshot))}),e.children.length&&this.forwardEvent(new oA(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(Dg(i),i===a)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),Dg(f.route.value),this.activateChildRoutes(e,null,l.children)}else{const f=zh(i.snapshot),_=f?.get(u._Vd)??null;l.attachRef=null,l.route=i,l.resolver=_,l.injector=f,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class vv{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Sp{constructor(e,t){this.component=e,this.route=t}}function fA(n,e,t){const r=n._root;return xp(r,e?e._root:null,t,[r.value])}function dd(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:r}function xp(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=iu(e);return n.children.forEach(l=>{(function oE(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,l=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){const _=function bv(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Jc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Jc(n.url,e.url)||!rc(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mv(n,e)||!rc(n.queryParams,e.queryParams);default:return!mv(n,e)}}(l,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new vv(r)):(a.data=l.data,a._resolvedData=l._resolvedData),xp(n,e,a.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Sp(f.outlet.component,l))}else l&&hd(e,f,i),i.canActivateChecks.push(new vv(r)),xp(n,null,a.component?f?f.children:null:t,r,i)})(l,a[l.value.outlet],t,r.concat([l.value]),i),delete a[l.value.outlet]}),qi(a,(l,f)=>hd(l,t.getContext(f),i)),i}function hd(n,e,t){const r=iu(n),i=n.value;qi(r,(a,l)=>{hd(a,i.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new Sp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Mp(n){return"function"==typeof n}function Rp(n){return n instanceof sg||"EmptyError"===n?.name}const Pp=Symbol("INITIAL_VALUE");function fd(){return bi(n=>Qy(n.map(e=>e.pipe(Kc(1),Mh(Pp)))).pipe((0,_t.U)(e=>{for(const t of e)if(!0!==t){if(t===Pp)return Pp;if(!1===t||t instanceof eu)return t}return!0}),Li(e=>e!==Pp),Kc(1)))}function Tv(n){return(0,HD.z)((0,wi.b)(e=>{if(ld(e))throw eE(0,e)}),(0,_t.U)(e=>!0===e))}const kp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Av(n,e,t,r,i){const a=Pg(n,e,t);return a.matched?function Dv(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?dt(i.map(l=>{const f=dd(l,n);return Qc(function Iv(n){return n&&Mp(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(fd(),Tv()):dt(!0)}(r=ud(e,r),e,t).pipe((0,_t.U)(l=>!0===l?a:{...kp})):dt(a)}function Pg(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...kp}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||kw)(t,n,e);if(!i)return{...kp};const a={};qi(i.posParams,(f,_)=>{a[_]=f.path});const l=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function Op(n,e,t,r){if(t.length>0&&function mE(n,e,t){return t.some(r=>Np(n,e,r)&&hs(r)!==_n)}(n,t,r)){const a=new Tn(e,function pE(n,e,t,r){const i={};i[_n]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&hs(a)!==_n){const l=new Tn([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,i[hs(a)]=l}return i}(n,e,r,new Tn(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function gE(n,e,t){return t.some(r=>Np(n,e,r))}(n,t,r)){const a=new Tn(n.segments,function fE(n,e,t,r,i){const a={};for(const l of r)if(Np(n,t,l)&&!i[hs(l)]){const f=new Tn([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,a[hs(l)]=f}return{...i,...a}}(n,e,t,r,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const i=new Tn(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Np(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Fp(n,e,t,r){return!!(hs(n)===r||r!==_n&&Np(e,t,n))&&("**"===n.path||Pg(e,n,t).matched)}function el(n,e,t){return 0===e.length&&!n.children[t]}const kg=!1;class Og{constructor(e){this.segmentGroup=e||null}}class Ng{constructor(e){this.urlTree=e}}function wa(n){return sd(new Og(n))}function Fg(n){return sd(new Ng(n))}class lP{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=Op(this.urlTree.root,[],[],this.config).segmentGroup,t=new Tn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,_n).pipe((0,_t.U)(a=>this.createUrlTree(mg(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Xl(a=>{if(a instanceof Ng)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Og?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,_n).pipe((0,_t.U)(i=>this.createUrlTree(mg(i),e.queryParams,e.fragment))).pipe(Xl(i=>{throw i instanceof Og?this.noMatchError(i):i}))}noMatchError(e){return new u.vHH(4002,kg)}createUrlTree(e,t,r){const i=pg(e);return new eu(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,_t.U)(a=>new Tn([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,Sn.D)(i).pipe(ls(a=>{const l=r.children[a],f=yv(t,a);return this.expandSegmentGroup(e,f,l,a).pipe((0,_t.U)(_=>({segment:_,outlet:a})))}),cg((a,l)=>(a[l.outlet]=l.segment,a),{}),tv())}expandSegment(e,t,r,i,a,l){return(0,Sn.D)(r).pipe(ls(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,l).pipe(Xl(v=>{if(v instanceof Og)return dt(null);throw v}))),ya(f=>!!f),Xl((f,_)=>{if(Rp(f))return el(t,i,a)?dt(new Tn([],{})):wa(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,l,f){return Fp(i,t,a,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,l):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l):wa(t):wa(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Fg(a):this.lineralizeSegments(r,a).pipe((0,tr.z)(l=>{const f=new Tn(l,{});return this.expandSegment(e,f,t,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){const{matched:f,consumedSegments:_,remainingSegments:v,positionalParamSegments:x}=Pg(t,i,a);if(!f)return wa(t);const k=this.applyRedirectCommands(_,i.redirectTo,x);return i.redirectTo.startsWith("/")?Fg(k):this.lineralizeSegments(i,k).pipe((0,tr.z)(z=>this.expandSegment(e,t,r,z.concat(v),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=ud(r,e),r.loadChildren?(r._loadedRoutes?dt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,_t.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new Tn(i,{})))):dt(new Tn(i,{}))):Av(t,r,i,e).pipe(bi(({matched:l,consumedSegments:f,remainingSegments:_})=>l?this.getChildConfig(e=r._injector??e,r,i).pipe((0,tr.z)(x=>{const k=x.injector??e,z=x.routes,{segmentGroup:q,slicedSegments:ee}=Op(t,f,_,z),ae=new Tn(q.segments,q.children);if(0===ee.length&&ae.hasChildren())return this.expandChildren(k,z,ae).pipe((0,_t.U)(Xe=>new Tn(f,Xe)));if(0===z.length&&0===ee.length)return dt(new Tn(f,{}));const fe=hs(r)===a;return this.expandSegment(k,ae,z,ee,fe?_n:a,!0).pipe((0,_t.U)(tt=>new Tn(f.concat(tt.segments),tt.children)))})):wa(t)))}getChildConfig(e,t,r){return t.children?dt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?dt({routes:t._loadedRoutes,injector:t._loadedInjector}):function hE(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?dt(!0):dt(i.map(l=>{const f=dd(l,n);return Qc(function Rg(n){return n&&Mp(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(fd(),Tv())}(e,t,r).pipe((0,tr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,wi.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function Sv(n){return sd(Sg(kg,3))}())):dt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return dt(r);if(i.numberOfChildren>1||!i.children[_n])return e.redirectTo,sd(new u.vHH(4e3,kg));i=i.children[_n]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new eu(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return qi(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let l={};return qi(t.children,(f,_)=>{l[_]=this.createSegmentGroup(e,f,r,i)}),new Tn(a,l)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new u.vHH(4001,kg);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class yE{}class vE{constructor(e,t,r,i,a,l,f){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=l,this.urlSerializer=f}recognize(){const e=Op(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,_n).pipe((0,_t.U)(t=>{if(null===t)return null;const r=new Tg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},_n,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ic(r,t),a=new Xw(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=Jw(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Sn.D)(Object.keys(r.children)).pipe(ls(i=>{const a=r.children[i],l=yv(t,i);return this.processSegmentGroup(e,l,a,i)}),cg((i,a)=>i&&a?(i.push(...a),i):null),function nP(n,e=!1){return(0,mr.e)((t,r)=>{let i=0;t.subscribe((0,Ar.x)(r,a=>{const l=n(a,i++);(l||e)&&r.next(a),!l&&r.complete()}))})}(i=>null!==i),nc(null),tv(),(0,_t.U)(i=>{if(null===i)return null;const a=wE(i);return function EA(n){n.sort((e,t)=>e.value.outlet===_n?-1:t.value.outlet===_n?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,Sn.D)(t).pipe(ls(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,i,a)),ya(l=>!!l),Xl(l=>{if(Rp(l))return el(r,i,a)?dt([]):dt(null);throw l}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!Fp(t,r,i,a))return dt(null);let l;if("**"===t.path){const f=i.length>0?Fw(i).parameters:{},_=pd(r)+i.length;l=dt({snapshot:new Tg(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IE(t),hs(t),t.component??t._loadedComponent??null,t,xv(r),_,Mv(t)),consumedSegments:[],remainingSegments:[]})}else l=Av(r,t,i,e).pipe((0,_t.U)(({matched:f,consumedSegments:_,remainingSegments:v,parameters:x})=>{if(!f)return null;const k=pd(r)+_.length;return{snapshot:new Tg(_,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IE(t),hs(t),t.component??t._loadedComponent??null,t,xv(r),k,Mv(t)),consumedSegments:_,remainingSegments:v}}));return l.pipe(bi(f=>{if(null===f)return dt(null);const{snapshot:_,consumedSegments:v,remainingSegments:x}=f;e=t._injector??e;const k=t._loadedInjector??e,z=function IA(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:q,slicedSegments:ee}=Op(r,v,x,z.filter(fe=>void 0===fe.redirectTo));if(0===ee.length&&q.hasChildren())return this.processChildren(k,z,q).pipe((0,_t.U)(fe=>null===fe?null:[new ic(_,fe)]));if(0===z.length&&0===ee.length)return dt([new ic(_,[])]);const ae=hs(t)===a;return this.processSegment(k,z,q,ee,ae?_n:a).pipe((0,_t.U)(fe=>null===fe?null:[new ic(_,fe)]))}))}}function bE(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function wE(n){const e=[],t=new Set;for(const r of n){if(!bE(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=wE(r.children);e.push(new ic(r.value,i))}return e.filter(r=>!t.has(r))}function xv(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function pd(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function IE(n){return n.data||{}}function Mv(n){return n.resolve||{}}function DE(n){return"string"==typeof n.title||null===n.title}function Pv(n){return bi(e=>{const t=n(e);return t?(0,Sn.D)(t).pipe((0,_t.U)(()=>e)):dt(e)})}const ao=new u.OlP("ROUTES");let fs=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.f3M)(u.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return dt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Qc(t.loadComponent()).pipe((0,_t.U)(kv),(0,wi.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Yc(()=>{this.componentLoaders.delete(t)})),i=new Rw(r,()=>new _a.x).pipe(Jy());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return dt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,_t.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,v,x=!1;Array.isArray(f)?v=f:(_=f.create(t).injector,v=Nw(_.get(ao,[],u.XFs.Self|u.XFs.Optional)));return{routes:v.map(xg),injector:_}}),Yc(()=>{this.childrenLoaders.delete(r)})),l=new Rw(a,()=>new _a.x).pipe(Jy());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return Qc(t()).pipe((0,_t.U)(kv),(0,tr.z)(r=>r instanceof u.YKP||Array.isArray(r)?dt(r):(0,Sn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kv(n){return function AE(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Ug=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new _a.x,this.configLoader=(0,u.f3M)(fs),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)(ad),this.rootContexts=(0,u.f3M)(pi),this.navigationId=0,this.afterPreactivation=()=>dt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Ww(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new iA(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Ho({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:bg,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Li(r=>0!==r.id),(0,_t.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),bi(r=>{let i=!1,a=!1;return dt(r).pipe((0,wi.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),bi(l=>{const f=t.browserUrlTree.toString(),_=!t.navigated||l.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!_&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const x="";return this.events.next(new bp(l.id,t.serializeUrl(r.rawUrl),x,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),Jl.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return SE(l.source)&&(t.browserUrlTree=l.extractedUrl),dt(l).pipe(bi(x=>{const k=this.transitions?.getValue();return this.events.next(new qw(x.id,this.urlSerializer.serialize(x.extractedUrl),x.source,x.restoredState)),k!==this.transitions?.getValue()?Jl.E:Promise.resolve(x)}),function bA(n,e,t,r){return bi(i=>function cP(n,e,t,r,i){return new lP(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,_t.U)(a=>({...i,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,wi.b)(x=>{this.currentNavigation={...this.currentNavigation,finalUrl:x.urlAfterRedirects},r.urlAfterRedirects=x.urlAfterRedirects}),function CA(n,e,t,r,i){return(0,tr.z)(a=>function Ei(n,e,t,r,i,a,l="emptyOnly"){return new vE(n,e,t,r,i,l,a).recognize().pipe(bi(f=>null===f?function wA(n){return new yi.y(e=>e.error(n))}(new yE):dt(f)))}(n,e,t,a.urlAfterRedirects,r.serialize(a.urlAfterRedirects),r,i).pipe((0,_t.U)(l=>({...a,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,wi.b)(x=>{if(r.targetSnapshot=x.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!x.extras.skipLocationChange){const z=t.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);t.setBrowserUrl(z,x)}t.browserUrlTree=x.urlAfterRedirects}const k=new uv(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(k)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:x,extractedUrl:k,source:z,restoredState:q,extras:ee}=l,ae=new qw(x,this.urlSerializer.serialize(k),z,q);this.events.next(ae);const fe=Cg(k,this.rootComponentType).snapshot;return dt(r={...l,targetSnapshot:fe,urlAfterRedirects:k,extras:{...ee,skipLocationChange:!1,replaceUrl:!1}})}{const x="";return this.events.next(new bp(l.id,t.serializeUrl(r.extractedUrl),x,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),Jl.E}}),(0,wi.b)(l=>{const f=new Xc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),(0,_t.U)(l=>r={...l,guards:fA(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function Cv(n,e){return(0,tr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:l}}=t;return 0===l.length&&0===a.length?dt({...t,guardsResult:!0}):function aE(n,e,t,r){return(0,Sn.D)(n).pipe((0,tr.z)(i=>function yA(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?dt(a.map(f=>{const _=zh(e)??i,v=dd(f,_);return Qc(function Ev(n){return n&&Mp(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,r):_.runInContext(()=>v(n,e,t,r))).pipe(ya())})).pipe(fd()):dt(!0)}(i.component,i.route,t,e,r)),ya(i=>!0!==i,!0))}(l,r,i,n).pipe((0,tr.z)(f=>f&&function Mg(n){return"boolean"==typeof n}(f)?function _A(n,e,t,r){return(0,Sn.D)(e).pipe(ls(i=>up(function lE(n,e){return null!==n&&e&&e(new Zw(n)),dt(!0)}(i.route.parent,r),function cE(n,e){return null!==n&&e&&e(new sA(n)),dt(!0)}(i.route,r),function dE(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(l=>function pA(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Mw(()=>dt(l.guards.map(_=>{const v=zh(l.node)??t,x=dd(_,v);return Qc(function mA(n){return n&&Mp(n.canActivateChild)}(x)?x.canActivateChild(r,n):v.runInContext(()=>x(r,n))).pipe(ya())})).pipe(fd())));return dt(a).pipe(fd())}(n,i.path,t),function uE(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return dt(!0);const i=r.map(a=>Mw(()=>{const l=zh(e)??t,f=dd(a,l);return Qc(function wv(n){return n&&Mp(n.canActivate)}(f)?f.canActivate(e,n):l.runInContext(()=>f(e,n))).pipe(ya())}));return dt(i).pipe(fd())}(n,i.route,t))),ya(i=>!0!==i,!0))}(r,a,n,e):dt(f)),(0,_t.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,l=>this.events.next(l)),(0,wi.b)(l=>{if(r.guardsResult=l.guardsResult,ld(l.guardsResult))throw eE(0,l.guardsResult);const f=new Eg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),Li(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),Pv(l=>{if(l.guards.canActivateChecks.length)return dt(l).pipe((0,wi.b)(f=>{const _=new Ig(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}),bi(f=>{let _=!1;return dt(f).pipe(function CE(n,e){return(0,tr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return dt(t);let a=0;return(0,Sn.D)(i).pipe(ls(l=>function dP(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!DE(i)&&(a[Rh]=i.title),function TE(n,e,t,r){const i=function Rv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return dt({});const a={};return(0,Sn.D)(i).pipe((0,tr.z)(l=>function sc(n,e,t,r){const i=zh(e)??r,a=dd(n,i);return Qc(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[l],e,t,r).pipe(ya(),(0,wi.b)(f=>{a[l]=f}))),ev(1),function zD(n){return(0,_t.U)(()=>n)}(a),Xl(l=>Rp(l)?Jl.E:sd(l)))}(a,n,e,r).pipe((0,_t.U)(l=>(n._resolvedData=l,n.data=Jw(n,t).resolve,i&&DE(i)&&(n.data[Rh]=i.title),null)))}(l.route,r,n,e)),(0,wi.b)(()=>a++),ev(1),(0,tr.z)(l=>a===i.length?dt(t):Jl.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,wi.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,wi.b)(f=>{const _=new wp(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}))}),Pv(l=>{const f=_=>{const v=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,wi.b)(x=>{_.component=x}),(0,_t.U)(()=>{})));for(const x of _.children)v.push(...f(x));return v};return Qy(f(l.targetSnapshot.root)).pipe(nc(),Kc(1))}),Pv(()=>this.afterPreactivation()),(0,_t.U)(l=>{const f=function sP(n,e,t){const r=Bh(n,e._root,t?t._root:void 0);return new Qw(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:f}}),(0,wi.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>(0,_t.U)(r=>(new iE(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l)),Kc(1),(0,wi.b)({next:l=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new ru(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{i=!0}}),Yc(()=>{i||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Xl(l=>{if(a=!0,ba(l)){tE(l)||(t.navigated=!0,t.restoreHistory(r,!0));const f=new vp(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(f),tE(l)){const _=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),v={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||SE(r.source)};t.scheduleNavigation(_,bg,null,v,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const f=new wg(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(f);try{r.resolve(t.errorHandler(l))}catch(_){r.reject(_)}}return Jl.E}))}))}cancelNavigationTransition(t,r,i){const a=new vp(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function SE(n){return n!==bg}let xE=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===_n);return r}getResolvedTitleForRoute(t){return t.data[Rh]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Ov)},providedIn:"root"}),n})(),Ov=(()=>{class n extends xE{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Vf))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(ME)},providedIn:"root"}),n})();class TA{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let ME=(()=>{class n extends TA{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vg=new u.OlP("",{providedIn:"root",factory:()=>({})});let RE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(PE)},providedIn:"root"}),n})(),PE=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AA(n){throw n}function kE(n,e,t){return e.parse("/")}const OE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Nv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Kr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.f3M)(u.c2e),this.isNgZoneEnabled=!1,this.options=(0,u.f3M)(Vg,{optional:!0})||{},this.errorHandler=this.options.errorHandler||AA,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||kE,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,u.f3M)(RE),this.routeReuseStrategy=(0,u.f3M)(Lp),this.urlCreationStrategy=(0,u.f3M)(uA),this.titleStrategy=(0,u.f3M)(xE),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Nw((0,u.f3M)(ao,{optional:!0})??[]),this.navigationTransitions=(0,u.f3M)(Ug),this.urlSerializer=(0,u.f3M)(ad),this.location=(0,u.f3M)(Ue),this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new eu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Cg(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),bg,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const a={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const _={...i};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,l,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(xg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:l,queryParamsHandling:f,preserveFragment:_}=r,v=_?this.currentUrlTree.fragment:l;let x=null;switch(f){case"merge":x={...this.currentUrlTree.queryParams,...a};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=a||null}return null!==x&&(x=this.removeEmptyProps(x)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,x,v??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ld(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,bg,null,r)}navigate(t,r={skipLocationChange:!1}){return function NE(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...OE}:!1===r?{...Nv}:r,ld(t))return ug(this.currentUrlTree,t,i);const a=this.parseUrl(t);return ug(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(t,r,i,a,l){if(this.disposed)return Promise.resolve(!1);let f,_,v,x;return l?(f=l.resolve,_=l.reject,v=l.promise):v=new Promise((k,z)=>{f=k,_=z}),x="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:x,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:f,reject:_,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(k=>Promise.reject(k))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",l)}else{const a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",a)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-(this.browserPageId??this.currentPageId);0!==a?this.location.historyGo(a):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Up=(()=>{class n{constructor(t,r,i,a,l,f){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=l,this.locationStrategy=f,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new _a.x;const _=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(v=>{v instanceof ru&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,a,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||a||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,u.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,a=this.el.nativeElement;null!==r?i.setAttribute(a,t,r):i.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Kr),u.Y36(Vh),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(ht))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&u.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&u.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})();class Fv{}let UE=(()=>{class n{constructor(t,r,i,a,l){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Li(t=>t instanceof ru),ls(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,u.MMx)(a.providers,t,`Route: ${a.path}`));const l=a._injector??t,f=a._loadedInjector??l;(a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&i.push(this.preloadConfig(l,a)),(a.children||a._loadedRoutes)&&i.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,Sn.D)(i).pipe((0,xh.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):dt(null);const a=i.pipe((0,tr.z)(l=>null===l?dt(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,Sn.D)([a,l]).pipe((0,xh.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Kr),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(Fv),u.LFG(fs))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Lv=new u.OlP("");let VE=(()=>{class n{constructor(t,r,i,a,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof qw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ru&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Kw&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Kw(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();var ps=(()=>((ps=ps||{})[ps.COMPLETE=0]="COMPLETE",ps[ps.FAILED=1]="FAILED",ps[ps.REDIRECTING=2]="REDIRECTING",ps))();const qh=!1;function au(n,e){return{\u0275kind:n,\u0275providers:e}}const Uv=new u.OlP("",{providedIn:"root",factory:()=>!1});function jE(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const r=n.get(Kr),i=n.get($E);1===n.get(Vv)&&r.initialNavigation(),n.get(Bv,null,u.XFs.Optional)?.setUpPreloading(),n.get(Lv,null,u.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const $E=new u.OlP(qh?"bootstrap done indicator":"",{factory:()=>new _a.x}),Vv=new u.OlP(qh?"initial navigation":"",{providedIn:"root",factory:()=>1});function OA(){let n=[];return n=qh?[{provide:u.Xts,multi:!0,useFactory:()=>{const e=(0,u.f3M)(Kr);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function oP(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],au(1,n)}const Bv=new u.OlP(qh?"router preloader":"");function HE(n){return au(0,[{provide:Bv,useExisting:UE},{provide:Fv,useExisting:n}])}const Wh=!1,jv=new u.OlP(Wh?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),zE=[Ue,{provide:ad,useClass:Nh},Kr,pi,{provide:Vh,useFactory:function BE(n){return n.routerState.root},deps:[Kr]},fs,Wh?{provide:Uv,useValue:!0}:[]];function GE(){return new u.PXZ("Router",Kr)}let $v=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[zE,Wh&&r?.enableTracing?OA().\u0275providers:[],{provide:ao,multi:!0,useValue:t},{provide:jv,useFactory:Zh,deps:[[Kr,new u.FiY,new u.tp0]]},{provide:Vg,useValue:r||{}},r?.useHash?{provide:ht,useClass:$e}:{provide:ht,useClass:Fe},{provide:Lv,useFactory:()=>{const n=(0,u.f3M)(Ks),e=(0,u.f3M)(u.R0b),t=(0,u.f3M)(Vg),r=(0,u.f3M)(Ug),i=(0,u.f3M)(ad);return t.scrollOffset&&n.setOffset(t.scrollOffset),new VE(i,r,n,e,t)}},r?.preloadingStrategy?HE(r.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:GE},r?.initialNavigation?mP(r):[],[{provide:Bg,useFactory:jE},{provide:u.tb,multi:!0,useExisting:Bg}]]}}static forChild(t){return{ngModule:n,providers:[{provide:ao,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(jv,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ou]}),n})();function Zh(n){if(Wh&&n)throw new u.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function mP(n){return["disabled"===n.initialNavigation?au(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(Kr);return()=>{e.setUpLocationChangeListener()}}},{provide:Vv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?au(2,[{provide:Vv,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(Ae,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Kr),a=e.get($E);(function MA(n,e){n.events.pipe(Li(t=>t instanceof ru||t instanceof vp||t instanceof wg||t instanceof bp),(0,_t.U)(t=>t instanceof ru||t instanceof bp?ps.COMPLETE:t instanceof vp&&(0===t.code||1===t.code)?ps.REDIRECTING:ps.FAILED),Li(t=>t!==ps.REDIRECTING),Kc(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(Ug).afterPreactivation=()=>(r(!0),a.closed?dt(void 0):a),i.initialNavigation()}))}}]).\u0275providers:[]]}const Bg=new u.OlP(Wh?"Router Initializer":"");var be=B(5861);class jg{constructor(){this.id=0,this.perfil="",this.nombre="",this.apellido="",this.edad=0,this.dni=0,this.obraSocial="",this.especialidad="",this.email="",this.clave="",this.imagen1="",this.imagen2="",this.aprobado=!1}}var Ye=B(4976),tl=B(259);class gd{constructor(e){return e}}class $g{constructor(){return(0,tl.C6)()}}const Kh=new u.OlP("angularfire2._apps"),Hg={provide:gd,useFactory:function $A(n){return n&&1===n.length?n[0]:new gd((0,tl.Mq)())},deps:[[new u.FiY,Kh]]},Yr={provide:$g,deps:[[new u.FiY,Kh]]};function _P(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new gd(r)}}let qE=(()=>{class n{constructor(t){(0,tl.KN)("angularfire",Ye.q4.full,"core"),(0,tl.KN)("angularfire",Ye.q4.full,"app"),(0,tl.KN)("angular",u.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Hg,Yr]}),n})();function WE(n,...e){return{ngModule:qE,providers:[{provide:Kh,useFactory:_P(n),multi:!0,deps:[u.R0b,u.zs3,Ye.HU,...e]}]}}const ZE=(0,Ye.u3)(tl.ZF,!0);var To=B(6881),ac=B(4859),un=B(2090),cu=B(1877);const Hv=new Map,Bp={activated:!1,tokenObservers:[]},KE={initialized:!1,enabled:!1};function Vr(n){return Hv.get(n)||Object.assign({},Bp)}function zg(){return KE}const _d="https://content-firebaseappcheck.googleapis.com/v1",WA="exchangeDebugToken",QE={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class XE{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,be.Z)(function*(){t.stop();try{t.pending=new un.BH,yield function eI(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new un.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ji=new un.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function zv(n){if(!Vr(n).activated)throw ji.create("use-before-activation",{appName:n.name})}function qv(n,e){return nI.apply(this,arguments)}function nI(){return(nI=(0,be.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const k=yield i.getHeartbeatsHeader();k&&(r["X-Firebase-Client"]=k)}const a={method:"POST",body:JSON.stringify(e),headers:r};let l,f;try{l=yield fetch(n,a)}catch(k){throw ji.create("fetch-network-error",{originalErrorMessage:k?.message})}if(200!==l.status)throw ji.create("fetch-status-error",{httpStatus:l.status});try{f=yield l.json()}catch(k){throw ji.create("fetch-parse-error",{originalErrorMessage:k?.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw ji.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const v=1e3*Number(_[1]),x=Date.now();return{token:f.token,expireTimeMillis:x+v,issuedAtTimeMillis:x}})).apply(this,arguments)}function iI(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${_d}/projects/${t}/apps/${r}:${WA}?key=${i}`,body:{debug_token:e}}}const KA="firebase-app-check-database",oI=1,nl="firebase-app-check-store";let Wg=null;function lI(n,e){return Wv.apply(this,arguments)}function Wv(){return(Wv=(0,be.Z)(function*(n,e){const r=(yield function aI(){return Wg||(Wg=new Promise((n,e)=>{try{const t=indexedDB.open(KA,oI);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ji.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(nl,{keyPath:"compositeKey"})}}catch(t){e(ji.create("storage-open",{originalErrorMessage:t?.message}))}}),Wg)}()).transaction(nl,"readwrite"),a=r.objectStore(nl).put({compositeKey:n,value:e});return new Promise((l,f)=>{a.onsuccess=_=>{l()},r.onerror=_=>{var v;f(ji.create("storage-set",{originalErrorMessage:null===(v=_.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const $p=new cu.Yd("@firebase/app-check");function Zg(n,e){return(0,un.hl)()?function wP(n,e){return lI(function Kv(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{$p.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Qv(){return zg().enabled}function Kg(){return Yg.apply(this,arguments)}function Yg(){return(Yg=(0,be.Z)(function*(){const n=zg();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const eS={error:"UNKNOWN_ERROR"};function tS(n){return un.US.encodeString(JSON.stringify(n),!1)}function Qh(n){return Jv.apply(this,arguments)}function Jv(){return(Jv=(0,be.Z)(function*(n,e=!1){const t=n.app;zv(t);const r=Vr(t);let a,i=r.token;if(i&&!Jh(i)&&(r.token=void 0,i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(Jh(_)?i=_:yield Zg(t,void 0))}if(!e&&i&&Jh(i))return{token:i.token};let f,l=!1;if(Qv()){r.exchangeTokenPromise||(r.exchangeTokenPromise=qv(iI(t,yield Kg()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const _=yield r.exchangeTokenPromise;return yield Zg(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield Vr(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?$p.warn(_.message):$p.error(_),a=_}return i?a?f=Jh(i)?{token:i.token,internalError:a}:fI(a):(f={token:i.token},r.token=i,yield Zg(t,i)):f=fI(a),l&&function hI(n,e){const t=Vr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,f),f})).apply(this,arguments)}function Xv(n){return eb.apply(this,arguments)}function eb(){return(eb=(0,be.Z)(function*(n){const e=n.app;zv(e);const{provider:t}=Vr(e);if(Qv()){const r=yield Kg(),{token:i}=yield qv(iI(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function nb(n,e){const t=Vr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function dI(n){const{app:e}=n,t=Vr(e);let r=t.tokenRefresher;r||(r=function nS(n){const{app:e}=n;return new XE((0,be.Z)(function*(){let r;if(r=Vr(e).token?yield Qh(n,!0):yield Qh(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Vr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},QE.RETRIAL_MIN_WAIT,QE.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Jh(n){return n.expireTimeMillis-Date.now()>0}function fI(n){return{token:tS(eS),error:n}}class pI{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Vr(this.app);for(const t of e)nb(this.app,t.next);return Promise.resolve()}}const db="app-check-internal";!function wI(){(0,To._registerComponent)(new ac.wA("app-check",n=>function mI(n,e){return new pI(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(db).initialize()})),(0,To._registerComponent)(new ac.wA(db,n=>function rS(n){return{getToken:e=>Qh(n,e),getLimitedUseToken:()=>Xv(n),addTokenListener:e=>function tb(n,e,t,r){const{app:i}=n,a=Vr(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&Jh(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),dI(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>dI(n))}(n,"INTERNAL",e),removeTokenListener:e=>nb(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,To.registerVersion)("@firebase/app-check","0.8.0")}();class vd{constructor(){return(0,Ye.vb)("app-check")}}typeof window<"u"&&window;var Jg=B(1389);class Xg{constructor(e){return e}}class mb{constructor(){return(0,Ye.vb)("auth")}}const bd=new u.OlP("angularfire2.auth-instances");function CI(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Xg(r)}}const TI={provide:mb,deps:[[new u.FiY,bd]]},DI={provide:Xg,useFactory:function II(n,e){const t=(0,Ye.JM)("auth",n,e);return t&&new Xg(t)},deps:[[new u.FiY,bd],gd]};let AI=(()=>{class n{constructor(){(0,tl.KN)("angularfire",Ye.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[DI,TI]}),n})();function yS(n,...e){return{ngModule:AI,providers:[{provide:bd,useFactory:CI(n),multi:!0,deps:[u.R0b,u.zs3,Ye.HU,$g,[new u.FiY,vd],...e]}]}}const vS=(0,Ye.u3)(Jg.a8,!0),gb=(0,Ye.u3)(Jg.o,!0),CS=(0,Ye.u3)(Jg.ae,!0),NI=(0,Ye.u3)(Jg.a9,!0);var Gp=B(5226),LI=B.n(Gp);let cc=(()=>{class n{constructor(){}swalert(t,r,i,a="Ok"){LI().fire({title:t,text:r,icon:i,confirmButtonText:a})}showToast(t,r="success",i="white",a=2e3){LI().fire({title:t,icon:r,toast:!0,position:"top-end",showConfirmButton:!1,background:i,timer:a})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var OS=B(6451),qp=B(5363),NS=B(6063);class FS extends _a.x{constructor(e=1/0,t=1/0,r=NS.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:l}=this;t||(r.push(e),!i&&r.push(a.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let l=0;l<a.length&&!e.closed;l+=r?1:2)e.next(a[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const l=t.now();let f=0;for(let _=1;_<r.length&&r[_]<=l;_+=2)f=_;f&&r.splice(0,f+1)}}}var UI=B(3099);function n_(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,UI.B)({connector:()=>new FS(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function vb(n,e){return(0,Ul.m)(e)?bi(()=>n,e):bi(()=>n)}var r_=B(9468),Ii=B(2011),i_=B(9260);const bb=new u.OlP("angularfire2.auth.use-emulator"),VI=new u.OlP("angularfire2.auth.settings"),wb=new u.OlP("angularfire2.auth.tenant-id"),wd=new u.OlP("angularfire2.auth.langugage-code"),BI=new u.OlP("angularfire2.auth.use-device-language"),Eb=new u.OlP("angularfire.auth.persistence"),o_=(n,e,t,r,i,a,l,f)=>(0,Ii.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,a&&_.useDeviceLanguage(),l)for(const[v,x]of Object.entries(l))_.settings[v]=x;return f&&_.setPersistence(f),_},[t,r,i,a,l,f]);let Ib=(()=>{class n{constructor(t,r,i,a,l,f,_,v,x,k,z,q){const ee=new _a.x,ae=dt(void 0).pipe((0,qp.Q)(l.outsideAngular),bi(()=>a.runOutsideAngular(()=>Promise.resolve().then(B.bind(B,9568)))),(0,_t.U)(()=>(0,Ii.on)(t,a,r)),(0,_t.U)(fe=>o_(fe,a,f,v,x,k,_,z)),n_({bufferSize:1,refCount:!1}));if(Ts(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=dt(null);else{ae.pipe(ya()).subscribe();const je=ae.pipe(bi(it=>it.getRedirectResult().then(Bt=>Bt,()=>null)),Ye.iC,n_({bufferSize:1,refCount:!1})),tt=ae.pipe(bi(it=>new yi.y(Bt=>({unsubscribe:a.runOutsideAngular(()=>it.onAuthStateChanged(Wt=>Bt.next(Wt),Wt=>Bt.error(Wt),()=>Bt.complete()))})))),Xe=ae.pipe(bi(it=>new yi.y(Bt=>({unsubscribe:a.runOutsideAngular(()=>it.onIdTokenChanged(Wt=>Bt.next(Wt),Wt=>Bt.error(Wt),()=>Bt.complete()))}))));this.authState=je.pipe(vb(tt),(0,r_.R)(l.outsideAngular),(0,qp.Q)(l.insideAngular)),this.user=je.pipe(vb(Xe),(0,r_.R)(l.outsideAngular),(0,qp.Q)(l.insideAngular)),this.idToken=this.user.pipe(bi(it=>it?(0,Sn.D)(it.getIdToken()):dt(null))),this.idTokenResult=this.user.pipe(bi(it=>it?(0,Sn.D)(it.getIdTokenResult()):dt(null))),this.credential=(0,OS.T)(je,ee,this.authState.pipe(Li(it=>!it))).pipe((0,_t.U)(it=>it?.user?it:null),(0,r_.R)(l.outsideAngular),(0,qp.Q)(l.insideAngular))}return(0,Ii.pX)(this,ae,a,{spy:{apply:(fe,je,tt)=>{(fe.startsWith("signIn")||fe.startsWith("createUser"))&&tt.then(Xe=>ee.next(Xe))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ii.Dh),u.LFG(Ii.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Ye.HU),u.LFG(bb,8),u.LFG(VI,8),u.LFG(wb,8),u.LFG(wd,8),u.LFG(BI,8),u.LFG(Eb,8),u.LFG(vd,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),LS=(()=>{class n{constructor(){i_.Z.registerVersion("angularfire",Ye.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Ib]}),n})();var US=B(4986);function Cb(){return(0,mr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Ar.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function jI(n,e=Sh.y){return n=n??VS,(0,mr.e)((t,r)=>{let i,a=!0;t.subscribe((0,Ar.x)(r,l=>{const f=e(l);(a||!n(i,f))&&(a=!1,i=f,r.next(l))}))})}function VS(n,e){return n===e}B(9568);var gt,Tb=B(3942),jS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},js={},Db=Db||{},fn=jS||self;function Wp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Zp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var s_="closure_uid_"+(1e9*Math.random()>>>0),HI=0;function zI(n,e,t){return n.call.apply(n.bind,arguments)}function $S(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function co(n,e,t){return(co=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zI:$S).apply(null,arguments)}function Ab(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ci(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,a){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return e.prototype[i].apply(r,l)}}function Ed(){this.s=this.s,this.o=this.o}Ed.prototype.s=!1,Ed.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function $I(n){Object.prototype.hasOwnProperty.call(n,s_)&&n[s_]||(n[s_]=++HI)}(this)},Ed.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const HS=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function GI(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function zS(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Wp(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let l=0;l<a;l++)n[i+l]=r[l]}else n.push(r)}}function Do(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Do.prototype.h=function(){this.defaultPrevented=!0};var XP=function(){if(!fn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{fn.addEventListener("test",()=>{},e),fn.removeEventListener("test",()=>{},e)}catch{}return n}();function a_(n){return/^[\s\xa0]*$/.test(n)}function Id(){var n=fn.navigator;return n&&(n=n.userAgent)?n:""}function il(n){return-1!=Id().indexOf(n)}function c_(n){return c_[" "](n),n}c_[" "]=function(){};var xb,n,qI=il("Opera"),Cd=il("Trident")||il("MSIE"),GS=il("Edge"),Kp=GS||Cd,Sb=il("Gecko")&&!(-1!=Id().toLowerCase().indexOf("webkit")&&!il("Edge"))&&!(il("Trident")||il("MSIE"))&&!il("Edge"),qS=-1!=Id().toLowerCase().indexOf("webkit")&&!il("Edge");function WS(){var n=fn.document;return n?n.documentMode:void 0}e:{var Mb="",Rb=(n=Id(),Sb?/rv:([^\);]+)(\)|;)/.exec(n):GS?/Edge\/([\d\.]+)/.exec(n):Cd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):qS?/WebKit\/(\S+)/.exec(n):qI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Rb&&(Mb=Rb?Rb[1]:""),Cd){var ef=WS();if(null!=ef&&ef>parseFloat(Mb)){xb=String(ef);break e}}xb=Mb}var ek=fn.document&&Cd&&(WS()||parseInt(xb,10))||void 0;function u_(n,e){if(Do.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Sb){e:{try{c_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:KS[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&u_.$.h.call(this)}}Ci(u_,Do);var KS={2:"touch",3:"pen",4:"mouse"};u_.prototype.h=function(){u_.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Yp="closure_listenable_"+(1e6*Math.random()|0),YS=0;function tk(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++YS,this.fa=this.ia=!1}function d_(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function h_(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function QS(n){const e={};for(const t in n)e[t]=n[t];return e}const $s="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ZI(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<$s.length;a++)t=$s[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function tf(n){this.src=n,this.g={},this.h=0}function kb(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=HS(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(d_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function KI(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return i}return-1}tf.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var l=KI(n,e,r,i);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new tk(e,this.src,a,!!r,i)).ia=t,n.push(e)),e};var Go="closure_lm_"+(1e6*Math.random()|0),Ob={};function f_(n,e,t,r,i){if(r&&r.once)return p_(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)f_(n,e[a],t,r,i);return null}return t=__(t),n&&n[Yp]?n.O(e,t,Zp(r)?!!r.capture:!!r,i):YI(n,e,t,!1,r,i)}function YI(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var l=Zp(i)?!!i.capture:!!i,f=g_(n);if(f||(n[Go]=f=new tf(n)),(t=f.add(e,t,r,l,a)).proxy)return t;if(r=function JS(){const e=JI;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)XP||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(QI(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function p_(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)p_(n,e[a],t,r,i);return null}return t=__(t),n&&n[Yp]?n.P(e,t,Zp(r)?!!r.capture:!!r,i):YI(n,e,t,!0,r,i)}function Nb(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)Nb(n,e[a],t,r,i);else r=Zp(r)?!!r.capture:!!r,t=__(t),n&&n[Yp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=KI(a=n.g[e],t,r,i))&&(d_(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=g_(n))&&(e=n.g[e.toString()],n=-1,e&&(n=KI(e,t,r,i)),(t=-1<n?e[n]:null)&&m_(t))}function m_(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Yp])kb(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(QI(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=g_(e))?(kb(t,n),0==t.h&&(t.src=null,e[Go]=null)):d_(n)}}}function QI(n){return n in Ob?Ob[n]:Ob[n]="on"+n}function JI(n,e){if(n.fa)n=!0;else{e=new u_(e,this);var t=n.listener,r=n.la||n.src;n.ia&&m_(n),n=t.call(r,e)}return n}function g_(n){return(n=n[Go])instanceof tf?n:null}var Fb="__closure_events_fn_"+(1e9*Math.random()>>>0);function __(n){return"function"==typeof n?n:(n[Fb]||(n[Fb]=function(e){return n.handleEvent(e)}),n[Fb])}function $i(){Ed.call(this),this.i=new tf(this),this.S=this,this.J=null}function Ti(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Do(e,n);else if(e instanceof Do)e.target=e.target||n;else{var i=e;ZI(e=new Do(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var l=e.g=t[a];i=Hs(l,r,!0,e)&&i}if(i=Hs(l=e.g=n,r,!0,e)&&i,i=Hs(l,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=Hs(l=e.g=t[a],r,!1,e)&&i}function Hs(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.fa&&l.capture==t){var f=l.listener,_=l.la||l.src;l.ia&&kb(n.i,l),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}Ci($i,Ed),$i.prototype[Yp]=!0,$i.prototype.removeEventListener=function(n,e,t,r){Nb(this,n,e,t,r)},$i.prototype.N=function(){if($i.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)d_(t[r]);delete n.g[e],n.h--}}this.J=null},$i.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},$i.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var lc=fn.JSON.stringify;function Lb(){var n=y_;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var tC=new class XI{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new nk,n=>n.reset());class nk{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function XS(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function ex(n){fn.setTimeout(()=>{throw n},0)}let Qp,Jp=!1,y_=new class eC{constructor(){this.h=this.g=null}add(e,t){const r=tC.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},tx=()=>{const n=fn.Promise.resolve(void 0);Qp=()=>{n.then(nC)}};var nC=()=>{for(var n;n=Lb();){try{n.h.call(n.g)}catch(t){ex(t)}var e=tC;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Jp=!1};function v_(n,e){$i.call(this),this.h=n||1,this.g=e||fn,this.j=co(this.qb,this),this.l=Date.now()}function b_(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function rC(n,e,t){if("function"==typeof n)t&&(n=co(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=co(n.handleEvent,n)}return 2147483647<Number(e)?-1:fn.setTimeout(n,e||0)}function w_(n){n.g=rC(()=>{n.g=null,n.i&&(n.i=!1,w_(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ci(v_,$i),(gt=v_.prototype).ga=!1,gt.T=null,gt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ti(this,"tick"),this.ga&&(b_(this),this.start()))}},gt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},gt.N=function(){v_.$.N.call(this),b_(this),delete this.g};class iC extends Ed{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:w_(this)}N(){super.N(),this.g&&(fn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nf(n){Ed.call(this),this.h=n,this.g={}}Ci(nf,Ed);var Ub=[];function Vb(n,e,t,r){Array.isArray(t)||(t&&(Ub[0]=t.toString()),t=Ub);for(var i=0;i<t.length;i++){var a=f_(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Bb(n){h_(n.g,function(e,t){this.g.hasOwnProperty(t)&&m_(e)},n),n.g={}}function Td(){this.g=!0}function rf(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function rk(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var l=1;l<i.length;l++)i[l]=""}}}return lc(t)}catch{return e}}(n,t)+(r?" "+r:"")})}nf.prototype.N=function(){nf.$.N.call(this),Bb(this)},nf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Td.prototype.Ea=function(){this.g=!1},Td.prototype.info=function(){};var sf={},rx=null;function Xp(){return rx=rx||new $i}function sC(n){Do.call(this,sf.Ta,n)}function em(n){const e=Xp();Ti(e,new sC(e))}function aC(n,e){Do.call(this,sf.STAT_EVENT,n),this.stat=e}function qo(n){const e=Xp();Ti(e,new aC(e,n))}function ix(n,e){Do.call(this,sf.Ua,n),this.size=e}function I_(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return fn.setTimeout(function(){n()},e)}sf.Ta="serverreachability",Ci(sC,Do),sf.STAT_EVENT="statevent",Ci(aC,Do),sf.Ua="timingevent",Ci(ix,Do);var jb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ox={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function $b(){}function cC(){}$b.prototype.h=null;var T_,nm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function C_(){Do.call(this,"d")}function ol(){Do.call(this,"c")}function af(){}function Dd(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new nf(this),this.P=Hb,this.V=new v_(n=Kp?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new lC}function lC(){this.i=null,this.g="",this.h=!1}Ci(C_,Do),Ci(ol,Do),Ci(af,$b),af.prototype.g=function(){return new XMLHttpRequest},af.prototype.i=function(){return{}},T_=new af;var Hb=45e3,rm={},Ad={};function uC(n,e,t){n.L=1,n.v=qb(uc(e)),n.s=t,n.S=!0,sx(n,null)}function sx(n,e){n.G=Date.now(),im(n),n.A=uc(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),mx(t.i,"t",r),n.C=0,t=n.l.J,n.h=new lC,n.g=Ik(n.l,t?e:null,!n.s),0<n.O&&(n.M=new iC(co(n.Pa,n,n.g),n.O)),Vb(n.U,n.g,"readystatechange",n.nb),e=n.I?QS(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),em(),function E_(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var l="",f=a.split("&"),_=0;_<f.length;_++){var v=f[_].split("=");if(1<v.length){var x=v[0];v=v[1];var k=x.split("_");l=2<=k.length&&"type"==k[1]?l+(x+"=")+v+"&":l+(x+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function ax(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function cx(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=dC(n,t),i==Ad){4==e&&(n.o=4,qo(14),r=!1),rf(n.j,n.m,null,"[Incomplete Response]");break}if(i==rm){n.o=4,qo(15),rf(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}rf(n.j,n.m,i,null),A_(n,i)}ax(n)&&i!=Ad&&i!=rm&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,qo(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),bx(e),e.M=!0,qo(11))):(rf(n.j,n.m,t,"[Invalid Chunked Response]"),lu(n),om(n))}function dC(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Ad:(t=Number(e.substring(t,r)),isNaN(t)?rm:(r+=1)+t>e.length?Ad:(e=e.slice(r,r+t),n.C=r+t,e))}function im(n){n.Y=Date.now()+n.P,hC(n,n.P)}function hC(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=I_(co(n.lb,n),e)}function D_(n){n.B&&(fn.clearTimeout(n.B),n.B=null)}function om(n){0==n.l.H||n.J||vk(n.l,n)}function lu(n){D_(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,b_(n.V),Bb(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function A_(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||y(t.i,n)))if(!n.K&&y(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;vC(t),_C(t)}vx(t),qo(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=I_(co(t.ib,t),6e3));if(1>=m(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else lm(t,11)}else if((n.K||t.g==n)&&vC(t),!a_(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(t.V=v[0],v=v[1],2==t.H)if("c"==v[0]){t.K=v[1],t.pa=v[2];const x=v[3];null!=x&&(t.ra=x,t.l.info("VER="+t.ra));const k=v[4];null!=k&&(t.Ga=k,t.l.info("SVER="+t.Ga));const z=v[5];null!=z&&"number"==typeof z&&0<z&&(t.L=r=1.5*z,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const q=n.g;if(q){const ee=q.g?q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ee){var a=r.i;a.g||-1==ee.indexOf("spdy")&&-1==ee.indexOf("quic")&&-1==ee.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(I(a,a.h),a.h=null))}if(r.F){const ae=q.g?q.g.getResponseHeader("X-HTTP-Session-Id"):null;ae&&(r.Da=ae,Sr(r.I,r.F,ae))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=Ek(r,r.J?r.pa:null,r.Y),l.K){S(r.i,l);var f=l,_=r.L;_&&f.setTimeout(_),f.B&&(D_(f),im(f)),r.g=l}else _k(r);0<t.j.length&&yC(t)}else"stop"!=v[0]&&"close"!=v[0]||lm(t,7);else 3==t.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?lm(t,7):yx(t):"noop"!=v[0]&&t.h&&t.h.Aa(v),t.A=0)}em()}catch{}}function pC(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Wp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function lx(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Wp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function fC(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Wp(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(gt=Dd.prototype).setTimeout=function(n){this.P=n},gt.nb=function(n){n=n.target;const e=this.M;e&&3==uu(n)?e.l():this.Pa(n)},gt.Pa=function(n){try{if(n==this.g)e:{const x=uu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>x)&&(3!=x||Kp||this.g&&(this.h.h||this.g.ja()||dk(this.g)))){this.J||4!=x||7==e||em(),D_(this);var t=this.g.da();this.ca=t;t:if(ax(this)){var r=dk(this.g);n="";var i=r.length,a=4==uu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){lu(this),om(this);var l="";break t}this.h.i=new fn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function oC(n,e,t,r,i,a,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+l})}(this.j,this.u,this.A,this.m,this.W,x,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!a_(f)){var v=f;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,qo(12),lu(this),om(this);break e}rf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,A_(this,t)}this.S?(cx(this,x,l),Kp&&this.i&&3==x&&(Vb(this.U,this.V,"tick",this.mb),this.V.start())):(rf(this.j,this.m,l,null),A_(this,l)),4==x&&lu(this),this.i&&!this.J&&(4==x?vk(this.l,this):(this.i=!1,im(this)))}else(function VU(n){const e={};n=(n.g&&2<=uu(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(a_(n[r]))continue;var t=XS(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const a=e[i]||[];e[i]=a,a.push(t)}!function WI(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,qo(12)):(this.o=0,qo(13)),lu(this),om(this)}}}catch{}},gt.mb=function(){if(this.g){var n=uu(this.g),e=this.g.ja();this.C<e.length&&(D_(this),cx(this,n,e),this.i&&4!=n&&im(this))}},gt.cancel=function(){this.J=!0,lu(this)},gt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function nx(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(em(),qo(17)),lu(this),this.o=2,om(this)):hC(this,this.Y-n)};var zb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cf(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof cf){this.h=n.h,lf(this,n.j),this.s=n.s,this.g=n.g,S_(this,n.m),this.l=n.l;var e=n.i,t=new x_;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),mC(this,t),this.o=n.o}else n&&(e=String(n).match(zb))?(this.h=!1,lf(this,e[1]||"",!0),this.s=sm(e[2]||""),this.g=sm(e[3]||"",!0),S_(this,e[4]),this.l=sm(e[5]||"",!0),mC(this,e[6]||"",!0),this.o=sm(e[7]||"")):(this.h=!1,this.i=new x_(null,this.h))}function uc(n){return new cf(n)}function lf(n,e,t){n.j=t?sm(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function S_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function mC(n,e,t){e instanceof x_?(n.i=e,function o(n,e){e&&!n.j&&(Sd(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(fx(this,r),mx(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=am(e,sk)),n.i=new x_(e,n.h))}function Sr(n,e,t){n.i.set(e,t)}function qb(n){return Sr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function sm(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function am(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,ux),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function ux(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}cf.prototype.toString=function(){var n=[],e=this.j;e&&n.push(am(e,dx,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(am(e,dx,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(am(t,"/"==t.charAt(0)?ok:ik,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",am(t,hx)),n.join("")};var dx=/[#\/\?@]/g,ik=/[#\?:]/g,ok=/[#\?]/g,sk=/[#\?@]/g,hx=/#/g;function x_(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Sd(n){n.g||(n.g=new Map,n.h=0,n.i&&function Gb(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function fx(n,e){Sd(n),e=cm(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function px(n,e){return Sd(n),e=cm(n,e),n.g.has(e)}function mx(n,e,t){fx(n,e),0<t.length&&(n.i=null,n.g.set(cm(n,e),GI(t)),n.h+=t.length)}function cm(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function c(n){this.l=n||d,n=fn.PerformanceNavigationTiming?0<(n=fn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(fn.g&&fn.g.Ka&&fn.g.Ka()&&fn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(gt=x_.prototype).add=function(n,e){Sd(this),this.i=null,n=cm(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},gt.forEach=function(n,e){Sd(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},gt.ta=function(){Sd(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},gt.Z=function(n){Sd(this);let e=[];if("string"==typeof n)px(this,n)&&(e=e.concat(this.g.get(cm(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},gt.set=function(n,e){return Sd(this),this.i=null,px(this,n=cm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},gt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},gt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=a;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var d=10;function h(n){return!!n.h||!!n.g&&n.g.size>=n.j}function m(n){return n.h?1:n.g?n.g.size:0}function y(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function I(n,e){n.g?n.g.add(e):n.h=e}function S(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function M(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return GI(n.i)}c.prototype.cancel=function(){if(this.i=M(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var L=class{stringify(n){return fn.JSON.stringify(n,void 0)}parse(n){return fn.JSON.parse(n,void 0)}};function G(){this.g=new L}function ie(n,e,t){const r=t||"";try{pC(n,function(i,a){let l=i;Zp(i)&&(l=lc(i)),e.push(r+a+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Re(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Qe(n){this.l=n.fc||null,this.j=n.ob||!1}function ct(n,e){$i.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Tt,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ci(Qe,$b),Qe.prototype.g=function(){return new ct(this.l,this.j)},Qe.prototype.i=function(n){return function(){return n}}({}),Ci(ct,$i);var Tt=0;function zt(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function He(n){n.readyState=4,n.l=null,n.j=null,n.A=null,tn(n)}function tn(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(gt=ct.prototype).open=function(n,e){if(this.readyState!=Tt)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,tn(this)},gt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||fn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},gt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,He(this)),this.readyState=Tt},gt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,tn(this)),this.g&&(this.readyState=3,tn(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof fn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zt(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},gt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?He(this):tn(this),3==this.readyState&&zt(this)}},gt.Za=function(n){this.g&&(this.response=this.responseText=n,He(this))},gt.Ya=function(n){this.g&&(this.response=n,He(this))},gt.ka=function(){this.g&&He(this)},gt.setRequestHeader=function(n,e){this.v.append(n,e)},gt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},gt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ct.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var xr=fn.JSON.parse;function vn(n){$i.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=gx,this.L=this.M=!1}Ci(vn,$i);var gx="",FU=/^https?$/i,LU=["POST","PUT"];function ak(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ck(n),gC(n)}function ck(n){n.F||(n.F=!0,Ti(n,"complete"),Ti(n,"error"))}function lk(n){if(n.h&&typeof Db<"u"&&(!n.C[1]||4!=uu(n)||2!=n.da()))if(n.v&&4==uu(n))rC(n.La,0,n);else if(Ti(n,"readystatechange"),4==uu(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var i=String(n.I).match(zb)[1]||null;!i&&fn.self&&fn.self.location&&(i=fn.self.location.protocol.slice(0,-1)),r=!FU.test(i?i.toLowerCase():"")}t=r}if(t)Ti(n,"complete"),Ti(n,"success");else{n.m=6;try{var a=2<uu(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",ck(n)}}finally{gC(n)}}}function gC(n,e){if(n.g){uk(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Ti(n,"ready");try{t.onreadystatechange=r}catch{}}}function uk(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(fn.clearTimeout(n.A),n.A=null)}function uu(n){return n.g?n.g.readyState:0}function dk(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case gx:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function hk(n){let e="";return h_(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function _x(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=hk(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Sr(n,e,t))}function Wb(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function fk(n){this.Ga=0,this.j=[],this.l=new Td,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Wb("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Wb("baseRetryDelayMs",5e3,n),this.hb=Wb("retryDelaySeedMs",1e4,n),this.eb=Wb("forwardChannelMaxRetries",2,n),this.xa=Wb("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new c(n&&n.concurrentRequestLimit),this.Ja=new G,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function yx(n){if(pk(n),3==n.H){var e=n.W++,t=uc(n.I);if(Sr(t,"SID",n.K),Sr(t,"RID",e),Sr(t,"TYPE","terminate"),Zb(n,t),(e=new Dd(n,n.l,e)).L=2,e.v=qb(uc(t)),t=!1,fn.navigator&&fn.navigator.sendBeacon)try{t=fn.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&fn.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ik(e.l,null),e.g.ha(e.v)),e.G=Date.now(),im(e)}wk(n)}function _C(n){n.g&&(bx(n),n.g.cancel(),n.g=null)}function pk(n){_C(n),n.u&&(fn.clearTimeout(n.u),n.u=null),vC(n),n.i.cancel(),n.m&&("number"==typeof n.m&&fn.clearTimeout(n.m),n.m=null)}function yC(n){if(!h(n.i)&&!n.m){n.m=!0;var e=n.Na;Qp||tx(),Jp||(Qp(),Jp=!0),y_.add(e,n),n.C=0}}function mk(n,e){var t;t=e?e.m:n.W++;const r=uc(n.I);Sr(r,"SID",n.K),Sr(r,"RID",t),Sr(r,"AID",n.V),Zb(n,r),n.o&&n.s&&_x(r,n.o,n.s),t=new Dd(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=gk(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),I(n.i,t),uC(t,r,e)}function Zb(n,e){n.na&&h_(n.na,function(t,r){Sr(e,r,t)}),n.h&&pC({},function(t,r){Sr(e,r,t)})}function gk(n,e,t){t=Math.min(n.j.length,t);var r=n.h?co(n.h.Va,n.h,n):null;e:{var i=n.j;let a=-1;for(;;){const l=["count="+t];-1==a?0<t?(a=i[0].g,l.push("ofs="+a)):a=0:l.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let v=i[_].g;const x=i[_].map;if(v-=a,0>v)a=Math.max(0,i[_].g-100),f=!1;else try{ie(x,l,"req"+v+"_")}catch{r&&r(x)}}if(f){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function _k(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Qp||tx(),Jp||(Qp(),Jp=!0),y_.add(e,n),n.A=0}}function vx(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=I_(co(n.Ma,n),bk(n,n.A)),n.A++,0))}function bx(n){null!=n.B&&(fn.clearTimeout(n.B),n.B=null)}function yk(n){n.g=new Dd(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=uc(n.wa);Sr(e,"RID","rpc"),Sr(e,"SID",n.K),Sr(e,"AID",n.V),Sr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Sr(e,"TO",n.qa),Sr(e,"TYPE","xmlhttp"),Zb(n,e),n.o&&n.s&&_x(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=qb(uc(e)),t.s=null,t.S=!0,sx(t,n)}function vC(n){null!=n.v&&(fn.clearTimeout(n.v),n.v=null)}function vk(n,e){var t=null;if(n.g==e){vC(n),bx(n),n.g=null;var r=2}else{if(!y(n.i,e))return;t=e.F,S(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Ti(r=Xp(),new ix(r,t)),yC(n)}else _k(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function BU(n,e){return!(m(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=I_(co(n.Na,n,e),bk(n,n.C)),n.C++,0)))}(n,e)||2==r&&vx(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:lm(n,5);break;case 4:lm(n,10);break;case 3:lm(n,6);break;default:lm(n,2)}}function bk(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function lm(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=co(n.pb,n);t||(t=new cf("//www.google.com/images/cleardot.gif"),fn.location&&"http"==fn.location.protocol||lf(t,"https"),qb(t)),function ue(n,e){const t=new Td;if(fn.Image){const r=new Image;r.onload=Ab(Re,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Ab(Re,t,r,"TestLoadImage: error",!1,e),r.onabort=Ab(Re,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ab(Re,t,r,"TestLoadImage: timeout",!1,e),fn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else qo(2);n.H=0,n.h&&n.h.za(e),wk(n),pk(n)}function wk(n){if(n.H=0,n.ma=[],n.h){const e=M(n.i);(0!=e.length||0!=n.j.length)&&(zS(n.ma,e),zS(n.ma,n.j),n.i.i.length=0,GI(n.j),n.j.length=0),n.h.ya()}}function Ek(n,e,t){var r=t instanceof cf?uc(t):new cf(t);if(""!=r.g)e&&(r.g=e+"."+r.g),S_(r,r.m);else{var i=fn.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new cf(null);r&&lf(a,r),e&&(a.g=e),i&&S_(a,i),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&Sr(r,t,e),Sr(r,"VER",n.ra),Zb(n,r),r}function Ik(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new vn(t&&n.Ha&&!n.va?new Qe({ob:!0}):n.va)).Oa(n.J),e}function Ck(){}function bC(){if(Cd&&!(10<=Number(ek)))throw Error("Environmental error: no available transport.")}function Ia(n,e){$i.call(this),this.g=new fk(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!a_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!a_(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new M_(this)}function Tk(n){C_.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Dk(){ol.call(this),this.status=1}function M_(n){this.g=n}function sl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function wx(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],l=(e=n.g[0])+(a^(t=n.g[1])&((i=n.g[2])^a))+r[0]+3614090360&4294967295;l=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=t+(l<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^a&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((a=(e=t+((l=e+(i^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=a+((l=i+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+a&4294967295}function dr(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var a=0|n[i];r&&a==e||(t[i]=a,r=!1)}this.g=t}(gt=vn.prototype).Oa=function(n){this.M=n},gt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():T_.g(),this.C=function tm(n){return n.h||(n.h=n.i())}(this.u?this.u:T_),this.g.onreadystatechange=co(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void ak(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=fn.FormData&&n instanceof fn.FormData,!(0<=HS(LU,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of t)this.g.setRequestHeader(a,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{uk(this),0<this.B&&((this.L=function UU(n){return Cd&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=co(this.ua,this)):this.A=rC(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){ak(this,a)}},gt.ua=function(){typeof Db<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ti(this,"timeout"),this.abort(8))},gt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ti(this,"complete"),Ti(this,"abort"),gC(this))},gt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gC(this,!0)),vn.$.N.call(this)},gt.La=function(){this.s||(this.G||this.v||this.l?lk(this):this.kb())},gt.kb=function(){lk(this)},gt.isActive=function(){return!!this.g},gt.da=function(){try{return 2<uu(this)?this.g.status:-1}catch{return-1}},gt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},gt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),xr(e)}},gt.Ia=function(){return this.m},gt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(gt=fk.prototype).ra=8,gt.H=1,gt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Dd(this,this.l,n);let a=this.s;if(this.U&&(a?(a=QS(a),ZI(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=gk(this,i,e),Sr(t=uc(this.I),"RID",n),Sr(t,"CVER",22),this.F&&Sr(t,"X-HTTP-Session-Id",this.F),Zb(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(hk(a)))+"&"+e:this.o&&_x(t,this.o,a)),I(this.i,i),this.bb&&Sr(t,"TYPE","init"),this.P?(Sr(t,"$req",e),Sr(t,"SID","null"),i.aa=!0,uC(i,t,null)):uC(i,t,e),this.H=2}}else 3==this.H&&(n?mk(this,n):0==this.j.length||h(this.i)||mk(this))},gt.Ma=function(){if(this.u=null,yk(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=I_(co(this.jb,this),n)}},gt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,qo(10),_C(this),yk(this))},gt.ib=function(){null!=this.v&&(this.v=null,_C(this),vx(this),qo(19))},gt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),qo(2)):(this.l.info("Failed to ping google.com"),qo(1))},gt.isActive=function(){return!!this.h&&this.h.isActive(this)},(gt=Ck.prototype).Ba=function(){},gt.Aa=function(){},gt.za=function(){},gt.ya=function(){},gt.isActive=function(){return!0},gt.Va=function(){},bC.prototype.g=function(n,e){return new Ia(n,e)},Ci(Ia,$i),Ia.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;qo(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Ek(n,null,n.Y),yC(n)},Ia.prototype.close=function(){yx(this.g)},Ia.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=lc(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&yC(e)},Ia.prototype.N=function(){this.g.h=null,delete this.j,yx(this.g),delete this.g,Ia.$.N.call(this)},Ci(Tk,C_),Ci(Dk,ol),Ci(M_,Ck),M_.prototype.Ba=function(){Ti(this.g,"a")},M_.prototype.Aa=function(n){Ti(this.g,new Tk(n))},M_.prototype.za=function(n){Ti(this.g,new Dk)},M_.prototype.ya=function(){Ti(this.g,"b")},Ci(sl,function jU(){this.blockSize=-1}),sl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},sl.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,a=0;a<e;){if(0==i)for(;a<=t;)wx(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[i++]=n.charCodeAt(a++),i==this.blockSize){wx(this,r),i=0;break}}else for(;a<e;)if(r[i++]=n[a++],i==this.blockSize){wx(this,r),i=0;break}}this.h=i,this.i+=e},sl.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var $U={};function Ex(n){return-128<=n&&128>n?function l_(n,e){var t=$U;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new dr([0|e],0>e?-1:0)}):new dr([0|n],0>n?-1:0)}function du(n){if(isNaN(n)||!isFinite(n))return R_;if(0>n)return Ao(du(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Ix;return new dr(e,0)}var Ix=4294967296,R_=Ex(0),Cx=Ex(1),Sk=Ex(16777216);function xd(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function dc(n){return-1==n.h}function Ao(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new dr(t,~n.h).add(Cx)}function wC(n,e){return n.add(Ao(e))}function EC(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Kb(n,e){this.g=n,this.h=e}function IC(n,e){if(xd(e))throw Error("division by zero");if(xd(n))return new Kb(R_,R_);if(dc(n))return e=IC(Ao(n),e),new Kb(Ao(e.g),Ao(e.h));if(dc(e))return e=IC(n,Ao(e)),new Kb(Ao(e.g),e.h);if(30<n.g.length){if(dc(n)||dc(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Cx,r=e;0>=r.X(n);)t=xk(t),r=xk(r);var i=P_(t,1),a=P_(r,1);for(r=P_(r,2),t=P_(t,2);!xd(r);){var l=a.add(r);0>=l.X(n)&&(i=i.add(t),a=l),r=P_(r,1),t=P_(t,1)}return e=wC(n,i.R(e)),new Kb(i,e)}for(i=R_;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(a=du(t)).R(e);dc(l)||0<l.X(n);)l=(a=du(t-=r)).R(e);xd(a)&&(a=Cx),i=i.add(a),n=wC(n,l)}return new Kb(i,n)}function xk(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new dr(t,n.h)}function P_(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],a=0;a<r;a++)i[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new dr(i,n.h)}(gt=dr.prototype).ea=function(){if(dc(this))return-Ao(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Ix+r)*e,e*=Ix}return n},gt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(xd(this))return"0";if(dc(this))return"-"+Ao(this).toString(n);for(var e=du(Math.pow(n,6)),t=this,r="";;){var i=IC(t,e).g,a=((0<(t=wC(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(xd(t=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},gt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},gt.X=function(n){return dc(n=wC(this,n))?-1:xd(n)?0:1},gt.abs=function(){return dc(this)?Ao(this):this},gt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var a=r+(65535&this.D(i))+(65535&n.D(i)),l=(a>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=l>>>16,t[i]=(l&=65535)<<16|(a&=65535)}return new dr(t,-2147483648&t[t.length-1]?-1:0)},gt.R=function(n){if(xd(this)||xd(n))return R_;if(dc(this))return dc(n)?Ao(this).R(Ao(n)):Ao(Ao(this).R(n));if(dc(n))return Ao(this.R(Ao(n)));if(0>this.X(Sk)&&0>n.X(Sk))return du(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var a=this.D(r)>>>16,l=65535&this.D(r),f=n.D(i)>>>16,_=65535&n.D(i);t[2*r+2*i]+=l*_,EC(t,2*r+2*i),t[2*r+2*i+1]+=a*_,EC(t,2*r+2*i+1),t[2*r+2*i+1]+=l*f,EC(t,2*r+2*i+1),t[2*r+2*i+2]+=a*f,EC(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new dr(t,0)},gt.gb=function(n){return IC(this,n).h},gt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new dr(t,this.h&n.h)},gt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new dr(t,this.h|n.h)},gt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new dr(t,this.h^n.h)},bC.prototype.createWebChannel=bC.prototype.g,Ia.prototype.send=Ia.prototype.u,Ia.prototype.open=Ia.prototype.m,Ia.prototype.close=Ia.prototype.close,jb.NO_ERROR=0,jb.TIMEOUT=8,jb.HTTP_ERROR=6,ox.COMPLETE="complete",cC.EventType=nm,nm.OPEN="a",nm.CLOSE="b",nm.ERROR="c",nm.MESSAGE="d",$i.prototype.listen=$i.prototype.O,vn.prototype.listenOnce=vn.prototype.P,vn.prototype.getLastError=vn.prototype.Sa,vn.prototype.getLastErrorCode=vn.prototype.Ia,vn.prototype.getStatus=vn.prototype.da,vn.prototype.getResponseJson=vn.prototype.Wa,vn.prototype.getResponseText=vn.prototype.ja,vn.prototype.send=vn.prototype.ha,vn.prototype.setWithCredentials=vn.prototype.Oa,sl.prototype.digest=sl.prototype.l,sl.prototype.reset=sl.prototype.reset,sl.prototype.update=sl.prototype.j,dr.prototype.add=dr.prototype.add,dr.prototype.multiply=dr.prototype.R,dr.prototype.modulo=dr.prototype.gb,dr.prototype.compare=dr.prototype.X,dr.prototype.toNumber=dr.prototype.ea,dr.prototype.toString=dr.prototype.toString,dr.prototype.getBits=dr.prototype.D,dr.fromNumber=du,dr.fromString=function Ak(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Ao(Ak(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=du(Math.pow(e,8)),r=R_,i=0;i<n.length;i+=8){var a=Math.min(8,n.length-i),l=parseInt(n.substring(i,i+a),e);8>a?(a=du(Math.pow(e,a)),r=r.R(a).add(du(l))):r=(r=r.R(t)).add(du(l))}return r};var HU=js.createWebChannelTransport=function(){return new bC},zU=js.getStatEventTarget=function(){return Xp()},Tx=js.ErrorCode=jb,GU=js.EventType=ox,qU=js.Event=sf,Mk=js.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},WU=js.FetchXmlHttpFactory=Qe,CC=js.WebChannel=cC,ZU=js.XhrIo=vn,KU=js.Md5=sl,k_=js.Integer=dr;const Rk="@firebase/firestore";class lo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}lo.UNAUTHENTICATED=new lo(null),lo.GOOGLE_CREDENTIALS=new lo("google-credentials-uid"),lo.FIRST_PARTY=new lo("first-party-uid"),lo.MOCK_USER=new lo("mock-user");let O_="9.22.1";const uf=new cu.Yd("@firebase/firestore");function Dx(){return uf.logLevel}function Ze(n,...e){if(uf.logLevel<=cu.in.DEBUG){const t=e.map(Ax);uf.debug(`Firestore (${O_}): ${n}`,...t)}}function Di(n,...e){if(uf.logLevel<=cu.in.ERROR){const t=e.map(Ax);uf.error(`Firestore (${O_}): ${n}`,...t)}}function hc(n,...e){if(uf.logLevel<=cu.in.WARN){const t=e.map(Ax);uf.warn(`Firestore (${O_}): ${n}`,...t)}}function Ax(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Dt(n="Unexpected state"){const e=`FIRESTORE (${O_}) INTERNAL ASSERTION FAILED: `+n;throw Di(e),new Error(e)}function Nt(n,e){n||Dt()}function yt(n,e){return n}const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends un.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Pk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(lo.UNAUTHENTICATED))}shutdown(){}}class XU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class eV{constructor(e){this.t=e,this.currentUser=lo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=v=>this.i!==i?(i=this.i,t(v)):Promise.resolve();let l=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Wi,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const v=l;e.enqueueRetryable((0,be.Z)(function*(){yield v.promise,yield a(r.currentUser)}))},_=v=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>_(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?_(v):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Wi)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Nt("string"==typeof r.accessToken),new Pk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Nt(null===e||"string"==typeof e),new lo(e)}}class tV{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=lo.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class nV{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new tV(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(lo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rV{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=a=>{null!=a.error&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.T;return this.T=a.token,Ze("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?i(a):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Nt("string"==typeof t.token),this.T=t.token,new kk(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function iV(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Ok{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=iV(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function mn(n,e){return n<e?-1:n>e?1:0}function N_(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Nk(n){return n+"\0"}class Qr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Be(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Be(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Be(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Be(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qr.fromMillis(Date.now())}static fromDate(e){return Qr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Qr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?mn(this.nanoseconds,e.nanoseconds):mn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ut{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ut(e)}static min(){return new Ut(new Qr(0,0))}static max(){return new Ut(new Qr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Yb{constructor(e,t,r){void 0===t?t=0:t>e.length&&Dt(),void 0===r?r=e.length-t:r>e.length-t&&Dt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Yb.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yb?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),l=t.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Bn extends Yb{construct(e,t,r){return new Bn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Be(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Bn(t)}static emptyPath(){return new Bn([])}}const oV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mi extends Yb{construct(e,t,r){return new mi(e,t,r)}static isValidIdentifier(e){return oV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new mi(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Be(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Be(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Be(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(l=!l,i++):"."!==f||l?(r+=f,i++):(a(),i++)}if(a(),l)throw new Be(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mi(t)}static emptyPath(){return new mi([])}}class pt{constructor(e){this.path=e}static fromPath(e){return new pt(Bn.fromString(e))}static fromName(e){return new pt(Bn.fromString(e).popFirst(5))}static empty(){return new pt(Bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Bn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Bn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new Bn(e.slice()))}}class TC{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Sx(n){return n.fields.find(e=>2===e.kind)}function um(n){return n.fields.filter(e=>2!==e.kind)}TC.UNKNOWN_ID=-1;class DC{constructor(e,t){this.fieldPath=e,this.kind=t}}class Qb{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Qb(0,Ca.min())}}function Fk(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ut.fromTimestamp(1e9===r?new Qr(t+1,0):new Qr(t,r));return new Ca(i,pt.empty(),e)}function Lk(n){return new Ca(n.readTime,n.key,-1)}class Ca{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ca(Ut.min(),pt.empty(),-1)}static max(){return new Ca(Ut.max(),pt.empty(),-1)}}function xx(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=pt.comparator(n.documentKey,e.documentKey),0!==t?t:mn(n.largestBatchId,e.largestBatchId))}const Uk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Vk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function df(n){return Mx.apply(this,arguments)}function Mx(){return Mx=(0,be.Z)(function*(n){if(n.code!==ye.FAILED_PRECONDITION||n.message!==Uk)throw n;Ze("LocalStore","Unexpectedly lost primary lease")}),Mx.apply(this,arguments)}class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,r)=>{t(e)})}static reject(e){return new he((t,r)=>{r(e)})}static waitFor(e){return new he((t,r)=>{let i=0,a=0,l=!1;e.forEach(f=>{++i,f.next(()=>{++a,l&&a===i&&t()},_=>r(_))}),l=!0,a===i&&t()})}static or(e){let t=he.resolve(!1);for(const r of e)t=t.next(i=>i?he.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new he((r,i)=>{const a=e.length,l=new Array(a);let f=0;for(let _=0;_<a;_++){const v=_;t(e[v]).next(x=>{l[v]=x,++f,f===a&&r(l)},x=>i(x))}})}static doWhile(e,t){return new he((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class AC{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Wi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Jb(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=Rx(r.target.error);this.v.reject(new Jb(e,i))}}static open(e,t,r,i){try{return new AC(t,e.transaction(i,r))}catch(a){throw new Jb(t,a)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Ze("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new lV(t)}}class al{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===al.S((0,un.z$)())&&Di("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ze("SimpleDb","Removing database:",e),dm(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,un.hl)())return!1;if(al.C())return!0;const e=(0,un.z$)(),t=al.S(e),r=0<t&&t<10,i=al.N(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,be.Z)(function*(){return t.db||(Ze("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=l=>{r(l.target.result)},a.onblocked=()=>{i(new Jb(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const f=l.target.error;i("VersionError"===f.name?new Be(ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Be(ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Jb(e,f))},a.onupgradeneeded=l=>{Ze("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,a.transaction,l.oldVersion,t.version).next(()=>{Ze("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,be.Z)(function*(){const l="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.$(e);const _=AC.open(a.db,e,l?"readonly":"readwrite",r),v=i(_).next(x=>(_.P(),x)).catch(x=>(_.abort(x),he.reject(x))).toPromise();return v.catch(()=>{}),yield _.R,v}catch(_){const v=_,x="FirebaseError"!==v.name&&f<3;if(Ze("SimpleDb","Transaction failed with error:",v.message,"Retrying:",x),a.close(),!x)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class cV{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return dm(this.L.delete())}}class Jb extends Be{constructor(e,t){super(ye.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function hf(n){return"IndexedDbTransactionError"===n.name}class lV{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ze("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ze("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),dm(r)}add(e){return Ze("SimpleDb","ADD",this.store.name,e,e),dm(this.store.add(e))}get(e){return dm(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ze("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ze("SimpleDb","DELETE",this.store.name,e),dm(this.store.delete(e))}count(){return Ze("SimpleDb","COUNT",this.store.name),dm(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.W(i,(l,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new he((a,l)=>{i.onerror=f=>{l(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new he((i,a)=>{r.onerror=l=>{a(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}J(e,t){Ze("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(a,l,f)=>f.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new he((r,i)=>{t.onerror=a=>{const l=Rx(a.target.error);i(l)},t.onsuccess=a=>{const l=a.target.result;l?e(l.primaryKey,l.value).next(f=>{f?l.continue():r()}):r()}})}W(e,t){const r=[];return new he((i,a)=>{e.onerror=l=>{a(l.target.error)},e.onsuccess=l=>{const f=l.target.result;if(!f)return void i();const _=new cV(f),v=t(f.primaryKey,f.value,_);if(v instanceof he){const x=v.catch(k=>(_.done(),he.reject(k)));r.push(x)}_.isDone?i():null===_.K?f.continue():f.continue(_.K)}}).next(()=>he.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function dm(n){return new he((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=Rx(r.target.error);t(i)}})}let Bk=!1;function Rx(n){const e=al.S((0,un.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Be("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Bk||(Bk=!0,setTimeout(()=>{throw r},0)),r}}return n}class uV{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Ze("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,be.Z)(function*(){t.task=null;try{Ze("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){hf(r)?Ze("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield df(r)}yield t.et(6e4)}))}}class dV{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,be.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,a=!0;return he.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return Ze("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,i).next(f=>{i-=f,r.add(l)});a=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const l=a.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(i,a)).next(f=>(Ze("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>l.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,a)=>{const l=Lk(a);xx(l,r)>0&&(r=l)}),new Ca(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Ta=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Xb(n){return null==n}function e0(n){return 0===n&&1/n==-1/0}function jk(n){return"number"==typeof n&&Number.isInteger(n)&&!e0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Wo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=$k(e)),e=hV(n.get(t),e);return $k(e)}function hV(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function $k(n){return n+"\x01\x01"}function hu(n){const e=n.length;if(Nt(e>=2),2===e)return Nt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Bn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const l=n.indexOf("\x01",a);switch((l<0||l>t)&&Dt(),n.charAt(l+1)){case"\x01":const f=n.substring(a,l);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(a,l),i+="\0";break;case"\x11":i+=n.substring(a,l+1);break;default:Dt()}a=l+2}return new Bn(r)}const Hk=["userId","batchId"];function SC(n,e){return[n,Wo(e)]}function zk(n,e,t){return[n,Wo(e),t]}const fV={},pV=["prefixPath","collectionGroup","readTime","documentId"],mV=["prefixPath","collectionGroup","documentId"],gV=["collectionGroup","readTime","prefixPath","documentId"],_V=["canonicalId","targetId"],yV=["targetId","path"],vV=["path","targetId"],bV=["collectionId","parent"],wV=["indexId","uid"],EV=["uid","sequenceNumber"],IV=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],CV=["indexId","uid","orderedDocumentKey"],TV=["userId","collectionPath","documentId"],DV=["userId","collectionPath","largestBatchId"],AV=["userId","collectionGroup","largestBatchId"],Gk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],SV=[...Gk,"documentOverlays"],qk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Wk=qk,xV=[...Wk,"indexConfiguration","indexState","indexEntries"];class Px extends Vk{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function uo(n,e){const t=yt(n);return al.M(t.ht,e)}function Zk(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ff(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Kk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Mr{constructor(e,t){this.comparator=e,this.root=t||So.EMPTY}insert(e,t){return new Mr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,So.BLACK,null,null))}remove(e){return new Mr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,So.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xC(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xC(this.root,e,this.comparator,!1)}getReverseIterator(){return new xC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xC(this.root,e,this.comparator,!0)}}class xC{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class So{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??So.RED,this.left=i??So.EMPTY,this.right=a??So.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new So(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return So.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return So.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,So.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,So.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Dt();const e=this.left.check();if(e!==this.right.check())throw Dt();return e+(this.isRed()?0:1)}}So.EMPTY=null,So.RED=!0,So.BLACK=!1,So.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt()}get value(){throw Dt()}get color(){throw Dt()}get left(){throw Dt()}get right(){throw Dt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new So(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Br{constructor(e){this.comparator=e,this.data=new Mr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Yk(this.data.getIterator())}getIteratorFrom(e){return new Yk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Br)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Br(this.comparator);return t.data=e,t}}class Yk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function F_(n){return n.hasNext()?n.getNext():void 0}class zs{constructor(e){this.fields=e,e.sort(mi.comparator)}static empty(){return new zs([])}unionWith(e){let t=new Br(mi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new zs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return N_(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Qk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Qk("Invalid base64 string: "+i):i}}(e);return new Zi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Zi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zi.EMPTY_BYTE_STRING=new Zi("");const RV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pf(n){if(Nt(!!n),"string"==typeof n){let e=0;const t=RV.exec(n);if(Nt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gi(n.seconds),nanos:gi(n.nanos)}}function gi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Md(n){return"string"==typeof n?Zi.fromBase64String(n):Zi.fromUint8Array(n)}function MC(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function RC(n){const e=n.mapValue.fields.__previous_value__;return MC(e)?RC(e):e}function t0(n){const e=pf(n.mapValue.fields.__local_write_time__.timestampValue);return new Qr(e.seconds,e.nanos)}class PV{constructor(e,t,r,i,a,l,f,_,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=_,this.useFetchStreams=v}}class mf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new mf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof mf&&e.projectId===this.projectId&&e.database===this.database}}const gf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},PC={nullValue:"NULL_VALUE"};function _f(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?MC(n)?4:tO(n)?9007199254740991:10:Dt()}function fu(n,e){if(n===e)return!0;const t=_f(n);if(t!==_f(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return t0(n).isEqual(t0(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=pf(r.timestampValue),l=pf(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Md(n.bytesValue).isEqual(Md(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return gi(r.geoPointValue.latitude)===gi(i.geoPointValue.latitude)&&gi(r.geoPointValue.longitude)===gi(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return gi(r.integerValue)===gi(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=gi(r.doubleValue),l=gi(i.doubleValue);return a===l?e0(a)===e0(l):isNaN(a)&&isNaN(l)}return!1}(n,e);case 9:return N_(n.arrayValue.values||[],e.arrayValue.values||[],fu);case 10:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(Zk(a)!==Zk(l))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===l[f]||!fu(a[f],l[f])))return!1;return!0}(n,e);default:return Dt()}var i}function n0(n,e){return void 0!==(n.values||[]).find(t=>fu(t,e))}function yf(n,e){if(n===e)return 0;const t=_f(n),r=_f(e);if(t!==r)return mn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return mn(n.booleanValue,e.booleanValue);case 2:return function(i,a){const l=gi(i.integerValue||i.doubleValue),f=gi(a.integerValue||a.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(n,e);case 3:return Jk(n.timestampValue,e.timestampValue);case 4:return Jk(t0(n),t0(e));case 5:return mn(n.stringValue,e.stringValue);case 6:return function(i,a){const l=Md(i),f=Md(a);return l.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),f=a.split("/");for(let _=0;_<l.length&&_<f.length;_++){const v=mn(l[_],f[_]);if(0!==v)return v}return mn(l.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const l=mn(gi(i.latitude),gi(a.latitude));return 0!==l?l:mn(gi(i.longitude),gi(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const l=i.values||[],f=a.values||[];for(let _=0;_<l.length&&_<f.length;++_){const v=yf(l[_],f[_]);if(v)return v}return mn(l.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===gf.mapValue&&a===gf.mapValue)return 0;if(i===gf.mapValue)return 1;if(a===gf.mapValue)return-1;const l=i.fields||{},f=Object.keys(l),_=a.fields||{},v=Object.keys(_);f.sort(),v.sort();for(let x=0;x<f.length&&x<v.length;++x){const k=mn(f[x],v[x]);if(0!==k)return k;const z=yf(l[f[x]],_[v[x]]);if(0!==z)return z}return mn(f.length,v.length)}(n.mapValue,e.mapValue);default:throw Dt()}}function Jk(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return mn(n,e);const t=pf(n),r=pf(e),i=mn(t.seconds,r.seconds);return 0!==i?i:mn(t.nanos,r.nanos)}function L_(n){return kx(n)}function kx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=pf(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Md(n.bytesValue).toBase64():"referenceValue"in n?pt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const l of r.values||[])a?a=!1:i+=",",i+=kx(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",l=!0;for(const f of i)l?l=!1:a+=",",a+=`${f}:${kx(r.fields[f])}`;return a+"}"}(n.mapValue):Dt();var e}function hm(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ox(n){return!!n&&"integerValue"in n}function r0(n){return!!n&&"arrayValue"in n}function Xk(n){return!!n&&"nullValue"in n}function eO(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function OC(n){return!!n&&"mapValue"in n}function o0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ff(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=o0(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=o0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function tO(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function kV(n){return"nullValue"in n?PC:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?hm(mf.empty(),pt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Dt()}function OV(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?hm(mf.empty(),pt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?gf:Dt()}function nO(n,e){const t=yf(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function rO(n,e){const t=yf(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class xo{constructor(e){this.value=e}static empty(){return new xo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!OC(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=o0(t)}setAll(e){let t=mi.emptyPath(),r={},i=[];e.forEach((l,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}l?r[f.lastSegment()]=o0(l):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());OC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];OC(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ff(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new xo(o0(this.value))}}function iO(n){const e=[];return ff(n.fields,(t,r)=>{const i=new mi([t]);if(OC(r)){const a=iO(r.mapValue).fields;if(0===a.length)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new zs(e)}class jr{constructor(e,t,r,i,a,l,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=f}static newInvalidDocument(e){return new jr(e,0,Ut.min(),Ut.min(),Ut.min(),xo.empty(),0)}static newFoundDocument(e,t,r,i){return new jr(e,1,t,Ut.min(),r,i,0)}static newNoDocument(e,t){return new jr(e,2,t,Ut.min(),Ut.min(),xo.empty(),0)}static newUnknownDocument(e,t){return new jr(e,3,t,Ut.min(),Ut.min(),xo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ut.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof jr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vf{constructor(e,t){this.position=e,this.inclusive=t}}function oO(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(r=a.field.isKeyField()?pt.comparator(pt.fromName(l.referenceValue),t.key):yf(l,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function sO(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fu(n.position[t],e.position[t]))return!1;return!0}class U_{constructor(e,t="asc"){this.field=e,this.dir=t}}function NV(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class aO{}class kn extends aO{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new FV(e,t,r):"array-contains"===t?new VV(e,r):"in"===t?new fO(e,r):"not-in"===t?new BV(e,r):"array-contains-any"===t?new jV(e,r):new kn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new LV(e,r):new UV(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(yf(t,this.value)):null!==t&&_f(this.value)===_f(t)&&this.matchesComparison(yf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class hr extends aO{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new hr(e,t)}matches(e){return V_(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function V_(n){return"and"===n.op}function Nx(n){return"or"===n.op}function Fx(n){return cO(n)&&V_(n)}function cO(n){for(const e of n.filters)if(e instanceof hr)return!1;return!0}function Lx(n){if(n instanceof kn)return n.field.canonicalString()+n.op.toString()+L_(n.value);if(Fx(n))return n.filters.map(e=>Lx(e)).join(",");{const e=n.filters.map(t=>Lx(t)).join(",");return`${n.op}(${e})`}}function lO(n,e){return n instanceof kn?(t=n,(r=e)instanceof kn&&t.op===r.op&&t.field.isEqual(r.field)&&fu(t.value,r.value)):n instanceof hr?function(t,r){return r instanceof hr&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,l)=>i&&lO(a,r.filters[l]),!0)}(n,e):void Dt();var t,r}function uO(n,e){const t=n.filters.concat(e);return hr.create(t,n.op)}function dO(n){return n instanceof kn?`${(e=n).field.canonicalString()} ${e.op} ${L_(e.value)}`:n instanceof hr?function(e){return e.op.toString()+" {"+e.getFilters().map(dO).join(" ,")+"}"}(n):"Filter";var e}class FV extends kn{constructor(e,t,r){super(e,t,r),this.key=pt.fromName(r.referenceValue)}matches(e){const t=pt.comparator(e.key,this.key);return this.matchesComparison(t)}}class LV extends kn{constructor(e,t){super(e,"in",t),this.keys=hO(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class UV extends kn{constructor(e,t){super(e,"not-in",t),this.keys=hO(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function hO(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>pt.fromName(r.referenceValue))}class VV extends kn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return r0(t)&&n0(t.arrayValue,this.value)}}class fO extends kn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&n0(this.value.arrayValue,t)}}class BV extends kn{constructor(e,t){super(e,"not-in",t)}matches(e){if(n0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!n0(this.value.arrayValue,t)}}class jV extends kn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!r0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>n0(this.value.arrayValue,r))}}class $V{constructor(e,t=null,r=[],i=[],a=null,l=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=f,this.dt=null}}function Ux(n,e=null,t=[],r=[],i=null,a=null,l=null){return new $V(n,e,t,r,i,a,l)}function fm(n){const e=yt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Lx(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Xb(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>L_(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>L_(r)).join(",")),e.dt=t}return e.dt}function s0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!NV(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!lO(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!sO(n.startAt,e.startAt)&&sO(n.endAt,e.endAt)}function NC(n){return pt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function FC(n,e){return n.filters.filter(t=>t instanceof kn&&t.field.isEqual(e))}function pO(n,e,t){let r=PC,i=!0;for(const a of FC(n,e)){let l=PC,f=!0;switch(a.op){case"<":case"<=":l=kV(a.value);break;case"==":case"in":case">=":l=a.value;break;case">":l=a.value,f=!1;break;case"!=":case"not-in":l=PC}nO({value:r,inclusive:i},{value:l,inclusive:f})<0&&(r=l,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];nO({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}function mO(n,e,t){let r=gf,i=!0;for(const a of FC(n,e)){let l=gf,f=!0;switch(a.op){case">=":case">":l=OV(a.value),f=!1;break;case"==":case"in":case"<=":l=a.value;break;case"<":l=a.value,f=!1;break;case"!=":case"not-in":l=gf}rO({value:r,inclusive:i},{value:l,inclusive:f})>0&&(r=l,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];rO({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}class Rd{constructor(e,t=null,r=[],i=[],a=null,l="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=f,this.endAt=_,this.wt=null,this._t=null}}function gO(n,e,t,r,i,a,l,f){return new Rd(n,e,t,r,i,a,l,f)}function B_(n){return new Rd(n)}function _O(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Vx(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function LC(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Bx(n){return null!==n.collectionGroup}function pm(n){const e=yt(n);if(null===e.wt){e.wt=[];const t=LC(e),r=Vx(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new U_(t)),e.wt.push(new U_(mi.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new U_(mi.keyField(),a))}}}return e.wt}function ms(n){const e=yt(n);if(!e._t)if("F"===e.limitType)e._t=Ux(e.path,e.collectionGroup,pm(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of pm(e))t.push(new U_(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new vf(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new vf(e.startAt.position,e.startAt.inclusive):null;e._t=Ux(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function jx(n,e){e.getFirstInequalityField(),LC(n);const t=n.filters.concat([e]);return new Rd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function UC(n,e,t){return new Rd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function a0(n,e){return s0(ms(n),ms(e))&&n.limitType===e.limitType}function yO(n){return`${fm(ms(n))}|lt:${n.limitType}`}function $x(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>dO(r)).join(", ")}]`),Xb(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>L_(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>L_(r)).join(",")),`Target(${t})`}(ms(n))}; limitType=${n.limitType})`}function c0(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):pt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of pm(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,l){const f=oO(i,a,l);return i.inclusive?f<=0:f<0}(t.startAt,pm(t),r)||t.endAt&&!function(i,a,l){const f=oO(i,a,l);return i.inclusive?f>=0:f>0}(t.endAt,pm(t),r)));var t,r}function vO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function bO(n){return(e,t)=>{let r=!1;for(const i of pm(n)){const a=HV(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function HV(n,e,t){const r=n.field.isKeyField()?pt.comparator(e.key,t.key):function(i,a,l){const f=a.data.field(i),_=l.data.field(i);return null!==f&&null!==_?yf(f,_):Dt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Dt()}}class Pd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ff(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return Kk(this.inner)}size(){return this.innerSize}}const zV=new Mr(pt.comparator);function Gs(){return zV}const wO=new Mr(pt.comparator);function l0(...n){let e=wO;for(const t of n)e=e.insert(t.key,t);return e}function EO(n){let e=wO;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function pu(){return u0()}function IO(){return u0()}function u0(){return new Pd(n=>n.toString(),(n,e)=>n.isEqual(e))}const GV=new Mr(pt.comparator),qV=new Br(pt.comparator);function En(...n){let e=qV;for(const t of n)e=e.add(t);return e}const WV=new Br(mn);function Hx(){return WV}function CO(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e0(e)?"-0":e}}function TO(n){return{integerValue:""+n}}function DO(n,e){return jk(e)?TO(e):CO(n,e)}class VC{constructor(){this._=void 0}}function ZV(n,e,t){return n instanceof j_?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&MC(i)&&(i=RC(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof mm?SO(n,e):n instanceof gm?xO(n,e):function(r,i){const a=AO(r,i),l=MO(a)+MO(r.gt);return Ox(a)&&Ox(r.gt)?TO(l):CO(r.serializer,l)}(n,e)}function KV(n,e,t){return n instanceof mm?SO(n,e):n instanceof gm?xO(n,e):t}function AO(n,e){return n instanceof $_?Ox(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class j_ extends VC{}class mm extends VC{constructor(e){super(),this.elements=e}}function SO(n,e){const t=RO(e);for(const r of n.elements)t.some(i=>fu(i,r))||t.push(r);return{arrayValue:{values:t}}}class gm extends VC{constructor(e){super(),this.elements=e}}function xO(n,e){let t=RO(e);for(const r of n.elements)t=t.filter(i=>!fu(i,r));return{arrayValue:{values:t}}}class $_ extends VC{constructor(e,t){super(),this.serializer=e,this.gt=t}}function MO(n){return gi(n.integerValue||n.doubleValue)}function RO(n){return r0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class d0{constructor(e,t){this.field=e,this.transform=t}}class QV{constructor(e,t){this.version=e,this.transformResults=t}}class Jr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jr}static exists(e){return new Jr(void 0,e)}static updateTime(e){return new Jr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function BC(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class jC{}function PO(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new z_(n.key,Jr.none()):new H_(n.key,n.data,Jr.none());{const t=n.data,r=xo.empty();let i=new Br(mi.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);null===l&&a.length>1&&(a=a.popLast(),l=t.field(a)),null===l?r.delete(a):r.set(a,l),i=i.add(a)}return new kd(n.key,r,new zs(i.toArray()),Jr.none())}}function JV(n,e,t){n instanceof H_?function(r,i,a){const l=r.value.clone(),f=NO(r.fieldTransforms,i,a.transformResults);l.setAll(f),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):n instanceof kd?function(r,i,a){if(!BC(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=NO(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(OO(r)),f.setAll(l),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function h0(n,e,t,r){return n instanceof H_?function(i,a,l,f){if(!BC(i.precondition,a))return l;const _=i.value.clone(),v=FO(i.fieldTransforms,f,a);return _.setAll(v),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof kd?function(i,a,l,f){if(!BC(i.precondition,a))return l;const _=FO(i.fieldTransforms,f,a),v=a.data;return v.setAll(OO(i)),v.setAll(_),a.convertToFoundDocument(a.version,v).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(x=>x.field))}(n,e,t,r):(l=t,BC(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l);var a,l}function XV(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=AO(r.transform,i||null);null!=a&&(null===t&&(t=xo.empty()),t.set(r.field,a))}return t||null}function kO(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&N_(t,r,(i,a)=>function YV(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof mm&&r instanceof mm||t instanceof gm&&r instanceof gm?N_(t.elements,r.elements,fu):t instanceof $_&&r instanceof $_?fu(t.gt,r.gt):t instanceof j_&&r instanceof j_);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class H_ extends jC{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class kd extends jC{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function OO(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function NO(n,e,t){const r=new Map;Nt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,f=e.data.field(a.field);r.set(a.field,KV(l,f,t[i]))}return r}function FO(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,ZV(a,l,e))}return r}class z_ extends jC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zx extends jC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Gx{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&JV(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=h0(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=h0(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=IO();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let f=this.applyToLocalView(l,a.mutatedFields);f=t.has(i.key)?null:f;const _=PO(l,f);null!==_&&r.set(i.key,_),l.isValidDocument()||l.convertToNoDocument(Ut.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),En())}isEqual(e){return this.batchId===e.batchId&&N_(this.mutations,e.mutations,(t,r)=>kO(t,r))&&N_(this.baseMutations,e.baseMutations,(t,r)=>kO(t,r))}}class qx{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Nt(e.mutations.length===r.length);let i=GV;const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new qx(e,t,r,i)}}class Wx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class tB{constructor(e,t){this.count=e,this.unchangedNames=t}}var Hi,jn;function LO(n){switch(n){default:return Dt();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0}}function UO(n){if(void 0===n)return Di("GRPC error has no .code"),ye.UNKNOWN;switch(n){case Hi.OK:return ye.OK;case Hi.CANCELLED:return ye.CANCELLED;case Hi.UNKNOWN:return ye.UNKNOWN;case Hi.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case Hi.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case Hi.INTERNAL:return ye.INTERNAL;case Hi.UNAVAILABLE:return ye.UNAVAILABLE;case Hi.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case Hi.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case Hi.NOT_FOUND:return ye.NOT_FOUND;case Hi.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case Hi.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case Hi.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case Hi.ABORTED:return ye.ABORTED;case Hi.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case Hi.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case Hi.DATA_LOSS:return ye.DATA_LOSS;default:return Dt()}}(jn=Hi||(Hi={}))[jn.OK=0]="OK",jn[jn.CANCELLED=1]="CANCELLED",jn[jn.UNKNOWN=2]="UNKNOWN",jn[jn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jn[jn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jn[jn.NOT_FOUND=5]="NOT_FOUND",jn[jn.ALREADY_EXISTS=6]="ALREADY_EXISTS",jn[jn.PERMISSION_DENIED=7]="PERMISSION_DENIED",jn[jn.UNAUTHENTICATED=16]="UNAUTHENTICATED",jn[jn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jn[jn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jn[jn.ABORTED=10]="ABORTED",jn[jn.OUT_OF_RANGE=11]="OUT_OF_RANGE",jn[jn.UNIMPLEMENTED=12]="UNIMPLEMENTED",jn[jn.INTERNAL=13]="INTERNAL",jn[jn.UNAVAILABLE=14]="UNAVAILABLE",jn[jn.DATA_LOSS=15]="DATA_LOSS";class Zx{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return $C}static getOrCreateInstance(){return null===$C&&($C=new Zx),$C}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let $C=null;function VO(){return new TextEncoder}const nB=new k_([4294967295,4294967295],0);function BO(n){const e=VO().encode(n),t=new KU;return t.update(e),new Uint8Array(t.digest())}function jO(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new k_([t,r],0),new k_([i,a],0)]}class Kx{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new f0(`Invalid padding: ${t}`);if(r<0)throw new f0(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new f0(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new f0(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=k_.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(k_.fromNumber(r)));return 1===i.compare(nB)&&(i=new k_([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=BO(e),[r,i]=jO(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);if(!this.At(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Kx(a,i,t);return r.forEach(f=>l.insert(f)),l}insert(e){if(0===this.It)return;const t=BO(e),[r,i]=jO(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class f0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class p0{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,m0.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new p0(Ut.min(),i,new Mr(mn),Gs(),En())}}class m0{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new m0(r,t,En(),En(),En())}}class HC{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class $O{constructor(e,t){this.targetId=e,this.Vt=t}}class HO{constructor(e,t,r=Zi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class zO{constructor(){this.St=0,this.Dt=qO(),this.Ct=Zi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=En(),t=En(),r=En();return this.Dt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Dt()}}),new m0(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=qO()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class rB{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Gs(),this.zt=GO(),this.Wt=new Mr(mn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:Dt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,a=this.se(r);if(a){const l=a.target;if(NC(l))if(0===i){const f=new pt(l.path);this.Yt(r,f,jr.newNoDocument(f,Ut.min()))}else Nt(1===i);else{const f=this.ie(r);if(f!==i){const _=this.re(e,f);0!==_&&(this.ee(r),this.Wt=this.Wt.insert(r,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Zx.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(v,x,k){var z,q,ee,ae,fe,je;const tt={localCacheCount:x,existenceFilterCount:k.count},Xe=k.unchangedNames;return Xe&&(tt.bloomFilter={applied:0===v,hashCount:null!==(z=Xe?.hashCount)&&void 0!==z?z:0,bitmapLength:null!==(ae=null===(ee=null===(q=Xe?.bits)||void 0===q?void 0:q.bitmap)||void 0===ee?void 0:ee.length)&&void 0!==ae?ae:0,padding:null!==(je=null===(fe=Xe?.bits)||void 0===fe?void 0:fe.padding)&&void 0!==je?je:0}),tt}(_,f,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:l=0},hashCount:f=0}=r;let _,v;try{_=Md(a).toUint8Array()}catch(x){if(x instanceof Qk)return hc("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw x}try{v=new Kx(_,l,f)}catch(x){return hc(x instanceof f0?"BloomFilter error: ":"Applying bloom filter failed: ",x),1}return 0===v.It?1:i!==t-this.oe(e.targetId,v)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(a=>{const l=this.Gt.ue(),f=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.vt(f)||(this.Yt(e,a,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((a,l)=>{const f=this.se(l);if(f){if(a.current&&NC(f.target)){const _=new pt(f.target.path);null!==this.jt.get(_)||this.ae(l,_)||this.Yt(l,_,jr.newNoDocument(_,e))}a.Mt&&(t.set(l,a.Ot()),a.Ft())}});let r=En();this.zt.forEach((a,l)=>{let f=!0;l.forEachWhile(_=>{const v=this.se(_);return!v||"TargetPurposeLimboResolution"===v.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.jt.forEach((a,l)=>l.setReadTime(e));const i=new p0(e,t,this.Wt,this.jt,r);return this.jt=Gs(),this.zt=GO(),this.Wt=new Mr(mn),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new zO,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Br(mn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ze("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new zO),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function GO(){return new Mr(pt.comparator)}function qO(){return new Mr(pt.comparator)}const iB={asc:"ASCENDING",desc:"DESCENDING"},oB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sB={and:"AND",or:"OR"};class aB{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Yx(n,e){return n.useProto3Json||Xb(e)?e:{value:e}}function G_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WO(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function cB(n,e){return G_(n,e.toTimestamp())}function Ai(n){return Nt(!!n),Ut.fromTimestamp(function(e){const t=pf(e);return new Qr(t.seconds,t.nanos)}(n))}function Qx(n,e){return(t=n,new Bn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ZO(n){const e=Bn.fromString(n);return Nt(rN(e)),e}function g0(n,e){return Qx(n.databaseId,e.path)}function mu(n,e){const t=ZO(e);if(t.get(1)!==n.databaseId.projectId)throw new Be(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Be(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new pt(YO(t))}function Jx(n,e){return Qx(n.databaseId,e)}function KO(n){const e=ZO(n);return 4===e.length?Bn.emptyPath():YO(e)}function _0(n){return new Bn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function YO(n){return Nt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function QO(n,e,t){return{name:g0(n,e),fields:t.value.mapValue.fields}}function JO(n,e,t){const r=mu(n,e.name),i=Ai(e.updateTime),a=e.createTime?Ai(e.createTime):Ut.min(),l=new xo({mapValue:{fields:e.fields}}),f=jr.newFoundDocument(r,i,a,l);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function y0(n,e){let t;if(e instanceof H_)t={update:QO(n,e.key,e.value)};else if(e instanceof z_)t={delete:g0(n,e.key)};else if(e instanceof kd)t={update:QO(n,e.key,e.data),updateMask:gB(e.fieldMask)};else{if(!(e instanceof zx))return Dt();t={verify:g0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof j_)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof mm)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof gm)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof $_)return{fieldPath:a.field.canonicalString(),increment:l.gt};throw Dt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:cB(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Dt()),t;var i}function Xx(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Jr.updateTime(Ai(i.updateTime)):void 0!==i.exists?Jr.exists(i.exists):Jr.none():Jr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,l){let f=null;"setToServerValue"in l?(Nt("REQUEST_TIME"===l.setToServerValue),f=new j_):"appendMissingElements"in l?f=new mm(l.appendMissingElements.values||[]):"removeAllFromArray"in l?f=new gm(l.removeAllFromArray.values||[]):"increment"in l?f=new $_(a,l.increment):Dt();const _=mi.fromServerFormat(l.fieldPath);return new d0(_,f)}(n,i)):[];var i;if(e.update){const i=mu(n,e.update.name),a=new xo({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new zs((e.updateMask.fieldPaths||[]).map(v=>mi.fromServerFormat(v)));return new kd(i,a,l,t,r)}return new H_(i,a,t,r)}if(e.delete){const i=mu(n,e.delete);return new z_(i,t)}if(e.verify){const i=mu(n,e.verify);return new zx(i,t)}return Dt()}function XO(n,e){return{documents:[Jx(n,e.path)]}}function eM(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Jx(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Jx(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0!==_.length)return nN(hr.create(_,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(v=>{return{field:bf((x=v).field),direction:fB(x.dir)};var x})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const l=Yx(n,e.limit);var f,_;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function eN(n){let e=KO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Nt(1===r);const x=t.from[0];x.allDescendants?i=x.collectionId:e=e.child(x.collectionId)}let a=[];t.where&&(a=function(x){const k=tN(x);return k instanceof hr&&Fx(k)?k.getFilters():[k]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(x=>{return new U_(q_((k=x).field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction));var k}));let f=null;t.limit&&(f=function(x){let k;return k="object"==typeof x?x.value:x,Xb(k)?null:k}(t.limit));let _=null;var x;t.startAt&&(_=new vf((x=t.startAt).values||[],!!x.before));let v=null;return t.endAt&&(v=function(x){return new vf(x.values||[],!x.before)}(t.endAt)),gO(e,i,l,a,f,"F",_,v)}function tN(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=q_(e.unaryFilter.field);return kn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=q_(e.unaryFilter.field);return kn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=q_(e.unaryFilter.field);return kn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=q_(e.unaryFilter.field);return kn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Dt()}}(n):void 0!==n.fieldFilter?kn.create(q_((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return hr.create(e.compositeFilter.filters.map(t=>tN(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Dt()}}(e.compositeFilter.op))}(n):Dt();var e}function fB(n){return iB[n]}function pB(n){return oB[n]}function mB(n){return sB[n]}function bf(n){return{fieldPath:n.canonicalString()}}function q_(n){return mi.fromServerFormat(n.fieldPath)}function nN(n){return n instanceof kn?function(e){if("=="===e.op){if(eO(e.value))return{unaryFilter:{field:bf(e.field),op:"IS_NAN"}};if(Xk(e.value))return{unaryFilter:{field:bf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(eO(e.value))return{unaryFilter:{field:bf(e.field),op:"IS_NOT_NAN"}};if(Xk(e.value))return{unaryFilter:{field:bf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bf(e.field),op:pB(e.op),value:e.value}}}(n):n instanceof hr?function(e){const t=e.getFilters().map(r=>nN(r));return 1===t.length?t[0]:{compositeFilter:{op:mB(e.op),filters:t}}}(n):Dt()}function gB(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rN(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Od{constructor(e,t,r,i,a=Ut.min(),l=Ut.min(),f=Zi.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=_}withSequenceNumber(e){return new Od(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Od(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Od(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Od(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class iN{constructor(e){this.fe=e}}function oN(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:zC(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:g0(i=n.fe,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:G_(i,a.version.toTimestamp()),createTime:G_(i,a.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:_m(e.version)};else{if(!e.isUnknownDocument())return Dt();r.unknownDocument={path:t.path.toArray(),version:_m(e.version)}}var i,a;return r}function zC(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function _m(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ym(n){const e=new Qr(n.seconds,n.nanoseconds);return Ut.fromTimestamp(e)}function vm(n,e){const t=(e.baseMutations||[]).map(a=>Xx(n.fe,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const r=e.mutations.map(a=>Xx(n.fe,a)),i=Qr.fromMillis(e.localWriteTimeMs);return new Gx(e.batchId,i,t,r)}function v0(n){const e=ym(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?ym(n.lastLimboFreeSnapshotVersion):Ut.min();let r;var i;return void 0!==n.query.documents?(Nt(1===(i=n.query).documents.length),r=ms(B_(KO(i.documents[0])))):r=ms(eN(n.query)),new Od(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Zi.fromBase64String(n.resumeToken))}function sN(n,e){const t=_m(e.snapshotVersion),r=_m(e.lastLimboFreeSnapshotVersion);let i;i=NC(e.target)?XO(n.fe,e.target):eM(n.fe,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fm(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function tM(n){const e=eN({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?UC(e,e.limit,"L"):e}function nM(n,e){return new Wx(e.largestBatchId,Xx(n.fe,e.overlayMutation))}function aN(n,e){const t=e.path.lastSegment();return[n,Wo(e.path.popLast()),t]}function cN(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:_m(r.readTime),documentKey:Wo(r.documentKey.path),largestBatchId:r.largestBatchId}}class yB{getBundleMetadata(e,t){return lN(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:ym(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return lN(e).put({bundleId:(r=t).id,createTime:_m(Ai(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return uN(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:tM(i.bundledQuery),readTime:ym(i.readTime)};var i})}saveNamedQuery(e,t){return uN(e).put({name:(r=t).name,readTime:_m(Ai(r.readTime)),bundledQuery:r.bundledQuery});var r}}function lN(n){return uo(n,"bundles")}function uN(n){return uo(n,"namedQueries")}class GC{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new GC(e,t.uid||"")}getOverlay(e,t){return b0(e).get(aN(this.userId,t)).next(r=>r?nM(this.serializer,r):null)}getOverlays(e,t){const r=pu();return he.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,l)=>{const f=new Wx(t,l);i.push(this.we(e,f))}),he.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(Wo(l.getCollectionPath())));const a=[];return i.forEach(l=>{const f=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);a.push(b0(e).J("collectionPathOverlayIndex",f))}),he.waitFor(a)}getOverlaysForCollection(e,t,r){const i=pu(),a=Wo(t),l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return b0(e).j("collectionPathOverlayIndex",l).next(f=>{for(const _ of f){const v=nM(this.serializer,_);i.set(v.getKey(),v)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=pu();let l;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return b0(e).X({index:"collectionGroupOverlayIndex",range:f},(_,v,x)=>{const k=nM(this.serializer,v);a.size()<i||k.largestBatchId===l?(a.set(k.getKey(),k),l=k.largestBatchId):x.done()}).next(()=>a)}we(e,t){return b0(e).put(function(r,i,a){const[l,f,_]=aN(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:y0(r.fe,a.mutation)}}(this.serializer,this.userId,t))}}function b0(n){return uo(n,"documentOverlays")}class bm{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(gi(e.integerValue));else if("doubleValue"in e){const r=gi(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),e0(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Md(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?tO(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Dt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),pt.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function vB(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function dN(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=vB(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}bm.Ve=new bm;class bB{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=dN(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=dN(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class wB{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class EB{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class w0{constructor(){this.je=new bB,this.ze=new wB(this.je),this.We=new EB(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class wm{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new wm(this.indexId,this.documentKey,this.arrayValue,r)}}function wf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=hN(n.arrayValue,e.arrayValue),0!==t?t:(t=hN(n.directionalValue,e.directionalValue),0!==t?t:pt.comparator(n.documentKey,e.documentKey)))}function hN(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class IB{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){Nt(e.collectionGroup===this.collectionId);const t=Sx(e);if(void 0!==t&&!this.en(t))return!1;const r=um(e);let i=0,a=0;for(;i<r.length&&this.en(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Ze){const l=r[i];if(!this.nn(this.Ze,l)||!this.sn(this.Ye[a++],l))return!1;++i}for(;i<r.length;++i)if(a>=this.Ye.length||!this.sn(this.Ye[a++],r[i]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function fN(n){var e,t;if(Nt(n instanceof kn||n instanceof hr),n instanceof kn){if(n instanceof fO){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>kn.create(n.field,"==",a)))||[];return hr.create(i,"or")}return n}const r=n.filters.map(i=>fN(i));return hr.create(r,n.op)}function CB(n){if(0===n.getFilters().length)return[];const e=oM(fN(n));return Nt(pN(e)),rM(e)||iM(e)?[e]:e.getFilters()}function rM(n){return n instanceof kn}function iM(n){return n instanceof hr&&Fx(n)}function pN(n){return rM(n)||iM(n)||function(e){if(e instanceof hr&&Nx(e)){for(const t of e.getFilters())if(!rM(t)&&!iM(t))return!1;return!0}return!1}(n)}function oM(n){if(Nt(n instanceof kn||n instanceof hr),n instanceof kn)return n;if(1===n.filters.length)return oM(n.filters[0]);const e=n.filters.map(r=>oM(r));let t=hr.create(e,n.op);return t=qC(t),pN(t)?t:(Nt(t instanceof hr),Nt(V_(t)),Nt(t.filters.length>1),t.filters.reduce((r,i)=>sM(r,i)))}function sM(n,e){let t;return Nt(n instanceof kn||n instanceof hr),Nt(e instanceof kn||e instanceof hr),t=n instanceof kn?e instanceof kn?hr.create([n,e],"and"):mN(n,e):e instanceof kn?mN(e,n):function(r,i){if(Nt(r.filters.length>0&&i.filters.length>0),V_(r)&&V_(i))return uO(r,i.getFilters());const a=Nx(r)?r:i,l=Nx(r)?i:r,f=a.filters.map(_=>sM(_,l));return hr.create(f,"or")}(n,e),qC(t)}function mN(n,e){if(V_(e))return uO(e,n.getFilters());{const t=e.filters.map(r=>sM(n,r));return hr.create(t,"or")}}function qC(n){if(Nt(n instanceof kn||n instanceof hr),n instanceof kn)return n;const e=n.getFilters();if(1===e.length)return qC(e[0]);if(cO(n))return n;const t=e.map(i=>qC(i)),r=[];return t.forEach(i=>{i instanceof kn?r.push(i):i instanceof hr&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:hr.create(r,n.op)}class TB{constructor(){this.rn=new aM}addToCollectionParentIndex(e,t){return this.rn.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(Ca.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(Ca.min())}updateCollectionGroup(e,t,r){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class aM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Br(Bn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Br(Bn.comparator)).toArray()}}const WC=new Uint8Array(0);class DB{constructor(e,t){this.user=e,this.databaseId=t,this.on=new aM,this.un=new Pd(r=>fm(r),(r,i)=>s0(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const a={collectionId:r,parent:Wo(i)};return gN(e).put(a)}return he.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Nk(t),""],!1,!0);return gN(e).j(i).next(a=>{for(const l of a){if(l.collectionId!==t)break;r.push(hu(l.parent))}return r})}addFieldIndex(e,t){const r=ZC(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var l;delete i.indexId;const a=r.add(i);if(t.indexState){const l=I0(e);return a.next(f=>{l.put(cN(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=ZC(e),i=I0(e),a=E0(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=E0(e);let i=!0;const a=new Map;return he.forEach(this.cn(t),l=>this.an(e,l).next(f=>{i&&(i=!!f),a.set(l,f)})).next(()=>{if(i){let l=En();const f=[];return he.forEach(a,(_,v)=>{var x;Ze("IndexedDbIndexManager",`Using index ${x=_,`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(Xe=>`${Xe.fieldPath}:${Xe.kind}`).join(",")}`} to execute ${fm(t)}`);const k=function(Xe,it){const Bt=Sx(it);if(void 0===Bt)return null;for(const Wt of FC(Xe,Bt.fieldPath))switch(Wt.op){case"array-contains-any":return Wt.value.arrayValue.values||[];case"array-contains":return[Wt.value]}return null}(v,_),z=function(Xe,it){const Bt=new Map;for(const Wt of um(it))for(const Nn of FC(Xe,Wt.fieldPath))switch(Nn.op){case"==":case"in":Bt.set(Wt.fieldPath.canonicalString(),Nn.value);break;case"not-in":case"!=":return Bt.set(Wt.fieldPath.canonicalString(),Nn.value),Array.from(Bt.values())}return null}(v,_),q=function(Xe,it){const Bt=[];let Wt=!0;for(const Nn of um(it)){const oi=0===Nn.kind?pO(Xe,Nn.fieldPath,Xe.startAt):mO(Xe,Nn.fieldPath,Xe.startAt);Bt.push(oi.value),Wt&&(Wt=oi.inclusive)}return new vf(Bt,Wt)}(v,_),ee=function(Xe,it){const Bt=[];let Wt=!0;for(const Nn of um(it)){const oi=0===Nn.kind?mO(Xe,Nn.fieldPath,Xe.endAt):pO(Xe,Nn.fieldPath,Xe.endAt);Bt.push(oi.value),Wt&&(Wt=oi.inclusive)}return new vf(Bt,Wt)}(v,_),ae=this.hn(_,v,q),fe=this.hn(_,v,ee),je=this.ln(_,v,z),tt=this.fn(_.indexId,k,ae,q.inclusive,fe,ee.inclusive,je);return he.forEach(tt,Xe=>r.H(Xe,t.limit).next(it=>{it.forEach(Bt=>{const Wt=pt.fromSegments(Bt.documentKey);l.has(Wt)||(l=l.add(Wt),f.push(Wt))})}))}).next(()=>f)}return he.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:CB(hr.create(e.filters,"and")).map(r=>Ux(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,a,l,f){const _=(null!=t?t.length:1)*Math.max(r.length,a.length),v=_/(null!=t?t.length:1),x=[];for(let k=0;k<_;++k){const z=t?this.dn(t[k/v]):WC,q=this.wn(e,z,r[k%v],i),ee=this._n(e,z,a[k%v],l),ae=f.map(fe=>this.wn(e,z,fe,!0));x.push(...this.createRange(q,ee,ae))}return x}wn(e,t,r,i){const a=new wm(e,pt.empty(),t,r);return i?a:a.Je()}_n(e,t,r,i){const a=new wm(e,pt.empty(),t,r);return i?a.Je():a}an(e,t){const r=new IB(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let l=null;for(const f of a)r.tn(f)&&(!l||f.fields.length>l.fields.length)&&(l=f);return l})}getIndexType(e,t){let r=2;const i=this.cn(t);return he.forEach(i,a=>this.an(e,a).next(l=>{l?0!==r&&l.fields.length<function(f){let _=new Br(mi.comparator),v=!1;for(const x of f.filters)for(const k of x.getFlattenedFilters())k.field.isKeyField()||("array-contains"===k.op||"array-contains-any"===k.op?v=!0:_=_.add(k.field));for(const x of f.orderBy)x.field.isKeyField()||(_=_.add(x.field));return _.size+(v?1:0)}(a)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}mn(e,t){const r=new w0;for(const i of um(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const l=r.He(i.kind);bm.Ve._e(a,l)}return r.Qe()}dn(e){const t=new w0;return bm.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new w0;return bm.Ve._e(hm(this.databaseId,t),r.He(function(i){const a=um(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let i=[];i.push(new w0);let a=0;for(const l of um(e)){const f=r[a++];for(const _ of i)if(this.yn(t,l.fieldPath)&&r0(f))i=this.pn(i,l,f);else{const v=_.He(l.kind);bm.Ve._e(f,v)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],a=[];for(const l of r.arrayValue.values||[])for(const f of i){const _=new w0;_.seed(f.Qe()),bm.Ve._e(l,_.He(t.kind)),a.push(_)}return a}yn(e,t){return!!e.filters.find(r=>r instanceof kn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=ZC(e),i=I0(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(a=>{const l=[];return he.forEach(a,f=>i.get([f.indexId,this.uid]).next(_=>{l.push(function(v,x){const k=x?new Qb(x.sequenceNumber,new Ca(ym(x.readTime),new pt(hu(x.documentKey)),x.largestBatchId)):Qb.empty(),z=v.fields.map(([q,ee])=>new DC(mi.fromServerFormat(q),ee));return new TC(v.indexId,v.collectionGroup,z,k)}(f,_))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:mn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=ZC(e),a=I0(e);return this.Tn(e).next(l=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>he.forEach(f,_=>a.put(cN(_.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return he.forEach(t,(i,a)=>{const l=r.get(i.collectionGroup);return(l?he.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),he.forEach(f,_=>this.En(e,i,_).next(v=>{const x=this.An(a,_);return v.isEqual(x)?he.resolve():this.vn(e,a,_,v,x)}))))})}Rn(e,t,r,i){return E0(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return E0(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=E0(e);let a=new Br(wf);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(l,f)=>{a=a.add(new wm(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}An(e,t){let r=new Br(wf);const i=this.mn(t,e);if(null==i)return r;const a=Sx(t);if(null!=a){const l=e.data.field(a.fieldPath);if(r0(l))for(const f of l.arrayValue.values||[])r=r.add(new wm(t.indexId,e.key,this.dn(f),i))}else r=r.add(new wm(t.indexId,e.key,WC,i));return r}vn(e,t,r,i,a){Ze("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(f,_,v,x,k){const z=f.getIterator(),q=_.getIterator();let ee=F_(z),ae=F_(q);for(;ee||ae;){let fe=!1,je=!1;if(ee&&ae){const tt=v(ee,ae);tt<0?je=!0:tt>0&&(fe=!0)}else null!=ee?je=!0:fe=!0;fe?(x(ae),ae=F_(q)):je?(k(ee),ee=F_(z)):(ee=F_(z),ae=F_(q))}}(i,a,wf,f=>{l.push(this.Rn(e,t,r,f))},f=>{l.push(this.Pn(e,t,r,f))}),he.waitFor(l)}Tn(e){let t=1;return I0(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,f)=>wf(l,f)).filter((l,f,_)=>!f||0!==wf(l,_[f-1]));const i=[];i.push(e);for(const l of r){const f=wf(l,e),_=wf(l,t);if(0===f)i[0]=e.Je();else if(f>0&&_<0)i.push(l),i.push(l.Je());else if(_>0)break}i.push(t);const a=[];for(let l=0;l<i.length;l+=2){if(this.bn(i[l],i[l+1]))return[];a.push(IDBKeyRange.bound([i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,WC,[]],[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,WC,[]]))}return a}bn(e,t){return wf(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(_N)}getMinOffset(e,t){return he.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||Dt())).next(_N)}}function gN(n){return uo(n,"collectionParents")}function E0(n){return uo(n,"indexEntries")}function ZC(n){return uo(n,"indexConfiguration")}function I0(n){return uo(n,"indexState")}function _N(n){Nt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;xx(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Ca(e.readTime,e.documentKey,t)}const yN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Zo(e,Zo.DEFAULT_COLLECTION_PERCENTILE,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function vN(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],l=IDBKeyRange.only(t.batchId);let f=0;const _=r.X({range:l},(x,k,z)=>(f++,z.delete()));a.push(_.next(()=>{Nt(1===f)}));const v=[];for(const x of t.mutations){const k=zk(e,x.key.path,t.batchId);a.push(i.delete(k)),v.push(x.key)}return he.waitFor(a).next(()=>v)}function KC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Dt();e=n.noDocument}return JSON.stringify(e).length}Zo.DEFAULT_COLLECTION_PERCENTILE=10,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zo.DEFAULT=new Zo(41943040,Zo.DEFAULT_COLLECTION_PERCENTILE,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zo.DISABLED=new Zo(-1,0,0);class YC{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){Nt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new YC(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ef(e).X({index:"userMutationsIndex",range:r},(i,a,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=W_(e),l=Ef(e);return l.add({}).next(f=>{Nt("number"==typeof f);const _=new Gx(f,t,r,i),v=function(z,q,ee){const ae=ee.baseMutations.map(je=>y0(z.fe,je)),fe=ee.mutations.map(je=>y0(z.fe,je));return{userId:q,batchId:ee.batchId,localWriteTimeMs:ee.localWriteTime.toMillis(),baseMutations:ae,mutations:fe}}(this.serializer,this.userId,_),x=[];let k=new Br((z,q)=>mn(z.canonicalString(),q.canonicalString()));for(const z of i){const q=zk(this.userId,z.key.path,f);k=k.add(z.key.path.popLast()),x.push(l.put(v)),x.push(a.put(q,fV))}return k.forEach(z=>{x.push(this.indexManager.addToCollectionParentIndex(e,z))}),e.addOnCommittedListener(()=>{this.Vn[f]=_.keys()}),he.waitFor(x).next(()=>_)})}lookupMutationBatch(e,t){return Ef(e).get(t).next(r=>r?(Nt(r.userId===this.userId),vm(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?he.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Ef(e).X({index:"userMutationsIndex",range:i},(l,f,_)=>{f.userId===this.userId&&(Nt(f.batchId>=r),a=vm(this.serializer,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ef(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,a,l)=>{r=a.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ef(e).j("userMutationsIndex",t).next(r=>r.map(i=>vm(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=SC(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return W_(e).X({range:i},(l,f,_)=>{const[v,x,k]=l,z=hu(x);if(v===this.userId&&t.path.isEqual(z))return Ef(e).get(k).next(q=>{if(!q)throw Dt();Nt(q.userId===this.userId),a.push(vm(this.serializer,q))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Br(mn);const i=[];return t.forEach(a=>{const l=SC(this.userId,a.path),f=IDBKeyRange.lowerBound(l),_=W_(e).X({range:f},(v,x,k)=>{const[z,q,ee]=v,ae=hu(q);z===this.userId&&a.path.isEqual(ae)?r=r.add(ee):k.done()});i.push(_)}),he.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=SC(this.userId,r),l=IDBKeyRange.lowerBound(a);let f=new Br(mn);return W_(e).X({range:l},(_,v,x)=>{const[k,z,q]=_,ee=hu(z);k===this.userId&&r.isPrefixOf(ee)?ee.length===i&&(f=f.add(q)):x.done()}).next(()=>this.Dn(e,f))}Dn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Ef(e).get(a).next(l=>{if(null===l)throw Dt();Nt(l.userId===this.userId),r.push(vm(this.serializer,l))}))}),he.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return vN(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),he.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return he.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return W_(e).X({range:r},(a,l,f)=>{if(a[0]===this.userId){const _=hu(a[1]);i.push(_)}else f.done()}).next(()=>{Nt(0===i.length)})})}containsKey(e,t){return bN(e,this.userId,t)}xn(e){return wN(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function bN(n,e,t){const r=SC(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let l=!1;return W_(n).X({range:a,Y:!0},(f,_,v)=>{const[x,k,z]=f;x===e&&k===i&&(l=!0),v.done()}).next(()=>l)}function Ef(n){return uo(n,"mutations")}function W_(n){return uo(n,"documentMutations")}function wN(n){return uo(n,"mutationQueues")}class Em{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Em(0)}static Mn(){return new Em(-1)}}class AB{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new Em(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Ut.fromTimestamp(new Qr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Z_(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(Nt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return Z_(e).X((l,f)=>{const _=v0(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,a.push(this.removeTargetData(e,_)))}).next(()=>he.waitFor(a)).next(()=>i)}forEachTarget(e,t){return Z_(e).X((r,i)=>{const a=v0(i);t(a)})}$n(e){return EN(e).get("targetGlobalKey").next(t=>(Nt(null!==t),t))}On(e,t){return EN(e).put("targetGlobalKey",t)}Fn(e,t){return Z_(e).put(sN(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=fm(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Z_(e).X({range:i,index:"queryTargetsIndex"},(l,f,_)=>{const v=v0(f);s0(t,v.target)&&(a=v,_.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=If(e);return t.forEach(l=>{const f=Wo(l.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,l))}),he.waitFor(i)}removeMatchingKeys(e,t,r){const i=If(e);return he.forEach(t,a=>{const l=Wo(a.path);return he.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=If(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=If(e);let a=En();return i.X({range:r,Y:!0},(l,f,_)=>{const v=hu(l[1]),x=new pt(v);a=a.add(x)}).next(()=>a)}containsKey(e,t){const r=Wo(t.path),i=IDBKeyRange.bound([r],[Nk(r)],!1,!0);let a=0;return If(e).X({index:"documentTargetsIndex",Y:!0,range:i},([l,f],_,v)=>{0!==l&&(a++,v.done())}).next(()=>a>0)}le(e,t){return Z_(e).get(t).next(r=>r?v0(r):null)}}function Z_(n){return uo(n,"targets")}function EN(n){return uo(n,"targetGlobal")}function If(n){return uo(n,"targetDocuments")}function IN([n,e],[t,r]){const i=mn(n,t);return 0===i?mn(e,r):i}class SB{constructor(e){this.Ln=e,this.buffer=new Br(IN),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();IN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class CN{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Ze("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,be.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){hf(r)?Ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield df(r)}yield t.Qn(3e5)}))}}class xB{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return he.resolve(Ta.ct);const r=new SB(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(yN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yN):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,a,l,f,_,v;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(k=>(k>this.params.maximumSequenceNumbersToCollect?(Ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),i=this.params.maximumSequenceNumbersToCollect):i=k,l=Date.now(),this.nthSequenceNumber(e,i))).next(k=>(r=k,f=Date.now(),this.removeTargets(e,r,t))).next(k=>(a=k,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(k=>(v=Date.now(),Dx()<=cu.in.DEBUG&&Ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-x}ms\n\tDetermined least recently used ${i} in `+(f-l)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${k} documents in `+(v-_)+`ms\nTotal Duration: ${v-x}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:k})))}}class MB{constructor(e,t){this.db=e,this.garbageCollector=function TN(n,e){return new xB(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return QC(e,r)}removeReference(e,t,r){return QC(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return QC(e,t)}Xn(e,t){return function(r,i){let a=!1;return wN(r).Z(l=>bN(r,l,i).next(f=>(f&&(a=!0),he.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Yn(e,(l,f)=>{if(f<=t){const _=this.Xn(e,l).next(v=>{if(!v)return a++,r.getEntry(e,l).next(()=>(r.removeEntry(l,Ut.min()),If(e).delete([0,Wo(l.path)])))});i.push(_)}}).next(()=>he.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return QC(e,t)}Yn(e,t){const r=If(e);let i,a=Ta.ct;return r.X({index:"documentTargetsIndex"},([l,f],{path:_,sequenceNumber:v})=>{0===l?(a!==Ta.ct&&t(new pt(hu(i)),a),a=v,i=_):a=Ta.ct}).next(()=>{a!==Ta.ct&&t(new pt(hu(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function QC(n,e){return If(n).put((r=n.currentSequenceNumber,{targetId:0,path:Wo(e.path),sequenceNumber:r}));var r}class DN{constructor(){this.changes=new Pd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?he.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class RB{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Im(e).put(r)}removeEntry(e,t,r){return Im(e).delete(function(i,a){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],zC(a),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=jr.newInvalidDocument(t);return Im(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(C0(t))},(i,a)=>{r=this.ts(t,a)}).next(()=>r)}es(e,t){let r={size:0,document:jr.newInvalidDocument(t)};return Im(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(C0(t))},(i,a)=>{r={document:this.ts(t,a),size:KC(a)}}).next(()=>r)}getEntries(e,t){let r=Gs();return this.ns(e,t,(i,a)=>{const l=this.ts(i,a);r=r.insert(i,l)}).next(()=>r)}ss(e,t){let r=Gs(),i=new Mr(pt.comparator);return this.ns(e,t,(a,l)=>{const f=this.ts(a,l);r=r.insert(a,f),i=i.insert(a,KC(l))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return he.resolve();let i=new Br(MN);t.forEach(_=>i=i.add(_));const a=IDBKeyRange.bound(C0(i.first()),C0(i.last())),l=i.getIterator();let f=l.getNext();return Im(e).X({index:"documentKeyIndex",range:a},(_,v,x)=>{const k=pt.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;f&&MN(f,k)<0;)r(f,null),f=l.getNext();f&&f.isEqual(k)&&(r(f,v),f=l.hasNext()?l.getNext():null),f?x.G(C0(f)):x.done()}).next(()=>{for(;f;)r(f,null),f=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const a=t.path,l=[a.popLast().toArray(),a.lastSegment(),zC(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Im(e).j(IDBKeyRange.bound(l,f,!0)).next(_=>{let v=Gs();for(const x of _){const k=this.ts(pt.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);k.isFoundDocument()&&(c0(t,k)||i.has(k.key))&&(v=v.insert(k.key,k))}return v})}getAllFromCollectionGroup(e,t,r,i){let a=Gs();const l=xN(t,r),f=xN(t,Ca.max());return Im(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,f,!0)},(_,v,x)=>{const k=this.ts(pt.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);a=a.insert(k.key,k),a.size===i&&x.done()}).next(()=>a)}newChangeBuffer(e){return new PB(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return SN(e).get("remoteDocumentGlobalKey").next(t=>(Nt(!!t),t))}Zn(e,t){return SN(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function _B(n,e){let t;if(e.document)t=JO(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=pt.fromSegments(e.noDocument.path),i=ym(e.noDocument.readTime);t=jr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Dt();{const r=pt.fromSegments(e.unknownDocument.path),i=ym(e.unknownDocument.version);t=jr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Qr(r[0],r[1]);return Ut.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Ut.min()))return r}return jr.newInvalidDocument(e)}}function AN(n){return new RB(n)}class PB extends DN{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Pd(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Br((a,l)=>mn(a.canonicalString(),l.canonicalString()));return this.changes.forEach((a,l)=>{const f=this.us.get(a);if(t.push(this.os.removeEntry(e,a,f.readTime)),l.isValidDocument()){const _=oN(this.os.serializer,l);i=i.add(a.path.popLast());const v=KC(_);r+=v-f.size,t.push(this.os.addEntry(e,a,_))}else if(r-=f.size,this.trackRemovals){const _=oN(this.os.serializer,l.convertToNoDocument(Ut.min()));t.push(this.os.addEntry(e,a,_))}}),i.forEach(a=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.os.updateMetadata(e,r)),he.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((a,l)=>{this.us.set(a,{size:l,readTime:r.get(a).readTime})}),r))}}function SN(n){return uo(n,"remoteDocumentGlobal")}function Im(n){return uo(n,"remoteDocumentsV14")}function C0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function xN(n,e){const t=e.documentKey.path.toArray();return[n,zC(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function MN(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=mn(t[a],r[a]),i)return i;return i=mn(t.length,r.length),i||(i=mn(t[t.length-2],r[r.length-2]),i||mn(t[t.length-1],r[r.length-1]))}class kB{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class RN{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&h0(r.mutation,i,zs.empty(),Qr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,En()).next(()=>r))}getLocalViewOfDocuments(e,t,r=En()){const i=pu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=l0();return a.forEach((f,_)=>{l=l.insert(f,_.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=pu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,En()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,f)=>{t.set(l,f)})})}computeViews(e,t,r,i){let a=Gs();const l=u0(),f=u0();return t.forEach((_,v)=>{const x=r.get(v.key);i.has(v.key)&&(void 0===x||x.mutation instanceof kd)?a=a.insert(v.key,v):void 0!==x?(l.set(v.key,x.mutation.getFieldMask()),h0(x.mutation,v,x.mutation.getFieldMask(),Qr.now())):l.set(v.key,zs.empty())}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((v,x)=>l.set(v,x)),t.forEach((v,x)=>{var k;return f.set(v,new kB(x,null!==(k=l.get(v))&&void 0!==k?k:null))}),f))}recalculateAndSaveOverlays(e,t){const r=u0();let i=new Mr((l,f)=>l-f),a=En();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const f of l)f.keys().forEach(_=>{const v=t.get(_);if(null===v)return;let x=r.get(_)||zs.empty();x=f.applyToLocalView(v,x),r.set(_,x);const k=(i.get(f.batchId)||En()).add(_);i=i.insert(f.batchId,k)})}).next(()=>{const l=[],f=i.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),v=_.key,x=_.value,k=IO();x.forEach(z=>{if(!a.has(z)){const q=PO(t.get(z),r.get(z));null!==q&&k.set(z,q),a=a.add(z)}}),l.push(this.documentOverlayCache.saveOverlays(e,v,k))}return he.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return pt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Bx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):he.resolve(pu());let f=-1,_=a;return l.next(v=>he.forEach(v,(x,k)=>(f<k.largestBatchId&&(f=k.largestBatchId),a.get(x)?he.resolve():this.remoteDocumentCache.getEntry(e,x).next(z=>{_=_.insert(x,z)}))).next(()=>this.populateOverlays(e,v,a)).next(()=>this.computeViews(e,_,v,En())).next(x=>({batchId:f,changes:EO(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pt(t)).next(r=>{let i=l0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=l0();return this.indexManager.getCollectionParents(e,i).next(l=>he.forEach(l,f=>{const _=(v=t,x=f.child(i),new Rd(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,x;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(v=>{v.forEach((x,k)=>{a=a.insert(x,k)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((f,_)=>{const v=_.getKey();null===a.get(v)&&(a=a.insert(v,jr.newInvalidDocument(v)))});let l=l0();return a.forEach((f,_)=>{const v=i.get(f);void 0!==v&&h0(v.mutation,_,zs.empty(),Qr.now()),c0(t,_)&&(l=l.insert(f,_))}),l})}}class OB{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return he.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Ai(r.createTime)}),he.resolve()}getNamedQuery(e,t){return he.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:tM(r.bundledQuery),readTime:Ai(r.readTime)}),he.resolve();var r}}class NB{constructor(){this.overlays=new Mr(pt.comparator),this.ls=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const r=pu();return he.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.we(e,t,a)}),he.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),he.resolve()}getOverlaysForCollection(e,t,r){const i=pu(),a=t.length+1,l=new pt(t.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const _=f.getNext().value,v=_.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return he.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Mr((v,x)=>v-x);const l=this.overlays.getIterator();for(;l.hasNext();){const v=l.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let x=a.get(v.largestBatchId);null===x&&(x=pu(),a=a.insert(v.largestBatchId,x)),x.set(v.getKey(),v)}}const f=pu(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,x)=>f.set(v,x)),!(f.size()>=i)););return he.resolve(f)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Wx(t,r));let a=this.ls.get(t);void 0===a&&(a=En(),this.ls.set(t,a)),this.ls.set(t,a.add(r.key))}}class cM{constructor(){this.fs=new Br(ho.ds),this.ws=new Br(ho._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new ho(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new ho(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new pt(new Bn([])),r=new ho(t,e),i=new ho(t,e+1),a=[];return this.ws.forEachInRange([r,i],l=>{this.ys(l),a.push(l.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new pt(new Bn([])),r=new ho(t,e),i=new ho(t,e+1);let a=En();return this.ws.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new ho(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ho{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return pt.comparator(e.key,t.key)||mn(e.As,t.As)}static _s(e,t){return mn(e.As,t.As)||pt.comparator(e.key,t.key)}}class FB{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Br(ho.ds)}checkEmpty(e){return he.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.vs;this.vs++;const l=new Gx(a,t,r,i);this.mutationQueue.push(l);for(const f of i)this.Rs=this.Rs.add(new ho(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return he.resolve(l)}lookupMutationBatch(e,t){return he.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),a=i<0?0:i;return he.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ho(t,0),i=new ho(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],l=>{const f=this.Ps(l.As);a.push(f)}),he.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Br(mn);return t.forEach(i=>{const a=new ho(i,0),l=new ho(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,l],f=>{r=r.add(f.As)})}),he.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;pt.isDocumentKey(a)||(a=a.child(""));const l=new ho(new pt(a),0);let f=new Br(mn);return this.Rs.forEachWhile(_=>{const v=_.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(f=f.add(_.As)),!0)},l),he.resolve(this.Vs(f))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Nt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return he.forEach(t.mutations,i=>{const a=new ho(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new ho(t,0),i=this.Rs.firstAfterOrEqual(r);return he.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return he.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class LB{constructor(e){this.Ds=e,this.docs=new Mr(pt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return he.resolve(r?r.document.mutableCopy():jr.newInvalidDocument(t))}getEntries(e,t){let r=Gs();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():jr.newInvalidDocument(i))}),he.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Gs();const l=t.path,f=new pt(l.child("")),_=this.docs.getIteratorFrom(f);for(;_.hasNext();){const{key:v,value:{document:x}}=_.getNext();if(!l.isPrefixOf(v.path))break;v.path.length>l.length+1||xx(Lk(x),r)<=0||(i.has(x.key)||c0(t,x))&&(a=a.insert(x.key,x.mutableCopy()))}return he.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Dt()}Cs(e,t){return he.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new UB(this)}getSize(e){return he.resolve(this.size)}}class UB extends DN{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),he.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class VB{constructor(e){this.persistence=e,this.xs=new Pd(t=>fm(t),s0),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.Ns=0,this.ks=new cM,this.targetCount=0,this.Ms=Em.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),he.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Em(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.Fn(t),he.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.xs.forEach((l,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.xs.delete(l),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),he.waitFor(a).next(()=>i)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return he.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),he.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),he.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),he.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return he.resolve(r)}containsKey(e,t){return he.resolve(this.ks.containsKey(t))}}class lM{constructor(e,t){this.$s={},this.overlays={},this.Os=new Ta(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new VB(this),this.indexManager=new TB,this.remoteDocumentCache=new LB(r=>this.referenceDelegate.Ls(r)),this.serializer=new iN(t),this.qs=new OB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new NB,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new FB(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Ze("MemoryPersistence","Starting transaction:",e);const i=new BB(this.Os.next());return this.referenceDelegate.Us(),r(i).next(a=>this.referenceDelegate.Ks(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Gs(e,t){return he.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class BB extends Vk{constructor(e){super(),this.currentSequenceNumber=e}}class JC{constructor(e){this.persistence=e,this.Qs=new cM,this.js=null}static zs(e){return new JC(e)}get Ws(){if(this.js)return this.js;throw Dt()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),he.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),he.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.Ws,r=>{const i=pt.fromPath(r);return this.Hs(e,i).next(a=>{a||t.removeEntry(i,Ut.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return he.or([()=>he.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class jB{constructor(e){this.serializer=e}O(e,t,r,i){const a=new AC("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hk,{unique:!0}),f.createObjectStore("documentMutations"),PN(e),function(f){f.createObjectStore("remoteDocuments")}(e));let l=he.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),PN(e)),l=l.next(()=>function(f){const _=f.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ut.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",v)}(a))),r<4&&i>=4&&(0!==r&&(l=l.next(()=>function(f,_){return _.store("mutations").j().next(v=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hk,{unique:!0});const x=_.store("mutations"),k=v.map(z=>x.put(z));return he.waitFor(k)})}(e,a))),l=l.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(l=l.next(()=>this.Ys(a))),r<6&&i>=6&&(l=l.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(a)))),r<7&&i>=7&&(l=l.next(()=>this.Zs(a))),r<8&&i>=8&&(l=l.next(()=>this.ti(e,a))),r<9&&i>=9&&(l=l.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(l=l.next(()=>this.ei(a))),r<11&&i>=11&&(l=l.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(l=l.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:TV});_.createIndex("collectionPathOverlayIndex",DV,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",AV,{unique:!1})}(e)})),r<13&&i>=13&&(l=l.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:pV});_.createIndex("documentKeyIndex",mV),_.createIndex("collectionGroupIndex",gV)}(e)).next(()=>this.ni(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(l=l.next(()=>this.si(e,a))),r<15&&i>=15&&(l=l.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:wV}).createIndex("sequenceNumberIndex",EV,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:IV}).createIndex("documentKeyIndex",CV,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=KC(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>he.forEach(i,a=>{const l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(f=>he.forEach(f,_=>{Nt(_.userId===a.userId);const v=vm(this.serializer,_);return vN(e,a.userId,v).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.X((l,f)=>{const _=new Bn(l),v=[0,Wo(_)];a.push(t.get(v).next(x=>x?he.resolve():t.put({targetId:0,path:Wo(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>he.waitFor(a))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:bV});const r=t.store("collectionParents"),i=new aM,a=l=>{if(i.add(l)){const f=l.lastSegment(),_=l.popLast();return r.put({collectionId:f,parent:Wo(_)})}};return t.store("remoteDocuments").X({Y:!0},(l,f)=>{const _=new Bn(l);return a(_.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,f,_],v)=>{const x=hu(f);return a(x.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const a=v0(i),l=sN(this.serializer,a);return t.put(l)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((a,l)=>{const f=t.store("remoteDocumentsV14"),_=(v=l,v.document?new pt(Bn.fromString(v.document.name).popFirst(5)):v.noDocument?pt.fromSegments(v.noDocument.path):v.unknownDocument?pt.fromSegments(v.unknownDocument.path):Dt()).path.toArray();var v;const x={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(f.put(x))}).next(()=>he.waitFor(i))}si(e,t){const r=t.store("mutations"),i=AN(this.serializer),a=new lM(JC.zs,this.serializer.fe);return r.j().next(l=>{const f=new Map;return l.forEach(_=>{var v;let x=null!==(v=f.get(_.userId))&&void 0!==v?v:En();vm(this.serializer,_).keys().forEach(k=>x=x.add(k)),f.set(_.userId,x)}),he.forEach(f,(_,v)=>{const x=new lo(v),k=GC.de(this.serializer,x),z=a.getIndexManager(x),q=YC.de(x,this.serializer,z,a.referenceDelegate);return new RN(i,q,k,z).recalculateAndSaveOverlaysForDocumentKeys(new Px(t,Ta.ct),_).next()})})}}function PN(n){n.createObjectStore("targetDocuments",{keyPath:yV}).createIndex("documentTargetsIndex",vV,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",_V,{unique:!0}),n.createObjectStore("targetGlobal")}const uM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class dM{constructor(e,t,r,i,a,l,f,_,v,x,k=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=a,this.window=l,this.document=f,this.ri=v,this.oi=x,this.ui=k,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=z=>Promise.resolve(),!dM.D())throw new Be(ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new MB(this,i),this.di=t+"main",this.serializer=new iN(_),this.wi=new al(this.di,this.ui,new jB(this.serializer)),this.Bs=new AB(this.referenceDelegate,this.serializer),this.remoteDocumentCache=AN(this.serializer),this.qs=new yB,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===x&&Di("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Be(ye.FAILED_PRECONDITION,uM);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Ta(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,be.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,be.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,be.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>eT(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(hf(e))return Ze("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return T0(e).get("owner").next(t=>he.resolve(this.Ri(t)))}Pi(e){return eT(e).delete(this.clientId)}bi(){var e=this;return(0,be.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=uo(r,"clientMetadata");return i.j().next(a=>{const l=e.Si(a,18e5),f=a.filter(_=>-1===l.indexOf(_));return he.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?he.resolve(!0):T0(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Be(ye.FAILED_PRECONDITION,uM);return!1}}return!(!this.networkEnabled||!this.inForeground)||eT(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ze("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,be.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Px(t,Ta.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>eT(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return YC.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new DB(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return GC.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){Ze("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(l=this.ui)?xV:14===l?Wk:13===l?qk:12===l?SV:11===l?Gk:void Dt();var l;let f;return this.wi.runTransaction(e,i,a,_=>(f=new Px(_,this.Os?this.Os.next():Ta.ct),"readwrite-primary"===t?this.Ti(f).next(v=>!!v||this.Ei(f)).next(v=>{if(!v)throw Di(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Be(ye.FAILED_PRECONDITION,Uk);return r(f)}).next(v=>this.vi(f).next(()=>v)):this.Oi(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Oi(e){return T0(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Be(ye.FAILED_PRECONDITION,uM)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return T0(e).put("owner",t)}static D(){return al.D()}Ai(e){const t=T0(e);return t.get("owner").next(r=>this.Ri(r)?(Ze("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):he.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Di(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,un.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Ze("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Di("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Di("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function T0(n){return uo(n,"owner")}function eT(n){return uo(n,"clientMetadata")}function hM(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class fM{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=En(),i=En();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new fM(e,t.fromCache,r,i)}}class kN{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(a=>a||this.Gi(e,t,i,r)).next(a=>a||this.Qi(e,t))}Ki(e,t){if(_O(t))return he.resolve(null);let r=ms(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=UC(t,null,"F"),r=ms(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=En(...a);return this.Ui.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,r).next(_=>{const v=this.ji(t,f);return this.zi(t,v,l,_.readTime)?this.Ki(e,UC(t,null,"F")):this.Wi(e,v,t,_)}))})))}Gi(e,t,r,i){return _O(t)||i.isEqual(Ut.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(a=>{const l=this.ji(t,a);return this.zi(t,l,r,i)?this.Qi(e,t):(Dx()<=cu.in.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$x(t)),this.Wi(e,l,t,Fk(i,-1)))})}ji(e,t){let r=new Br(bO(e));return t.forEach((i,a)=>{c0(e,a)&&(r=r.add(a))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Qi(e,t){return Dx()<=cu.in.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",$x(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ca.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}class $B{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Mr(mn),this.Yi=new Pd(a=>fm(a),s0),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RN(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function ON(n,e,t,r){return new $B(n,e,t,r)}function NN(n,e){return pM.apply(this,arguments)}function pM(){return pM=(0,be.Z)(function*(n,e){const t=yt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],f=[];let _=En();for(const v of i){l.push(v.batchId);for(const x of v.mutations)_=_.add(x.key)}for(const v of a){f.push(v.batchId);for(const x of v.mutations)_=_.add(x.key)}return t.localDocuments.getDocuments(r,_).next(v=>({er:v,removedBatchIds:l,addedBatchIds:f}))})})}),pM.apply(this,arguments)}function FN(n){const e=yt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function LN(n,e,t){let r=En(),i=En();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=Gs();return t.forEach((f,_)=>{const v=a.get(f);_.isFoundDocument()!==v.isFoundDocument()&&(i=i.add(f)),_.isNoDocument()&&_.version.isEqual(Ut.min())?(e.removeEntry(f,_.readTime),l=l.insert(f,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||0===_.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(_),l=l.insert(f,_)):Ze("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",_.version)}),{nr:l,sr:i}})}function GB(n,e){const t=yt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function K_(n,e){const t=yt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(a=>a?(i=a,he.resolve(i)):t.Bs.allocateTargetId(r).next(l=>(i=new Od(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function Y_(n,e,t){return mM.apply(this,arguments)}function mM(){return mM=(0,be.Z)(function*(n,e,t){const r=yt(n),i=r.Ji.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!hf(l))throw l;Ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),mM.apply(this,arguments)}function tT(n,e,t){const r=yt(n);let i=Ut.min(),a=En();return r.persistence.runTransaction("Execute query","readonly",l=>function(f,_,v){const x=yt(f),k=x.Yi.get(v);return void 0!==k?he.resolve(x.Ji.get(k)):x.Bs.getTargetData(_,v)}(r,l,ms(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,f.targetId).next(_=>{a=_})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?i:Ut.min(),t?a:En())).next(f=>(BN(r,vO(e),f),{documents:f,ir:a})))}function UN(n,e){const t=yt(n),r=yt(t.Bs),i=t.Ji.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.le(a,e).next(l=>l?l.target:null))}function VN(n,e){const t=yt(n),r=t.Xi.get(e)||Ut.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Zi.getAllFromCollectionGroup(i,e,Fk(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(BN(t,e,i),i))}function BN(n,e,t){let r=n.Xi.get(e)||Ut.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Xi.set(e,r)}function gM(){return gM=(0,be.Z)(function*(n,e,t,r){const i=yt(n);let a=En(),l=Gs();for(const v of t){const x=e.rr(v.metadata.name);v.document&&(a=a.add(x));const k=e.ur(v);k.setReadTime(e.cr(v.metadata.readTime)),l=l.insert(x,k)}const f=i.Zi.newChangeBuffer({trackRemovals:!0}),_=yield K_(i,(v=r,ms(B_(Bn.fromString(`__bundle__/docs/${v}`)))));var v;return i.persistence.runTransaction("Apply bundle documents","readwrite",v=>LN(v,f,l).next(x=>(f.apply(v),x)).next(x=>i.Bs.removeMatchingKeysForTargetId(v,_.targetId).next(()=>i.Bs.addMatchingKeys(v,a,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(v,x.nr,x.sr)).next(()=>x.nr)))}),gM.apply(this,arguments)}function WB(n,e){return _M.apply(this,arguments)}function _M(){return _M=(0,be.Z)(function*(n,e,t=En()){const r=yield K_(n,ms(tM(e.bundledQuery))),i=yt(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const l=Ai(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.qs.saveNamedQuery(a,e);const f=r.withResumeToken(Zi.EMPTY_BYTE_STRING,l);return i.Ji=i.Ji.insert(f.targetId,f),i.Bs.updateTargetData(a,f).next(()=>i.Bs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Bs.addMatchingKeys(a,t,r.targetId)).next(()=>i.qs.saveNamedQuery(a,e))})}),_M.apply(this,arguments)}function jN(n,e){return`firestore_clients_${n}_${e}`}function $N(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function yM(n,e){return`firestore_targets_${n}_${e}`}class nT{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static ar(e,t,r){const i=JSON.parse(r);let a,l="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(a=new Be(i.error.code,i.error.message))),l?new nT(e,t,i.state,a):(Di("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class D0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Be(r.error.code,r.error.message))),a?new D0(e,r.state,i):(Di("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rT{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Hx();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=jk(r.activeTargetIds[l]),a=a.add(r.activeTargetIds[l]);return i?new rT(e,a):(Di("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class vM{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new vM(t.clientId,t.onlineState):(Di("SharedClientState",`Failed to parse online state: ${e}`),null)}}class bM{constructor(){this.activeTargetIds=Hx()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wM{constructor(e,t,r,i,a){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Mr(mn),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=jN(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new bM),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,be.Z)(function*(){const t=yield e.syncEngine.$i();for(const i of t){if(i===e.wr)continue;const a=e.getItem(jN(e.persistenceKey,i));if(a){const l=rT.ar(i,a);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const i=e.br(r);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(yM(this.persistenceKey,e));if(r){const i=D0.ar(e,r);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(yM(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ze("SharedClientState","READ",e,t),t}setItem(e,t){Ze("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ze("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ze("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Di("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,be.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.Fr(i,null)}{const i=t.Br(r.key,r.newValue);if(i)return t.Fr(i.clientId,i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.Lr(r.key,r.newValue);if(i)return t.qr(i)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const i=t.Ur(r.key,r.newValue);if(i)return t.Kr(i)}}else if(r.key===t.vr){if(null!==r.newValue){const i=t.br(r.newValue);if(i)return t.Vr(i)}}else if(r.key===t.Ir){const i=function(a){let l=Ta.ct;if(null!=a)try{const f=JSON.parse(a);Nt("number"==typeof f),l=f}catch(f){Di("SharedClientState","Failed to read sequence number from WebStorage",f)}return l}(r.newValue);i!==Ta.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Gr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Qr(a)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const i=new nT(this.currentUser,e,t,r),a=$N(this.persistenceKey,this.currentUser,e);this.setItem(a,i.hr())}Cr(e){const t=$N(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const i=yM(this.persistenceKey,e),a=new D0(e,t,r);this.setItem(i,a.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return rT.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return nT.ar(new lo(void 0!==r[2]?r[2]:null),i,t)}Ur(e,t){const r=this.Ar.exec(e),i=Number(r[1]);return D0.ar(i,t)}br(e){return vM.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Ze("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),l=[],f=[];return a.forEach(_=>{i.has(_)||l.push(_)}),i.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Wr(l,f).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Hx();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class HN{constructor(){this.Hr=new bM,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new bM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ZB{Yr(e){}shutdown(){}}class zN{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let iT=null;function EM(){return null===iT?iT=268435456+Math.round(2147483648*Math.random()):iT++,"0x"+iT.toString(16)}const KB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YB{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ko="WebChannelConnection";class QB extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,a){const l=EM(),f=this.To(e,t);Ze("RestConnection",`Sending RPC '${e}' ${l}:`,f,r);const _={};return this.Eo(_,i,a),this.Ao(e,f,_,r).then(v=>(Ze("RestConnection",`Received RPC '${e}' ${l}: `,v),v),v=>{throw hc("RestConnection",`RPC '${e}' ${l} failed with error: `,v,"url: ",f,"request:",r),v})}vo(e,t,r,i,a,l){return this.Io(e,t,r,i,a)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+O_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}To(e,t){return`${this.mo}/v1/${t}:${KB[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const a=EM();return new Promise((l,f)=>{const _=new ZU;_.setWithCredentials(!0),_.listenOnce(GU.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Tx.NO_ERROR:const x=_.getResponseJson();Ze(Ko,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(x)),l(x);break;case Tx.TIMEOUT:Ze(Ko,`RPC '${e}' ${a} timed out`),f(new Be(ye.DEADLINE_EXCEEDED,"Request time out"));break;case Tx.HTTP_ERROR:const k=_.getStatus();if(Ze(Ko,`RPC '${e}' ${a} failed with status:`,k,"response text:",_.getResponseText()),k>0){let z=_.getResponseJson();Array.isArray(z)&&(z=z[0]);const q=z?.error;if(q&&q.status&&q.message){const ee=function(ae){const fe=ae.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(fe)>=0?fe:ye.UNKNOWN}(q.status);f(new Be(ee,q.message))}else f(new Be(ye.UNKNOWN,"Server responded with status "+_.getStatus()))}else f(new Be(ye.UNAVAILABLE,"Connection failed."));break;default:Dt()}}finally{Ze(Ko,`RPC '${e}' ${a} completed.`)}});const v=JSON.stringify(i);Ze(Ko,`RPC '${e}' ${a} sending request:`,i),_.send(t,"POST",v,r,15)})}Ro(e,t,r){const i=EM(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=HU(),f=zU(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;void 0!==v&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.xmlHttpFactory=new WU({})),this.Eo(_.initMessageHeaders,t,r),_.encodeInitMessageHeaders=!0;const x=a.join("");Ze(Ko,`Creating RPC '${e}' stream ${i}: ${x}`,_);const k=l.createWebChannel(x,_);let z=!1,q=!1;const ee=new YB({ro:fe=>{q?Ze(Ko,`Not sending because RPC '${e}' stream ${i} is closed:`,fe):(z||(Ze(Ko,`Opening RPC '${e}' stream ${i} transport.`),k.open(),z=!0),Ze(Ko,`RPC '${e}' stream ${i} sending:`,fe),k.send(fe))},oo:()=>k.close()}),ae=(fe,je,tt)=>{fe.listen(je,Xe=>{try{tt(Xe)}catch(it){setTimeout(()=>{throw it},0)}})};return ae(k,CC.EventType.OPEN,()=>{q||Ze(Ko,`RPC '${e}' stream ${i} transport opened.`)}),ae(k,CC.EventType.CLOSE,()=>{q||(q=!0,Ze(Ko,`RPC '${e}' stream ${i} transport closed`),ee.wo())}),ae(k,CC.EventType.ERROR,fe=>{q||(q=!0,hc(Ko,`RPC '${e}' stream ${i} transport errored:`,fe),ee.wo(new Be(ye.UNAVAILABLE,"The operation could not be completed")))}),ae(k,CC.EventType.MESSAGE,fe=>{var je;if(!q){const tt=fe.data[0];Nt(!!tt);const it=tt.error||(null===(je=tt[0])||void 0===je?void 0:je.error);if(it){Ze(Ko,`RPC '${e}' stream ${i} received error:`,it);const Bt=it.status;let Wt=function(oi){const Qo=Hi[oi];if(void 0!==Qo)return UO(Qo)}(Bt),Nn=it.message;void 0===Wt&&(Wt=ye.INTERNAL,Nn="Unknown error status: "+Bt+" with message "+it.message),q=!0,ee.wo(new Be(Wt,Nn)),k.close()}else Ze(Ko,`RPC '${e}' stream ${i} received:`,tt),ee._o(tt)}}),ae(f,qU.STAT_EVENT,fe=>{fe.stat===Mk.PROXY?Ze(Ko,`RPC '${e}' stream ${i} detected buffering proxy`):fe.stat===Mk.NOPROXY&&Ze(Ko,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{ee.fo()},0),ee}}function GN(){return typeof window<"u"?window:null}function oT(){return typeof document<"u"?document:null}function A0(n){return new aB(n,!0)}class IM{constructor(e,t,r=1e3,i=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Ze("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class qN{constructor(e,t,r,i,a,l,f,_){this.ii=e,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new IM(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,be.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,be.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,be.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ye.RESOURCE_EXHAUSTED?(Di(t.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ye.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Be(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,be.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JB extends qN{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function uB(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:Dt(),i=e.targetChange.targetIds||[],a=function(_,v){return _.useProto3Json?(Nt(void 0===v||"string"==typeof v),Zi.fromBase64String(v||"")):(Nt(void 0===v||v instanceof Uint8Array),Zi.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(_){const v=void 0===_.code?ye.UNKNOWN:UO(_.code);return new Be(v,_.message||"")}(l);t=new HO(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=mu(n,r.document.name),a=Ai(r.document.updateTime),l=r.document.createTime?Ai(r.document.createTime):Ut.min(),f=new xo({mapValue:{fields:r.document.fields}}),_=jr.newFoundDocument(i,a,l,f);t=new HC(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,i=mu(n,r.document),a=r.readTime?Ai(r.readTime):Ut.min(),l=jr.newNoDocument(i,a);t=new HC([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=mu(n,r.document);t=new HC([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Dt();{const r=e.filter,{count:i=0,unchangedNames:a}=r,l=new tB(i,a);t=new $O(r.targetId,l)}}var _;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ut.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Ut.min():a.readTime?Ai(a.readTime):Ut.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=_0(this.serializer),t.addTarget=function(i,a){let l;const f=a.target;if(l=NC(f)?{documents:XO(i,f)}:{query:eM(i,f)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=WO(i,a.resumeToken);const _=Yx(i,a.expectedCount);null!==_&&(l.expectedCount=_)}else if(a.snapshotVersion.compareTo(Ut.min())>0){l.readTime=G_(i,a.snapshotVersion.toTimestamp());const _=Yx(i,a.expectedCount);null!==_&&(l.expectedCount=_)}return l}(this.serializer,e);const r=function hB(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=_0(this.serializer),t.removeTarget=e,this.Wo(t)}}class XB extends qN{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function dB(n,e){return n&&n.length>0?(Nt(void 0!==e),n.map(t=>function(r,i){let a=Ai(r.updateTime?r.updateTime:i);return a.isEqual(Ut.min())&&(a=Ai(i)),new QV(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ai(e.commitTime);return this.listener.cu(r,t)}return Nt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=_0(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>y0(this.serializer,r))};this.Wo(t)}}class ej extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Be(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Io(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Be(ye.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(e,t,r,a,l,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Be(ye.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class nj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Di(t),this.mu=!1):Ze("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class rj{constructor(e,t,r,i,a){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(f=>{r.enqueueAndForget((0,be.Z)(function*(){var _;Cf(l)&&(Ze("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,be.Z)(function*(v){const x=yt(v);x.vu.add(4),yield Q_(x),x.bu.set("Unknown"),x.vu.delete(4),yield S0(x)}),function(v){return _.apply(this,arguments)})(l))}))}),this.bu=new nj(r,i)}}function S0(n){return TM.apply(this,arguments)}function TM(){return TM=(0,be.Z)(function*(n){if(Cf(n))for(const e of n.Ru)yield e(!0)}),TM.apply(this,arguments)}function Q_(n){return DM.apply(this,arguments)}function DM(){return DM=(0,be.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),DM.apply(this,arguments)}function sT(n,e){const t=yt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),xM(t)?SM(t):X_(t).Ko()&&AM(t,e))}function x0(n,e){const t=yt(n),r=X_(t);t.Au.delete(e),r.Ko()&&WN(t,e),0===t.Au.size&&(r.Ko()?r.jo():Cf(t)&&t.bu.set("Unknown"))}function AM(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ut.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}X_(n).su(e)}function WN(n,e){n.Vu.qt(e),X_(n).iu(e)}function SM(n){n.Vu=new rB({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),X_(n).start(),n.bu.gu()}function xM(n){return Cf(n)&&!X_(n).Uo()&&n.Au.size>0}function Cf(n){return 0===yt(n).vu.size}function ZN(n){n.Vu=void 0}function ij(n){return MM.apply(this,arguments)}function MM(){return MM=(0,be.Z)(function*(n){n.Au.forEach((e,t)=>{AM(n,e)})}),MM.apply(this,arguments)}function oj(n,e){return RM.apply(this,arguments)}function RM(){return RM=(0,be.Z)(function*(n,e){ZN(n),xM(n)?(n.bu.Iu(e),SM(n)):n.bu.set("Unknown")}),RM.apply(this,arguments)}function sj(n,e,t){return PM.apply(this,arguments)}function PM(){return PM=(0,be.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof HO&&2===e.state&&e.cause)try{yield(r=(0,be.Z)(function*(i,a){const l=a.cause;for(const f of a.targetIds)i.Au.has(f)&&(yield i.remoteSyncer.rejectListen(f,l),i.Au.delete(f),i.Vu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield aT(n,r)}else if(e instanceof HC?n.Vu.Ht(e):e instanceof $O?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Ut.min()))try{const r=yield FN(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const l=i.Vu.ce(a);return l.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const v=i.Au.get(_);v&&i.Au.set(_,v.withResumeToken(f.resumeToken,a))}}),l.targetMismatches.forEach((f,_)=>{const v=i.Au.get(f);if(!v)return;i.Au.set(f,v.withResumeToken(Zi.EMPTY_BYTE_STRING,v.snapshotVersion)),WN(i,f);const x=new Od(v.target,f,_,v.sequenceNumber);AM(i,x)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Ze("RemoteStore","Failed to raise snapshot:",r),yield aT(n,r)}var r}),PM.apply(this,arguments)}function aT(n,e,t){return kM.apply(this,arguments)}function kM(){return kM=(0,be.Z)(function*(n,e,t){if(!hf(e))throw e;n.vu.add(1),yield Q_(n),n.bu.set("Offline"),t||(t=()=>FN(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Ze("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield S0(n)}))}),kM.apply(this,arguments)}function KN(n,e){return e().catch(t=>aT(n,t,e))}function J_(n){return OM.apply(this,arguments)}function OM(){return OM=(0,be.Z)(function*(n){const e=yt(n),t=Tf(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;aj(e);)try{const i=yield GB(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,cj(e,i)}catch(i){yield aT(e,i)}YN(e)&&QN(e)}),OM.apply(this,arguments)}function aj(n){return Cf(n)&&n.Eu.length<10}function cj(n,e){n.Eu.push(e);const t=Tf(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function YN(n){return Cf(n)&&!Tf(n).Uo()&&n.Eu.length>0}function QN(n){Tf(n).start()}function lj(n){return NM.apply(this,arguments)}function NM(){return NM=(0,be.Z)(function*(n){Tf(n).hu()}),NM.apply(this,arguments)}function uj(n){return FM.apply(this,arguments)}function FM(){return FM=(0,be.Z)(function*(n){const e=Tf(n);for(const t of n.Eu)e.uu(t.mutations)}),FM.apply(this,arguments)}function dj(n,e,t){return LM.apply(this,arguments)}function LM(){return LM=(0,be.Z)(function*(n,e,t){const r=n.Eu.shift(),i=qx.from(r,e,t);yield KN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield J_(n)}),LM.apply(this,arguments)}function hj(n,e){return UM.apply(this,arguments)}function UM(){return UM=(0,be.Z)(function*(n,e){var t;e&&Tf(n).ou&&(yield(t=(0,be.Z)(function*(r,i){if(LO(a=i.code)&&a!==ye.ABORTED){const l=r.Eu.shift();Tf(r).Qo(),yield KN(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield J_(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),YN(n)&&QN(n)}),UM.apply(this,arguments)}function JN(n,e){return VM.apply(this,arguments)}function VM(){return VM=(0,be.Z)(function*(n,e){const t=yt(n);t.asyncQueue.verifyOperationInProgress(),Ze("RemoteStore","RemoteStore received new credentials");const r=Cf(t);t.vu.add(3),yield Q_(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield S0(t)}),VM.apply(this,arguments)}function BM(n,e){return jM.apply(this,arguments)}function jM(){return jM=(0,be.Z)(function*(n,e){const t=yt(n);e?(t.vu.delete(2),yield S0(t)):e||(t.vu.add(2),yield Q_(t),t.bu.set("Unknown"))}),jM.apply(this,arguments)}function X_(n){return n.Su||(n.Su=function(e,t,r){const i=yt(e);return i.fu(),new JB(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:ij.bind(null,n),ao:oj.bind(null,n),nu:sj.bind(null,n)}),n.Ru.push(function(){var e=(0,be.Z)(function*(t){t?(n.Su.Qo(),xM(n)?SM(n):n.bu.set("Unknown")):(yield n.Su.stop(),ZN(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Tf(n){return n.Du||(n.Du=function(e,t,r){const i=yt(e);return i.fu(),new XB(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:lj.bind(null,n),ao:hj.bind(null,n),au:uj.bind(null,n),cu:dj.bind(null,n)}),n.Ru.push(function(){var e=(0,be.Z)(function*(t){t?(n.Du.Qo(),yield J_(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ze("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class $M{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,f=new $M(e,t,l,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Be(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ey(n,e){if(Di("AsyncQueue",`${e}: ${n}`),hf(n))return new Be(ye.UNAVAILABLE,`${e}: ${n}`);throw n}class ty{constructor(e){this.comparator=e?(t,r)=>e(t,r)||pt.comparator(t.key,r.key):(t,r)=>pt.comparator(t.key,r.key),this.keyedMap=l0(),this.sortedSet=new Mr(this.comparator)}static emptySet(e){return new ty(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ty)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new ty;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class XN{constructor(){this.Cu=new Mr(pt.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Dt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class ny{constructor(e,t,r,i,a,l,f,_,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new ny(e,t,ty.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&a0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class fj{constructor(){this.Nu=void 0,this.listeners=[]}}class pj{constructor(){this.queries=new Pd(e=>yO(e),a0),this.onlineState="Unknown",this.ku=new Set}}function HM(n,e){return zM.apply(this,arguments)}function zM(){return zM=(0,be.Z)(function*(n,e){const t=yt(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new fj),i)try{a.Nu=yield t.onListen(r)}catch(l){const f=ey(l,`Initialization of query '${$x(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Mu(t.onlineState),a.Nu&&e.$u(a.Nu)&&WM(t)}),zM.apply(this,arguments)}function GM(n,e){return qM.apply(this,arguments)}function qM(){return qM=(0,be.Z)(function*(n,e){const t=yt(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const l=a.listeners.indexOf(e);l>=0&&(a.listeners.splice(l,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),qM.apply(this,arguments)}function mj(n,e){const t=yt(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const f of l.listeners)f.$u(i)&&(r=!0);l.Nu=i}}r&&WM(t)}function gj(n,e,t){const r=yt(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function WM(n){n.ku.forEach(e=>{e.next()})}class ZM{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new ny(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=ny.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class _j{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class eF{constructor(e){this.serializer=e}rr(e){return mu(this.serializer,e)}ur(e){return e.metadata.exists?JO(this.serializer,e.document,!1):jr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Ai(e)}}class yj{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=tF(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=Bn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new eF(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.rr(i.metadata.name);for(const l of i.metadata.queries){const f=(t.get(l)||En()).add(a);t.set(l,f)}}return t}complete(){var e=this;return(0,be.Z)(function*(){const t=yield function qB(n,e,t,r){return gM.apply(this,arguments)}(e.localStore,new eF(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const i of e.queries)yield WB(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function tF(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class nF{constructor(e){this.key=e}}class rF{constructor(e){this.key=e}}class iF{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=En(),this.mutatedKeys=En(),this.tc=bO(e),this.ec=new ty(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new XN,i=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,f=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,v="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((x,k)=>{const z=i.get(x),q=c0(this.query,k)?k:null,ee=!!z&&this.mutatedKeys.has(z.key),ae=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let fe=!1;z&&q?z.data.isEqual(q.data)?ee!==ae&&(r.track({type:3,doc:q}),fe=!0):this.rc(z,q)||(r.track({type:2,doc:q}),fe=!0,(_&&this.tc(q,_)>0||v&&this.tc(q,v)<0)&&(f=!0)):!z&&q?(r.track({type:0,doc:q}),fe=!0):z&&!q&&(r.track({type:1,doc:z}),fe=!0,(_||v)&&(f=!0)),fe&&(q?(l=l.add(q),a=ae?a.add(x):a.delete(x)):(l=l.delete(x),a=a.delete(x)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const x="F"===this.query.limitType?l.last():l.first();l=l.delete(x.key),a=a.delete(x.key),r.track({type:1,doc:x})}return{ec:l,ic:r,zi:f,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((v,x)=>function(k,z){const q=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt()}};return q(k)-q(z)}(v.type,x.type)||this.tc(v.doc,x.doc)),this.oc(r);const l=t?this.uc():[],f=0===this.Zu.size&&this.current?1:0,_=f!==this.Xu;return this.Xu=f,0!==a.length||_?{snapshot:new ny(this.query,e.ec,i,a,e.mutatedKeys,0===f,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new XN,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=En(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new rF(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new nF(r))}),t}hc(e){this.Yu=e.ir,this.Zu=En();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return ny.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class vj{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class bj{constructor(e){this.key=e,this.fc=!1}}class wj{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Pd(f=>yO(f),a0),this._c=new Map,this.mc=new Set,this.gc=new Mr(pt.comparator),this.yc=new Map,this.Ic=new cM,this.Tc={},this.Ec=new Map,this.Ac=Em.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Ej(n,e){return KM.apply(this,arguments)}function KM(){return KM=(0,be.Z)(function*(n,e){const t=v1(n);let r,i;const a=t.wc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.lc();else{const l=yield K_(t.localStore,ms(e)),f=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield YM(t,e,r,"current"===f,l.resumeToken),t.isPrimaryClient&&sT(t.remoteStore,l)}return i}),KM.apply(this,arguments)}function YM(n,e,t,r,i){return QM.apply(this,arguments)}function QM(){return QM=(0,be.Z)(function*(n,e,t,r,i){n.Rc=(k,z,q)=>{return(ee=(0,be.Z)(function*(ae,fe,je,tt){let Xe=fe.view.sc(je);Xe.zi&&(Xe=yield tT(ae.localStore,fe.query,!1).then(({documents:Wt})=>fe.view.sc(Wt,Xe)));const it=tt&&tt.targetChanges.get(fe.targetId),Bt=fe.view.applyChanges(Xe,ae.isPrimaryClient,it);return c1(ae,fe.targetId,Bt.cc),Bt.snapshot}),function(ae,fe,je,tt){return ee.apply(this,arguments)})(n,k,z,q);var ee};const a=yield tT(n.localStore,e,!0),l=new iF(e,a.ir),f=l.sc(a.documents),_=m0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),v=l.applyChanges(f,n.isPrimaryClient,_);c1(n,t,v.cc);const x=new vj(e,t,l);return n.wc.set(e,x),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),v.snapshot}),QM.apply(this,arguments)}function Ij(n,e){return JM.apply(this,arguments)}function JM(){return JM=(0,be.Z)(function*(n,e){const t=yt(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(a=>!a0(a,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Y_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),x0(t.remoteStore,r.targetId),ry(t,r.targetId)}).catch(df))):(ry(t,r.targetId),yield Y_(t.localStore,r.targetId,!0))}),JM.apply(this,arguments)}function XM(){return XM=(0,be.Z)(function*(n,e,t){const r=b1(n);try{const i=yield function(a,l){const f=yt(a),_=Qr.now(),v=l.reduce((z,q)=>z.add(q.key),En());let x,k;return f.persistence.runTransaction("Locally write mutations","readwrite",z=>{let q=Gs(),ee=En();return f.Zi.getEntries(z,v).next(ae=>{q=ae,q.forEach((fe,je)=>{je.isValidDocument()||(ee=ee.add(fe))})}).next(()=>f.localDocuments.getOverlayedDocuments(z,q)).next(ae=>{x=ae;const fe=[];for(const je of l){const tt=XV(je,x.get(je.key).overlayedDocument);null!=tt&&fe.push(new kd(je.key,tt,iO(tt.value.mapValue),Jr.exists(!0)))}return f.mutationQueue.addMutationBatch(z,_,fe,l)}).next(ae=>{k=ae;const fe=ae.applyToLocalDocumentSet(x,ee);return f.documentOverlayCache.saveOverlays(z,ae.batchId,fe)})}).then(()=>({batchId:k.batchId,changes:EO(x)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,f){let _=a.Tc[a.currentUser.toKey()];_||(_=new Mr(mn)),_=_.insert(l,f),a.Tc[a.currentUser.toKey()]=_}(r,i.batchId,t),yield Nd(r,i.changes),yield J_(r.remoteStore)}catch(i){const a=ey(i,"Failed to persist write");t.reject(a)}}),XM.apply(this,arguments)}function oF(n,e){return e1.apply(this,arguments)}function e1(){return e1=(0,be.Z)(function*(n,e){const t=yt(n);try{const r=yield function zB(n,e){const t=yt(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const f=[];e.targetChanges.forEach((x,k)=>{const z=i.get(k);if(!z)return;f.push(t.Bs.removeMatchingKeys(a,x.removedDocuments,k).next(()=>t.Bs.addMatchingKeys(a,x.addedDocuments,k)));let q=z.withSequenceNumber(a.currentSequenceNumber);var ee,ae,fe;null!==e.targetMismatches.get(k)?q=q.withResumeToken(Zi.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):x.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(x.resumeToken,r)),i=i.insert(k,q),ae=q,fe=x,(0===(ee=z).resumeToken.approximateByteSize()||ae.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=3e8||fe.addedDocuments.size+fe.modifiedDocuments.size+fe.removedDocuments.size>0)&&f.push(t.Bs.updateTargetData(a,q))});let _=Gs(),v=En();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,x))}),f.push(LN(a,l,e.documentUpdates).next(x=>{_=x.nr,v=x.sr})),!r.isEqual(Ut.min())){const x=t.Bs.getLastRemoteSnapshotVersion(a).next(k=>t.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(x)}return he.waitFor(f).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,v)).next(()=>_)}).then(a=>(t.Ji=i,a))}(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.yc.get(a);l&&(Nt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.fc=!0:i.modifiedDocuments.size>0?Nt(l.fc):i.removedDocuments.size>0&&(Nt(l.fc),l.fc=!1))}),yield Nd(t,r,e)}catch(r){yield df(r)}}),e1.apply(this,arguments)}function sF(n,e,t){const r=yt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((a,l)=>{const f=l.view.Mu(e);f.snapshot&&i.push(f.snapshot)}),function(a,l){const f=yt(a);f.onlineState=l;let _=!1;f.queries.forEach((v,x)=>{for(const k of x.listeners)k.Mu(l)&&(_=!0)}),_&&WM(f)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Tj(n,e,t){return t1.apply(this,arguments)}function t1(){return t1=(0,be.Z)(function*(n,e,t){const r=yt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),a=i&&i.key;if(a){let l=new Mr(pt.comparator);l=l.insert(a,jr.newNoDocument(a,Ut.min()));const f=En().add(a),_=new p0(Ut.min(),new Map,new Mr(mn),l,f);yield oF(r,_),r.gc=r.gc.remove(a),r.yc.delete(e),l1(r)}else yield Y_(r.localStore,e,!1).then(()=>ry(r,e,t)).catch(df)}),t1.apply(this,arguments)}function Dj(n,e){return n1.apply(this,arguments)}function n1(){return n1=(0,be.Z)(function*(n,e){const t=yt(n),r=e.batch.batchId;try{const i=yield function HB(n,e){const t=yt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,f,_,v){const x=_.batch,k=x.keys();let z=he.resolve();return k.forEach(q=>{z=z.next(()=>v.getEntry(f,q)).next(ee=>{const ae=_.docVersions.get(q);Nt(null!==ae),ee.version.compareTo(ae)<0&&(x.applyToRemoteDocument(ee,_),ee.isValidDocument()&&(ee.setReadTime(_.commitVersion),v.addEntry(ee)))})}),z.next(()=>l.mutationQueue.removeMutationBatch(f,x))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let f=En();for(let _=0;_<l.mutationResults.length;++_)l.mutationResults[_].transformResults.length>0&&(f=f.add(l.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);a1(t,r,null),s1(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Nd(t,i)}catch(i){yield df(i)}}),n1.apply(this,arguments)}function Aj(n,e,t){return r1.apply(this,arguments)}function r1(){return r1=(0,be.Z)(function*(n,e,t){const r=yt(n);try{const i=yield function(a,l){const f=yt(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let v;return f.mutationQueue.lookupMutationBatch(_,l).next(x=>(Nt(null!==x),v=x.keys(),f.mutationQueue.removeMutationBatch(_,x))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,v,l)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,v)).next(()=>f.localDocuments.getDocuments(_,v))})}(r.localStore,e);a1(r,e,t),s1(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Nd(r,i)}catch(i){yield df(i)}}),r1.apply(this,arguments)}function o1(){return o1=(0,be.Z)(function*(n,e){const t=yt(n);Cf(t.remoteStore)||Ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const l=yt(a);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>l.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ec.get(r)||[];i.push(e),t.Ec.set(r,i)}catch(r){const i=ey(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),o1.apply(this,arguments)}function s1(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function a1(n,e,t){const r=yt(n);let i=r.Tc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function ry(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||aF(n,r)})}function aF(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(x0(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),l1(n))}function c1(n,e,t){for(const r of t)r instanceof nF?(n.Ic.addReference(r.key,e),xj(n,r)):r instanceof rF?(Ze("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||aF(n,r.key)):Dt()}function xj(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Ze("SyncEngine","New document in limbo: "+t),n.mc.add(r),l1(n))}function l1(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new pt(Bn.fromString(e)),r=n.Ac.next();n.yc.set(r,new bj(t)),n.gc=n.gc.insert(t,r),sT(n.remoteStore,new Od(ms(B_(t.path)),r,"TargetPurposeLimboResolution",Ta.ct))}}function Nd(n,e,t){return u1.apply(this,arguments)}function u1(){return u1=(0,be.Z)(function*(n,e,t){const r=yt(n),i=[],a=[],l=[];var f;r.wc.isEmpty()||(r.wc.forEach((f,_)=>{l.push(r.Rc(_,e,t).then(v=>{if((v||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,v?.fromCache?"not-current":"current"),v){i.push(v);const x=fM.Li(_.targetId,v);a.push(x)}}))}),yield Promise.all(l),r.dc.nu(i),yield(f=(0,be.Z)(function*(_,v){const x=yt(_);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>he.forEach(v,z=>he.forEach(z.Fi,q=>x.persistence.referenceDelegate.addReference(k,z.targetId,q)).next(()=>he.forEach(z.Bi,q=>x.persistence.referenceDelegate.removeReference(k,z.targetId,q)))))}catch(k){if(!hf(k))throw k;Ze("LocalStore","Failed to update sequence numbers: "+k)}for(const k of v){const z=k.targetId;if(!k.fromCache){const q=x.Ji.get(z),ae=q.withLastLimboFreeSnapshotVersion(q.snapshotVersion);x.Ji=x.Ji.insert(z,ae)}}}),function(_,v){return f.apply(this,arguments)})(r.localStore,a))}),u1.apply(this,arguments)}function Mj(n,e){return d1.apply(this,arguments)}function d1(){return d1=(0,be.Z)(function*(n,e){const t=yt(n);if(!t.currentUser.isEqual(e)){Ze("SyncEngine","User change. New user:",e.toKey());const r=yield NN(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(l=>{l.forEach(f=>{f.reject(new Be(ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Nd(t,r.er)}var i}),d1.apply(this,arguments)}function Rj(n,e){const t=yt(n),r=t.yc.get(e);if(r&&r.fc)return En().add(r.key);{let i=En();const a=t._c.get(e);if(!a)return i;for(const l of a){const f=t.wc.get(l);i=i.unionWith(f.view.nc)}return i}}function Pj(n,e){return h1.apply(this,arguments)}function h1(){return h1=(0,be.Z)(function*(n,e){const t=yt(n),r=yield tT(t.localStore,e.query,!0),i=e.view.hc(r);return t.isPrimaryClient&&c1(t,e.targetId,i.cc),i}),h1.apply(this,arguments)}function kj(n,e){return f1.apply(this,arguments)}function f1(){return f1=(0,be.Z)(function*(n,e){const t=yt(n);return VN(t.localStore,e).then(r=>Nd(t,r))}),f1.apply(this,arguments)}function Oj(n,e,t,r){return p1.apply(this,arguments)}function p1(){return p1=(0,be.Z)(function*(n,e,t,r){const i=yt(n),a=yield function(l,f){const _=yt(l),v=yt(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",x=>v.Sn(x,f).next(k=>k?_.localDocuments.getDocuments(x,k):he.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield J_(i.remoteStore):"acknowledged"===t||"rejected"===t?(a1(i,e,r||null),s1(i,e),f=e,yt(yt(i.localStore).mutationQueue).Cn(f)):Dt(),yield Nd(i,a)):Ze("SyncEngine","Cannot apply mutation batch with id: "+e)}),p1.apply(this,arguments)}function m1(){return m1=(0,be.Z)(function*(n,e){const t=yt(n);if(v1(t),b1(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield cF(t,r.toArray());t.vc=!0,yield BM(t.remoteStore,!0);for(const a of i)sT(t.remoteStore,a)}else if(!1===e&&!1!==t.vc){const r=[];let i=Promise.resolve();t._c.forEach((a,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(ry(t,l),Y_(t.localStore,l,!0))),x0(t.remoteStore,l)}),yield i,yield cF(t,r),function(a){const l=yt(a);l.yc.forEach((f,_)=>{x0(l.remoteStore,_)}),l.Ic.Ts(),l.yc=new Map,l.gc=new Mr(pt.comparator)}(t),t.vc=!1,yield BM(t.remoteStore,!1)}}),m1.apply(this,arguments)}function cF(n,e,t){return g1.apply(this,arguments)}function g1(){return g1=(0,be.Z)(function*(n,e,t){const r=yt(n),i=[],a=[];for(const l of e){let f;const _=r._c.get(l);if(_&&0!==_.length){f=yield K_(r.localStore,ms(_[0]));for(const v of _){const x=r.wc.get(v),k=yield Pj(r,x);k.snapshot&&a.push(k.snapshot)}}else{const v=yield UN(r.localStore,l);f=yield K_(r.localStore,v),yield YM(r,lF(v),l,!1,f.resumeToken)}i.push(f)}return r.dc.nu(a),i}),g1.apply(this,arguments)}function lF(n){return gO(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Fj(n){const e=yt(n);return yt(yt(e.localStore).persistence).$i()}function Lj(n,e,t,r){return _1.apply(this,arguments)}function _1(){return _1=(0,be.Z)(function*(n,e,t,r){const i=yt(n);if(i.vc)return void Ze("SyncEngine","Ignoring unexpected query state notification.");const a=i._c.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const l=yield VN(i.localStore,vO(a[0])),f=p0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Zi.EMPTY_BYTE_STRING);yield Nd(i,l,f);break}case"rejected":yield Y_(i.localStore,e,!0),ry(i,e,r);break;default:Dt()}}),_1.apply(this,arguments)}function Uj(n,e,t){return y1.apply(this,arguments)}function y1(){return y1=(0,be.Z)(function*(n,e,t){const r=v1(n);if(r.vc){for(const i of e){if(r._c.has(i)){Ze("SyncEngine","Adding an already active target "+i);continue}const a=yield UN(r.localStore,i),l=yield K_(r.localStore,a);yield YM(r,lF(a),l.targetId,!1,l.resumeToken),sT(r.remoteStore,l)}for(const i of t)r._c.has(i)&&(yield Y_(r.localStore,i,!1).then(()=>{x0(r.remoteStore,i),ry(r,i)}).catch(df))}}),y1.apply(this,arguments)}function v1(n){const e=yt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=oF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tj.bind(null,e),e.dc.nu=mj.bind(null,e.eventManager),e.dc.Pc=gj.bind(null,e.eventManager),e}function b1(n){const e=yt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Dj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Aj.bind(null,e),e}class M0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,be.Z)(function*(){t.serializer=A0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return ON(this.persistence,new kN,e.initialUser,this.serializer)}createPersistence(e){return new lM(JC.zs,this.serializer)}createSharedClientState(e){return new HN}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class w1 extends M0{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield b1(r.Vc.syncEngine),yield J_(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return ON(this.persistence,new kN,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new CN(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new dV(t,this.persistence);return new uV(e.asyncQueue,r)}createPersistence(e){const t=hM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Zo.withCacheSize(this.cacheSizeBytes):Zo.DEFAULT;return new dM(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,GN(),oT(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new HN}}class uF extends w1{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield t().call(r,e);const i=r.Vc.syncEngine;r.sharedClientState instanceof wM&&(r.sharedClientState.syncEngine={jr:Oj.bind(null,i),zr:Lj.bind(null,i),Wr:Uj.bind(null,i),$i:Fj.bind(null,i),Qr:kj.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var a=(0,be.Z)(function*(l){yield function Nj(n,e){return m1.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=GN();if(!wM.D(t))throw new Be(ye.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=hM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new wM(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class iy{initialize(e,t){var r=this;return(0,be.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>sF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Mj.bind(null,r.syncEngine),yield BM(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new pj}createDatastore(e){const t=A0(e.databaseInfo.databaseId),r=new QB(e.databaseInfo);return new ej(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>sF(this.syncEngine,f,0),l=zN.D()?new zN:new ZB,new rj(t,r,i,a,l);var t,r,i,a,l}createSyncEngine(e,t){return function(r,i,a,l,f,_,v){const x=new wj(r,i,a,l,f,_);return v&&(x.vc=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,be.Z)(function*(t){const r=yt(t);Ze("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Q_(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function dF(n,e=10240){let t=0;return{read:()=>(0,be.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class cT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class jj{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Wi,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,be.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,be.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,be.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),i=Number(r);isNaN(i)&&e.Mc(`length string (${r}) is not valid number`);const a=yield e.$c(i);return new _j(JSON.parse(a),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,be.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,be.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,be.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class $j{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Be(ye.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,be.Z)(function*(a,l){const f=yt(a),_=_0(f.serializer)+"/documents",v={documents:l.map(q=>g0(f.serializer,q))},x=yield f.vo("BatchGetDocuments",_,v,l.length),k=new Map;x.forEach(q=>{const ee=function lB(n,e){return"found"in e?function(t,r){Nt(!!r.found);const i=mu(t,r.found.name),a=Ai(r.found.updateTime),l=r.found.createTime?Ai(r.found.createTime):Ut.min(),f=new xo({mapValue:{fields:r.found.fields}});return jr.newFoundDocument(i,a,l,f)}(n,e):"missing"in e?function(t,r){Nt(!!r.missing),Nt(!!r.readTime);const i=mu(t,r.missing),a=Ai(r.readTime);return jr.newNoDocument(i,a)}(n,e):Dt()}(f.serializer,q);k.set(ee.key.toString(),ee)});const z=[];return l.forEach(q=>{const ee=k.get(q.toString());Nt(!!ee),z.push(ee)}),z}),function(a,l){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new z_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=pt.fromPath(i);e.mutations.push(new zx(a,e.precondition(a)))}),yield(r=(0,be.Z)(function*(i,a){const l=yt(i),f=_0(l.serializer)+"/documents",_={writes:a.map(v=>y0(l.serializer,v))};yield l.Io("Commit",f,_)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Dt();t=Ut.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Be(ye.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ut.min())?Jr.exists(!1):Jr.updateTime(t):Jr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ut.min()))throw new Be(ye.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Jr.updateTime(t)}return Jr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Hj{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new IM(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,be.Z)(function*(){const t=new $j(e.datastore),r=e.qc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Uc(a)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const t=this.updateFunction(e);return!Xb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!LO(t)}return!1}}class zj{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=lo.UNAUTHENTICATED,this.clientId=Ok.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,be.Z)(function*(f){Ze("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Ze("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Be(ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=ey(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function lT(n,e){return E1.apply(this,arguments)}function E1(){return E1=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ze("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,be.Z)(function*(a){r.isEqual(a)||(yield NN(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),E1.apply(this,arguments)}function I1(n,e){return C1.apply(this,arguments)}function C1(){return C1=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield T1(n);Ze("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>JN(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>JN(e.remoteStore,a)),n._onlineComponents=e}),C1.apply(this,arguments)}function hF(n){return"FirebaseError"===n.name?n.code===ye.FAILED_PRECONDITION||n.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function T1(n){return D1.apply(this,arguments)}function D1(){return D1=(0,be.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ze("FirestoreClient","Using user provided OfflineComponentProvider");try{yield lT(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!hF(t))throw t;hc("Error using user provided cache. Falling back to memory cache: "+t),yield lT(n,new M0)}}else Ze("FirestoreClient","Using default OfflineComponentProvider"),yield lT(n,new M0);return n._offlineComponents}),D1.apply(this,arguments)}function uT(n){return A1.apply(this,arguments)}function A1(){return A1=(0,be.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ze("FirestoreClient","Using user provided OnlineComponentProvider"),yield I1(n,n._uninitializedComponentsProvider._online)):(Ze("FirestoreClient","Using default OnlineComponentProvider"),yield I1(n,new iy))),n._onlineComponents}),A1.apply(this,arguments)}function fF(n){return T1(n).then(e=>e.persistence)}function dT(n){return T1(n).then(e=>e.localStore)}function pF(n){return uT(n).then(e=>e.remoteStore)}function S1(n){return uT(n).then(e=>e.syncEngine)}function oy(n){return x1.apply(this,arguments)}function x1(){return x1=(0,be.Z)(function*(n){const e=yield uT(n),t=e.eventManager;return t.onListen=Ej.bind(null,e.syncEngine),t.onUnlisten=Ij.bind(null,e.syncEngine),t}),x1.apply(this,arguments)}function gF(n,e,t={}){const r=new Wi;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(i,a,l,f,_){const v=new cT({next:k=>{a.enqueueAndForget(()=>GM(i,x));const z=k.docs.has(l);!z&&k.fromCache?_.reject(new Be(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&k.fromCache&&f&&"server"===f.source?_.reject(new Be(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(k)},error:k=>_.reject(k)}),x=new ZM(B_(l.path),v,{includeMetadataChanges:!0,Ku:!0});return HM(i,x)}(yield oy(n),n.asyncQueue,e,t,r)})),r.promise}function _F(n,e,t={}){const r=new Wi;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(i,a,l,f,_){const v=new cT({next:k=>{a.enqueueAndForget(()=>GM(i,x)),k.fromCache&&"server"===f.source?_.reject(new Be(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(k)},error:k=>_.reject(k)}),x=new ZM(l,v,{includeMetadataChanges:!0,Ku:!0});return HM(i,x)}(yield oy(n),n.asyncQueue,e,t,r)})),r.promise}function yF(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const vF=new Map;function M1(n,e,t){if(!t)throw new Be(ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function bF(n,e,t,r){if(!0===e&&!0===r)throw new Be(ye.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function wF(n){if(!pt.isDocumentKey(n))throw new Be(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function EF(n){if(pt.isDocumentKey(n))throw new Be(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function hT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Dt()}function On(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Be(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hT(n);throw new Be(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function IF(n,e){if(e<=0)throw new Be(ye.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class CF{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Be(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Be(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=yF(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Be(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Be(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Be(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class R0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Be(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Be(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CF(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new JU;switch(t.type){case"firstParty":return new nV(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Be(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=vF.get(e);t&&(Ze("ComponentProvider","Removing Datastore"),vF.delete(e),t.terminate())}(this),Promise.resolve()}}function TF(n,e,t,r={}){var i;const a=(n=On(n,R0))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&hc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let l,f;if("string"==typeof r.mockUserToken)l=r.mockUserToken,f=lo.MOCK_USER;else{l=(0,un.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Be(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new lo(_)}n._authCredentials=new XU(new Pk(l,f))}}class $r{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $r(this.firestore,e,this._key)}}class Mo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mo(this.firestore,e,this._query)}}class gu extends Mo{constructor(e,t,r){super(e,t,B_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $r(this.firestore,null,new pt(e))}withConverter(e){return new gu(this.firestore,e,this._path)}}function DF(n,e,...t){if(n=(0,un.m9)(n),M1("collection","path",e),n instanceof R0){const r=Bn.fromString(e,...t);return EF(r),new gu(n,null,r)}{if(!(n instanceof $r||n instanceof gu))throw new Be(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Bn.fromString(e,...t));return EF(r),new gu(n.firestore,null,r)}}function fT(n,e,...t){if(n=(0,un.m9)(n),1===arguments.length&&(e=Ok.A()),M1("doc","path",e),n instanceof R0){const r=Bn.fromString(e,...t);return wF(r),new $r(n,null,new pt(r))}{if(!(n instanceof $r||n instanceof gu))throw new Be(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Bn.fromString(e,...t));return wF(r),new $r(n.firestore,n instanceof gu?n.converter:null,new pt(r))}}function AF(n,e){return n=(0,un.m9)(n),e=(0,un.m9)(e),(n instanceof $r||n instanceof gu)&&(e instanceof $r||e instanceof gu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function R1(n,e){return n=(0,un.m9)(n),e=(0,un.m9)(e),n instanceof Mo&&e instanceof Mo&&n.firestore===e.firestore&&a0(n._query,e._query)&&n.converter===e.converter}class e${constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new IM(this,"async_queue_retry"),this.Xc=()=>{const t=oT();t&&Ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=oT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=oT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Wi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,be.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!hf(t))throw t;Ze("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Di("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=$M.createAndSchedule(this,e,t,r,a=>this.na(a));return this.zc.push(i),i}Zc(){this.Wc&&Dt()}verifyOperationInProgress(){}sa(){var e=this;return(0,be.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function P1(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class t${constructor(){this._progressObserver={},this._taskCompletionResolver=new Wi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Hr extends R0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new e$,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||SF(this),this._firestoreClient.terminate()}}function r$(n,e){const t="object"==typeof n?n:(0,To.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,To._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=(0,un.P0)("firestore");a&&TF(i,...a)}return i}function Si(n){return n._firestoreClient||SF(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function SF(n){var e,t,r;const i=n._freezeSettings(),a=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new PV(n._databaseId,f,n._persistenceKey,(v=i).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,yF(v.experimentalLongPollingOptions),v.useFetchStreams));var f,v;n._firestoreClient=new zj(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function xF(n,e,t){const r=new Wi;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield lT(n,t),yield I1(n,e),r.resolve()}catch(i){const a=i;if(!hF(a))throw a;hc("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a)}})).then(()=>r.promise)}function MF(n){if(n._initialized||n._terminated)throw new Be(ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class _u{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _u(Zi.fromBase64String(e))}catch(t){throw new Be(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _u(Zi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Fd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Be(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Cm{constructor(e){this._methodName=e}}class pT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Be(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Be(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return mn(this._lat,e._lat)||mn(this._long,e._long)}}const f$=/^__.*__$/;class p${constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new kd(e,this.data,this.fieldMask,t,this.fieldTransforms):new H_(e,this.data,t,this.fieldTransforms)}}class RF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new kd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function PF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt()}}class mT{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new mT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return yT(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(PF(this.ca)&&f$.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class m${constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||A0(e)}ya(e,t,r,i=!1){return new mT({ca:e,methodName:t,ga:r,path:mi.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tm(n){const e=n._freezeSettings(),t=A0(n._databaseId);return new m$(n._databaseId,!!e.ignoreUndefinedProperties,t)}function gT(n,e,t,r,i,a={}){const l=n.ya(a.merge||a.mergeFields?2:0,e,t,i);F1("Data must be an object, but it was:",l,r);const f=NF(r,l);let _,v;if(a.merge)_=new zs(l.fieldMask),v=l.fieldTransforms;else if(a.mergeFields){const x=[];for(const k of a.mergeFields){const z=O0(e,k,t);if(!l.contains(z))throw new Be(ye.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);LF(x,z)||x.push(z)}_=new zs(x),v=l.fieldTransforms.filter(k=>_.covers(k.field))}else _=null,v=l.fieldTransforms;return new p$(new xo(f),_,v)}class k0 extends Cm{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof k0}}function kF(n,e,t){return new mT({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class k1 extends Cm{_toFieldTransform(e){return new d0(e.path,new j_)}isEqual(e){return e instanceof k1}}class g$ extends Cm{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=kF(this,e,!0),r=this.pa.map(a=>Dm(a,t)),i=new mm(r);return new d0(e.path,i)}isEqual(e){return this===e}}class _$ extends Cm{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=kF(this,e,!0),r=this.pa.map(a=>Dm(a,t)),i=new gm(r);return new d0(e.path,i)}isEqual(e){return this===e}}class y$ extends Cm{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new $_(e.serializer,DO(e.serializer,this.Ia));return new d0(e.path,t)}isEqual(e){return this===e}}function O1(n,e,t,r){const i=n.ya(1,e,t);F1("Data must be an object, but it was:",i,r);const a=[],l=xo.empty();ff(r,(_,v)=>{const x=_T(e,_,t);v=(0,un.m9)(v);const k=i.da(x);if(v instanceof k0)a.push(x);else{const z=Dm(v,k);null!=z&&(a.push(x),l.set(x,z))}});const f=new zs(a);return new RF(l,f,i.fieldTransforms)}function N1(n,e,t,r,i,a){const l=n.ya(1,e,t),f=[O0(e,r,t)],_=[i];if(a.length%2!=0)throw new Be(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let z=0;z<a.length;z+=2)f.push(O0(e,a[z])),_.push(a[z+1]);const v=[],x=xo.empty();for(let z=f.length-1;z>=0;--z)if(!LF(v,f[z])){const q=f[z];let ee=_[z];ee=(0,un.m9)(ee);const ae=l.da(q);if(ee instanceof k0)v.push(q);else{const fe=Dm(ee,ae);null!=fe&&(v.push(q),x.set(q,fe))}}const k=new zs(v);return new RF(x,k,l.fieldTransforms)}function OF(n,e,t,r=!1){return Dm(t,n.ya(r?4:3,e))}function Dm(n,e){if(FF(n=(0,un.m9)(n)))return F1("Unsupported field value:",e,n),NF(n,e);if(n instanceof Cm)return function(t,r){if(!PF(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const l of t){let f=Dm(l,r.wa(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,un.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return DO(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Qr.fromDate(t);return{timestampValue:G_(r.serializer,i)}}if(t instanceof Qr){const i=new Qr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:G_(r.serializer,i)}}if(t instanceof pT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof _u)return{bytesValue:WO(r.serializer,t._byteString)};if(t instanceof $r){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Qx(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${hT(t)}`)}(n,e)}function NF(n,e){const t={};return Kk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ff(n,(r,i)=>{const a=Dm(i,e.ha(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function FF(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Qr||n instanceof pT||n instanceof _u||n instanceof $r||n instanceof Cm)}function F1(n,e,t){if(!FF(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=hT(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function O0(n,e,t){if((e=(0,un.m9)(e))instanceof Fd)return e._internalPath;if("string"==typeof e)return _T(n,e);throw yT("Field path arguments must be of type string or ",n,!1,void 0,t)}const v$=new RegExp("[~\\*/\\[\\]]");function _T(n,e,t){if(e.search(v$)>=0)throw yT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Fd(...e.split("."))._internalPath}catch{throw yT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function yT(n,e,t,r,i){const a=r&&!r.isEmpty(),l=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||l)&&(_+=" (found",a&&(_+=` in field ${r}`),l&&(_+=` in document ${i}`),_+=")"),new Be(ye.INVALID_ARGUMENT,f+n+_)}function LF(n,e){return n.some(t=>t.isEqual(e))}class N0{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new $r(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new b$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class b$ extends N0{data(){return super.data()}}function vT(n,e){return"string"==typeof e?_T(n,e):e instanceof Fd?e._internalPath:e._delegate._internalPath}function UF(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Be(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class L1{}class F0 extends L1{}function Df(n,e,...t){let r=[];e instanceof L1&&r.push(e),r=r.concat(t),function(i){const a=i.filter(f=>f instanceof sy).length,l=i.filter(f=>f instanceof L0).length;if(a>1||a>0&&l>0)throw new Be(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class L0 extends F0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new L0(e,t,r)}_apply(e){const t=this._parse(e);return $F(e._query,t),new Mo(e.firestore,e.converter,jx(e._query,t))}_parse(e){const t=Tm(e.firestore);return function(i,a,l,f,_,v,x){let k;if(_.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Be(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){jF(x,v);const z=[];for(const q of x)z.push(BF(f,i,q));k={arrayValue:{values:z}}}else k=BF(f,i,x)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||jF(x,v),k=OF(l,"where",x,"in"===v||"not-in"===v);return kn.create(_,v,k)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class sy extends L1{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new sy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:hr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const l=i.getFlattenedFilters();for(const f of l)$F(a,f),a=jx(a,f)}(e._query,t),new Mo(e.firestore,e.converter,jx(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class U1 extends F0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new U1(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Be(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Be(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new U_(i,a);return function(f,_){if(null===Vx(f)){const v=LC(f);null!==v&&HF(0,v,_.field)}}(r,l),l}(e._query,this._field,this._direction);return new Mo(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Rd(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class bT extends F0{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new bT(e,t,r)}_apply(e){return new Mo(e.firestore,e.converter,UC(e._query,this._limit,this._limitType))}}class wT extends F0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new wT(e,t,r)}_apply(e){const t=VF(e,this.type,this._docOrFields,this._inclusive);return new Mo(e.firestore,e.converter,(i=t,new Rd((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class ET extends F0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new ET(e,t,r)}_apply(e){const t=VF(e,this.type,this._docOrFields,this._inclusive);return new Mo(e.firestore,e.converter,(i=t,new Rd((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function VF(n,e,t,r){if(t[0]=(0,un.m9)(t[0]),t[0]instanceof N0)return function(i,a,l,f,_){if(!f)throw new Be(ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const v=[];for(const x of pm(i))if(x.field.isKeyField())v.push(hm(a,f.key));else{const k=f.data.field(x.field);if(MC(k))throw new Be(ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===k){const z=x.field.canonicalString();throw new Be(ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${z}' (used as the orderBy) does not exist.`)}v.push(k)}return new vf(v,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Tm(n.firestore);return function(a,l,f,_,v,x){const k=a.explicitOrderBy;if(v.length>k.length)throw new Be(ye.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const z=[];for(let q=0;q<v.length;q++){const ee=v[q];if(k[q].field.isKeyField()){if("string"!=typeof ee)throw new Be(ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof ee}`);if(!Bx(a)&&-1!==ee.indexOf("/"))throw new Be(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${ee}' contains a slash.`);const ae=a.path.child(Bn.fromString(ee));if(!pt.isDocumentKey(ae))throw new Be(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ae}' is not because it contains an odd number of segments.`);const fe=new pt(ae);z.push(hm(l,fe))}else{const ae=OF(f,_,ee);z.push(ae)}}return new vf(z,x)}(n._query,n.firestore._databaseId,i,e,t,r)}}function BF(n,e,t){if("string"==typeof(t=(0,un.m9)(t))){if(""===t)throw new Be(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bx(e)&&-1!==t.indexOf("/"))throw new Be(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Bn.fromString(t));if(!pt.isDocumentKey(r))throw new Be(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hm(n,new pt(r))}if(t instanceof $r)return hm(n,t._key);throw new Be(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hT(t)}.`)}function jF(n,e){if(!Array.isArray(n)||0===n.length)throw new Be(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $F(n,e){if(e.isInequality()){const r=LC(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Be(ye.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=Vx(n);null!==a&&HF(0,i,a)}const t=function(r,i){for(const a of r)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Be(ye.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function HF(n,e,t){if(!t.isEqual(e))throw new Be(ye.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class V1{convertValue(e,t="none"){switch(_f(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Md(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Dt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ff(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new pT(gi(e.latitude),gi(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=RC(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(t0(e));default:return null}}convertTimestamp(e){const t=pf(e);return new Qr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Bn.fromString(e);Nt(rN(r));const i=new mf(r.get(1),r.get(3)),a=new pt(r.popFirst(5));return i.isEqual(t)||Di(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function IT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class x$ extends V1{constructor(e){super(),this.firestore=e}convertBytes(e){return new _u(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $r(this.firestore,null,t)}}class Am{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ld extends N0{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new U0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(vT("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class U0 extends Ld{data(e={}){return super.data(e)}}class Af{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Am(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new U0(this._firestore,this._userDataWriter,r.key,r,new Am(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Be(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new U0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Am(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const f=new U0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Am(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,v=-1;return 0!==l.type&&(_=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),1!==l.type&&(a=a.add(l.doc),v=a.indexOf(l.doc.key)),{type:R$(l.type),doc:f,oldIndex:_,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function R$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt()}}function GF(n,e){return n instanceof Ld&&e instanceof Ld?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Af&&e instanceof Af&&n._firestore===e._firestore&&R1(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Sf extends V1{constructor(e){super(),this.firestore=e}convertBytes(e){return new _u(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $r(this.firestore,null,t)}}function qF(n,e,t){n=On(n,$r);const r=On(n.firestore,Hr),i=IT(n.converter,e,t);return ay(r,[gT(Tm(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Jr.none())])}function WF(n,e,t,...r){n=On(n,$r);const i=On(n.firestore,Hr),a=Tm(i);let l;return l="string"==typeof(e=(0,un.m9)(e))||e instanceof Fd?N1(a,"updateDoc",n._key,e,t,r):O1(a,"updateDoc",n._key,e),ay(i,[l.toMutation(n._key,Jr.exists(!0))])}function ZF(n,...e){var t,r,i;n=(0,un.m9)(n);let a={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||P1(e[l])||(a=e[l],l++);const f={includeMetadataChanges:a.includeMetadataChanges};if(P1(e[l])){const k=e[l];e[l]=null===(t=k.next)||void 0===t?void 0:t.bind(k),e[l+1]=null===(r=k.error)||void 0===r?void 0:r.bind(k),e[l+2]=null===(i=k.complete)||void 0===i?void 0:i.bind(k)}let _,v,x;if(n instanceof $r)v=On(n.firestore,Hr),x=B_(n._key.path),_={next:k=>{e[l]&&e[l](B1(v,n,k))},error:e[l+1],complete:e[l+2]};else{const k=On(n,Mo);v=On(k.firestore,Hr),x=k._query;const z=new Sf(v);_={next:q=>{e[l]&&e[l](new Af(v,z,k,q))},error:e[l+1],complete:e[l+2]},UF(n._query)}return function(k,z,q,ee){const ae=new cT(ee),fe=new ZM(z,ae,q);return k.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return HM(yield oy(k),fe)})),()=>{ae.Dc(),k.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return GM(yield oy(k),fe)}))}}(Si(v),x,f,_)}function ay(n,e){return function(t,r){const i=new Wi;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function Cj(n,e,t){return XM.apply(this,arguments)}(yield S1(t),r,i)})),i.promise}(Si(n),e)}function B1(n,e,t){const r=t.docs.get(e._key),i=new Sf(n);return new Ld(n,i,e._key,r,new Am(t.hasPendingWrites,t.fromCache),e.converter)}const K$={maxAttempts:5};class KF{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Tm(e)}set(e,t,r){this._verifyNotCommitted();const i=xf(e,this._firestore),a=IT(i.converter,t,r),l=gT(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(l.toMutation(i._key,Jr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=xf(e,this._firestore);let l;return l="string"==typeof(t=(0,un.m9)(t))||t instanceof Fd?N1(this._dataReader,"WriteBatch.update",a._key,t,r,i):O1(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(l.toMutation(a._key,Jr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=xf(e,this._firestore);return this._mutations=this._mutations.concat(new z_(t._key,Jr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Be(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function xf(n,e){if((n=(0,un.m9)(n)).firestore!==e)throw new Be(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Y$ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Tm(e)}get(e){const t=xf(e,this._firestore),r=new x$(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Dt();const a=i[0];if(a.isFoundDocument())return new N0(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new N0(this._firestore,r,t._key,null,t.converter);throw Dt()})}set(e,t,r){const i=xf(e,this._firestore),a=IT(i.converter,t,r),l=gT(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const a=xf(e,this._firestore);let l;return l="string"==typeof(t=(0,un.m9)(t))||t instanceof Fd?N1(this._dataReader,"Transaction.update",a._key,t,r,i):O1(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,l),this}delete(e){const t=xf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=xf(e,this._firestore),r=new Sf(this._firestore);return super.get(e).then(i=>new Ld(this._firestore,r,t._key,i._document,new Am(!1,!1),t.converter))}}!function(n,e=!0){O_=To.SDK_VERSION,(0,To._registerComponent)(new ac.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),l=new Hr(new eV(t.getProvider("auth-internal")),new rV(t.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Be(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mf(f.options.projectId,_)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,To.registerVersion)(Rk,"3.12.1",n),(0,To.registerVersion)(Rk,"3.12.1","esm2017")}();function j1(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Be("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function QF(){if(typeof Uint8Array>"u")throw new Be("unimplemented","Uint8Arrays are not available in this environment.")}function JF(){if(!function MV(){return typeof atob<"u"}())throw new Be("unimplemented","Blobs are unavailable in Firestore in this environment.")}class V0{constructor(e){this._delegate=e}static fromBase64String(e){return JF(),new V0(_u.fromBase64String(e))}static fromUint8Array(e){return QF(),new V0(_u.fromUint8Array(e))}toBase64(){return JF(),this._delegate.toBase64()}toUint8Array(){return QF(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function $1(n){return function s3(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class a3{enableIndexedDbPersistence(e,t){return function i$(n,e){MF(n=On(n,Hr));const t=Si(n);if(t._uninitializedComponentsProvider)throw new Be(ye.FAILED_PRECONDITION,"SDK cache is already specified.");hc("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new iy;return xF(t,i,new w1(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function o$(n){MF(n=On(n,Hr));const e=Si(n);if(e._uninitializedComponentsProvider)throw new Be(ye.FAILED_PRECONDITION,"SDK cache is already specified.");hc("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new iy;return xF(e,r,new uF(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function s$(n){if(n._initialized&&!n._terminated)throw new Be(ye.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Wi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(t=(0,be.Z)(function*(r){if(!al.D())return Promise.resolve();const i=r+"main";yield al.delete(i)}),function(r){return t.apply(this,arguments)})(hM(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class XF{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof mf||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&hc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){TF(this._delegate,e,t,r)}enableNetwork(){return function c$(n){return function Gj(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield fF(n),t=yield pF(n);return e.setNetworkEnabled(!0),function(r){const i=yt(r);return i.vu.delete(0),S0(i)}(t)}))}(Si(n=On(n,Hr)))}(this._delegate)}disableNetwork(){return function l$(n){return function qj(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield fF(n),t=yield pF(n);return e.setNetworkEnabled(!1),(r=(0,be.Z)(function*(i){const a=yt(i);a.vu.add(0),yield Q_(a),a.bu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Si(n=On(n,Hr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,bF("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function a$(n){return function(e){const t=new Wi;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function Sj(n,e){return o1.apply(this,arguments)}(yield S1(e),t)})),t.promise}(Si(n=On(n,Hr)))}(this._delegate)}onSnapshotsInSync(e){return function B$(n,e){return function Kj(n,e){const t=new cT(e);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r=yield oy(n),i=t,yt(r).ku.add(i),void i.next();var r,i})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r=yield oy(n),i=t,void yt(r).ku.delete(i);var r,i}))}}(Si(n=On(n,Hr)),P1(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Be("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new cy(this,DF(this._delegate,e))}catch(t){throw gs(t,"collection()","Firestore.collection()")}}doc(e){try{return new fc(this,fT(this._delegate,e))}catch(t){throw gs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new _s(this,function Xj(n,e){if(n=On(n,R0),M1("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Be(ye.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Mo(n,null,(t=e,new Rd(Bn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw gs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Q$(n,e,t){n=On(n,Hr);const r=Object.assign(Object.assign({},K$),t);return function(i){if(i.maxAttempts<1)throw new Be(ye.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,l){const f=new Wi;return i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const _=yield function mF(n){return uT(n).then(e=>e.datastore)}(i);new Hj(i.asyncQueue,_,l,a,f).run()})),f.promise}(Si(n),i=>e(new Y$(n,i)),r)}(this._delegate,t=>e(new e2(this,t)))}batch(){return Si(this._delegate),new t2(new KF(this._delegate,e=>ay(this._delegate,e)))}loadBundle(e){return function u$(n,e){const t=Si(n=On(n,Hr)),r=new t$;return function Yj(n,e,t,r){const i=function(a,l){let f;return f="string"==typeof a?VO().encode(a):a,_=function(_,v){if(_ instanceof Uint8Array)return dF(_,v);if(_ instanceof ArrayBuffer)return dF(new Uint8Array(_),v);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new jj(_,l);var _}(t,A0(e));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function Vj(n,e,t){const r=yt(n);var i;(i=(0,be.Z)(function*(a,l,f){try{const _=yield l.getMetadata();if(yield function(z,q){const ee=yt(z),ae=Ai(q.createTime);return ee.persistence.runTransaction("hasNewerBundle","readonly",fe=>ee.qs.getBundleMetadata(fe,q.id)).then(fe=>!!fe&&fe.createTime.compareTo(ae)>=0)}(a.localStore,_))return yield l.close(),f._completeWith({taskState:"Success",documentsLoaded:(z=_).totalDocuments,bytesLoaded:z.totalBytes,totalDocuments:z.totalDocuments,totalBytes:z.totalBytes}),Promise.resolve(new Set);f._updateProgress(tF(_));const v=new yj(_,a.localStore,l.serializer);let x=yield l.bc();for(;x;){const z=yield v.zu(x);z&&f._updateProgress(z),x=yield l.bc()}const k=yield v.complete();return yield Nd(a,k.Ju,void 0),yield function(z,q){const ee=yt(z);return ee.persistence.runTransaction("Save bundle","readwrite",ae=>ee.qs.saveBundleMetadata(ae,q))}(a.localStore,_),f._completeWith(k.progress),Promise.resolve(k.Hu)}catch(_){return hc("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var z}),function(a,l,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield S1(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function d$(n,e){return function Qj(n,e){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(t,r){const i=yt(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.qs.getNamedQuery(a,r))}(yield dT(n),e)}))}(Si(n=On(n,Hr)),e).then(t=>t?new Mo(n,null,t.query):null)}(this._delegate,e).then(t=>t?new _s(this,t):null)}}class CT extends V1{constructor(e){super(),this.firestore=e}convertBytes(e){return new V0(new _u(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return fc.forKey(t,this.firestore,null)}}class e2{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new CT(e)}get(e){const t=xm(e);return this._delegate.get(t).then(r=>new B0(this._firestore,new Ld(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=xm(e);return r?(j1("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=xm(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=xm(e);return this._delegate.delete(t),this}}class t2{constructor(e){this._delegate=e}set(e,t,r){const i=xm(e);return r?(j1("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=xm(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=xm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Sm{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new U0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new j0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Sm.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Sm(e,new CT(e),t),i.set(t,a)),a}}Sm.INSTANCES=new WeakMap;class fc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new CT(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Be("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new fc(t,new $r(t._delegate,r,new pt(e)))}static forKey(e,t,r){return new fc(t,new $r(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new cy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new cy(this.firestore,DF(this._delegate,e))}catch(t){throw gs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,un.m9)(e))instanceof $r&&AF(this._delegate,e)}set(e,t){t=j1("DocumentReference.set",t);try{return t?qF(this._delegate,e,t):qF(this._delegate,e)}catch(r){throw gs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?WF(this._delegate,e):WF(this._delegate,e,t,...r)}catch(i){throw gs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function U$(n){return ay(On(n.firestore,Hr),[new z_(n._key,Jr.none())])}(this._delegate)}onSnapshot(...e){const t=n2(e),r=r2(e,i=>new B0(this.firestore,new Ld(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return ZF(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function k$(n){n=On(n,$r);const e=On(n.firestore,Hr),t=Si(e),r=new Sf(e);return function Wj(n,e){const t=new Wi;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(i,a,l){try{const f=yield function(_,v){const x=yt(_);return x.persistence.runTransaction("read document","readonly",k=>x.localDocuments.getDocument(k,v))}(i,a);f.isFoundDocument()?l.resolve(f):f.isNoDocument()?l.resolve(null):l.reject(new Be(ye.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=ey(f,`Failed to get document '${a} from cache`);l.reject(_)}}),function(i,a,l){return r.apply(this,arguments)})(yield dT(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Ld(e,r,n._key,i,new Am(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function O$(n){n=On(n,$r);const e=On(n.firestore,Hr);return gF(Si(e),n._key,{source:"server"}).then(t=>B1(e,n,t))}(this._delegate):function P$(n){n=On(n,$r);const e=On(n.firestore,Hr);return gF(Si(e),n._key).then(t=>B1(e,n,t))}(this._delegate),t.then(r=>new B0(this.firestore,new Ld(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new fc(this.firestore,this._delegate.withConverter(e?Sm.getInstance(this.firestore,e):null))}}function gs(n,e,t){return n.message=n.message.replace(e,t),n}function n2(n){for(const e of n)if("object"==typeof e&&!$1(e))return e;return{}}function r2(n,e){var t,r;let i;return i=$1(n[0])?n[0]:$1(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class B0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new fc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return GF(this._delegate,e._delegate)}}class j0 extends B0{data(e){const t=this._delegate.data(e);return function QU(n,e){n||Dt()}(void 0!==t),t}}class _s{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new CT(e)}where(e,t,r){try{return new _s(this.firestore,Df(this._delegate,function w$(n,e,t){const r=e,i=vT("where",n);return L0._create(i,r,t)}(e,t,r)))}catch(i){throw gs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new _s(this.firestore,Df(this._delegate,function E$(n,e="asc"){const t=e,r=vT("orderBy",n);return U1._create(r,t)}(e,t)))}catch(r){throw gs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new _s(this.firestore,Df(this._delegate,function I$(n){return IF("limit",n),bT._create("limit",n,"F")}(e)))}catch(t){throw gs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new _s(this.firestore,Df(this._delegate,function C$(n){return IF("limitToLast",n),bT._create("limitToLast",n,"L")}(e)))}catch(t){throw gs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new _s(this.firestore,Df(this._delegate,function T$(...n){return wT._create("startAt",n,!0)}(...e)))}catch(t){throw gs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new _s(this.firestore,Df(this._delegate,function D$(...n){return wT._create("startAfter",n,!1)}(...e)))}catch(t){throw gs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new _s(this.firestore,Df(this._delegate,function A$(...n){return ET._create("endBefore",n,!1)}(...e)))}catch(t){throw gs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new _s(this.firestore,Df(this._delegate,function S$(...n){return ET._create("endAt",n,!0)}(...e)))}catch(t){throw gs(t,"endAt()","Query.endAt()")}}isEqual(e){return R1(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function F$(n){n=On(n,Mo);const e=On(n.firestore,Hr),t=Si(e),r=new Sf(e);return function Zj(n,e){const t=new Wi;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(i,a,l){try{const f=yield tT(i,a,!0),_=new iF(a,f.ir),v=_.sc(f.documents),x=_.applyChanges(v,!1);l.resolve(x.snapshot)}catch(f){const _=ey(f,`Failed to execute query '${a} against cache`);l.reject(_)}}),function(i,a,l){return r.apply(this,arguments)})(yield dT(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Af(e,r,n,i))}(this._delegate):"server"===e?.source?function L$(n){n=On(n,Mo);const e=On(n.firestore,Hr),t=Si(e),r=new Sf(e);return _F(t,n._query,{source:"server"}).then(i=>new Af(e,r,n,i))}(this._delegate):function N$(n){n=On(n,Mo);const e=On(n.firestore,Hr),t=Si(e),r=new Sf(e);return UF(n._query),_F(t,n._query).then(i=>new Af(e,r,n,i))}(this._delegate),t.then(r=>new H1(this.firestore,new Af(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=n2(e),r=r2(e,i=>new H1(this.firestore,new Af(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return ZF(this._delegate,t,r)}withConverter(e){return new _s(this.firestore,this._delegate.withConverter(e?Sm.getInstance(this.firestore,e):null))}}class l3{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new j0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class H1{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new _s(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new j0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new l3(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new j0(this._firestore,r))})}isEqual(e){return GF(this._delegate,e._delegate)}}class cy extends _s{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new fc(this.firestore,e):null}doc(e){try{return new fc(this.firestore,void 0===e?fT(this._delegate):fT(this._delegate,e))}catch(t){throw gs(t,"doc()","CollectionReference.doc()")}}add(e){return function V$(n,e){const t=On(n.firestore,Hr),r=fT(n),i=IT(n.converter,e);return ay(t,[gT(Tm(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Jr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new fc(this.firestore,t))}isEqual(e){return AF(this._delegate,e._delegate)}withConverter(e){return new cy(this.firestore,this._delegate.withConverter(e?Sm.getInstance(this.firestore,e):null))}}function xm(n){return On(n,$r)}class z1{constructor(...e){this._delegate=new Fd(...e)}static documentId(){return new z1(mi.keyField().canonicalString())}isEqual(e){return(e=(0,un.m9)(e))instanceof Fd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Mm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function X$(){return new k1("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Mm(e)}static delete(){const e=function J$(){return new k0("deleteField")}();return e._methodName="FieldValue.delete",new Mm(e)}static arrayUnion(...e){const t=function e3(...n){return new g$("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Mm(t)}static arrayRemove(...e){const t=function t3(...n){return new _$("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Mm(t)}static increment(e){const t=function n3(n){return new y$("increment",n)}(e);return t._methodName="FieldValue.increment",new Mm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const u3={Firestore:XF,GeoPoint:pT,Timestamp:Qr,Blob:V0,Transaction:e2,WriteBatch:t2,DocumentReference:fc,DocumentSnapshot:B0,Query:_s,QueryDocumentSnapshot:j0,QuerySnapshot:H1,CollectionReference:cy,FieldPath:z1,FieldValue:Mm,setLogLevel:function c3(n){!function YU(n){uf.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function o2(n,e){return function f3(n,e=US.z){return new yi.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function G1(n,e){return o2(n,e).pipe((0,_t.U)(t=>({payload:t,type:"query"})))}function TT(n,e){return G1(n,e).pipe(Mh(void 0),Cb(),(0,_t.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,f)=>{const _=i.find(x=>x.doc.ref.isEqual(l.ref)),v=t?.payload.docs.find(x=>x.ref.isEqual(l.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(l.metadata)||!_&&v&&JSON.stringify(v.metadata)===JSON.stringify(l.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:l}})}),a}))}function s2(n,e,t){return TT(n,t).pipe(cg((r,i)=>function m3(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function g3(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return q1(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return q1(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return q1(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),jI(),(0,_t.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function q1(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function a2(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function h3(n){(function d3(n,e){n.INTERNAL.registerComponent(new ac.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},u3)))})(n,(e,t)=>new XF(e,t,new a3)),n.registerVersion("@firebase/firestore-compat","0.3.10")}(Tb.Z);class c2{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=TT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,_t.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Mh(void 0),Cb(),Li(([r,i])=>i.length>0||!r),(0,_t.U)(([r,i])=>i),Ye.iC)}auditTrail(e){return this.stateChanges(e).pipe(cg((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=a2(e);return s2(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ye.iC)}valueChanges(e={}){return G1(this.query,this.afs.schedulers.outsideAngular).pipe((0,_t.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Ye.iC)}get(e){return(0,Sn.D)(this.query.get(e)).pipe(Ye.iC)}add(e){return this.ref.add(e)}doc(e){return new l2(this.ref.doc(e),this.afs)}}class l2{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=h2(r,t);return new c2(i,a,this.afs)}snapshotChanges(){return function p3(n,e){return o2(n,e).pipe(Mh(void 0),Cb(),(0,_t.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ye.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,_t.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Sn.D)(this.ref.get(e)).pipe(Ye.iC)}}class _3{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?TT(this.query,this.afs.schedulers.outsideAngular).pipe((0,_t.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Li(t=>t.length>0),Ye.iC):TT(this.query,this.afs.schedulers.outsideAngular).pipe(Ye.iC)}auditTrail(e){return this.stateChanges(e).pipe(cg((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=a2(e);return s2(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ye.iC)}valueChanges(e={}){return G1(this.query,this.afs.schedulers.outsideAngular).pipe((0,_t.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Ye.iC)}get(e){return(0,Sn.D)(this.query.get(e)).pipe(Ye.iC)}}const u2=new u.OlP("angularfire2.enableFirestorePersistence"),d2=new u.OlP("angularfire2.firestore.persistenceSettings"),y3=new u.OlP("angularfire2.firestore.settings"),v3=new u.OlP("angularfire2.firestore.use-emulator");function h2(n,e=(t=>t)){return{query:e(n),ref:n}}let f2=(()=>{class n{constructor(t,r,i,a,l,f,_,v,x,k,z,q,ee,ae,fe,je,tt){this.schedulers=_;const Xe=(0,Ii.on)(t,f,r),it=x;k&&o_(Xe,f,z,ee,ae,fe,q,je),[this.firestore,this.persistenceEnabled$]=(0,Ii.cc)(`${Xe.name}.firestore`,"AngularFirestore",Xe.name,()=>{const Bt=f.runOutsideAngular(()=>Xe.firestore());if(a&&Bt.settings(a),it&&Bt.useEmulator(...it),i&&!Ts(l)){const Wt=()=>{try{return(0,Sn.D)(Bt.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(Nn){return typeof console<"u"&&console.warn(Nn),dt(!1)}};return[Bt,f.runOutsideAngular(Wt)]}return[Bt,dt(!1)]},[a,it,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:l}=h2(i,r),f=this.schedulers.ngZone.run(()=>a);return new c2(f,l,this)}collectionGroup(t,r){const i=r||(l=>l),a=this.firestore.collectionGroup(t);return new _3(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new l2(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ii.Dh),u.LFG(Ii.xv,8),u.LFG(u2,8),u.LFG(y3,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Ye.HU),u.LFG(d2,8),u.LFG(v3,8),u.LFG(Ib,8),u.LFG(bb,8),u.LFG(VI,8),u.LFG(wb,8),u.LFG(wd,8),u.LFG(BI,8),u.LFG(Eb,8),u.LFG(vd,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),b3=(()=>{class n{constructor(){i_.Z.registerVersion("angularfire",Ye.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:u2,useValue:!0},{provide:d2,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[f2]}),n})(),Ud=(()=>{class n{constructor(t,r,i,a,l){var f=this;this.swal=t,this.auth=r,this.authFire=i,this.router=a,this.af=l,this.isLoggedIn=!1,this.userName="",this.userProfile="",this.isApproved=!1,this.isAdmin=!1,this.user$=this.authFire.authState.subscribe(function(){var _=(0,be.Z)(function*(v){if(null!=v&&null!=v&&v.emailVerified){const x=yield f.getUserProfile(v.uid).toPromise();if(x.exists){const z=x.data();f.userProfile=z.perfil,f.isApproved=z.aprobado,console.log("Perfil del usuario: "+f.userProfile),"especialista"==f.userProfile&&f.isApproved?(console.log("hola, if especialista. Estoy aprobado? "+f.isApproved),f.isLoggedIn=v):f.isLoggedIn="especialista"!=f.userProfile&&v}let k=v.email?.split("@");f.userName=k[0],console.log("Hola, soy el usuario: "+f.userName)}console.log("Hola, soy el usuario con el mail: "+v?.email)});return function(v){return _.apply(this,arguments)}}())}initializeUser(){var t=this;return(0,be.Z)(function*(){t.user$=t.authFire.authState.subscribe(function(){var r=(0,be.Z)(function*(i){if(null!=i&&null!=i&&i.emailVerified){const a=yield t.getUserProfile(i.uid).toPromise();if(a.exists){const l=a.data();t.userProfile=l.perfil,t.isApproved=l.aprobado,console.log("Perfil del usuario: "+t.userProfile),"especialista"==t.userProfile&&t.isApproved?(console.log("hola, if especialista. Estoy aprobado? "+t.isApproved),t.isLoggedIn=i):t.isLoggedIn="especialista"!=t.userProfile&&i;let f=i.email?.split("@");t.userName=f[0],console.log("Hola, soy el usuario: "+t.userName)}console.log("Hola, soy el usuario con el mail: "+i?.email)}});return function(i){return r.apply(this,arguments)}}())})()}createUser(t){return vS(this.auth,t.email,t.clave).then(r=>{null!=r&&(console.log("hola, estoy en create user"),CS(r.user),this.af.collection("usuarios").doc(r.user?.uid).set({id:r.user?.uid,perfil:t.perfil,nombre:t.nombre,apellido:t.apellido,edad:t.edad,dni:t.dni,obraSocial:t.obraSocial,especialidad:t.especialidad,email:t.email,clave:t.clave,imagen1:t.imagen1,imagen2:t.imagen2,aprobado:t.aprobado}).then(()=>{this.swal.swalert("Registro exitoso!","Revisa tu correo","success")}).catch(i=>{this.swal.swalert("Error",i.code,"error")}))})}login({email:t,password:r}){var i=this;return(0,be.Z)(function*(){try{if(yield NI(i.auth,t,r),!i.auth.currentUser.emailVerified)throw i.isLoggedIn=!1,new Error("El usuario no ha verificado su correo electr\xf3nico.");"especialista"==i.userProfile&&i.isApproved||"paciente"==i.userProfile?i.isLoggedIn=!0:(i.isLoggedIn=!0,i.userProfile="admin")}catch(a){throw a}})()}checkEmail(t){return!!/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(t)}logout(){this.auth.signOut(),this.router.navigateByUrl("/login"),this.swal.showToast("Sesi\xf3n cerrada","success"),this.isLoggedIn=!1,this.userProfile="",console.log("Sesi\xf3n cerrada")}setUserData(t,r){return this.af.collection(r).add(t)}getUserName(){return this.userName}crearMensaje(t){let r="";switch(t){case"auth/operation-not-allowed":r="La operaci\xf3n no est\xe1 permitida.";break;case"auth/email-already-in-use":r="El email ya est\xe1 registrado.";break;case"auth/weak-password":r="La contrase\xf1a debe tener al menos 6 caracteres";break;case"auth/invalid-email":r="El email no es valido.";break;case"auth/internal-error":r="Los campos estan vacios";break;case"auth/user-not-found":r="El email y/o la contrase\xf1a son incorrectas";break;default:r="Error al crear el usuario."}return r}updateUser(t){this.af.doc(`usuarios/${t.id}`).update(t).then(()=>{}).catch(r=>{this.swal.showToast("Error","error")})}getCollection(t){return this.af.collection(t).valueChanges()}getUserProfile(t){return this.af.collection("usuarios").doc(t).get()}getCurrentProfile(){return this.userProfile}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(cc),u.LFG(Xg),u.LFG(Ib),u.LFG(Kr),u.LFG(f2))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),W1=(()=>{class n{constructor(){this.spinnerSubject=new Ho(!1),this.spinnerState=this.spinnerSubject.asObservable()}show(){this.spinnerSubject.next(!0)}hide(){this.spinnerSubject.next(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function w3(n,e){1&n&&(u.TgZ(0,"div",1),u._UZ(1,"div",2),u.qZA())}let p2=(()=>{class n{constructor(t){this.spinnerService=t,this.showSpinner=!1,this.subscription=t.spinnerState.subscribe(r=>{this.showSpinner=r})}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(W1))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-spinner"]],decls:1,vars:1,consts:[["class","spinner-overlay",4,"ngIf"],[1,"spinner-overlay"],[1,"spinner"]],template:function(t,r){1&t&&u.YNc(0,w3,2,0,"div",0),2&t&&u.Q6J("ngIf",r.showSpinner)},dependencies:[ui],styles:[".spinner-overlay[_ngcontent-%COMP%]{margin-top:18%;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;z-index:9999}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;border:4px solid #ffffff;border-top-color:#29b4ad;animation:_ngcontent-%COMP%_spinner-rotate 1s infinite linear}@keyframes _ngcontent-%COMP%_spinner-rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),n})();function E3(n,e){1&n&&(u.TgZ(0,"div",13),u._UZ(1,"app-spinner"),u.qZA())}function I3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",16)(1,"h6"),u._uU(2,"Paciente"),u.qZA(),u.TgZ(3,"img",17),u.NdJ("click",function(){const a=u.CHM(t).$implicit,l=u.oxw(2);return u.KtG(l.cargarUsuario(a.email,a.clave))}),u.qZA()()}if(2&n){const t=e.$implicit;u.xp6(3),u.Q6J("src",t.imagen1,u.LSH)}}function C3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",16)(1,"h6"),u._uU(2,"Especialista"),u.qZA(),u.TgZ(3,"img",18),u.NdJ("click",function(){const a=u.CHM(t).$implicit,l=u.oxw(2);return u.KtG(l.cargarUsuario(a.email,a.clave))}),u.qZA()()}if(2&n){const t=e.$implicit;u.xp6(3),u.Q6J("src",t.imagen1,u.LSH)}}function T3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",16)(1,"h6"),u._uU(2,"Admin"),u.qZA(),u.TgZ(3,"img",19),u.NdJ("click",function(){const a=u.CHM(t).$implicit,l=u.oxw(2);return u.KtG(l.cargarUsuario(a.email,a.clave))}),u.qZA()()}if(2&n){const t=e.$implicit;u.xp6(3),u.Q6J("src",t.imagen1,u.LSH)}}function D3(n,e){if(1&n&&(u.TgZ(0,"div",14),u.YNc(1,I3,4,1,"div",15),u.YNc(2,C3,4,1,"div",15),u.YNc(3,T3,4,1,"div",15),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngForOf",t.pacientes.slice(0,3)),u.xp6(1),u.Q6J("ngForOf",t.especialistas.slice(0,2)),u.xp6(1),u.Q6J("ngForOf",t.admins.slice(0,1))}}let A3=(()=>{class n{constructor(t,r,i,a){var l=this;this.userService=t,this.router=r,this.swal=i,this.spinner=a,this.isLoading=!0,this.listaDeUsuarios=[],this.pacientes=[],this.especialistas=[],this.admins=[],this.user=new jg,this.spinner.show(),this.userService.getCollection("usuarios").subscribe(function(){var f=(0,be.Z)(function*(_){l.listaDeUsuarios=_,l.listaDeUsuarios.forEach(v=>{"paciente"==v.perfil?l.pacientes.push(v):"especialista"==v.perfil?l.especialistas.push(v):"admin"==v.perfil&&l.admins.push(v)}),l.spinner.hide(),l.isLoading=!1});return function(_){return f.apply(this,arguments)}}())}ngOnInit(){}loginUser(){""==this.user.email||""==this.user.clave?this.swal.swalert("Error","Campos vac\xedos","error"):this.userService.login({email:this.user.email,password:this.user.clave}).then(()=>{this.userService.setUserData({Fecha:this.getDateFormat(new Date),Usuario:this.user.email},"datos de ingresos"),this.swal.swalert("Bienvenido","Bienvenido a la Cl\xednica Online","success"),this.router.navigateByUrl("/home")}).catch(t=>{this.swal.swalert("Error",this.userService.crearMensaje(t.code),"error"),console.log(t.code)})}getDateFormat(t){return`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`}fastLogin(){this.user.email="invitado@invitado.com",this.user.clave="123456"}cargarUsuario(t,r){this.user.email=t,this.user.clave=r,this.swal.showToast("Se carg\xf3 el usuario!","info")}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ud),u.Y36(Kr),u.Y36(cc),u.Y36(W1))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:18,vars:4,consts:[[1,"container"],[1,"screen"],[1,"screen__content"],[1,"login"],[1,"login__field"],["type","text","placeholder","Email",1,"login__input",3,"ngModel","ngModelChange"],[1,"login__icon","fas","fa-lock"],["type","password","placeholder","Clave",1,"login__input",3,"ngModel","ngModelChange"],[1,"button","login__submit",3,"click"],[1,"button__text"],[1,"button__icon","fas","fa-chevron-right"],["class","cargando",4,"ngIf","ngIfElse"],["mostrar",""],[1,"cargando"],[1,"row","align-items-end","justify-content-start"],["class","col",4,"ngFor","ngForOf"],[1,"col"],["alt","paciente",1,"rounded-image",3,"src","click"],["alt","Especialista",1,"rounded-image",3,"src","click"],["alt","Admin",1,"rounded-image",3,"src","click"]],template:function(t,r){if(1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),u._uU(5,"Log in"),u.qZA(),u.TgZ(6,"div",4)(7,"input",5),u.NdJ("ngModelChange",function(a){return r.user.email=a}),u.qZA()(),u.TgZ(8,"div",4),u._UZ(9,"i",6),u.TgZ(10,"input",7),u.NdJ("ngModelChange",function(a){return r.user.clave=a}),u.qZA()(),u.TgZ(11,"button",8),u.NdJ("click",function(){return r.loginUser()}),u.TgZ(12,"span",9),u._uU(13,"Ingresar"),u.qZA(),u._UZ(14,"i",10),u.qZA(),u.YNc(15,E3,2,0,"div",11),u.YNc(16,D3,4,3,"ng-template",null,12,u.W1O),u.qZA()()()()),2&t){const i=u.MAs(17);u.xp6(7),u.Q6J("ngModel",r.user.email),u.xp6(3),u.Q6J("ngModel",r.user.clave),u.xp6(5),u.Q6J("ngIf",r.isLoading)("ngIfElse",i)}},dependencies:[Xo,ui,zc,Xa,Kl,p2],styles:['@import"https://fonts.googleapis.com/css?family=Raleway:400,700";*[_ngcontent-%COMP%]{box-sizing:border-box;margin:1;padding:0;font-family:Raleway,sans-serif}.rounded-image[_ngcontent-%COMP%]{border-radius:50%;width:80px;height:80px;cursor:pointer;object-fit:cover}.row[_ngcontent-%COMP%]{margin-top:15%}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{color:#57a39f;font-weight:700}body[_ngcontent-%COMP%]{background:linear-gradient(90deg,#C7C5F4,#776BCC)}img[_ngcontent-%COMP%]{width:50%;height:50%}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative;top:8%}.screen[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f1fcfb,#dafffd);position:relative;height:700px;width:950px;box-shadow:0 0 24px #8dcac7;border-radius:15px}.screen__content[_ngcontent-%COMP%]{z-index:1;position:relative;height:100%;display:flex}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#5e8b89}.login[_ngcontent-%COMP%]{width:820px;padding:100px 30px 30px}.login__field[_ngcontent-%COMP%]{padding:20px 0;position:relative}.login__icon[_ngcontent-%COMP%]{position:absolute;top:30px;color:#7875b5}.login__input[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #D1D1D4;background:none;padding:10px 10px 10px 24px;font-weight:700;width:75%;transition:.2s}.login__input[_ngcontent-%COMP%]:active, .login__input[_ngcontent-%COMP%]:focus, .login__input[_ngcontent-%COMP%]:hover{outline:none;border-bottom-color:#6a679e}.login__submit[_ngcontent-%COMP%]{background:#fff;font-size:14px;margin-top:30px;padding:16px 20px;border-radius:26px;border:1px solid #ddfffd;text-transform:uppercase;font-weight:700;display:flex;align-items:center;width:100%;color:#57a39f;box-shadow:0 2px 2px #57a39f;cursor:pointer;transition:.2s}.login__submit[_ngcontent-%COMP%]:active, .login__submit[_ngcontent-%COMP%]:focus, .login__submit[_ngcontent-%COMP%]:hover{border-color:#99dfdc;outline:none}.button__icon[_ngcontent-%COMP%]{font-size:24px;margin-left:auto;color:#7875b5}.social-login[_ngcontent-%COMP%]{position:absolute;height:140px;width:160px;text-align:center;bottom:0;right:0;color:#fff}.social-icons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.social-login__icon[_ngcontent-%COMP%]{padding:20px 10px;color:#fff;text-decoration:none;text-shadow:0px 0px 8px #7875B5}.social-login__icon[_ngcontent-%COMP%]:hover{transform:scale(1.5)}']}),n})(),S3=(()=>{class n{constructor(t){this.router=t}irALogIn(){try{this.router.navigateByUrl("/login")}catch(t){console.log(t)}}irARegistro(){try{this.router.navigateByUrl("/registro")}catch(t){console.log(t)}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Kr))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-bienvenido"]],decls:16,vars:0,consts:[[1,"container"],[1,"screen"],[1,"screen__content"],[1,"text-center"],["src","../../../assets/logo.png","alt","logo",1,"img-logo"],[1,"home"],[1,"home__field"],[1,"button","home__submit",3,"click"],[1,"button__text"],[1,"button__icon","fas","fa-chevron-right"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),u._uU(4,"Bienvenido a la Cl\xednica OnLine"),u.qZA(),u._UZ(5,"img",4),u.TgZ(6,"div",5)(7,"div",6)(8,"button",7),u.NdJ("click",function(){return r.irALogIn()}),u.TgZ(9,"span",8),u._uU(10,"Iniciar sesi\xf3n"),u.qZA(),u._UZ(11,"i",9),u.qZA(),u.TgZ(12,"button",7),u.NdJ("click",function(){return r.irARegistro()}),u.TgZ(13,"span",8),u._uU(14,"Registrarse"),u.qZA(),u._UZ(15,"i",9),u.qZA()()()()()())},styles:["body[_ngcontent-%COMP%]{background:linear-gradient(90deg,#C7C5F4,#776BCC)}.img-logo[_ngcontent-%COMP%]{width:36%;height:44%}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative;top:11%}.screen[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ffffff,#dafffd);position:relative;height:600px;width:750px;box-shadow:0 0 24px #8dcac7;border-radius:15px;display:flex;flex-direction:column;align-content:center;text-align:center}.screen__content[_ngcontent-%COMP%]{top:5%;z-index:1;position:relative;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#5e8b89}.text-center[_ngcontent-%COMP%]{text-align:center}.home[_ngcontent-%COMP%]{width:320px;padding:10px 30px 30px}.home__field[_ngcontent-%COMP%]{padding:20px 0;position:relative}.home__icon[_ngcontent-%COMP%]{position:absolute;top:30px;color:#7875b5}.home__input[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #D1D1D4;background:none;padding:10px 10px 10px 24px;font-weight:700;width:75%;transition:.2s}.home__input[_ngcontent-%COMP%]:active, .home__input[_ngcontent-%COMP%]:focus, .home__input[_ngcontent-%COMP%]:hover{outline:none;border-bottom-color:#6a679e}.home__submit[_ngcontent-%COMP%]{background:#fff;font-size:14px;margin-top:30px;padding:16px 20px;border-radius:26px;border:1px solid #ddfffd;text-transform:uppercase;font-weight:700;display:flex;align-items:center;width:100%;color:#57a39f;box-shadow:0 2px 2px #57a39f;cursor:pointer;transition:.2s}.home__submit[_ngcontent-%COMP%]:active, .home__submit[_ngcontent-%COMP%]:focus, .home__submit[_ngcontent-%COMP%]:hover{border-color:#99dfdc;outline:none}.button__icon[_ngcontent-%COMP%]{font-size:24px;margin-left:auto;color:#7875b5}"]}),n})();function m2(n,e=US.z){return(0,mr.e)((t,r)=>{let i=null,a=null,l=null;const f=()=>{if(i){i.unsubscribe(),i=null;const v=a;a=null,r.next(v)}};function _(){const v=l+n,x=e.now();if(x<v)return i=this.schedule(void 0,v-x),void r.add(i);f()}t.subscribe((0,Ar.x)(r,v=>{a=v,l=e.now(),i||(i=e.schedule(_,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{a=i=null}))})}const g2="firebasestorage.googleapis.com",_2="storageBucket";class ii extends un.ZR{constructor(e,t,r=0){super(Z1(e),`Firebase Storage: ${t} (${Z1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ii.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Z1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Rr=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Rr||(Rr={})),Rr))();function Z1(n){return"storage/"+n}function K1(){return new ii(Rr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function y2(){return new ii(Rr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function v2(){return new ii(Rr.CANCELED,"User canceled the upload/download.")}function b2(){return new ii(Rr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ly(n){return new ii(Rr.INVALID_ARGUMENT,n)}function w2(){return new ii(Rr.APP_DELETED,"The Firebase app was deleted.")}function E2(n){return new ii(Rr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $0(n,e){return new ii(Rr.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function H0(n){throw new ii(Rr.INTERNAL_ERROR,"Internal error: "+n)}class Yo{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Yo.makeFromUrl(e,t)}catch{return new Yo(e,"")}if(""===r.path)return r;throw function U3(n){return new ii(Rr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+i+"(/(.*))?$","i");function v(it){it.path_=decodeURIComponent(it.path)}const k=t.replace(/[.]/g,"\\."),Xe=[{regex:f,indices:{bucket:1,path:3},postModify:function a(it){"/"===it.path.charAt(it.path.length-1)&&(it.path_=it.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${k}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===g2?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let it=0;it<Xe.length;it++){const Bt=Xe[it],Wt=Bt.regex.exec(e);if(Wt){let oi=Wt[Bt.indices.path];oi||(oi=""),r=new Yo(Wt[Bt.indices.bucket],oi),Bt.postModify(r);break}}if(null==r)throw function L3(n){return new ii(Rr.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class H3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function DT(n){return"string"==typeof n||n instanceof String}function I2(n){return Y1()&&n instanceof Blob}function Y1(){return typeof Blob<"u"&&!(0,un.UG)()}function Q1(n,e,t,r){if(r<e)throw ly(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw ly(`Invalid value for '${n}'. Expected ${t} or less.`)}function Vd(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function C2(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Mf=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Mf||(Mf={})),Mf))();function T2(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),a=-1!==e.indexOf(n);return t||i||a}class K3{constructor(e,t,r,i,a,l,f,_,v,x,k,z=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=f,this.errorCallback_=_,this.timeout_=v,this.progressCallback_=x,this.connectionFactory_=k,this.retry=z,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((q,ee)=>{this.resolve_=q,this.reject_=ee,this.start_()})}start_(){const t=(r,i)=>{const a=this.resolve_,l=this.reject_,f=i.connection;if(i.wasSuccessCode)try{const _=this.callback_(f,f.getResponse());!function q3(n){return void 0!==n}(_)?a():a(_)}catch(_){l(_)}else if(null!==f){const _=K1();_.serverResponse=f.getErrorText(),l(this.errorCallback_?this.errorCallback_(f,_):_)}else l(i.canceled?this.appDelete_?w2():v2():y2())};this.canceled_?t(0,new AT(!1,null,!0)):this.backoffId_=function z3(n,e,t){let r=1,i=null,a=null,l=!1,f=0;function _(){return 2===f}let v=!1;function x(...fe){v||(v=!0,e.apply(null,fe))}function k(fe){i=setTimeout(()=>{i=null,n(q,_())},fe)}function z(){a&&clearTimeout(a)}function q(fe,...je){if(v)return void z();if(fe)return z(),void x.call(null,fe,...je);if(_()||l)return z(),void x.call(null,fe,...je);let Xe;r<64&&(r*=2),1===f?(f=2,Xe=0):Xe=1e3*(r+Math.random()),k(Xe)}let ee=!1;function ae(fe){ee||(ee=!0,z(),!v&&(null!==i?(fe||(f=2),clearTimeout(i),k(0)):fe||(f=1)))}return k(0),a=setTimeout(()=>{l=!0,ae(!0)},t),ae}((r,i)=>{if(i)return void r(!1,new AT(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const l=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const f=a.getErrorCode()===Mf.NO_ERROR,_=a.getStatus();if(!f||T2(_,this.additionalRetryCodes_)&&this.retry){const x=a.getErrorCode()===Mf.ABORT;return void r(!1,new AT(!1,null,x))}const v=-1!==this.successCodes_.indexOf(_);r(!0,new AT(v,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function G3(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class AT{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function nH(...n){const e=function tH(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(Y1())return new Blob(n);throw new ii(Rr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Da={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class J1{constructor(e,t){this.data=e,this.contentType=t||null}}function X1(n,e){switch(n){case Da.RAW:return new J1(D2(e));case Da.BASE64:case Da.BASE64URL:return new J1(A2(n,e));case Da.DATA_URL:return new J1(function sH(n){const e=new S2(n);return e.base64?A2(Da.BASE64,e.rest):function oH(n){let e;try{e=decodeURIComponent(n)}catch{throw $0(Da.DATA_URL,"Malformed data URL.")}return D2(e)}(e.rest)}(e),function aH(n){return new S2(n).contentType}(e))}throw K1()}function D2(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function A2(n,e){switch(n){case Da.BASE64:{const i=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(i||a)throw $0(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Da.BASE64URL:{const i=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(i||a)throw $0(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function iH(n){if(typeof atob>"u")throw function $3(n){return new ii(Rr.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:$0(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class S2{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw $0(Da.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function cH(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class yu{constructor(e,t){let r=0,i="";I2(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(I2(this.data_)){const i=function rH(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new yu(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new yu(r,!0)}}static getBlob(...e){if(Y1()){const t=e.map(r=>r instanceof yu?r.data_:r);return new yu(nH.apply(null,t))}{const t=e.map(l=>DT(l)?X1(Da.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(l=>{for(let f=0;f<l.length;f++)i[a++]=l[f]}),new yu(i,!0)}}uploadData(){return this.data_}}function eR(n){let e;try{e=JSON.parse(n)}catch{return null}return function Z3(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function x2(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function dH(n,e){return e}class ys{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||dH}}let ST=null;function z0(){if(ST)return ST;const n=[];n.push(new ys("bucket")),n.push(new ys("generation")),n.push(new ys("metageneration")),n.push(new ys("name","fullPath",!0));const t=new ys("name");t.xform=function e(a,l){return function hH(n){return!DT(n)||n.length<2?n:x2(n)}(l)},n.push(t);const i=new ys("size");return i.xform=function r(a,l){return void 0!==l?Number(l):l},n.push(i),n.push(new ys("timeCreated")),n.push(new ys("updated")),n.push(new ys("md5Hash",null,!0)),n.push(new ys("cacheControl",null,!0)),n.push(new ys("contentDisposition",null,!0)),n.push(new ys("contentEncoding",null,!0)),n.push(new ys("contentLanguage",null,!0)),n.push(new ys("contentType",null,!0)),n.push(new ys("metadata","customMetadata",!0)),ST=n,ST}function M2(n,e,t){const r=eR(e);return null===r?null:function pH(n,e,t){const r={type:"file"},i=t.length;for(let a=0;a<i;a++){const l=t[a];r[l.local]=l.xform(r,e[l.server])}return function fH(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new Yo(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(r,n),r}(n,r,t)}function tR(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const R2="prefixes",P2="items";class vu{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function bu(n){if(!n)throw K1()}function xT(n,e){return function t(r,i){const a=M2(n,i,e);return bu(null!==a),a}}function uy(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function N3(){return new ii(Rr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function O3(){return new ii(Rr.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function k3(n){return new ii(Rr.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function F3(n){return new ii(Rr.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function G0(n){const e=uy(n);return function t(r,i){let a=e(r,i);return 404===r.getStatus()&&(a=function P3(n){return new ii(Rr.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=i.serverResponse,a}}function k2(n,e,t){const i=Vd(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,f=new vu(i,"GET",xT(n,t),l);return f.errorHandler=G0(e),f}function bH(n,e,t,r,i){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),r&&(a.pageToken=r),i&&(a.maxResults=i);const f=Vd(e.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,x=new vu(f,"GET",function yH(n,e){return function t(r,i){const a=function _H(n,e,t){const r=eR(t);return null===r?null:function gH(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[R2])for(const i of t[R2]){const a=i.replace(/\/$/,""),l=n._makeStorageReference(new Yo(e,a));r.prefixes.push(l)}if(t[P2])for(const i of t[P2]){const a=n._makeStorageReference(new Yo(e,i.name));r.items.push(a)}return r}(n,e,r)}(n,e,i);return bu(null!==a),a}}(n,e.bucket),v);return x.urlParams=a,x.errorHandler=uy(e),x}function N2(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function CH(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class MT{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function nR(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{bu(!1)}return bu(!!t&&-1!==(e||["active"]).indexOf(t)),t}const SH={STATE_CHANGED:"state_changed"},vs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function rR(n){switch(n){case"running":case"pausing":case"canceling":return vs.RUNNING;case"paused":return vs.PAUSED;case"success":return vs.SUCCESS;case"canceled":return vs.CANCELED;default:return vs.ERROR}}class xH{constructor(e,t,r){if(function W3(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function dy(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let U2=null;class MH{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Mf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Mf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Mf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw H0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw H0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw H0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw H0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw H0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class RH extends MH{initXhr(){this.xhr_.responseType="text"}}function cl(){return U2?U2():new RH}class V2{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=z0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Rr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(T2(i.status,[])){if(!a)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=y2()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Rr.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function TH(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),l=N2(e,r,i),f={name:l.fullPath},_=Vd(a,n.host,n._protocol),x={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},k=tR(l,t),ee=new vu(_,"POST",function q(ae){let fe;nR(ae);try{fe=ae.getResponseHeader("X-Goog-Upload-URL")}catch{bu(!1)}return bu(DT(fe)),fe},n.maxUploadRetryTime);return ee.urlParams=f,ee.headers=x,ee.body=k,ee.errorHandler=uy(e),ee}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,cl,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function DH(n,e,t,r){const _=new vu(t,"POST",function a(v){const x=nR(v,["active","final"]);let k=null;try{k=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch{bu(!1)}k||bu(!1);const z=Number(k);return bu(!isNaN(z)),new MT(z,r.size(),"final"===x)},n.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=uy(e),_}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,cl,t,r);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new MT(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let l;try{l=function AH(n,e,t,r,i,a,l,f){const _=new MT(0,0);if(l?(_.current=l.current,_.total=l.total):(_.current=0,_.total=r.size()),r.size()!==_.total)throw function B3(){return new ii(Rr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const v=_.total-_.current;let x=v;i>0&&(x=Math.min(x,i));const k=_.current;let q="";q=0===x?"finalize":v===x?"upload, finalize":"upload";const ee={"X-Goog-Upload-Command":q,"X-Goog-Upload-Offset":`${_.current}`},ae=r.slice(k,k+x);if(null===ae)throw b2();const Xe=new vu(t,"POST",function fe(it,Bt){const Wt=nR(it,["active","final"]),Nn=_.current+x,oi=r.size();let Qo;return Qo="final"===Wt?xT(e,a)(it,Bt):null,new MT(Nn,oi,"final"===Wt,Qo)},e.maxUploadRetryTime);return Xe.headers=ee,Xe.body=ae.uploadData(),Xe.progressCallback=f||null,Xe.errorHandler=uy(n),Xe}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const f=this._ref.storage._makeRequest(l,cl,i,a,!1);this._request=f,f.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=k2(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,cl,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function F2(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},_=function f(){let Xe="";for(let it=0;it<2;it++)Xe+=Math.random().toString().slice(2);return Xe}();l["Content-Type"]="multipart/related; boundary="+_;const v=N2(e,r,i),x=tR(v,t),q=yu.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+x+"\r\n--"+_+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",r,"\r\n--"+_+"--");if(null===q)throw b2();const ee={name:v.fullPath},ae=Vd(a,n.host,n._protocol),je=n.maxUploadRetryTime,tt=new vu(ae,"POST",xT(n,t),je);return tt.urlParams=ee,tt.headers=l,tt.body=q.uploadData(),tt.errorHandler=uy(e),tt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,cl,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=v2(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=rR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const a=new xH(t||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(rR(this._state)){case vs.SUCCESS:dy(this._resolve.bind(null,this.snapshot))();break;case vs.CANCELED:case vs.ERROR:dy(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(rR(this._state)){case vs.RUNNING:case vs.PAUSED:e.next&&dy(e.next.bind(e,this.snapshot))();break;case vs.SUCCESS:e.complete&&dy(e.complete.bind(e))();break;default:e.error&&dy(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Rm{constructor(e,t){this._service=e,this._location=t instanceof Yo?t:Yo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Rm(e,t)}get root(){const e=new Yo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return x2(this._location.path)}get storage(){return this._service}get parent(){const e=function lH(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Yo(this._location.bucket,e);return new Rm(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw E2(e)}}function j2(n,e,t){return iR.apply(this,arguments)}function iR(){return iR=(0,be.Z)(function*(n,e,t){const i=yield $2(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield j2(n,e,i.nextPageToken))}),iR.apply(this,arguments)}function $2(n,e){null!=e&&"number"==typeof e.maxResults&&Q1("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=bH(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,cl)}function HH(n){n._throwIfRoot("getDownloadURL");const e=function wH(n,e,t){const i=Vd(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,f=new vu(i,"GET",function vH(n,e){return function t(r,i){const a=M2(n,i,e);return bu(null!==a),function mH(n,e,t,r){const i=eR(e);if(null===i||!DT(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const l=encodeURIComponent;return a.split(",").map(v=>{const k=n.fullPath;return Vd("/b/"+l(n.bucket)+"/o/"+l(k),t,r)+C2({alt:"media",token:v})})[0]}(a,i,n.host,n._protocol)}}(n,t),l);return f.errorHandler=G0(e),f}(n.storage,n._location,z0());return n.storage.makeRequestWithTokens(e,cl).then(t=>{if(null===t)throw function j3(){return new ii(Rr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function H2(n,e){const t=function uH(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Yo(n._location.bucket,t);return new Rm(n.storage,r)}function z2(n,e){if(n instanceof oR){const t=n;if(null==t._bucket)throw function V3(){return new ii(Rr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_2+"' property when initializing the app?")}();const r=new Rm(t,t._bucket);return null!=e?z2(r,e):r}return void 0!==e?H2(n,e):n}function WH(n,e){if(e&&function GH(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof oR)return function qH(n,e){return new Rm(n,e)}(n,e);throw ly("To use ref(service, url), the first argument must be a Storage instance.")}return z2(n,e)}function G2(n,e){const t=e?.[_2];return null==t?null:Yo.makeFromBucketSpec(t,n)}class oR{constructor(e,t,r,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=g2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Yo.makeFromBucketSpec(i,this._host):G2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Yo.makeFromBucketSpec(this._url,e):G2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Q1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Q1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,be.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,be.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Rm(this,e)}_makeRequest(e,t,r,i,a=!0){if(this._deleted)return new H3(w2());{const l=function eH(n,e,t,r,i,a,l=!0){const f=C2(n.urlParams),_=n.url+f,v=Object.assign({},n.headers);return function J3(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function Y3(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function Q3(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(v,a),function X3(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,r),new K3(_,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l)}(e,this._appId,r,i,t,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var r=this;return(0,be.Z)(function*(){const[i,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,a).getPromise()})()}}const q2="@firebase/storage",Z2="storage";function K2(n,e){return WH(n=(0,un.m9)(n),e)}function r4(n=(0,To.getApp)(),e){n=(0,un.m9)(n);const r=(0,To._getProvider)(n,Z2).getImmediate({identifier:e}),i=(0,un.P0)("storage");return i&&Y2(r,...i),r}function Y2(n,e,t,r={}){!function ZH(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,un.Sg)(i,n.app.options.projectId))}(n,e,t,r)}function i4(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new oR(t,r,i,e,To.SDK_VERSION)}!function o4(){(0,To._registerComponent)(new ac.wA(Z2,i4,"PUBLIC").setMultipleInstances(!0)),(0,To.registerVersion)(q2,"0.11.2",""),(0,To.registerVersion)(q2,"0.11.2","esm2017")}();class RT{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Q2{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new RT(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new RT(r,this,this._ref))},t)}on(e,t,r,i){let a;return t&&(a="function"==typeof t?l=>t(new RT(l,this,this._ref)):{next:t.next?l=>t.next(new RT(l,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)}}class J2{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Bd(e,this._service))}get items(){return this._delegate.items.map(e=>new Bd(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Bd{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function n4(n,e){return H2(n,e)}(this._delegate,e);return new Bd(t,this.storage)}get root(){return new Bd(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Bd(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Q2(function KH(n,e,t){return function UH(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new V2(n,new yu(e),t)}(n=(0,un.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Da.RAW,r){this._throwIfRoot("putString");const i=X1(t,e),a=Object.assign({},r);return null==a.contentType&&null!=i.contentType&&(a.contentType=i.contentType),new Q2(new V2(this._delegate,new yu(i.data,!0),a),this)}listAll(){return function XH(n){return function BH(n){const e={prefixes:[],items:[]};return j2(n,e).then(()=>e)}(n=(0,un.m9)(n))}(this._delegate).then(e=>new J2(e,this.storage))}list(e){return function JH(n,e){return $2(n=(0,un.m9)(n),e)}(this._delegate,e||void 0).then(t=>new J2(t,this.storage))}getMetadata(){return function YH(n){return function jH(n){n._throwIfRoot("getMetadata");const e=k2(n.storage,n._location,z0());return n.storage.makeRequestWithTokens(e,cl)}(n=(0,un.m9)(n))}(this._delegate)}updateMetadata(e){return function QH(n,e){return function $H(n,e){n._throwIfRoot("updateMetadata");const t=function EH(n,e,t,r){const a=Vd(e.fullServerUrl(),n.host,n._protocol),f=tR(t,r),v=n.maxOperationRetryTime,x=new vu(a,"PATCH",xT(n,r),v);return x.headers={"Content-Type":"application/json; charset=utf-8"},x.body=f,x.errorHandler=G0(e),x}(n.storage,n._location,e,z0());return n.storage.makeRequestWithTokens(t,cl)}(n=(0,un.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function e4(n){return HH(n=(0,un.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function t4(n){return function zH(n){n._throwIfRoot("deleteObject");const e=function IH(n,e){const r=Vd(e.fullServerUrl(),n.host,n._protocol),f=new vu(r,"DELETE",function l(_,v){},n.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=G0(e),f}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,cl)}(n=(0,un.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw E2(e)}}class X2{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(eL(e))throw ly("ref() expected a child path but got a URL, use refFromURL instead.");return new Bd(K2(this._delegate,e),this)}refFromURL(e){if(!eL(e))throw ly("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Yo.makeFromUrl(e,this._delegate.host)}catch{throw ly("refFromUrl() expected a valid full URL but got an invalid one.")}return new Bd(K2(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){Y2(this._delegate,e,t,r)}}function eL(n){return/^[A-Za-z]+:\/\//.test(n)}function l4(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new X2(t,r)}function tL(n){const e=function d4(n){return new yi.y(e=>{const t=l=>e.next(l);t(n.snapshot);const a=n.on("state_changed",t);return n.then(l=>{t(l),e.complete()},l=>{t(n.snapshot),(l=>{e.error(l)})(l)}),function(){a()}}).pipe(m2(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,_t.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function PT(n){return{getDownloadURL:()=>dt(void 0).pipe(Ye.fc,bi(()=>n.getDownloadURL()),Ye.iC),getMetadata:()=>dt(void 0).pipe(Ye.fc,bi(()=>n.getMetadata()),Ye.iC),delete:()=>(0,Sn.D)(n.delete()),child:e=>PT(n.child(e)),updateMetadata:e=>(0,Sn.D)(n.updateMetadata(e)),put:(e,t)=>tL(n.put(e,t)),putString:(e,t,r)=>tL(n.putString(e,t,r)),list:e=>(0,Sn.D)(n.list(e)),listAll:()=>(0,Sn.D)(n.listAll())}}!function u4(n){const e={TaskState:vs,TaskEvent:SH,StringFormat:Da,Storage:X2,Reference:Bd};n.INTERNAL.registerComponent(new ac.wA("storage-compat",l4,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(Tb.Z);const h4=new u.OlP("angularfire2.storageBucket"),f4=new u.OlP("angularfire2.storage.maxUploadRetryTime"),p4=new u.OlP("angularfire2.storage.maxOperationRetryTime"),m4=new u.OlP("angularfire2.storage.use-emulator");let sR=(()=>{class n{constructor(t,r,i,a,l,f,_,v,x,k){const z=(0,Ii.on)(t,l,r);this.storage=(0,Ii.cc)(`${z.name}.storage.${i}`,"AngularFireStorage",z.name,()=>{const q=l.runOutsideAngular(()=>z.storage(i||void 0)),ee=x;return ee&&q.useEmulator(...ee),_&&q.setMaxUploadRetryTime(_),v&&q.setMaxOperationRetryTime(v),q},[_,v])}ref(t){return PT(this.storage.ref(t))}refFromURL(t){return PT(this.storage.refFromURL(t))}upload(t,r,i){return PT(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ii.Dh),u.LFG(Ii.xv,8),u.LFG(h4,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Ye.HU),u.LFG(f4,8),u.LFG(p4,8),u.LFG(m4,8),u.LFG(vd,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const g4=new u.OlP("recaptcha-language"),_4=new u.OlP("recaptcha-base-url"),y4=new u.OlP("recaptcha-nonce-tag"),v4=new u.OlP("recaptcha-settings"),b4=new u.OlP("recaptcha-v3-site-key"),E4_loadScript=function w4(n,e,t,r,i){window.ng2recaptchaloaded=()=>{e(grecaptcha)};const a=document.createElement("script");a.innerHTML="",a.src=`${r||"https://www.google.com/recaptcha/api.js"}?render=${n}&onload=ng2recaptchaloaded${t}`,i&&(a.nonce=i),a.async=!0,a.defer=!0,document.head.appendChild(a)};let nL=(()=>{class n{constructor(t,r,i,a,l){this.platformId=t,this.language=r,this.baseUrl=i,this.nonce=a,this.v3SiteKey=l,this.init(),this.ready=Yi(this.platformId)?n.ready.asObservable():dt()}init(){if(!n.ready&&Yi(this.platformId)){const t=new Ho(null);n.ready=t,E4_loadScript(this.v3SiteKey||"explicit",a=>t.next(a),this.language?"&hl="+this.language:"",this.baseUrl,this.nonce)}}}return n.ready=null,n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi),u.LFG(g4,8),u.LFG(_4,8),u.LFG(y4,8),u.LFG(b4,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),I4=0,kT=(()=>{class n{constructor(t,r,i,a){this.elementRef=t,this.loader=r,this.zone=i,this.id="ngrecaptcha-"+I4++,this.errorMode="default",this.resolved=new u.vpe,this.error=new u.vpe,this.errored=new u.vpe,a&&(this.siteKey=a.siteKey,this.theme=a.theme,this.type=a.type,this.size=a.size,this.badge=a.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(t=>{null!=t&&t.render instanceof Function&&(this.grecaptcha=t,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){"invisible"===this.size&&(null!=this.widget?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){null!=this.widget&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}get __unsafe_widgetValue(){return null!=this.widget?this.grecaptcha.getResponse(this.widget):null}expired(){this.resolved.emit(null)}onError(t){this.error.emit(t),this.errored.emit(t)}captchaResponseCallback(t){this.resolved.emit(t)}grecaptchaReset(){null!=this.widget&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){const t={badge:this.badge,callback:r=>{this.zone.run(()=>this.captchaResponseCallback(r))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};"handled"===this.errorMode&&(t["error-callback"]=(...r)=>{this.zone.run(()=>this.onError(r))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,t),!0===this.executeRequested&&(this.executeRequested=!1,this.execute())}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(nL),u.Y36(u.R0b),u.Y36(v4,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("id",r.id)},inputs:{id:"id",siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabIndex:"tabIndex",badge:"badge",errorMode:"errorMode"},outputs:{resolved:"resolved",error:"error",errored:"errored"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),rL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),C4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[nL],imports:[rL]}),n})(),aR=(()=>{class n{constructor(t){this.host=t,this.requiresControllerReset=!1}writeValue(t){t?this.host.__unsafe_widgetValue!==t&&!1===Boolean(this.host.__unsafe_widgetValue)&&(this.requiresControllerReset=!0):this.host.reset()}registerOnChange(t){this.onChange=t,this.requiresControllerReset&&(this.requiresControllerReset=!1,this.onChange(null))}registerOnTouched(t){this.onTouched=t}onResolve(t){this.onChange&&this.onChange(t),this.onTouched&&this.onTouched()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(kT))},n.\u0275dir=u.lG2({type:n,selectors:[["re-captcha","formControlName",""],["re-captcha","formControl",""],["re-captcha","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("resolved",function(a){return r.onResolve(a)})},features:[u._Bn([{multi:!0,provide:Io,useExisting:(0,u.Gpc)(()=>n)}])]}),n})(),T4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Aw,rL]}),n})();function D4(n,e){1&n&&(u.TgZ(0,"small",18),u._uU(1," El nombre es requerido "),u.qZA())}function A4(n,e){1&n&&(u.TgZ(0,"small",18),u._uU(1," El apellido es requerido "),u.qZA())}function S4(n,e){1&n&&(u.TgZ(0,"small",18),u._uU(1," La edad es requerida "),u.qZA())}function x4(n,e){1&n&&(u.TgZ(0,"small",18),u._uU(1," La edad debe ser de 18 a 99 a\xf1os "),u.qZA())}function M4(n,e){1&n&&(u.TgZ(0,"small",18),u._uU(1," El DNI es requerido "),u.qZA())}function R4(n,e){1&n&&(u.TgZ(0,"small",18),u._uU(1," El DNI debe ser de 1 a 99999999 "),u.qZA())}function P4(n,e){1&n&&(u.TgZ(0,"small",18),u._uU(1," El Email es requerido "),u.qZA())}function k4(n,e){1&n&&(u.TgZ(0,"small",18),u._uU(1," La contrase\xf1a es requerida "),u.qZA())}function O4(n,e){1&n&&(u.TgZ(0,"small",18),u._uU(1," La Obra Social es requerida "),u.qZA())}let N4=(()=>{class n{resolved(t){}constructor(t,r,i,a){this.fb=t,this.userService=r,this.swal=i,this.afstorage=a,this.paciente=new jg,this.mostrar=!1,this.titulo="Mostrar listado",this.recaptchaResponse="",this.forma=this.fb.group({nombre:["",[X.required]],apellido:["",X.required],edad:["",[X.required,X.min(0),X.max(120)]],dni:["",[X.required,X.min(1),X.max(99999999)]],obraSocial:["",X.required],email:["",X.required],clave:["",X.required]})}registrarPaciente(t){t.preventDefault(),this.paciente.perfil="paciente",this.paciente.email=this.forma.getRawValue().email,this.paciente.clave=this.forma.getRawValue().clave,this.paciente.nombre=this.forma.getRawValue().nombre,this.paciente.apellido=this.forma.getRawValue().apellido,this.paciente.edad=this.forma.getRawValue().edad,this.paciente.dni=this.forma.getRawValue().dni,this.paciente.obraSocial=this.forma.getRawValue().obraSocial,this.paciente.especialidad=null,this.validar()&&""!==this.recaptchaResponse&&this.userService.createUser(this.paciente).then(()=>{console.log("paciente registrado"),this.forma.reset()}).catch(r=>{this.swal.swalert("Error",r.code,"error"),console.log(r.message)})}validar(){let t=!0;return(""===this.paciente.nombre||""===this.paciente.apellido||0===this.paciente.edad||0===this.paciente.dni||""===this.paciente.obraSocial||""===this.paciente.email||""===this.paciente.clave||""===this.paciente.imagen1||""===this.paciente.imagen2)&&(t=!1,this.swal.swalert("Error","Complete todos los campos para registrar","error")),console.log(this.paciente),t}uploadImage(t,r){var i=this;return(0,be.Z)(function*(){console.log("hola soy una imagen");const a=t.target.files[0],l="img "+Date.now()+10*Math.random(),f=i.afstorage.ref(l);yield f.put(a).then((0,be.Z)(function*(){yield f.getDownloadURL().subscribe(_=>{1==r?i.paciente.imagen1=_:2==r&&(i.paciente.imagen2=_)})}))})()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(og),u.Y36(Ud),u.Y36(cc),u.Y36(sR))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-form-alta-paciente"]],decls:46,vars:11,consts:[[1,"container-form"],[1,"text-focus-in",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm","mb-3"],["formControlName","nombre","type","text","id","nombre","placeholder","Nombre",1,"form-control"],["style","color:rgb(255, 0, 0);",4,"ngIf"],["formControlName","apellido","type","text","id","apellido","placeholder","Apellido",1,"form-control"],["formControlName","edad","type","number","placeholder","Edad","min","18","max","99",1,"form-control"],["formControlName","dni","type","number","placeholder","N\xb0 DNI",1,"form-control"],["formControlName","email","type","email","placeholder","Email",1,"form-control"],["formControlName","clave","type","password","placeholder","Contrase\xf1a",1,"form-control"],["formControlName","obraSocial","type","text","placeholder","Obra Social",1,"form-control"],["for","imagen1",1,"form-label"],["type","file","placeholder","Imagen Perfil",1,"form-control",3,"change"],["for","imagen2",1,"form-label"],["type","file","placeholder","Imagen Perfil 2",1,"form-control",3,"change"],["type","submit",1,"btn","btn-primary"],["siteKey","6LdgXogmAAAAAAdh2uwnfttNUNNv7fYi0rpb_CHI",3,"ngModel","resolved","ngModelChange"],[2,"color","rgb(255, 0, 0)"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"form",1),u.NdJ("ngSubmit",function(a){return r.registrarPaciente(a)}),u.TgZ(2,"h2"),u._uU(3,"REGISTRO DE PACIENTE"),u.qZA(),u.TgZ(4,"p"),u._uU(5,"Ingres\xe1 los datos para crear tu cuenta"),u.qZA(),u.TgZ(6,"div",2)(7,"div",3),u._UZ(8,"input",4),u.YNc(9,D4,2,0,"small",5),u.qZA(),u.TgZ(10,"div",3),u._UZ(11,"input",6),u.YNc(12,A4,2,0,"small",5),u.qZA()(),u.TgZ(13,"div",2)(14,"div",3),u._UZ(15,"input",7),u.YNc(16,S4,2,0,"small",5),u.YNc(17,x4,2,0,"small",5),u.qZA(),u.TgZ(18,"div",3),u._UZ(19,"input",8),u.YNc(20,M4,2,0,"small",5),u.YNc(21,R4,2,0,"small",5),u.qZA()(),u.TgZ(22,"div",2)(23,"div",3),u._UZ(24,"input",9),u.YNc(25,P4,2,0,"small",5),u.qZA(),u.TgZ(26,"div",3),u._UZ(27,"input",10),u.YNc(28,k4,2,0,"small",5),u.qZA()(),u.TgZ(29,"div",2)(30,"div",3),u._UZ(31,"input",11),u.YNc(32,O4,2,0,"small",5),u.qZA()(),u.TgZ(33,"div",2)(34,"div",3)(35,"label",12),u._uU(36,"Foto de perfil 1"),u.qZA(),u.TgZ(37,"input",13),u.NdJ("change",function(a){return r.uploadImage(a,1)}),u.qZA()(),u.TgZ(38,"div",3)(39,"label",14),u._uU(40,"Foto de perfil 2"),u.qZA(),u.TgZ(41,"input",15),u.NdJ("change",function(a){return r.uploadImage(a,2)}),u.qZA()()(),u.TgZ(42,"button",16),u._uU(43,"Registrar Paciente"),u.qZA()(),u._UZ(44,"br"),u.TgZ(45,"re-captcha",17),u.NdJ("resolved",function(a){return r.resolved(a)})("ngModelChange",function(a){return r.recaptchaResponse=a}),u.qZA()()),2&t&&(u.xp6(1),u.Q6J("formGroup",r.forma),u.xp6(8),u.Q6J("ngIf",(null==r.forma.controls.nombre.errors?null:r.forma.controls.nombre.errors.required)&&r.forma.controls.nombre.touched),u.xp6(3),u.Q6J("ngIf",(null==r.forma.controls.apellido.errors?null:r.forma.controls.apellido.errors.required)&&r.forma.controls.apellido.touched),u.xp6(4),u.Q6J("ngIf",(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.required)&&r.forma.controls.edad.touched),u.xp6(1),u.Q6J("ngIf",(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.min)||(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.max)&&r.forma.controls.edad.touched),u.xp6(3),u.Q6J("ngIf",(null==r.forma.controls.dni.errors?null:r.forma.controls.dni.errors.required)&&r.forma.controls.dni.touched),u.xp6(1),u.Q6J("ngIf",(null==r.forma.controls.dni.errors?null:r.forma.controls.dni.errors.min)||(null==r.forma.controls.dni.errors?null:r.forma.controls.dni.errors.max)&&r.forma.controls.dni.touched),u.xp6(4),u.Q6J("ngIf",(null==r.forma.controls.email.errors?null:r.forma.controls.email.errors.required)&&r.forma.controls.email.touched),u.xp6(3),u.Q6J("ngIf",(null==r.forma.controls.clave.errors?null:r.forma.controls.clave.errors.required)&&r.forma.controls.clave.touched),u.xp6(4),u.Q6J("ngIf",(null==r.forma.controls.obraSocial.errors?null:r.forma.controls.obraSocial.errors.required)&&r.forma.controls.obraSocial.touched),u.xp6(13),u.Q6J("ngModel",r.recaptchaResponse))},dependencies:[ui,ip,zc,ga,Xa,qm,cp,id,Kl,nd,Ah,kT,aR],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{color:#5e8b89}.container-form[_ngcontent-%COMP%]{margin:7% 7% 30%;width:85%}.btn-primary[_ngcontent-%COMP%]{background-color:#6ed9d3;border-color:#6dbfbb;color:#fff}"]}),n})();function F4(n,e){1&n&&(u.TgZ(0,"small",16),u._uU(1," El nombre es requerido "),u.qZA())}function L4(n,e){1&n&&(u.TgZ(0,"small",16),u._uU(1," El apellido es requerido "),u.qZA())}function U4(n,e){1&n&&(u.TgZ(0,"small",16),u._uU(1," La edad es requerida "),u.qZA())}function V4(n,e){1&n&&(u.TgZ(0,"small",16),u._uU(1," La edad debe ser de 18 a 99 a\xf1os "),u.qZA())}function B4(n,e){1&n&&(u.TgZ(0,"small",16),u._uU(1," El DNI es requerido "),u.qZA())}function j4(n,e){1&n&&(u.TgZ(0,"small",16),u._uU(1," El DNI debe ser de 1 a 99999999 "),u.qZA())}function $4(n,e){1&n&&(u.TgZ(0,"small",16),u._uU(1," El Email es requerido "),u.qZA())}function H4(n,e){1&n&&(u.TgZ(0,"small",16),u._uU(1," La contrase\xf1a es requerida "),u.qZA())}function z4(n,e){1&n&&(u.TgZ(0,"small",16),u._uU(1," La especialidad es requerida "),u.qZA())}let G4=(()=>{class n{resolved(t){}constructor(t,r,i,a){this.fb=t,this.userService=r,this.swal=i,this.afstorage=a,this.especialista=new jg,this.mostrar=!1,this.titulo="Mostrar listado",this.recaptchaResponse="",this.forma=this.fb.group({nombre:["",[X.required]],apellido:["",X.required],edad:["",[X.required,X.min(0),X.max(120)]],dni:["",[X.required,X.min(1),X.max(99999999)]],especialidad:["",X.required],email:["",X.required],clave:["",X.required]})}registrarEspecialista(t){t.preventDefault(),this.especialista.perfil="especialista",this.especialista.email=this.forma.getRawValue().email,this.especialista.clave=this.forma.getRawValue().clave,this.especialista.nombre=this.forma.getRawValue().nombre,this.especialista.apellido=this.forma.getRawValue().apellido,this.especialista.edad=this.forma.getRawValue().edad,this.especialista.dni=this.forma.getRawValue().dni,this.especialista.especialidad=this.forma.getRawValue().especialidad,this.especialista.obraSocial=null,this.validar()&&""!==this.recaptchaResponse&&this.userService.createUser(this.especialista).then(()=>{console.log("especialista registrado"),this.forma.reset()}).catch(r=>{this.swal.swalert("Error",r.code,"error"),console.log(r.message)})}validar(){let t=!0;return(""===this.especialista.nombre||""===this.especialista.apellido||0===this.especialista.edad||0===this.especialista.dni||""===this.especialista.especialidad||""===this.especialista.email||""===this.especialista.clave||""===this.especialista.imagen1)&&(t=!1,this.swal.swalert("Error","Complete todos los campos para registrar","error")),console.log(this.especialista),t}uploadImage(t,r){var i=this;return(0,be.Z)(function*(){console.log("hola soy una imagen");const a=t.target.files[0],l="img "+Date.now()+10*Math.random(),f=i.afstorage.ref(l);yield f.put(a).then((0,be.Z)(function*(){yield f.getDownloadURL().subscribe(_=>{1==r?i.especialista.imagen1=_:2==r&&(i.especialista.imagen2=_)})}))})()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(og),u.Y36(Ud),u.Y36(cc),u.Y36(sR))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-form-alta-especialista"]],decls:42,vars:11,consts:[[1,"container-form"],[1,"text-focus-in",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm","mb-3"],["formControlName","nombre","type","text","id","nombre","placeholder","Nombre",1,"form-control"],["style","color:rgb(255, 0, 0);",4,"ngIf"],["formControlName","apellido","type","text","id","apellido","placeholder","Apellido",1,"form-control"],["formControlName","edad","type","number","placeholder","Edad","min","18","max","99",1,"form-control"],["formControlName","dni","type","number","placeholder","N\xb0 DNI",1,"form-control"],["formControlName","email","type","email","placeholder","Email",1,"form-control"],["formControlName","clave","type","password","placeholder","Contrase\xf1a",1,"form-control"],["formControlName","especialidad","type","text","placeholder","Especialidad",1,"form-control"],["for","imagen1",1,"form-label"],["type","file","placeholder","Imagen Perfil",1,"form-control",3,"change"],["type","submit",1,"btn","btn-primary"],["siteKey","6LdgXogmAAAAAAdh2uwnfttNUNNv7fYi0rpb_CHI",3,"ngModel","resolved","ngModelChange"],[2,"color","rgb(255, 0, 0)"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"form",1),u.NdJ("ngSubmit",function(a){return r.registrarEspecialista(a)}),u.TgZ(2,"h2"),u._uU(3,"REGISTRO DE ESPECIALISTA"),u.qZA(),u.TgZ(4,"p"),u._uU(5,"Ingres\xe1 los datos para crear tu cuenta"),u.qZA(),u.TgZ(6,"div",2)(7,"div",3),u._UZ(8,"input",4),u.YNc(9,F4,2,0,"small",5),u.qZA(),u.TgZ(10,"div",3),u._UZ(11,"input",6),u.YNc(12,L4,2,0,"small",5),u.qZA()(),u.TgZ(13,"div",2)(14,"div",3),u._UZ(15,"input",7),u.YNc(16,U4,2,0,"small",5),u.YNc(17,V4,2,0,"small",5),u.qZA(),u.TgZ(18,"div",3),u._UZ(19,"input",8),u.YNc(20,B4,2,0,"small",5),u.YNc(21,j4,2,0,"small",5),u.qZA()(),u.TgZ(22,"div",2)(23,"div",3),u._UZ(24,"input",9),u.YNc(25,$4,2,0,"small",5),u.qZA(),u.TgZ(26,"div",3),u._UZ(27,"input",10),u.YNc(28,H4,2,0,"small",5),u.qZA()(),u.TgZ(29,"div",2)(30,"div",3),u._UZ(31,"input",11),u.YNc(32,z4,2,0,"small",5),u.qZA()(),u.TgZ(33,"div",2)(34,"div",3)(35,"label",12),u._uU(36,"Foto de perfil"),u.qZA(),u.TgZ(37,"input",13),u.NdJ("change",function(a){return r.uploadImage(a,1)}),u.qZA()()(),u.TgZ(38,"button",14),u._uU(39,"Registrar Especialista"),u.qZA()(),u._UZ(40,"br"),u.TgZ(41,"re-captcha",15),u.NdJ("resolved",function(a){return r.resolved(a)})("ngModelChange",function(a){return r.recaptchaResponse=a}),u.qZA()()),2&t&&(u.xp6(1),u.Q6J("formGroup",r.forma),u.xp6(8),u.Q6J("ngIf",(null==r.forma.controls.nombre.errors?null:r.forma.controls.nombre.errors.required)&&r.forma.controls.nombre.touched),u.xp6(3),u.Q6J("ngIf",(null==r.forma.controls.apellido.errors?null:r.forma.controls.apellido.errors.required)&&r.forma.controls.apellido.touched),u.xp6(4),u.Q6J("ngIf",(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.required)&&r.forma.controls.edad.touched),u.xp6(1),u.Q6J("ngIf",(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.min)||(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.max)&&r.forma.controls.edad.touched),u.xp6(3),u.Q6J("ngIf",(null==r.forma.controls.dni.errors?null:r.forma.controls.dni.errors.required)&&r.forma.controls.dni.touched),u.xp6(1),u.Q6J("ngIf",(null==r.forma.controls.dni.errors?null:r.forma.controls.dni.errors.min)||(null==r.forma.controls.dni.errors?null:r.forma.controls.dni.errors.max)&&r.forma.controls.dni.touched),u.xp6(4),u.Q6J("ngIf",(null==r.forma.controls.email.errors?null:r.forma.controls.email.errors.required)&&r.forma.controls.email.touched),u.xp6(3),u.Q6J("ngIf",(null==r.forma.controls.clave.errors?null:r.forma.controls.clave.errors.required)&&r.forma.controls.clave.touched),u.xp6(4),u.Q6J("ngIf",(null==r.forma.controls.especialidad.errors?null:r.forma.controls.especialidad.errors.required)&&r.forma.controls.especialidad.touched),u.xp6(9),u.Q6J("ngModel",r.recaptchaResponse))},dependencies:[ui,ip,zc,ga,Xa,qm,cp,id,Kl,nd,Ah,kT,aR],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{color:#5e8b89}.container-form[_ngcontent-%COMP%]{margin-bottom:30%}.btn-primary[_ngcontent-%COMP%]{background-color:#6ed9d3;border-color:#6dbfbb;color:#fff}"]}),n})();function q4(n,e){1&n&&(u.TgZ(0,"small",15),u._uU(1," El nombre es requerido "),u.qZA())}function W4(n,e){1&n&&(u.TgZ(0,"small",15),u._uU(1," El apellido es requerido "),u.qZA())}function Z4(n,e){1&n&&(u.TgZ(0,"small",15),u._uU(1," La edad es requerida "),u.qZA())}function K4(n,e){1&n&&(u.TgZ(0,"small",15),u._uU(1," La edad debe ser de 18 a 99 a\xf1os "),u.qZA())}function Y4(n,e){1&n&&(u.TgZ(0,"small",15),u._uU(1," El DNI es requerido "),u.qZA())}function Q4(n,e){1&n&&(u.TgZ(0,"small",15),u._uU(1," El DNI debe ser de 1 a 99999999 "),u.qZA())}function J4(n,e){1&n&&(u.TgZ(0,"small",15),u._uU(1," El Email es requerido "),u.qZA())}function X4(n,e){1&n&&(u.TgZ(0,"small",15),u._uU(1," La contrase\xf1a es requerida "),u.qZA())}let ez=(()=>{class n{resolved(t){}constructor(t,r,i,a){this.fb=t,this.userService=r,this.swal=i,this.afstorage=a,this.admin=new jg,this.mostrar=!1,this.titulo="Mostrar listado",this.recaptchaResponse="",this.forma=this.fb.group({nombre:["",[X.required]],apellido:["",X.required],edad:["",[X.required,X.min(0),X.max(120)]],dni:["",[X.required,X.min(1),X.max(99999999)]],email:["",X.required],clave:["",X.required]})}registrarAdmin(t){t.preventDefault(),this.admin.perfil="admin",this.admin.email=this.forma.getRawValue().email,this.admin.clave=this.forma.getRawValue().clave,this.admin.nombre=this.forma.getRawValue().nombre,this.admin.apellido=this.forma.getRawValue().apellido,this.admin.edad=this.forma.getRawValue().edad,this.admin.dni=this.forma.getRawValue().dni,this.admin.especialidad=null,this.admin.obraSocial=null,this.admin.aprobado=!0,this.validar()&&""!==this.recaptchaResponse&&this.userService.createUser(this.admin).then(()=>{console.log("admin registrado")}).catch(r=>{this.swal.swalert("Error",r.code,"error"),console.log(r.message)})}validar(){let t=!0;return(""===this.admin.nombre||""===this.admin.apellido||0===this.admin.edad||0===this.admin.dni||""===this.admin.email||""===this.admin.clave||""===this.admin.imagen1)&&(t=!1,this.swal.swalert("Error","Complete todos los campos para registrar","error")),console.log(this.admin),t}uploadImage(t,r){var i=this;return(0,be.Z)(function*(){const a=t.target.files[0],l="img "+Date.now()+10*Math.random(),f=i.afstorage.ref(l);yield f.put(a).then((0,be.Z)(function*(){yield f.getDownloadURL().subscribe(_=>{1==r?i.admin.imagen1=_:2==r&&(i.admin.imagen2=_)})}))})()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(og),u.Y36(Ud),u.Y36(cc),u.Y36(sR))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-form-alta-admin"]],decls:38,vars:10,consts:[[1,"container-form"],[1,"text-focus-in",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm","mb-3"],["formControlName","nombre","type","text","id","nombre","placeholder","Nombre",1,"form-control"],["style","color:rgb(255, 0, 0);",4,"ngIf"],["formControlName","apellido","type","text","id","apellido","placeholder","Apellido",1,"form-control"],["formControlName","edad","type","number","placeholder","Edad","min","18","max","99",1,"form-control"],["formControlName","dni","type","number","placeholder","N\xb0 DNI",1,"form-control"],["formControlName","email","type","email","placeholder","Email",1,"form-control"],["formControlName","clave","type","password","placeholder","Contrase\xf1a",1,"form-control"],["for","imagen1",1,"form-label"],["type","file","placeholder","Imagen Perfil",1,"form-control",3,"change"],["type","submit",1,"btn","btn-primary"],["siteKey","6LdgXogmAAAAAAdh2uwnfttNUNNv7fYi0rpb_CHI",3,"ngModel","resolved","ngModelChange"],[2,"color","rgb(255, 0, 0)"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"form",1),u.NdJ("ngSubmit",function(a){return r.registrarAdmin(a)}),u.TgZ(2,"h2"),u._uU(3,"REGISTRO DE ADMIN"),u.qZA(),u.TgZ(4,"p"),u._uU(5,"Ingres\xe1 los datos para crear tu cuenta"),u.qZA(),u.TgZ(6,"div",2)(7,"div",3),u._UZ(8,"input",4),u.YNc(9,q4,2,0,"small",5),u.qZA(),u.TgZ(10,"div",3),u._UZ(11,"input",6),u.YNc(12,W4,2,0,"small",5),u.qZA()(),u.TgZ(13,"div",2)(14,"div",3),u._UZ(15,"input",7),u.YNc(16,Z4,2,0,"small",5),u.YNc(17,K4,2,0,"small",5),u.qZA(),u.TgZ(18,"div",3),u._UZ(19,"input",8),u.YNc(20,Y4,2,0,"small",5),u.YNc(21,Q4,2,0,"small",5),u.qZA()(),u.TgZ(22,"div",2)(23,"div",3),u._UZ(24,"input",9),u.YNc(25,J4,2,0,"small",5),u.qZA(),u.TgZ(26,"div",3),u._UZ(27,"input",10),u.YNc(28,X4,2,0,"small",5),u.qZA()(),u.TgZ(29,"div",2)(30,"div",3)(31,"label",11),u._uU(32,"Foto de perfil"),u.qZA(),u.TgZ(33,"input",12),u.NdJ("change",function(a){return r.uploadImage(a,1)}),u.qZA()()(),u.TgZ(34,"button",13),u._uU(35,"Registrar Admin"),u.qZA()(),u._UZ(36,"br"),u.TgZ(37,"re-captcha",14),u.NdJ("resolved",function(a){return r.resolved(a)})("ngModelChange",function(a){return r.recaptchaResponse=a}),u.qZA()()),2&t&&(u.xp6(1),u.Q6J("formGroup",r.forma),u.xp6(8),u.Q6J("ngIf",(null==r.forma.controls.nombre.errors?null:r.forma.controls.nombre.errors.required)&&r.forma.controls.nombre.touched),u.xp6(3),u.Q6J("ngIf",(null==r.forma.controls.apellido.errors?null:r.forma.controls.apellido.errors.required)&&r.forma.controls.apellido.touched),u.xp6(4),u.Q6J("ngIf",(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.required)&&r.forma.controls.edad.touched),u.xp6(1),u.Q6J("ngIf",(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.min)||(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.max)&&r.forma.controls.edad.touched),u.xp6(3),u.Q6J("ngIf",(null==r.forma.controls.dni.errors?null:r.forma.controls.dni.errors.required)&&r.forma.controls.dni.touched),u.xp6(1),u.Q6J("ngIf",(null==r.forma.controls.dni.errors?null:r.forma.controls.dni.errors.min)||(null==r.forma.controls.dni.errors?null:r.forma.controls.dni.errors.max)&&r.forma.controls.dni.touched),u.xp6(4),u.Q6J("ngIf",(null==r.forma.controls.email.errors?null:r.forma.controls.email.errors.required)&&r.forma.controls.email.touched),u.xp6(3),u.Q6J("ngIf",(null==r.forma.controls.clave.errors?null:r.forma.controls.clave.errors.required)&&r.forma.controls.clave.touched),u.xp6(9),u.Q6J("ngModel",r.recaptchaResponse))},dependencies:[ui,ip,zc,ga,Xa,qm,cp,id,Kl,nd,Ah,kT,aR],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{color:#5e8b89}.container-form[_ngcontent-%COMP%]{margin-bottom:35%}.btn-primary[_ngcontent-%COMP%]{background-color:#6ed9d3;border-color:#6dbfbb;color:#fff}"]}),n})();function tz(n,e){1&n&&(u.TgZ(0,"div",5),u._UZ(1,"app-spinner"),u.qZA())}function nz(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"h1"),u._uU(4,"Especialista"),u.qZA(),u.TgZ(5,"img",14),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.boolFormEsp=!0)}),u.qZA()(),u.TgZ(6,"h1"),u._uU(7,"Paciente"),u.qZA(),u.TgZ(8,"div",13)(9,"img",15),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.boolFormPac=!0)}),u.qZA()()()()}}function rz(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",12)(1,"div",13)(2,"h1"),u._uU(3,"Especialista"),u.qZA(),u.TgZ(4,"img",14),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(3);return u.KtG(i.boolFormEsp=!0)}),u.qZA()(),u.TgZ(5,"h1"),u._uU(6,"Paciente"),u.qZA(),u.TgZ(7,"div",13)(8,"img",15),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(3);return u.KtG(i.boolFormPac=!0)}),u.qZA()(),u.TgZ(9,"h1"),u._uU(10,"Admin"),u.qZA(),u.TgZ(11,"div",13)(12,"img",18),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(3);return u.KtG(i.boolFormAdmin=!0)}),u.qZA()()()}}function iz(n,e){if(1&n&&(u.TgZ(0,"div",16),u.YNc(1,rz,13,0,"div",17),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngIf",!t.boolFormPac&&!t.boolFormEsp&&!t.boolFormAdmin)}}function oz(n,e){1&n&&(u.TgZ(0,"div",19),u._UZ(1,"app-form-alta-especialista"),u.qZA())}function sz(n,e){1&n&&(u.TgZ(0,"div",20),u._UZ(1,"app-form-alta-paciente"),u.qZA())}function az(n,e){1&n&&(u.TgZ(0,"div",21),u._UZ(1,"app-form-alta-admin"),u.qZA())}function cz(n,e){if(1&n&&(u.YNc(0,nz,10,0,"div",6),u.YNc(1,iz,2,1,"ng-template",null,7,u.W1O),u.YNc(3,oz,2,0,"div",8),u.YNc(4,sz,2,0,"div",9),u.YNc(5,az,2,0,"div",10)),2&n){const t=u.MAs(2),r=u.oxw();u.Q6J("ngIf",!r.boolFormPac&&!r.boolFormEsp&&"admin"!=r.currentProfile)("ngIfElse",t),u.xp6(3),u.Q6J("ngIf",r.boolFormEsp),u.xp6(1),u.Q6J("ngIf",r.boolFormPac),u.xp6(1),u.Q6J("ngIf","admin"==r.currentProfile&&r.boolFormAdmin)}}let cR,lz=(()=>{class n{constructor(t,r,i,a){this.userService=t,this.router=r,this.swal=i,this.spinner=a,this.isLoading=!0,this.img_paciente="../../../assets/patient.jpg",this.img_doctor="../../../assets/doctor.jpg",this.currentProfile="",this.user=new jg,this.currentProfile=this.userService.getCurrentProfile(),this.boolFormPac=!1,this.boolFormEsp=!1,this.boolFormAdmin=!1}ngOnInit(){this.spinner.show(),setTimeout(()=>{this.spinner.hide(),this.isLoading=!1},1e3)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ud),u.Y36(Kr),u.Y36(cc),u.Y36(W1))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-registro"]],decls:6,vars:2,consts:[[1,"container"],[1,"screen"],[1,"screen__content"],["class","cargando",4,"ngIf","ngIfElse"],["mostrar",""],[1,"cargando"],["class","registration",4,"ngIf","ngIfElse"],["esAdmin",""],["class","form-especialista",4,"ngIf"],["class","form-paciente",4,"ngIf"],["class","form-admin",4,"ngIf"],[1,"registration"],[1,"col"],[1,"row"],["src","../../../assets/doctor.jpg","alt","especialista",3,"click"],["src","../../../assets/patient.jpg","alt","paciente",3,"click"],[1,"registration_admin"],["class","col",4,"ngIf"],["src","../../../assets/admin.jpg","alt","admin",3,"click"],[1,"form-especialista"],[1,"form-paciente"],[1,"form-admin"]],template:function(t,r){if(1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2),u.YNc(3,tz,2,0,"div",3),u.YNc(4,cz,6,5,"ng-template",null,4,u.W1O),u.qZA()()()),2&t){const i=u.MAs(5);u.xp6(3),u.Q6J("ngIf",r.isLoading)("ngIfElse",i)}},dependencies:[ui,p2,N4,G4,ez],styles:['@import"https://fonts.googleapis.com/css?family=Raleway:400,700";*[_ngcontent-%COMP%]{box-sizing:border-box;margin:1;padding:0;font-family:Raleway,sans-serif}body[_ngcontent-%COMP%]{background:linear-gradient(90deg,#C7C5F4,#776BCC)}img[_ngcontent-%COMP%]{border-radius:50%;width:35%;height:35%;cursor:pointer}.row[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20%}.center-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative;top:12%}.screen[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f1fcfb,#dafffd);position:relative;height:700px;width:600px;box-shadow:0 0 24px #8dcac7;border-radius:15px}.screen__content[_ngcontent-%COMP%]{z-index:1;position:relative;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#5e8b89}.registration[_ngcontent-%COMP%]{width:450px;padding:80px 30px 30px}.registration_admin[_ngcontent-%COMP%]{width:350px;padding:80px 30px 30px}.registration__field[_ngcontent-%COMP%]{padding:7px 0;position:relative}.registration__icon[_ngcontent-%COMP%]{position:absolute;top:30px;color:#7875b5}.registration__input[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #D1D1D4;background:none;padding:10px 10px 10px 24px;font-weight:700;width:75%;transition:.2s}.registration__input[_ngcontent-%COMP%]:active, .registration__input[_ngcontent-%COMP%]:focus, .registration__input[_ngcontent-%COMP%]:hover{outline:none;border-bottom-color:#6a679e}.registration__submit[_ngcontent-%COMP%]{background:#fff;font-size:14px;margin-top:30px;padding:16px 20px;border-radius:26px;border:1px solid #ddfffd;text-transform:uppercase;font-weight:700;display:flex;align-items:center;width:100%;color:#57a39f;box-shadow:0 2px 2px #57a39f;cursor:pointer;transition:.2s}.registration__submit[_ngcontent-%COMP%]:active, .registration__submit[_ngcontent-%COMP%]:focus, .registration__submit[_ngcontent-%COMP%]:hover{border-color:#99dfdc;outline:none}.button__icon[_ngcontent-%COMP%]{font-size:24px;margin-left:auto;color:#7875b5}.social-registration[_ngcontent-%COMP%]{position:absolute;height:140px;width:160px;text-align:center;bottom:0;right:0;color:#fff}.social-icons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.social-registration__icon[_ngcontent-%COMP%]{padding:20px 10px;color:#fff;text-decoration:none;text-shadow:0px 0px 8px #7875B5}.social-registration__icon[_ngcontent-%COMP%]:hover{transform:scale(1.5)}']}),n})();try{cR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{cR=!1}let q0,lR,Rf=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Yi(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!cR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function OT(n){return function uz(){if(null==q0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>q0=!0}))}finally{q0=q0||!1}return q0}()?n:!!n.capture}function fy(n){return n.composedPath?n.composedPath()[0]:n.target}function oL(n){return Li((e,t)=>n<=t)}var vz=B(5032);function sL(n){return(0,mr.e)((e,t)=>{(0,Ja.Xf)(n).subscribe((0,Ar.x)(t,()=>t.complete(),vz.Z)),!t.closed&&e.subscribe(t)})}function uR(n){return null!=n&&"false"!=`${n}`}function aL(n){return Array.isArray(n)?n:[n]}function W0(n){return n instanceof u.SBq?n.nativeElement:n}const cL=new Set;let py,wz=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Iz}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Ez(n){if(!cL.has(n))try{py||(py=document.createElement("style"),py.setAttribute("type","text/css"),document.head.appendChild(py)),py.sheet&&(py.sheet.insertRule(`@media ${n} {body{ }}`,0),cL.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Rf))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Iz(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Cz=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new _a.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return lL(aL(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let a=Qy(lL(aL(t)).map(l=>this._registerQuery(l).observable));return a=up(a.pipe(Kc(1)),a.pipe(oL(1),m2(0))),a.pipe((0,_t.U)(l=>{const f={matches:!1,breakpoints:{}};return l.forEach(({matches:_,query:v})=>{f.matches=f.matches||_,f.breakpoints[v]=_}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),a={observable:new yi.y(l=>{const f=_=>this._zone.run(()=>l.next(_));return r.addListener(f),()=>{r.removeListener(f)}}).pipe(Mh(r),(0,_t.U)(({matches:l})=>({query:t,matches:l})),sL(this._destroySubject)),mql:r};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(wz),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lL(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function fL(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function pL(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Pz=new u.OlP("cdk-input-modality-detector-options"),kz={ignoreKeys:[18,17,224,91,16]},my=OT({passive:!0,capture:!0});let Oz=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,a){this._platform=t,this._mostRecentTarget=null,this._modality=new Ho(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(f=>f===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=fy(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(fL(l)?"keyboard":"mouse"),this._mostRecentTarget=fy(l))},this._onTouchstart=l=>{pL(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=fy(l))},this._options={...kz,...a},this.modalityDetected=this._modality.pipe(oL(1)),this.modalityChanged=this.modalityDetected.pipe(jI()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,my),i.addEventListener("mousedown",this._onMousedown,my),i.addEventListener("touchstart",this._onTouchstart,my)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,my),document.removeEventListener("mousedown",this._onMousedown,my),document.removeEventListener("touchstart",this._onTouchstart,my))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Rf),u.LFG(u.R0b),u.LFG($),u.LFG(Pz,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Fz=new u.OlP("cdk-focus-monitor-default-options"),FT=OT({passive:!0,capture:!0});let Lz=(()=>{class n{constructor(t,r,i,a,l){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new _a.x,this._rootNodeFocusAndBlurListener=f=>{for(let v=fy(f);v;v=v.parentElement)"focus"===f.type?this._onFocus(f,v):this._onBlur(f,v)},this._document=a,this._detectionMode=l?.detectionMode||0}monitor(t,r=!1){const i=W0(t);if(!this._platform.isBrowser||1!==i.nodeType)return dt(null);const a=function hz(n){if(function dz(){if(null==lR){const n=typeof document<"u"?document.head:null;lR=!(!n||!n.createShadowRoot&&!n.attachShadow)}return lR}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),l=this._elementInfo.get(i);if(l)return r&&(l.checkChildren=!0),l.subject;const f={checkChildren:r,subject:new _a.x,rootNode:a};return this._elementInfo.set(i,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const r=W0(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const a=W0(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,r,_)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),a=fy(t);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,FT),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,FT)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(sL(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,FT),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,FT),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,a)=>{(a===t||i.checkChildren&&a.contains(t))&&r.push([a,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const a=t.labels;if(a)for(let l=0;l<a.length;l++)if(a[l].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(Rf),u.LFG(Oz),u.LFG($,8),u.LFG(Fz,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gL="cdk-high-contrast-black-on-white",_L="cdk-high-contrast-white-on-black",dR="cdk-high-contrast-active";let Uz=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,u.f3M)(Cz).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(dR,gL,_L),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(dR,gL):2===r&&t.add(dR,_L)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Rf),u.LFG($))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const $z=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function jz(){return!0}});let Pf=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function fz(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Uz),u.LFG($z,8),u.LFG($))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[yL,yL]}),n})();function Hz(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=uR(e)}constructor(...e){super(...e),this._disabled=!1}}}function hR(n,e){return class extends n{get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function zz(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=uR(e)}constructor(...e){super(...e),this._disableRipple=!1}}}class qz{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const wL=OT({passive:!0,capture:!0});class Wz{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=fy(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(a=>a.handleEvent(e))})}}addHandler(e,t,r,i){const a=this._events.get(t);if(a){const l=a.get(r);l?l.add(i):a.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,wL)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const a=i.get(t);a&&(a.delete(r),0===a.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,wL)))}}const EL={enterDuration:225,exitDuration:150},IL=OT({passive:!0,capture:!0}),CL=["mousedown","touchstart"],TL=["mouseup","mouseleave","touchend","touchcancel"];class K0{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=W0(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...EL,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const l=r.radius||function Kz(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),f=e-i.left,_=t-i.top,v=a.enterDuration,x=document.createElement("div");x.classList.add("mat-ripple-element"),x.style.left=f-l+"px",x.style.top=_-l+"px",x.style.height=2*l+"px",x.style.width=2*l+"px",null!=r.color&&(x.style.backgroundColor=r.color),x.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(x);const k=window.getComputedStyle(x),q=k.transitionDuration,ee="none"===k.transitionProperty||"0s"===q||"0s, 0s"===q||0===i.width&&0===i.height,ae=new qz(this,x,r,ee);x.style.transform="scale3d(1, 1, 1)",ae.state=0,r.persistent||(this._mostRecentTransientRipple=ae);let fe=null;return!ee&&(v||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const je=()=>this._finishRippleTransition(ae),tt=()=>this._destroyRipple(ae);x.addEventListener("transitionend",je),x.addEventListener("transitioncancel",tt),fe={onTransitionEnd:je,onTransitionCancel:tt}}),this._activeRipples.set(ae,fe),(ee||!v)&&this._finishRippleTransition(ae),ae}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...EL,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=W0(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,CL.forEach(r=>{K0._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{TL.forEach(t=>{this._triggerElement.addEventListener(t,this,IL)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=fL(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!pL(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(CL.forEach(t=>K0._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&TL.forEach(t=>e.removeEventListener(t,this,IL)))}}K0._eventManager=new Wz;const Yz=new u.OlP("mat-ripple-global-options");let fR=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,r,i,a,l){this._elementRef=t,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new K0(this,r,t,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(Rf),u.Y36(Yz,8),u.Y36(u.QbO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Qz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Pf,Pf]}),n})();const DL=["mat-button",""],AL=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],SL=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],e5=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],t5=hR(Hz(zz(class{constructor(n){this._elementRef=n}})));let xL=(()=>{class n extends t5{constructor(t,r,i,a){super(t),this._platform=r,this._ngZone=i,this._animationMode=a,this._focusMonitor=(0,u.f3M)(Lz),this._isFab=!1;const l=t.nativeElement.classList;for(const f of e5)this._hasHostAttributes(f.selector)&&f.mdcClasses.forEach(_=>{l.add(_)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...t){return t.some(r=>this._elementRef.nativeElement.hasAttribute(r))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){u.$Z()},n.\u0275dir=u.lG2({type:n,viewQuery:function(t,r){if(1&t&&u.Gf(fR,5),2&t){let i;u.iGM(i=u.CRH())&&(r.ripple=i.first)}},features:[u.qOj]}),n})(),r5=(()=>{class n extends xL{constructor(t,r,i,a){super(t,r,i,a),this._haltDisabledEvents=l=>{this.disabled&&(l.preventDefault(),l.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(t){u.$Z()},n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})(),i5=(()=>{class n extends xL{constructor(t,r,i,a){super(t,r,i,a)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Rf),u.Y36(u.R0b),u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,r){2&t&&(u.uIk("disabled",r.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[u.qOj],attrs:DL,ngContentSelectors:SL,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,r){1&t&&(u.F$t(AL),u._UZ(0,"span",0),u.Hsn(1),u.TgZ(2,"span",1),u.Hsn(3,1),u.qZA(),u.Hsn(4,2),u._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(u.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab),u.xp6(6),u.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleTrigger",r._elementRef.nativeElement))},dependencies:[fR],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),o5=(()=>{class n extends r5{constructor(t,r,i,a){super(t,r,i,a)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Rf),u.Y36(u.R0b),u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:9,hostBindings:function(t,r){2&t&&(u.uIk("disabled",r.disabled||null)("tabindex",r.disabled?-1:r.tabIndex)("aria-disabled",r.disabled.toString()),u.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[u.qOj],attrs:DL,ngContentSelectors:SL,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,r){1&t&&(u.F$t(AL),u._UZ(0,"span",0),u.Hsn(1),u.TgZ(2,"span",1),u.Hsn(3,1),u.qZA(),u.Hsn(4,2),u._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(u.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab),u.xp6(6),u.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleTrigger",r._elementRef.nativeElement))},dependencies:[fR],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),a5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Pf,Qz,Pf]}),n})();function c5(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"td")(1,"button",5),u.NdJ("click",function(){u.CHM(t);const i=u.oxw().$implicit,a=u.oxw();return u.KtG(a.modificarUsuario(i,1))}),u._uU(2,"Habilitar"),u.qZA()()}}function l5(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"td")(1,"button",7),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2).$implicit,a=u.oxw();return u.KtG(a.modificarUsuario(i,2))}),u._uU(2,"Deshabilitar"),u.qZA()()}}function u5(n,e){if(1&n&&u.YNc(0,l5,3,0,"td",6),2&n){const t=u.oxw().$implicit;u.Q6J("ngIf",null!=t.especialidad&&1==t.aprobado)}}function d5(n,e){if(1&n&&(u.TgZ(0,"tr")(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.YNc(9,c5,3,0,"td",3),u.YNc(10,u5,1,1,"ng-template",null,4,u.W1O),u.qZA()),2&n){const t=e.$implicit,r=u.MAs(11);u.xp6(2),u.Oqu(t.perfil),u.xp6(2),u.Oqu(t.nombre),u.xp6(2),u.Oqu(t.apellido),u.xp6(2),u.Oqu(t.email),u.xp6(1),u.Q6J("ngIf",null!=t.especialidad&&0==t.aprobado)("ngIfElse",r)}}let h5=(()=>{class n{constructor(t,r){this.userService=t,this.swal=r,this.PasamosUnUsuario=new u.vpe}modificarUsuario(t,r){"especialista"==t.perfil&&(1==r?(t.aprobado=!0,this.userService.updateUser(t),this.swal.showToast("Se habilit\xf3 al especialista","success")):2==r&&(t.aprobado=!1,this.userService.updateUser(t),this.swal.showToast("Se deshabilit\xf3 al especialista","info")))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ud),u.Y36(cc))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-listado-usuarios"]],inputs:{listadoRecibido:"listadoRecibido"},outputs:{PasamosUnUsuario:"PasamosUnUsuario"},decls:15,vars:1,consts:[[1,"table","table-hover",2,"color","rgb(0, 162, 255)"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["deshabilitar",""],["mat-raised-button","","color","primary",3,"click"],[4,"ngIf"],["mat-raised-button","","color","accent",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),u._uU(4,"Perfil"),u.qZA(),u.TgZ(5,"th",1),u._uU(6,"Nombre"),u.qZA(),u.TgZ(7,"th",1),u._uU(8,"Apellido"),u.qZA(),u.TgZ(9,"th",1),u._uU(10,"Correo"),u.qZA(),u.TgZ(11,"th",1),u._uU(12,"Habilitaci\xf3n"),u.qZA()()(),u.TgZ(13,"tbody"),u.YNc(14,d5,12,6,"tr",2),u.qZA()()),2&t&&(u.xp6(14),u.Q6J("ngForOf",r.listadoRecibido))},dependencies:[Xo,ui,i5]}),n})();const f5=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"login",component:A3},{path:"registro",component:lz},{path:"home",component:S3},{path:"quiensoy",component:(()=>{class n{constructor(t){this.http=t,this.myProfile=null}ngOnInit(){this.http.get("https://api.github.com/users/FedericoMS").subscribe(t=>{this.myProfile=t})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ka))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-quiensoy"]],decls:25,vars:3,consts:[[1,"container"],[1,"screen"],["alt","",3,"src"],[2,"font-size","14px"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"Qui\xe9n soy"),u.qZA(),u.TgZ(4,"h4")(5,"strong"),u._uU(6,"Nombre"),u.qZA(),u._uU(7),u.qZA(),u.TgZ(8,"h4")(9,"strong"),u._uU(10,"Comisi\xf3n"),u.qZA(),u._uU(11,": 4A"),u.qZA(),u.TgZ(12,"h4")(13,"strong"),u._uU(14,"Username"),u.qZA(),u._uU(15),u.qZA(),u.TgZ(16,"h4")(17,"strong"),u._uU(18,"A\xf1o"),u.qZA(),u._uU(19,": 2023"),u.qZA(),u._UZ(20,"img",2)(21,"br")(22,"br"),u.TgZ(23,"p",3),u._uU(24," Esta p\xe1gina es la Cl\xednica OnLine, un proyecto web donde podr\xe1s registrarte, sacar turnos m\xe9dicos, tomarlos y dejar rese\xf1as. "),u.qZA()()()),2&t&&(u.xp6(7),u.hij(": ",r.myProfile.name,""),u.xp6(8),u.hij(": ",r.myProfile.login,""),u.xp6(5),u.s9C("src",r.myProfile.avatar_url,u.LSH))},styles:['@import"https://fonts.googleapis.com/css?family=Raleway:400,700";*[_ngcontent-%COMP%]{box-sizing:border-box;margin:1;padding:0;font-family:Raleway,sans-serif}img[_ngcontent-%COMP%]{width:200px;height:200px;object-fit:cover;border-radius:10px;box-shadow:2px 0 4px #747e80;position:relative;object-position:center}.rounded-image[_ngcontent-%COMP%]{border-radius:50%;width:80px;height:80px;cursor:pointer;object-fit:cover}.row[_ngcontent-%COMP%]{margin-top:15%}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{color:#57a39f;font-weight:700}body[_ngcontent-%COMP%]{background:linear-gradient(90deg,#C7C5F4,#776BCC)}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative;top:8%}.screen[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f1fcfb,#dafffd);position:relative;height:550px;width:400px;box-shadow:0 0 24px #8dcac7;border-radius:15px;justify-content:center;align-items:center;text-align:center}.screen__content[_ngcontent-%COMP%]{z-index:1;position:relative;height:100%;display:flex;height:550px;width:400px}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#5e8b89}']}),n})()},{path:"usuarios",component:(()=>{class n{constructor(t,r,i){this.userService=t,this.swal=r,this.router=i,this.listaUsuarios=[]}ngOnInit(){this.userService.getCollection("usuarios").subscribe(t=>{this.listaUsuarios=t,console.log(this.listaUsuarios)})}irARegistro(){this.router.navigateByUrl("/registro")}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ud),u.Y36(cc),u.Y36(Kr))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-usuarios"]],decls:8,vars:1,consts:[[1,"container"],[1,"screen"],[1,"screen__content"],[1,"users"],[1,"boton-registro"],["color","primary",1,"btn","btn-primary",2,"justify-content","left",3,"click"],[3,"listadoRecibido"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),u.NdJ("click",function(){return r.irARegistro()}),u._uU(6,"Registro"),u.qZA()(),u._UZ(7,"app-listado-usuarios",6),u.qZA()()()()),2&t&&(u.xp6(7),u.Q6J("listadoRecibido",r.listaUsuarios))},dependencies:[h5],styles:['@import"https://fonts.googleapis.com/css?family=Raleway:400,700";*[_ngcontent-%COMP%]{box-sizing:border-box;margin:1;padding:0;font-family:Raleway,sans-serif}.boton-registro[_ngcontent-%COMP%]{margin-right:88%;margin-top:2%}.btn-primary[_ngcontent-%COMP%]{background-color:#6ed9d3;border-color:#6dbfbb;color:#fff;width:85px;height:30px}body[_ngcontent-%COMP%]{background:linear-gradient(90deg,#C7C5F4,#776BCC)}img[_ngcontent-%COMP%]{border-radius:50%;width:35%;height:35%;cursor:pointer}.row[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20%}.center-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative;top:4%}.screen[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f1fcfb,#dafffd);position:relative;height:800px;width:1000px;box-shadow:0 0 24px #8dcac7;border-radius:15px}.screen__content[_ngcontent-%COMP%]{z-index:1;position:relative;height:100%;display:flex;justify-content:center;text-align:center}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#5e8b89}.users[_ngcontent-%COMP%]{width:1000px}.users__field[_ngcontent-%COMP%]{padding:7px 0;position:relative}.users__icon[_ngcontent-%COMP%]{position:absolute;top:30px;color:#7875b5}.users__input[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #D1D1D4;background:none;padding:10px 10px 10px 24px;font-weight:700;width:75%;transition:.2s}.users__input[_ngcontent-%COMP%]:active, .users__input[_ngcontent-%COMP%]:focus, .users__input[_ngcontent-%COMP%]:hover{outline:none;border-bottom-color:#6a679e}.users__submit[_ngcontent-%COMP%]{background:#fff;font-size:14px;margin-top:30px;padding:16px 20px;border-radius:26px;border:1px solid #ddfffd;text-transform:uppercase;font-weight:700;display:flex;align-items:center;width:100%;color:#57a39f;box-shadow:0 2px 2px #57a39f;cursor:pointer;transition:.2s}.users__submit[_ngcontent-%COMP%]:active, .users__submit[_ngcontent-%COMP%]:focus, .users__submit[_ngcontent-%COMP%]:hover{border-color:#99dfdc;outline:none}.button__icon[_ngcontent-%COMP%]{font-size:24px;margin-left:auto;color:#7875b5}']}),n})(),canActivate:[(()=>{class n{constructor(t){this.userService=t}canActivate(t,r){return"admin"==this.userService.getCurrentProfile()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ud))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()]}];let p5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[$v.forRoot(f5),$v]}),n})();class ML{}class m5{}const jd="*";function RL(n,e=null){return{type:2,steps:n,options:e}}function PL(n){return{type:6,styles:n,offset:null}}function kL(n){Promise.resolve().then(n)}class Y0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){kL(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class OL{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?kL(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==a&&this._onFinish()}),l.onDestroy(()=>{++r==a&&this._onDestroy()}),l.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((l,f)=>Math.max(l,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const pR="!";function NL(n){return new u.vHH(3e3,!1)}function Y5(){return typeof window<"u"&&typeof window.document<"u"}function mR(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function kf(n){switch(n.length){case 0:return new Y0;case 1:return n[0];default:return new OL(n)}}function FL(n,e,t,r,i=new Map,a=new Map){const l=[],f=[];let _=-1,v=null;if(r.forEach(x=>{const k=x.get("offset"),z=k==_,q=z&&v||new Map;x.forEach((ee,ae)=>{let fe=ae,je=ee;if("offset"!==ae)switch(fe=e.normalizePropertyName(fe,l),je){case pR:je=i.get(ae);break;case jd:je=a.get(ae);break;default:je=e.normalizeStyleValue(ae,fe,je,l)}q.set(fe,je)}),z||f.push(q),v=q,_=k}),l.length)throw function U5(n){return new u.vHH(3502,!1)}();return f}function gR(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&_R(t,"start",n)));break;case"done":n.onDone(()=>r(t&&_R(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&_R(t,"destroy",n)))}}function _R(n,e,t){const a=yR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(a._data=l),a}function yR(n,e,t,r,i="",a=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!l}}function Aa(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function LL(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let vR=(n,e)=>!1,UL=(n,e,t)=>[],VL=null;function bR(n){const e=n.parentNode||n.host;return e===VL?null:e}(mR()||typeof Element<"u")&&(Y5()?(VL=(()=>document.documentElement)(),vR=(n,e)=>{for(;e;){if(e===n)return!0;e=bR(e)}return!1}):vR=(n,e)=>n.contains(e),UL=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let km=null,BL=!1;const jL=vR,$L=UL;let HL=(()=>{class n{validateStyleProperty(t){return function J5(n){km||(km=function X5(){return typeof document<"u"?document.body:null}()||{},BL=!!km.style&&"WebkitAppearance"in km.style);let e=!0;return km.style&&!function Q5(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in km.style,!e&&BL&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in km.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return jL(t,r)}getParentElement(t){return bR(t)}query(t,r,i){return $L(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,l,f=[],_){return new Y0(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),wR=(()=>{class n{}return n.NOOP=new HL,n})();const e6=1e3,ER="ng-enter",LT="ng-leave",UT="ng-trigger",VT=".ng-trigger",GL="ng-animating",IR=".ng-animating";function $d(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:CR(parseFloat(e[1]),e[2])}function CR(n,e){return"s"===e?n*e6:n}function BT(n,e,t){return n.hasOwnProperty("duration")?n:function n6(n,e,t){let i,a=0,l="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(NL()),{duration:0,delay:0,easing:""};i=CR(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=CR(parseFloat(_),f[4]));const v=f[5];v&&(l=v)}else i=n;if(!t){let f=!1,_=e.length;i<0&&(e.push(function g5(){return new u.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function _5(){return new u.vHH(3101,!1)}()),f=!0),f&&e.splice(_,0,NL())}return{duration:i,delay:a,easing:l}}(n,e,t)}function Q0(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function qL(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Of(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function ZL(n,e,t){return t?e+":"+t+";":""}function KL(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=ZL(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=ZL(0,s6(t),n.style[t]));n.setAttribute("style",e)}function wu(n,e,t){n.style&&(e.forEach((r,i)=>{const a=DR(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),mR()&&KL(n))}function Om(n,e){n.style&&(e.forEach((t,r)=>{const i=DR(r);n.style[i]=""}),mR()&&KL(n))}function J0(n){return Array.isArray(n)?1==n.length?n[0]:RL(n):n}const TR=new RegExp("{{\\s*(.+?)\\s*}}","g");function YL(n){let e=[];if("string"==typeof n){let t;for(;t=TR.exec(n);)e.push(t[1]);TR.lastIndex=0}return e}function X0(n,e,t){const r=n.toString(),i=r.replace(TR,(a,l)=>{let f=e[l];return null==f&&(t.push(function v5(n){return new u.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function jT(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const o6=/-+([a-z0-9])/g;function DR(n){return n.replace(o6,(...e)=>e[1].toUpperCase())}function s6(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Sa(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function b5(n){return new u.vHH(3004,!1)}()}}function QL(n,e){return window.getComputedStyle(n)[e]}const zT="*";function h6(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function f6(n,e,t){if(":"==n[0]){const _=function p6(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function O5(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function k5(n){return new u.vHH(3015,!1)}()),e;const i=r[1],a=r[2],l=r[3];e.push(JL(i,l));"<"==a[0]&&!(i==zT&&l==zT)&&e.push(JL(l,i))}(r,t,e)):t.push(n),t}const GT=new Set(["true","1"]),qT=new Set(["false","0"]);function JL(n,e){const t=GT.has(n)||qT.has(n),r=GT.has(e)||qT.has(e);return(i,a)=>{let l=n==zT||n==i,f=e==zT||e==a;return!l&&t&&"boolean"==typeof i&&(l=i?GT.has(n):qT.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?GT.has(e):qT.has(e)),l&&f}}const m6=new RegExp("s*:selfs*,?","g");function AR(n,e,t,r){return new g6(n).build(e,t,r)}class g6{constructor(e){this._driver=e}build(e,t,r){const i=new v6(t);return this._resetContextStyleTimingState(i),Sa(this,J0(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function E5(){return new u.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,v=_.name;v.toString().split(/\s*,\s*/).forEach(x=>{_.name=x,a.push(this.visitState(_,t))}),_.name=v}else if(1==f.type){const _=this.visitTransition(f,t);r+=_.queryCount,i+=_.depCount,l.push(_)}else t.errors.push(function I5(){return new u.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,l=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(_=>{YL(_).forEach(v=>{l.hasOwnProperty(v)||a.add(v)})})}),a.size&&(jT(a.values()),t.errors.push(function C5(n,e){return new u.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Sa(this,J0(e.animation),t);return{type:1,matchers:h6(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Nm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Sa(this,r,t)),options:Nm(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(l=>{t.currentTime=r;const f=Sa(this,l,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:Nm(e.options)}}visitAnimate(e,t){const r=function w6(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return SR(BT(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=SR(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=BT(t,e);return SR(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:PL({});if(5==a.type)i=this.visitKeyframes(a,t);else{let l=e.styles,f=!1;if(!l){f=!0;const v={};r.easing&&(v.easing=r.easing),l=PL(v)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(l,t);_.isEmptyStep=f,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===jd?r.push(f):t.errors.push(new u.vHH(3002,!1)):r.push(qL(f));let a=!1,l=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(l=f.get("easing"),f.delete("easing")),!a))for(let _ of f.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((f,_)=>{const v=t.collectedStyles.get(t.currentQuerySelector),x=v.get(_);let k=!0;x&&(a!=i&&a>=x.startTime&&i<=x.endTime&&(t.errors.push(function D5(n,e,t,r,i){return new u.vHH(3010,!1)}()),k=!1),a=x.startTime),k&&v.set(_,{startTime:a,endTime:i}),t.options&&function i6(n,e,t){const r=e.params||{},i=YL(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function y5(n){return new u.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function A5(){return new u.vHH(3011,!1)}()),r;let a=0;const l=[];let f=!1,_=!1,v=0;const x=e.steps.map(je=>{const tt=this._makeStyleAst(je,t);let Xe=null!=tt.offset?tt.offset:function b6(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(tt.styles),it=0;return null!=Xe&&(a++,it=tt.offset=Xe),_=_||it<0||it>1,f=f||it<v,v=it,l.push(it),tt});_&&t.errors.push(function S5(){return new u.vHH(3012,!1)}()),f&&t.errors.push(function x5(){return new u.vHH(3200,!1)}());const k=e.steps.length;let z=0;a>0&&a<k?t.errors.push(function M5(){return new u.vHH(3202,!1)}()):0==a&&(z=1/(k-1));const q=k-1,ee=t.currentTime,ae=t.currentAnimateTimings,fe=ae.duration;return x.forEach((je,tt)=>{const Xe=z>0?tt==q?1:z*tt:l[tt],it=Xe*fe;t.currentTime=ee+ae.delay+it,ae.duration=it,this._validateStyleAst(je,t),je.offset=Xe,r.styles.push(je)}),r}visitReference(e,t){return{type:8,animation:Sa(this,J0(e.animation),t),options:Nm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Nm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Nm(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,l]=function _6(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(m6,"")),n=n.replace(/@\*/g,VT).replace(/@\w+/g,t=>VT+"-"+t.slice(1)).replace(/:animating/g,IR),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,Aa(t.collectedStyles,t.currentQuerySelector,new Map);const f=Sa(this,J0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:f,originalSelector:e.selector,options:Nm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function R5(){return new u.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:BT(e.timings,t.errors,!0);return{type:12,animation:Sa(this,J0(e.animation),t),timings:r,options:null}}}class v6{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Nm(n){return n?(n=Q0(n)).params&&(n.params=function y6(n){return n?Q0(n):null}(n.params)):n={},n}function SR(n,e,t){return{duration:n,delay:e,easing:t}}function xR(n,e,t,r,i,a,l=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:l,subTimeline:f}}class WT{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const C6=new RegExp(":enter","g"),D6=new RegExp(":leave","g");function MR(n,e,t,r,i,a=new Map,l=new Map,f,_,v=[]){return(new A6).buildKeyframes(n,e,t,r,i,a,l,f,_,v)}class A6{buildKeyframes(e,t,r,i,a,l,f,_,v,x=[]){v=v||new WT;const k=new RR(e,t,v,i,a,x,[]);k.options=_;const z=_.delay?$d(_.delay):0;k.currentTimeline.delayNextStep(z),k.currentTimeline.setStyles([l],null,k.errors,_),Sa(this,r,k);const q=k.timelines.filter(ee=>ee.containsAnimation());if(q.length&&f.size){let ee;for(let ae=q.length-1;ae>=0;ae--){const fe=q[ae];if(fe.element===t){ee=fe;break}}ee&&!ee.allowOnlyTimelineStyles()&&ee.setStyles([f],null,k.errors,_)}return q.length?q.map(ee=>ee.buildKeyframes()):[xR(t,[],[],[],0,z,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);a!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const l="number"==typeof a?a:$d(X0(a,i?.params??{},t.errors));r.delayNextStep(l)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const l=null!=r.duration?$d(r.duration):null,f=null!=r.delay?$d(r.delay):null;return 0!==l&&e.forEach(_=>{const v=t.appendInstructionToTimeline(_,l,f);a=Math.max(a,v.duration+v.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Sa(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ZT);const l=$d(a.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>Sa(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?$d(e.options.delay):0;e.steps.forEach(l=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),Sa(this,l,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return BT(t.params?X0(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?$d(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ZT);let l=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((v,x)=>{t.currentQueryIndex=x;const k=t.createSubContext(e.options,v);a&&k.delayNextStep(a),v===t.element&&(_=k.currentTimeline),Sa(this,e.animation,k),k.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,k.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,l=Math.abs(a.duration),f=l*(t.currentQueryTotal-1);let _=l*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const x=t.currentTimeline;_&&x.delayNextStep(_);const k=x.currentTime;Sa(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-k+(i.startTime-r.currentTimeline.startTime)}}const ZT={};class RR{constructor(e,t,r,i,a,l,f,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=l,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ZT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new KT(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=$d(r.duration)),null!=r.delay&&(i.delay=$d(r.delay));const a=r.params;if(a){let l=i.params;l||(l=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!l.hasOwnProperty(f))&&(l[f]=X0(a[f],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new RR(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=ZT,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new S6(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,l){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(C6,"."+this._enterClassName)).replace(D6,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=r);0!==r&&(v=r<0?v.slice(v.length+r,v.length):v.slice(0,r)),f.push(...v)}return!a&&0==f.length&&l.push(function P5(n){return new u.vHH(3014,!1)}()),f}}class KT{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new KT(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||jd),this._currentKeyframe.set(t,jd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},l=function x6(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,jd)}else Of(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,_]of l){const v=X0(_,a,r);this._pendingStyles.set(f,v),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??jd),this._updateStyle(f,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,_)=>{const v=Of(f,new Map,this._backFill);v.forEach((x,k)=>{x===pR?e.add(k):x===jd&&t.add(k)}),r||v.set("offset",_/this.duration),i.push(v)});const a=e.size?jT(e.values()):[],l=t.size?jT(t.values()):[];if(r){const f=i[0],_=new Map(f);f.set("offset",0),_.set("offset",1),i=[f,_]}return xR(this.element,i,a,l,this.duration,this.startTime,this.easing,!1)}}class S6 extends KT{constructor(e,t,r,i,a,l,f=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],l=r+t,f=t/l,_=Of(e[0]);_.set("offset",0),a.push(_);const v=Of(e[0]);v.set("offset",tU(f)),a.push(v);const x=e.length-1;for(let k=1;k<=x;k++){let z=Of(e[k]);const q=z.get("offset");z.set("offset",tU((t+q*r)/l)),a.push(z)}r=l,t=0,i="",e=a}return xR(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function tU(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class PR{}const M6=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class R6 extends PR{normalizePropertyName(e,t){return DR(e)}normalizeStyleValue(e,t,r,i){let a="";const l=r.toString().trim();if(M6.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function w5(n,e){return new u.vHH(3005,!1)}())}return l+a}}function nU(n,e,t,r,i,a,l,f,_,v,x,k,z){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:l,timelines:f,queriedElements:_,preStyleProps:v,postStyleProps:x,totalTime:k,errors:z}}const kR={};class rU{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function P6(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,l,f,_,v,x){const k=[],z=this.ast.options&&this.ast.options.params||kR,ee=this.buildStyles(r,f&&f.params||kR,k),ae=_&&_.params||kR,fe=this.buildStyles(i,ae,k),je=new Set,tt=new Map,Xe=new Map,it="void"===i,Bt={params:k6(ae,z),delay:this.ast.options?.delay},Wt=x?[]:MR(e,t,this.ast.animation,a,l,ee,fe,Bt,v,k);let Nn=0;if(Wt.forEach(Qo=>{Nn=Math.max(Qo.duration+Qo.delay,Nn)}),k.length)return nU(t,this._triggerName,r,i,it,ee,fe,[],[],tt,Xe,Nn,k);Wt.forEach(Qo=>{const Hd=Qo.element,DU=Aa(tt,Hd,new Set);Qo.preStyleProps.forEach(Lm=>DU.add(Lm));const nw=Aa(Xe,Hd,new Set);Qo.postStyleProps.forEach(Lm=>nw.add(Lm)),Hd!==t&&je.add(Hd)});const oi=jT(je.values());return nU(t,this._triggerName,r,i,it,ee,fe,Wt,oi,tt,Xe,Nn)}}function k6(n,e){const t=Q0(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class O6{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Q0(this.defaultParams);return Object.keys(e).forEach(a=>{const l=e[a];null!==l&&(i[a]=l)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,f)=>{l&&(l=X0(l,i,t));const _=this.normalizer.normalizePropertyName(f,t);l=this.normalizer.normalizeStyleValue(f,_,l,t),r.set(f,l)})}),r}}class F6{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new O6(i.style,i.options&&i.options.params||{},r))}),iU(this.states,"true","1"),iU(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new rU(e,i,this.states))}),this.fallbackTransition=function L6(n,e,t){return new rU(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function iU(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const U6=new WT;class V6{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],a=AR(this._driver,t,r,i);if(r.length)throw function V5(n){return new u.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=FL(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let l;const f=new Map;if(a?(l=MR(this._driver,t,a,ER,LT,new Map,new Map,r,U6,i),l.forEach(x=>{const k=Aa(f,x.element,new Map);x.postStyleProps.forEach(z=>k.set(z,null))})):(i.push(function B5(){return new u.vHH(3300,!1)}()),l=[]),i.length)throw function j5(n){return new u.vHH(3504,!1)}();f.forEach((x,k)=>{x.forEach((z,q)=>{x.set(q,this._driver.computeStyle(k,q,jd))})});const v=kf(l.map(x=>{const k=f.get(x.element);return this._buildPlayer(x,new Map,k)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function $5(n){return new u.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=yR(t,"","","");return gR(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const oU="ng-animate-queued",OR="ng-animate-disabled",z6=[],sU={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},G6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},pc="__ng_removed";class NR{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function K6(n){return n??null}(r?e.value:e),r){const a=Q0(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const ew="void",FR=new NR(ew);class q6{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,mc(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function H5(n,e){return new u.vHH(3302,!1)}();if(null==r||0==r.length)throw function z5(n){return new u.vHH(3303,!1)}();if(!function Y6(n){return"start"==n||"done"==n}(r))throw function G5(n,e){return new u.vHH(3400,!1)}();const a=Aa(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};a.push(l);const f=Aa(this._engine.statesByElement,e,new Map);return f.has(t)||(mc(e,UT),mc(e,UT+"-"+t),f.set(t,FR)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(l);_>=0&&a.splice(_,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function q5(n){return new u.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),l=new LR(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(mc(e,UT),mc(e,UT+"-"+t),this._engine.statesByElement.set(e,f=new Map));let _=f.get(t);const v=new NR(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&v.absorbOptions(_.options),f.set(t,v),_||(_=FR),v.value!==ew&&_.value===v.value){if(!function X6(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,v.params)){const ae=[],fe=a.matchStyles(_.value,_.params,ae),je=a.matchStyles(v.value,v.params,ae);ae.length?this._engine.reportError(ae):this._engine.afterFlush(()=>{Om(e,fe),wu(e,je)})}return}const z=Aa(this._engine.playersByElement,e,[]);z.forEach(ae=>{ae.namespaceId==this.id&&ae.triggerName==t&&ae.queued&&ae.destroy()});let q=a.matchTransition(_.value,v.value,e,v.params),ee=!1;if(!q){if(!i)return;q=a.fallbackTransition,ee=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:q,fromState:_,toState:v,player:l,isFallbackTransition:ee}),ee||(mc(e,oU),l.onStart(()=>{gy(e,oU)})),l.onDone(()=>{let ae=this.players.indexOf(l);ae>=0&&this.players.splice(ae,1);const fe=this._engine.playersByElement.get(e);if(fe){let je=fe.indexOf(l);je>=0&&fe.splice(je,1)}}),this.players.push(l),z.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,VT,!0);r.forEach(i=>{if(i[pc])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),l=new Map;if(a){const f=[];if(a.forEach((_,v)=>{if(l.set(v,_.value),this._triggers.has(v)){const x=this.trigger(e,v,ew,i);x&&f.push(x)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&kf(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const l=a.name;if(i.has(l))return;i.add(l);const _=this._triggers.get(l).fallbackTransition,v=r.get(l)||FR,x=new NR(ew),k=new LR(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:_,fromState:v,toState:x,player:k,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[pc];(!a||a===sU)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){mc(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,l=this._elementListeners.get(a);l&&l.forEach(f=>{if(f.name==r.triggerName){const _=yR(a,r.triggerName,r.fromState.value,r.toState.value);_._data=e,gR(r.player,f.phase,_,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==a||0==l?a-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class W6{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new q6(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,f=this.driver.getParentElement(t);for(;f;){const _=i.get(f);if(_){const v=r.indexOf(_);r.splice(v+1,0,e),l=!0;break}f=this.driver.getParentElement(f)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(YT(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!YT(t))return;const a=t[pc];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),mc(e,OR)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),gy(e,OR))}removeNode(e,t,r,i){if(YT(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[pc]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return YT(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,VT,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,IR,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return kf(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[pc];if(t&&t.setForRemoval){if(e[pc]=sU,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(OR)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)mc(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?kf(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function W5(n){return new u.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new WT,i=[],a=new Map,l=[],f=new Map,_=new Map,v=new Map,x=new Set;this.disabledNodes.forEach(Pt=>{x.add(Pt);const Zt=this.driver.query(Pt,".ng-animate-queued",!0);for(let sn=0;sn<Zt.length;sn++)x.add(Zt[sn])});const k=this.bodyNode,z=Array.from(this.statesByElement.keys()),q=lU(z,this.collectedEnterElements),ee=new Map;let ae=0;q.forEach((Pt,Zt)=>{const sn=ER+ae++;ee.set(Zt,sn),Pt.forEach(zn=>mc(zn,sn))});const fe=[],je=new Set,tt=new Set;for(let Pt=0;Pt<this.collectedLeaveElements.length;Pt++){const Zt=this.collectedLeaveElements[Pt],sn=Zt[pc];sn&&sn.setForRemoval&&(fe.push(Zt),je.add(Zt),sn.hasAnimation?this.driver.query(Zt,".ng-star-inserted",!0).forEach(zn=>je.add(zn)):tt.add(Zt))}const Xe=new Map,it=lU(z,Array.from(je));it.forEach((Pt,Zt)=>{const sn=LT+ae++;Xe.set(Zt,sn),Pt.forEach(zn=>mc(zn,sn))}),e.push(()=>{q.forEach((Pt,Zt)=>{const sn=ee.get(Zt);Pt.forEach(zn=>gy(zn,sn))}),it.forEach((Pt,Zt)=>{const sn=Xe.get(Zt);Pt.forEach(zn=>gy(zn,sn))}),fe.forEach(Pt=>{this.processLeaveNode(Pt)})});const Bt=[],Wt=[];for(let Pt=this._namespaceList.length-1;Pt>=0;Pt--)this._namespaceList[Pt].drainQueuedTransitions(t).forEach(sn=>{const zn=sn.player,fo=sn.element;if(Bt.push(zn),this.collectedEnterElements.length){const Jo=fo[pc];if(Jo&&Jo.setForMove){if(Jo.previousTriggersValues&&Jo.previousTriggersValues.has(sn.triggerName)){const Um=Jo.previousTriggersValues.get(sn.triggerName),gc=this.statesByElement.get(sn.element);if(gc&&gc.has(sn.triggerName)){const nD=gc.get(sn.triggerName);nD.value=Um,gc.set(sn.triggerName,nD)}}return void zn.destroy()}}const Eu=!k||!this.driver.containsElement(k,fo),xa=Xe.get(fo),Nf=ee.get(fo),si=this._buildInstruction(sn,r,Nf,xa,Eu);if(si.errors&&si.errors.length)return void Wt.push(si);if(Eu)return zn.onStart(()=>Om(fo,si.fromStyles)),zn.onDestroy(()=>wu(fo,si.toStyles)),void i.push(zn);if(sn.isFallbackTransition)return zn.onStart(()=>Om(fo,si.fromStyles)),zn.onDestroy(()=>wu(fo,si.toStyles)),void i.push(zn);const xU=[];si.timelines.forEach(Jo=>{Jo.stretchStartingKeyframe=!0,this.disabledNodes.has(Jo.element)||xU.push(Jo)}),si.timelines=xU,r.append(fo,si.timelines),l.push({instruction:si,player:zn,element:fo}),si.queriedElements.forEach(Jo=>Aa(f,Jo,[]).push(zn)),si.preStyleProps.forEach((Jo,Um)=>{if(Jo.size){let gc=_.get(Um);gc||_.set(Um,gc=new Set),Jo.forEach((nD,zR)=>gc.add(zR))}}),si.postStyleProps.forEach((Jo,Um)=>{let gc=v.get(Um);gc||v.set(Um,gc=new Set),Jo.forEach((nD,zR)=>gc.add(zR))})});if(Wt.length){const Pt=[];Wt.forEach(Zt=>{Pt.push(function Z5(n,e){return new u.vHH(3505,!1)}())}),Bt.forEach(Zt=>Zt.destroy()),this.reportError(Pt)}const Nn=new Map,oi=new Map;l.forEach(Pt=>{const Zt=Pt.element;r.has(Zt)&&(oi.set(Zt,Zt),this._beforeAnimationBuild(Pt.player.namespaceId,Pt.instruction,Nn))}),i.forEach(Pt=>{const Zt=Pt.element;this._getPreviousPlayers(Zt,!1,Pt.namespaceId,Pt.triggerName,null).forEach(zn=>{Aa(Nn,Zt,[]).push(zn),zn.destroy()})});const Qo=fe.filter(Pt=>dU(Pt,_,v)),Hd=new Map;cU(Hd,this.driver,tt,v,jd).forEach(Pt=>{dU(Pt,_,v)&&Qo.push(Pt)});const nw=new Map;q.forEach((Pt,Zt)=>{cU(nw,this.driver,new Set(Pt),_,pR)}),Qo.forEach(Pt=>{const Zt=Hd.get(Pt),sn=nw.get(Pt);Hd.set(Pt,new Map([...Array.from(Zt?.entries()??[]),...Array.from(sn?.entries()??[])]))});const Lm=[],AU=[],SU={};l.forEach(Pt=>{const{element:Zt,player:sn,instruction:zn}=Pt;if(r.has(Zt)){if(x.has(Zt))return sn.onDestroy(()=>wu(Zt,zn.toStyles)),sn.disabled=!0,sn.overrideTotalTime(zn.totalTime),void i.push(sn);let fo=SU;if(oi.size>1){let xa=Zt;const Nf=[];for(;xa=xa.parentNode;){const si=oi.get(xa);if(si){fo=si;break}Nf.push(xa)}Nf.forEach(si=>oi.set(si,fo))}const Eu=this._buildAnimation(sn.namespaceId,zn,Nn,a,nw,Hd);if(sn.setRealPlayer(Eu),fo===SU)Lm.push(sn);else{const xa=this.playersByElement.get(fo);xa&&xa.length&&(sn.parentPlayer=kf(xa)),i.push(sn)}}else Om(Zt,zn.fromStyles),sn.onDestroy(()=>wu(Zt,zn.toStyles)),AU.push(sn),x.has(Zt)&&i.push(sn)}),AU.forEach(Pt=>{const Zt=a.get(Pt.element);if(Zt&&Zt.length){const sn=kf(Zt);Pt.setRealPlayer(sn)}}),i.forEach(Pt=>{Pt.parentPlayer?Pt.syncPlayerEvents(Pt.parentPlayer):Pt.destroy()});for(let Pt=0;Pt<fe.length;Pt++){const Zt=fe[Pt],sn=Zt[pc];if(gy(Zt,LT),sn&&sn.hasAnimation)continue;let zn=[];if(f.size){let Eu=f.get(Zt);Eu&&Eu.length&&zn.push(...Eu);let xa=this.driver.query(Zt,IR,!0);for(let Nf=0;Nf<xa.length;Nf++){let si=f.get(xa[Nf]);si&&si.length&&zn.push(...si)}}const fo=zn.filter(Eu=>!Eu.destroyed);fo.length?Q6(this,Zt,fo):this.processLeaveNode(Zt)}return fe.length=0,Lm.forEach(Pt=>{this.players.push(Pt),Pt.onDone(()=>{Pt.destroy();const Zt=this.players.indexOf(Pt);this.players.splice(Zt,1)}),Pt.play()}),Lm}elementContainsData(e,t){let r=!1;const i=t[pc];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let l=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(l=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==ew;f.forEach(v=>{v.queued||!_&&v.triggerName!=i||l.push(v)})}}return(r||i)&&(l=l.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),l}_beforeAnimationBuild(e,t,r){const a=t.element,l=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const v=_.element,x=v!==a,k=Aa(r,v,[]);this._getPreviousPlayers(v,x,l,f,t.toState).forEach(q=>{const ee=q.getRealPlayer();ee.beforeDestroy&&ee.beforeDestroy(),q.destroy(),k.push(q)})}Om(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,l){const f=t.triggerName,_=t.element,v=[],x=new Set,k=new Set,z=t.timelines.map(ee=>{const ae=ee.element;x.add(ae);const fe=ae[pc];if(fe&&fe.removedBeforeQueried)return new Y0(ee.duration,ee.delay);const je=ae!==_,tt=function J6(n){const e=[];return uU(n,e),e}((r.get(ae)||z6).map(Nn=>Nn.getRealPlayer())).filter(Nn=>!!Nn.element&&Nn.element===ae),Xe=a.get(ae),it=l.get(ae),Bt=FL(0,this._normalizer,0,ee.keyframes,Xe,it),Wt=this._buildPlayer(ee,Bt,tt);if(ee.subTimeline&&i&&k.add(ae),je){const Nn=new LR(e,f,ae);Nn.setRealPlayer(Wt),v.push(Nn)}return Wt});v.forEach(ee=>{Aa(this.playersByQueriedElement,ee.element,[]).push(ee),ee.onDone(()=>function Z6(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,ee.element,ee))}),x.forEach(ee=>mc(ee,GL));const q=kf(z);return q.onDestroy(()=>{x.forEach(ee=>gy(ee,GL)),wu(_,t.toStyles)}),k.forEach(ee=>{Aa(i,ee,[]).push(q)}),q}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Y0(e.duration,e.delay)}}class LR{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Y0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>gR(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Aa(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function YT(n){return n&&1===n.nodeType}function aU(n,e){const t=n.style.display;return n.style.display=e??"none",t}function cU(n,e,t,r,i){const a=[];t.forEach(_=>a.push(aU(_)));const l=[];r.forEach((_,v)=>{const x=new Map;_.forEach(k=>{const z=e.computeStyle(v,k,i);x.set(k,z),(!z||0==z.length)&&(v[pc]=G6,l.push(v))}),n.set(v,x)});let f=0;return t.forEach(_=>aU(_,a[f++])),l}function lU(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=1,i=new Set(e),a=new Map;function l(f){if(!f)return r;let _=a.get(f);if(_)return _;const v=f.parentNode;return _=t.has(v)?v:i.has(v)?r:l(v),a.set(f,_),_}return e.forEach(f=>{const _=l(f);_!==r&&t.get(_).push(f)}),t}function mc(n,e){n.classList?.add(e)}function gy(n,e){n.classList?.remove(e)}function Q6(n,e,t){kf(t).onDone(()=>n.processLeaveNode(e))}function uU(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof OL?uU(r.players,e):e.push(r)}}function dU(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class QT{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new W6(e,t,r),this._timelineEngine=new V6(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const l=e+"-"+i;let f=this._triggerCache[l];if(!f){const _=[],v=[],x=AR(this._driver,a,_,v);if(_.length)throw function L5(n,e){return new u.vHH(3404,!1)}();f=function N6(n,e,t){return new F6(n,e,t)}(i,x,this._normalizer),this._triggerCache[l]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,l]=LL(r);this._timelineEngine.command(a,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[l,f]=LL(r);return this._timelineEngine.listen(l,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let tG=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&wu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(wu(this._element,this._initialStyles),this._endStyles&&(wu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Om(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Om(this._element,this._endStyles),this._endStyles=null),wu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function UR(n){let e=null;return n.forEach((t,r)=>{(function nG(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class hU{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:QL(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class rG{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return jL(e,t)}getParentElement(e){return bR(e)}query(e,t,r){return $L(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,l=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(_.easing=a);const v=new Map,x=l.filter(q=>q instanceof hU);(function a6(n,e){return 0===n||0===e})(r,i)&&x.forEach(q=>{q.currentSnapshot.forEach((ee,ae)=>v.set(ae,ee))});let k=function r6(n){return n.length?n[0]instanceof Map?n:n.map(e=>qL(e)):[]}(t).map(q=>Of(q));k=function c6(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,l)=>{r.has(l)||i.push(l),r.set(l,a)}),i.length)for(let a=1;a<e.length;a++){let l=e[a];i.forEach(f=>l.set(f,QL(n,f)))}}return e}(e,k,v);const z=function eG(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=UR(e[0]),e.length>1&&(r=UR(e[e.length-1]))):e instanceof Map&&(t=UR(e)),t||r?new tG(n,t,r):null}(e,k);return new hU(e,k,_,z)}}let iG=(()=>{class n extends ML{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?RL(t):t;return fU(this._renderer,null,r,"register",[i]),new oG(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG($))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class oG extends m5{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new sG(this._id,e,t||{},this._renderer)}}class sG{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return fU(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function fU(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const pU="@.disabled";let aG=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,l)=>{const f=l?.parentNode(a);f&&l.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let x=this._rendererCache.get(a);return x||(x=new mU("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,x)),x}const l=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=x=>{Array.isArray(x)?x.forEach(_):this.engine.registerTrigger(l,f,t,x.name,x)};return r.data.animation.forEach(_),new cG(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[l,f]=a;l(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(QT),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class mU{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==pU?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class cG extends mU{constructor(e,t,r,i,a){super(t,r,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==pU?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function lG(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),l="";return"@"!=a.charAt(0)&&([a,l]=function uG(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,l,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let dG=(()=>{class n extends QT{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($),u.LFG(wR),u.LFG(PR),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const gU=[{provide:ML,useClass:iG},{provide:PR,useFactory:function hG(){return new R6}},{provide:QT,useClass:dG},{provide:u.FYo,useFactory:function fG(n,e,t){return new aG(n,e,t)},deps:[_i,QT,u.R0b]}],VR=[{provide:wR,useFactory:()=>new rG},{provide:u.QbO,useValue:"BrowserAnimations"},...gU],_U=[{provide:wR,useClass:HL},{provide:u.QbO,useValue:"NoopAnimations"},...gU];let pG=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?_U:VR}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:VR,imports:[aa]}),n})();const mG=["*",[["mat-toolbar-row"]]],gG=["*","mat-toolbar-row"],_G=hR(class{constructor(n){this._elementRef=n}});let yG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),vG=(()=>{class n extends _G{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Rf),u.Y36($))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&u.Suo(i,yG,5),2&t){let a;u.iGM(a=u.CRH())&&(r._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&u.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[u.qOj],ngContentSelectors:gG,decls:2,vars:0,template:function(t,r){1&t&&(u.F$t(mG),u.Hsn(0),u.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),bG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Pf,Pf]}),n})();const wG=["*"];let XT;function tw(n){return function EG(){if(void 0===XT&&(XT=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(XT=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return XT}()?.createHTML(n)||n}function yU(n){return Error(`Unable to find icon with the name "${n}"`)}function vU(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function bU(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Fm{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let eD=(()=>{class n{constructor(t,r,i,a){this._httpClient=t,this._sanitizer=r,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,a){return this._addSvgIconConfig(t,r,new Fm(i,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,a){const l=this._sanitizer.sanitize(u.q3G.HTML,i);if(!l)throw bU(i);const f=tw(l);return this._addSvgIconConfig(t,r,new Fm("",f,a))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Fm(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const a=this._sanitizer.sanitize(u.q3G.HTML,r);if(!a)throw bU(r);const l=tw(a);return this._addSvgIconSetConfig(t,new Fm("",l,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,t);if(!r)throw vU(t);const i=this._cachedIconsByUrl.get(r);return i?dt(tD(i)):this._loadSvgIconFromConfig(new Fm(t,null)).pipe((0,wi.b)(a=>this._cachedIconsByUrl.set(r,a)),(0,_t.U)(a=>tD(a)))}getNamedSvgIcon(t,r=""){const i=wU(r,t);let a=this._svgIconConfigs.get(i);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(r,t),a)return this._svgIconConfigs.set(i,a),this._getSvgFromConfig(a);const l=this._iconSetConfigs.get(r);return l?this._getSvgFromIconSetConfigs(t,l):sd(yU(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?dt(tD(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,_t.U)(r=>tD(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?dt(i):Zu(r.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(Xl(f=>{const v=`Loading icon set URL: ${this._sanitizer.sanitize(u.q3G.RESOURCE_URL,l.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(v)),dt(null)})))).pipe((0,_t.U)(()=>{const l=this._extractIconWithNameFromAnySet(t,r);if(!l)throw yU(t);return l}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const a=r[i];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const l=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(l,t,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,wi.b)(r=>t.svgText=r),(0,_t.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?dt(null):this._fetchIcon(t).pipe((0,wi.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const a=t.querySelector(`[id="${r}"]`);if(!a)return null;const l=a.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,i);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),i);const f=this._svgElementFromString(tw("<svg></svg>"));return f.appendChild(l),this._setSvgAttributes(f,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(tw("<svg></svg>")),i=t.attributes;for(let a=0;a<i.length;a++){const{name:l,value:f}=i[a];"id"!==l&&r.setAttribute(l,f)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[a].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,a=i?.withCredentials??!1;if(!this._httpClient)throw function IG(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const l=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,r);if(!l)throw vU(r);const f=this._inProgressUrlFetches.get(l);if(f)return f;const _=this._httpClient.get(l,{responseType:"text",withCredentials:a}).pipe((0,_t.U)(v=>tw(v)),Yc(()=>this._inProgressUrlFetches.delete(l)),(0,UI.B)());return this._inProgressUrlFetches.set(l,_),_}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(wU(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const a=this._resolvers[i](r,t);if(a)return TG(a)?new Fm(a.url,null,a.options):new Fm(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ka,8),u.LFG(Wa),u.LFG($,8),u.LFG(u.qLn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tD(n){return n.cloneNode(!0)}function wU(n,e){return n+":"+e}function TG(n){return!(!n.url||!n.options)}const DG=hR(class{constructor(n){this._elementRef=n}}),AG=new u.OlP("MAT_ICON_DEFAULT_OPTIONS"),SG=new u.OlP("mat-icon-location",{providedIn:"root",factory:function xG(){const n=(0,u.f3M)($),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),EU=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],MG=EU.map(n=>`[${n}]`).join(", "),RG=/^url\(['"]?#(.*?)['"]?\)$/;let PG=(()=>{class n extends DG{get inline(){return this._inline}set inline(t){this._inline=uR(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(t,r,i,a,l,f){super(t),this._iconRegistry=r,this._location=a,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ag.w0.EMPTY,f&&(f.color&&(this.color=this.defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,a)=>{i.forEach(l=>{a.setAttribute(l.name,`url('${t}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(MG),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<r.length;a++)EU.forEach(l=>{const f=r[a],_=f.getAttribute(l),v=_?_.match(RG):null;if(v){let x=i.get(f);x||(x=[],i.set(f,x)),x.push({name:l,value:v[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Kc(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(eD),u.$8M("aria-hidden"),u.Y36(SG),u.Y36(u.qLn),u.Y36(AG,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,r){2&t&&(u.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),u.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[u.qOj],ngContentSelectors:wG,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),kG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Pf,Pf]}),n})();const IU={firebase:{projectId:"clinicaonlinelaboiv",appId:"1:1029818144538:web:3a21a1e87637bb9c4efea3",storageBucket:"clinicaonlinelaboiv.appspot.com",locationId:"us-central",apiKey:"AIzaSyChy7usJYpjlBmFmaScMLb-7Xnkdu4ghqQ",authDomain:"clinicaonlinelaboiv.firebaseapp.com",messagingSenderId:"1029818144538"}};class BR{constructor(e){return e}}const CU="firestore",jR=new u.OlP("angularfire2.firestore-instances");function FG(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new BR(r)}}const LG={provide:class OG{constructor(){return(0,Ye.vb)(CU)}},deps:[[new u.FiY,jR]]},UG={provide:BR,useFactory:function NG(n,e){const t=(0,Ye.JM)(CU,n,e);return t&&new BR(t)},deps:[[new u.FiY,jR],gd]};let VG=(()=>{class n{constructor(){(0,tl.KN)("angularfire",Ye.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[UG,LG]}),n})();function BG(n,...e){return{ngModule:VG,providers:[{provide:jR,useFactory:FG(n),multi:!0,deps:[u.R0b,u.zs3,Ye.HU,$g,[new u.FiY,mb],[new u.FiY,vd],...e]}]}}const jG=(0,Ye.u3)(r$,!0);class $R{constructor(e){return e}}const TU="storage",HR=new u.OlP("angularfire2.storage-instances");function zG(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new $R(r)}}const GG={provide:class $G{constructor(){return(0,Ye.vb)(TU)}},deps:[[new u.FiY,HR]]},qG={provide:$R,useFactory:function HG(n,e){const t=(0,Ye.JM)(TU,n,e);return t&&new $R(t)},deps:[[new u.FiY,HR],gd]};let WG=(()=>{class n{constructor(){(0,tl.KN)("angularfire",Ye.q4.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[qG,GG]}),n})();function ZG(n,...e){return{ngModule:WG,providers:[{provide:HR,useFactory:zG(n),multi:!0,deps:[u.R0b,u.zs3,Ye.HU,$g,[new u.FiY,mb],[new u.FiY,vd],...e]}]}}const KG=(0,Ye.u3)(r4,!0);function YG(n,e){1&n&&(u.TgZ(0,"div")(1,"a",5),u._uU(2," Home "),u.qZA(),u.TgZ(3,"a",6),u._uU(4," Qui\xe9n soy "),u.qZA(),u.TgZ(5,"a",7),u._uU(6," Registro "),u.qZA(),u.TgZ(7,"a",8),u._uU(8," Login "),u.qZA()())}function QG(n,e){1&n&&(u.TgZ(0,"a",11),u._uU(1," Usuarios "),u.qZA())}function JG(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"a",5),u._uU(1," Home "),u.qZA(),u.YNc(2,QG,2,0,"a",9),u.TgZ(3,"a",6),u._uU(4," Qui\xe9n soy "),u.qZA(),u.TgZ(5,"a",10),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.userService.logout())}),u._uU(6," Logout "),u.qZA()}if(2&n){const t=u.oxw();u.xp6(2),u.Q6J("ngIf","admin"==t.userService.getCurrentProfile())}}let XG=(()=>{class n{constructor(t,r){this.router=t,this.userService=r,this.user={},this.profile=""}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Kr),u.Y36(Ud))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-navbar"]],decls:10,vars:2,consts:[["color","primary",1,"mat-elevation-z8"],["routerLink","home"],[1,"spacer"],[4,"ngIf","ngIfElse"],["logout",""],["mat-button","","routerLink","home"],["mat-button","","routerLink","quiensoy"],["mat-button","","routerLink","registro"],["mat-raised-button","","color","accent","routerLink","login"],["mat-button","","routerLink","usuarios",4,"ngIf"],["mat-raised-button","","color","accent","routerLink","login",3,"click"],["mat-button","","routerLink","usuarios"]],template:function(t,r){if(1&t&&(u.TgZ(0,"mat-toolbar",0)(1,"span")(2,"a",1)(3,"mat-icon"),u._uU(4,"local_hospital"),u.qZA()(),u._uU(5," Cl\xednica Online "),u.qZA(),u._UZ(6,"div",2),u.YNc(7,YG,9,0,"div",3),u.YNc(8,JG,7,1,"ng-template",null,4,u.W1O),u.qZA()),2&t){const i=u.MAs(9);u.xp6(7),u.Q6J("ngIf",!r.userService.isLoggedIn)("ngIfElse",i)}},dependencies:[ui,Up,vG,o5,PG],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]{opacity:87%}.mat-toolbar[_ngcontent-%COMP%]:hover{opacity:100%}"]}),n})(),eq=(()=>{class n{constructor(){this.title="ClinicaOnlineLaboIV"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&u._UZ(0,"app-navbar")(1,"router-outlet")},dependencies:[jh,XG]}),n})(),tq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[eq]}),n.\u0275inj=u.cJS({providers:[{provide:Ii.Dh,useValue:IU.firebase}],imports:[aa,p5,WE(()=>ZE(IU.firebase)),yS(()=>gb()),BG(()=>jG()),qt,Aw,Sw,pG,LS,Ii.hO,b3,bG,a5,kG,C4,T4,ZG(()=>KG())]}),n})();Uf().bootstrapModule(tq).catch(n=>console.error(n))},9751:(xt,Oe,B)=>{"use strict";B.d(Oe,{y:()=>Ce});var u=B(930),Y=B(727),N=B(8822),ce=B(9635),pe=B(2416),$=B(576),xe=B(2806);let Ce=(()=>{class se{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const rt=new se;return rt.source=this,rt.operator=Ne,rt}subscribe(Ne,rt,ht){const Te=function Q(se){return se&&se instanceof u.Lv||function te(se){return se&&(0,$.m)(se.next)&&(0,$.m)(se.error)&&(0,$.m)(se.complete)}(se)&&(0,Y.Nn)(se)}(Ne)?Ne:new u.Hp(Ne,rt,ht);return(0,xe.x)(()=>{const{operator:Fe,source:$e}=this;Te.add(Fe?Fe.call(Te,$e):$e?this._subscribe(Te):this._trySubscribe(Te))}),Te}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(rt){Ne.error(rt)}}forEach(Ne,rt){return new(rt=Ae(rt))((ht,Te)=>{const Fe=new u.Hp({next:$e=>{try{Ne($e)}catch(Ue){Te(Ue),Fe.unsubscribe()}},error:Te,complete:ht});this.subscribe(Fe)})}_subscribe(Ne){var rt;return null===(rt=this.source)||void 0===rt?void 0:rt.subscribe(Ne)}[N.L](){return this}pipe(...Ne){return(0,ce.U)(Ne)(this)}toPromise(Ne){return new(Ne=Ae(Ne))((rt,ht)=>{let Te;this.subscribe(Fe=>Te=Fe,Fe=>ht(Fe),()=>rt(Te))})}}return se.create=Ke=>new se(Ke),se})();function Ae(se){var Ke;return null!==(Ke=se??pe.v.Promise)&&void 0!==Ke?Ke:Promise}},7579:(xt,Oe,B)=>{"use strict";B.d(Oe,{x:()=>xe});var u=B(9751),Y=B(727);const ce=(0,B(3888).d)(Ae=>function(){Ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pe=B(8737),$=B(2806);let xe=(()=>{class Ae extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Q){const se=new Ce(this,this);return se.operator=Q,se}_throwIfClosed(){if(this.closed)throw new ce}next(Q){(0,$.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const se of this.currentObservers)se.next(Q)}})}error(Q){(0,$.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Q;const{observers:se}=this;for(;se.length;)se.shift().error(Q)}})}complete(){(0,$.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Q}=this;for(;Q.length;)Q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Q;return(null===(Q=this.observers)||void 0===Q?void 0:Q.length)>0}_trySubscribe(Q){return this._throwIfClosed(),super._trySubscribe(Q)}_subscribe(Q){return this._throwIfClosed(),this._checkFinalizedStatuses(Q),this._innerSubscribe(Q)}_innerSubscribe(Q){const{hasError:se,isStopped:Ke,observers:Ne}=this;return se||Ke?Y.Lc:(this.currentObservers=null,Ne.push(Q),new Y.w0(()=>{this.currentObservers=null,(0,pe.P)(Ne,Q)}))}_checkFinalizedStatuses(Q){const{hasError:se,thrownError:Ke,isStopped:Ne}=this;se?Q.error(Ke):Ne&&Q.complete()}asObservable(){const Q=new u.y;return Q.source=this,Q}}return Ae.create=(te,Q)=>new Ce(te,Q),Ae})();class Ce extends xe{constructor(te,Q){super(),this.destination=te,this.source=Q}next(te){var Q,se;null===(se=null===(Q=this.destination)||void 0===Q?void 0:Q.next)||void 0===se||se.call(Q,te)}error(te){var Q,se;null===(se=null===(Q=this.destination)||void 0===Q?void 0:Q.error)||void 0===se||se.call(Q,te)}complete(){var te,Q;null===(Q=null===(te=this.destination)||void 0===te?void 0:te.complete)||void 0===Q||Q.call(te)}_subscribe(te){var Q,se;return null!==(se=null===(Q=this.source)||void 0===Q?void 0:Q.subscribe(te))&&void 0!==se?se:Y.Lc}}},930:(xt,Oe,B)=>{"use strict";B.d(Oe,{Hp:()=>ht,Lv:()=>se});var u=B(576),Y=B(727),N=B(2416),ce=B(7849),pe=B(5032);const $=Ae("C",void 0,void 0);function Ae(ke,De,Ie){return{kind:ke,value:De,error:Ie}}var te=B(3410),Q=B(2806);class se extends Y.w0{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,Y.Nn)(De)&&De.add(this)):this.destination=Ue}static create(De,Ie,We){return new ht(De,Ie,We)}next(De){this.isStopped?$e(function Ce(ke){return Ae("N",ke,void 0)}(De),this):this._next(De)}error(De){this.isStopped?$e(function xe(ke){return Ae("E",void 0,ke)}(De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?$e($,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ke=Function.prototype.bind;function Ne(ke,De){return Ke.call(ke,De)}class rt{constructor(De){this.partialObserver=De}next(De){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(De)}catch(We){Te(We)}}error(De){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(De)}catch(We){Te(We)}else Te(De)}complete(){const{partialObserver:De}=this;if(De.complete)try{De.complete()}catch(Ie){Te(Ie)}}}class ht extends se{constructor(De,Ie,We){let Ge;if(super(),(0,u.m)(De)||!De)Ge={next:De??void 0,error:Ie??void 0,complete:We??void 0};else{let de;this&&N.v.useDeprecatedNextContext?(de=Object.create(De),de.unsubscribe=()=>this.unsubscribe(),Ge={next:De.next&&Ne(De.next,de),error:De.error&&Ne(De.error,de),complete:De.complete&&Ne(De.complete,de)}):Ge=De}this.destination=new rt(Ge)}}function Te(ke){N.v.useDeprecatedSynchronousErrorHandling?(0,Q.O)(ke):(0,ce.h)(ke)}function $e(ke,De){const{onStoppedNotification:Ie}=N.v;Ie&&te.z.setTimeout(()=>Ie(ke,De))}const Ue={closed:!0,next:pe.Z,error:function Fe(ke){throw ke},complete:pe.Z}},727:(xt,Oe,B)=>{"use strict";B.d(Oe,{Lc:()=>$,w0:()=>pe,Nn:()=>xe});var u=B(576);const N=(0,B(3888).d)(Ae=>function(Q){Ae(this),this.message=Q?`${Q.length} errors occurred during unsubscription:\n${Q.map((se,Ke)=>`${Ke+1}) ${se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Q});var ce=B(8737);class pe{constructor(te){this.initialTeardown=te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let te;if(!this.closed){this.closed=!0;const{_parentage:Q}=this;if(Q)if(this._parentage=null,Array.isArray(Q))for(const Ne of Q)Ne.remove(this);else Q.remove(this);const{initialTeardown:se}=this;if((0,u.m)(se))try{se()}catch(Ne){te=Ne instanceof N?Ne.errors:[Ne]}const{_finalizers:Ke}=this;if(Ke){this._finalizers=null;for(const Ne of Ke)try{Ce(Ne)}catch(rt){te=te??[],rt instanceof N?te=[...te,...rt.errors]:te.push(rt)}}if(te)throw new N(te)}}add(te){var Q;if(te&&te!==this)if(this.closed)Ce(te);else{if(te instanceof pe){if(te.closed||te._hasParent(this))return;te._addParent(this)}(this._finalizers=null!==(Q=this._finalizers)&&void 0!==Q?Q:[]).push(te)}}_hasParent(te){const{_parentage:Q}=this;return Q===te||Array.isArray(Q)&&Q.includes(te)}_addParent(te){const{_parentage:Q}=this;this._parentage=Array.isArray(Q)?(Q.push(te),Q):Q?[Q,te]:te}_removeParent(te){const{_parentage:Q}=this;Q===te?this._parentage=null:Array.isArray(Q)&&(0,ce.P)(Q,te)}remove(te){const{_finalizers:Q}=this;Q&&(0,ce.P)(Q,te),te instanceof pe&&te._removeParent(this)}}pe.EMPTY=(()=>{const Ae=new pe;return Ae.closed=!0,Ae})();const $=pe.EMPTY;function xe(Ae){return Ae instanceof pe||Ae&&"closed"in Ae&&(0,u.m)(Ae.remove)&&(0,u.m)(Ae.add)&&(0,u.m)(Ae.unsubscribe)}function Ce(Ae){(0,u.m)(Ae)?Ae():Ae.unsubscribe()}},2416:(xt,Oe,B)=>{"use strict";B.d(Oe,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(xt,Oe,B)=>{"use strict";B.d(Oe,{E:()=>Y});const Y=new(B(9751).y)(pe=>pe.complete())},8996:(xt,Oe,B)=>{"use strict";B.d(Oe,{D:()=>De});var u=B(8421),Y=B(5363),N=B(9468),$=B(9751),Ce=B(2202),Ae=B(576),te=B(9672);function se(Ie,We){if(!Ie)throw new Error("Iterable cannot be null");return new $.y(Ge=>{(0,te.f)(Ge,We,()=>{const de=Ie[Symbol.asyncIterator]();(0,te.f)(Ge,We,()=>{de.next().then(st=>{st.done?Ge.complete():Ge.next(st.value)})},0,!0)})})}var Ke=B(3670),Ne=B(8239),rt=B(1144),ht=B(6495),Te=B(2206),Fe=B(4532),$e=B(3260);function De(Ie,We){return We?function ke(Ie,We){if(null!=Ie){if((0,Ke.c)(Ie))return function ce(Ie,We){return(0,u.Xf)(Ie).pipe((0,N.R)(We),(0,Y.Q)(We))}(Ie,We);if((0,rt.z)(Ie))return function xe(Ie,We){return new $.y(Ge=>{let de=0;return We.schedule(function(){de===Ie.length?Ge.complete():(Ge.next(Ie[de++]),Ge.closed||this.schedule())})})}(Ie,We);if((0,Ne.t)(Ie))return function pe(Ie,We){return(0,u.Xf)(Ie).pipe((0,N.R)(We),(0,Y.Q)(We))}(Ie,We);if((0,Te.D)(Ie))return se(Ie,We);if((0,ht.T)(Ie))return function Q(Ie,We){return new $.y(Ge=>{let de;return(0,te.f)(Ge,We,()=>{de=Ie[Ce.h](),(0,te.f)(Ge,We,()=>{let st,kt;try{({value:st,done:kt}=de.next())}catch(mt){return void Ge.error(mt)}kt?Ge.complete():Ge.next(st)},0,!0)}),()=>(0,Ae.m)(de?.return)&&de.return()})}(Ie,We);if((0,$e.L)(Ie))return function Ue(Ie,We){return se((0,$e.Q)(Ie),We)}(Ie,We)}throw(0,Fe.z)(Ie)}(Ie,We):(0,u.Xf)(Ie)}},8421:(xt,Oe,B)=>{"use strict";B.d(Oe,{Xf:()=>Ke});var u=B(7582),Y=B(1144),N=B(8239),ce=B(9751),pe=B(3670),$=B(2206),xe=B(4532),Ce=B(6495),Ae=B(3260),te=B(576),Q=B(7849),se=B(8822);function Ke(ke){if(ke instanceof ce.y)return ke;if(null!=ke){if((0,pe.c)(ke))return function Ne(ke){return new ce.y(De=>{const Ie=ke[se.L]();if((0,te.m)(Ie.subscribe))return Ie.subscribe(De);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ke);if((0,Y.z)(ke))return function rt(ke){return new ce.y(De=>{for(let Ie=0;Ie<ke.length&&!De.closed;Ie++)De.next(ke[Ie]);De.complete()})}(ke);if((0,N.t)(ke))return function ht(ke){return new ce.y(De=>{ke.then(Ie=>{De.closed||(De.next(Ie),De.complete())},Ie=>De.error(Ie)).then(null,Q.h)})}(ke);if((0,$.D)(ke))return Fe(ke);if((0,Ce.T)(ke))return function Te(ke){return new ce.y(De=>{for(const Ie of ke)if(De.next(Ie),De.closed)return;De.complete()})}(ke);if((0,Ae.L)(ke))return function $e(ke){return Fe((0,Ae.Q)(ke))}(ke)}throw(0,xe.z)(ke)}function Fe(ke){return new ce.y(De=>{(function Ue(ke,De){var Ie,We,Ge,de;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,u.KL)(ke);!(We=yield Ie.next()).done;)if(De.next(We.value),De.closed)return}catch(st){Ge={error:st}}finally{try{We&&!We.done&&(de=Ie.return)&&(yield de.call(Ie))}finally{if(Ge)throw Ge.error}}De.complete()})})(ke,De).catch(Ie=>De.error(Ie))})}},6451:(xt,Oe,B)=>{"use strict";B.d(Oe,{T:()=>$});var u=B(8189),Y=B(8421),N=B(515),ce=B(7669),pe=B(8996);function $(...xe){const Ce=(0,ce.yG)(xe),Ae=(0,ce._6)(xe,1/0),te=xe;return te.length?1===te.length?(0,Y.Xf)(te[0]):(0,u.J)(Ae)((0,pe.D)(te,Ce)):N.E}},5403:(xt,Oe,B)=>{"use strict";B.d(Oe,{x:()=>Y});var u=B(930);function Y(ce,pe,$,xe,Ce){return new N(ce,pe,$,xe,Ce)}class N extends u.Lv{constructor(pe,$,xe,Ce,Ae,te){super(pe),this.onFinalize=Ae,this.shouldUnsubscribe=te,this._next=$?function(Q){try{$(Q)}catch(se){pe.error(se)}}:super._next,this._error=Ce?function(Q){try{Ce(Q)}catch(se){pe.error(se)}finally{this.unsubscribe()}}:super._error,this._complete=xe?function(){try{xe()}catch(Q){pe.error(Q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var pe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:$}=this;super.unsubscribe(),!$&&(null===(pe=this.onFinalize)||void 0===pe||pe.call(this))}}}},4004:(xt,Oe,B)=>{"use strict";B.d(Oe,{U:()=>N});var u=B(4482),Y=B(5403);function N(ce,pe){return(0,u.e)(($,xe)=>{let Ce=0;$.subscribe((0,Y.x)(xe,Ae=>{xe.next(ce.call(pe,Ae,Ce++))}))})}},8189:(xt,Oe,B)=>{"use strict";B.d(Oe,{J:()=>N});var u=B(5577),Y=B(4671);function N(ce=1/0){return(0,u.z)(Y.y,ce)}},5577:(xt,Oe,B)=>{"use strict";B.d(Oe,{z:()=>Ce});var u=B(4004),Y=B(8421),N=B(4482),ce=B(9672),pe=B(5403),xe=B(576);function Ce(Ae,te,Q=1/0){return(0,xe.m)(te)?Ce((se,Ke)=>(0,u.U)((Ne,rt)=>te(se,Ne,Ke,rt))((0,Y.Xf)(Ae(se,Ke))),Q):("number"==typeof te&&(Q=te),(0,N.e)((se,Ke)=>function $(Ae,te,Q,se,Ke,Ne,rt,ht){const Te=[];let Fe=0,$e=0,Ue=!1;const ke=()=>{Ue&&!Te.length&&!Fe&&te.complete()},De=We=>Fe<se?Ie(We):Te.push(We),Ie=We=>{Ne&&te.next(We),Fe++;let Ge=!1;(0,Y.Xf)(Q(We,$e++)).subscribe((0,pe.x)(te,de=>{Ke?.(de),Ne?De(de):te.next(de)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(Fe--;Te.length&&Fe<se;){const de=Te.shift();rt?(0,ce.f)(te,rt,()=>Ie(de)):Ie(de)}ke()}catch(de){te.error(de)}}))};return Ae.subscribe((0,pe.x)(te,De,()=>{Ue=!0,ke()})),()=>{ht?.()}}(se,Ke,Ae,Q)))}},5363:(xt,Oe,B)=>{"use strict";B.d(Oe,{Q:()=>ce});var u=B(9672),Y=B(4482),N=B(5403);function ce(pe,$=0){return(0,Y.e)((xe,Ce)=>{xe.subscribe((0,N.x)(Ce,Ae=>(0,u.f)(Ce,pe,()=>Ce.next(Ae),$),()=>(0,u.f)(Ce,pe,()=>Ce.complete(),$),Ae=>(0,u.f)(Ce,pe,()=>Ce.error(Ae),$)))})}},3099:(xt,Oe,B)=>{"use strict";B.d(Oe,{B:()=>pe});var u=B(8421),Y=B(7579),N=B(930),ce=B(4482);function pe(xe={}){const{connector:Ce=(()=>new Y.x),resetOnError:Ae=!0,resetOnComplete:te=!0,resetOnRefCountZero:Q=!0}=xe;return se=>{let Ke,Ne,rt,ht=0,Te=!1,Fe=!1;const $e=()=>{Ne?.unsubscribe(),Ne=void 0},Ue=()=>{$e(),Ke=rt=void 0,Te=Fe=!1},ke=()=>{const De=Ke;Ue(),De?.unsubscribe()};return(0,ce.e)((De,Ie)=>{ht++,!Fe&&!Te&&$e();const We=rt=rt??Ce();Ie.add(()=>{ht--,0===ht&&!Fe&&!Te&&(Ne=$(ke,Q))}),We.subscribe(Ie),!Ke&&ht>0&&(Ke=new N.Hp({next:Ge=>We.next(Ge),error:Ge=>{Fe=!0,$e(),Ne=$(Ue,Ae,Ge),We.error(Ge)},complete:()=>{Te=!0,$e(),Ne=$(Ue,te),We.complete()}}),(0,u.Xf)(De).subscribe(Ke))})(se)}}function $(xe,Ce,...Ae){if(!0===Ce)return void xe();if(!1===Ce)return;const te=new N.Hp({next:()=>{te.unsubscribe(),xe()}});return(0,u.Xf)(Ce(...Ae)).subscribe(te)}},9468:(xt,Oe,B)=>{"use strict";B.d(Oe,{R:()=>Y});var u=B(4482);function Y(N,ce=0){return(0,u.e)((pe,$)=>{$.add(N.schedule(()=>pe.subscribe($),ce))})}},8505:(xt,Oe,B)=>{"use strict";B.d(Oe,{b:()=>pe});var u=B(576),Y=B(4482),N=B(5403),ce=B(4671);function pe($,xe,Ce){const Ae=(0,u.m)($)||xe||Ce?{next:$,error:xe,complete:Ce}:$;return Ae?(0,Y.e)((te,Q)=>{var se;null===(se=Ae.subscribe)||void 0===se||se.call(Ae);let Ke=!0;te.subscribe((0,N.x)(Q,Ne=>{var rt;null===(rt=Ae.next)||void 0===rt||rt.call(Ae,Ne),Q.next(Ne)},()=>{var Ne;Ke=!1,null===(Ne=Ae.complete)||void 0===Ne||Ne.call(Ae),Q.complete()},Ne=>{var rt;Ke=!1,null===(rt=Ae.error)||void 0===rt||rt.call(Ae,Ne),Q.error(Ne)},()=>{var Ne,rt;Ke&&(null===(Ne=Ae.unsubscribe)||void 0===Ne||Ne.call(Ae)),null===(rt=Ae.finalize)||void 0===rt||rt.call(Ae)}))}):ce.y}},4408:(xt,Oe,B)=>{"use strict";B.d(Oe,{o:()=>pe});var u=B(727);class Y extends u.w0{constructor(xe,Ce){super()}schedule(xe,Ce=0){return this}}const N={setInterval($,xe,...Ce){const{delegate:Ae}=N;return Ae?.setInterval?Ae.setInterval($,xe,...Ce):setInterval($,xe,...Ce)},clearInterval($){const{delegate:xe}=N;return(xe?.clearInterval||clearInterval)($)},delegate:void 0};var ce=B(8737);class pe extends Y{constructor(xe,Ce){super(xe,Ce),this.scheduler=xe,this.work=Ce,this.pending=!1}schedule(xe,Ce=0){var Ae;if(this.closed)return this;this.state=xe;const te=this.id,Q=this.scheduler;return null!=te&&(this.id=this.recycleAsyncId(Q,te,Ce)),this.pending=!0,this.delay=Ce,this.id=null!==(Ae=this.id)&&void 0!==Ae?Ae:this.requestAsyncId(Q,this.id,Ce),this}requestAsyncId(xe,Ce,Ae=0){return N.setInterval(xe.flush.bind(xe,this),Ae)}recycleAsyncId(xe,Ce,Ae=0){if(null!=Ae&&this.delay===Ae&&!1===this.pending)return Ce;null!=Ce&&N.clearInterval(Ce)}execute(xe,Ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ae=this._execute(xe,Ce);if(Ae)return Ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(xe,Ce){let te,Ae=!1;try{this.work(xe)}catch(Q){Ae=!0,te=Q||new Error("Scheduled action threw falsy error")}if(Ae)return this.unsubscribe(),te}unsubscribe(){if(!this.closed){const{id:xe,scheduler:Ce}=this,{actions:Ae}=Ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(Ae,this),null!=xe&&(this.id=this.recycleAsyncId(Ce,xe,null)),this.delay=null,super.unsubscribe()}}}},7565:(xt,Oe,B)=>{"use strict";B.d(Oe,{v:()=>N});var u=B(6063);class Y{constructor(pe,$=Y.now){this.schedulerActionCtor=pe,this.now=$}schedule(pe,$=0,xe){return new this.schedulerActionCtor(this,pe).schedule(xe,$)}}Y.now=u.l.now;class N extends Y{constructor(pe,$=Y.now){super(pe,$),this.actions=[],this._active=!1}flush(pe){const{actions:$}=this;if(this._active)return void $.push(pe);let xe;this._active=!0;do{if(xe=pe.execute(pe.state,pe.delay))break}while(pe=$.shift());if(this._active=!1,xe){for(;pe=$.shift();)pe.unsubscribe();throw xe}}}},4986:(xt,Oe,B)=>{"use strict";B.d(Oe,{z:()=>N});var u=B(4408);const N=new(B(7565).v)(u.o)},6063:(xt,Oe,B)=>{"use strict";B.d(Oe,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(xt,Oe,B)=>{"use strict";B.d(Oe,{z:()=>u});const u={setTimeout(Y,N,...ce){const{delegate:pe}=u;return pe?.setTimeout?pe.setTimeout(Y,N,...ce):setTimeout(Y,N,...ce)},clearTimeout(Y){const{delegate:N}=u;return(N?.clearTimeout||clearTimeout)(Y)},delegate:void 0}},2202:(xt,Oe,B)=>{"use strict";B.d(Oe,{h:()=>Y});const Y=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(xt,Oe,B)=>{"use strict";B.d(Oe,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(xt,Oe,B)=>{"use strict";B.d(Oe,{_6:()=>$,jO:()=>ce,yG:()=>pe});var u=B(576);function N(xe){return xe[xe.length-1]}function ce(xe){return(0,u.m)(N(xe))?xe.pop():void 0}function pe(xe){return function Y(xe){return xe&&(0,u.m)(xe.schedule)}(N(xe))?xe.pop():void 0}function $(xe,Ce){return"number"==typeof N(xe)?xe.pop():Ce}},8737:(xt,Oe,B)=>{"use strict";function u(Y,N){if(Y){const ce=Y.indexOf(N);0<=ce&&Y.splice(ce,1)}}B.d(Oe,{P:()=>u})},3888:(xt,Oe,B)=>{"use strict";function u(Y){const ce=Y(pe=>{Error.call(pe),pe.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}B.d(Oe,{d:()=>u})},2806:(xt,Oe,B)=>{"use strict";B.d(Oe,{O:()=>ce,x:()=>N});var u=B(2416);let Y=null;function N(pe){if(u.v.useDeprecatedSynchronousErrorHandling){const $=!Y;if($&&(Y={errorThrown:!1,error:null}),pe(),$){const{errorThrown:xe,error:Ce}=Y;if(Y=null,xe)throw Ce}}else pe()}function ce(pe){u.v.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=pe)}},9672:(xt,Oe,B)=>{"use strict";function u(Y,N,ce,pe=0,$=!1){const xe=N.schedule(function(){ce(),$?Y.add(this.schedule(null,pe)):this.unsubscribe()},pe);if(Y.add(xe),!$)return xe}B.d(Oe,{f:()=>u})},4671:(xt,Oe,B)=>{"use strict";function u(Y){return Y}B.d(Oe,{y:()=>u})},1144:(xt,Oe,B)=>{"use strict";B.d(Oe,{z:()=>u});const u=Y=>Y&&"number"==typeof Y.length&&"function"!=typeof Y},2206:(xt,Oe,B)=>{"use strict";B.d(Oe,{D:()=>Y});var u=B(576);function Y(N){return Symbol.asyncIterator&&(0,u.m)(N?.[Symbol.asyncIterator])}},576:(xt,Oe,B)=>{"use strict";function u(Y){return"function"==typeof Y}B.d(Oe,{m:()=>u})},3670:(xt,Oe,B)=>{"use strict";B.d(Oe,{c:()=>N});var u=B(8822),Y=B(576);function N(ce){return(0,Y.m)(ce[u.L])}},6495:(xt,Oe,B)=>{"use strict";B.d(Oe,{T:()=>N});var u=B(2202),Y=B(576);function N(ce){return(0,Y.m)(ce?.[u.h])}},8239:(xt,Oe,B)=>{"use strict";B.d(Oe,{t:()=>Y});var u=B(576);function Y(N){return(0,u.m)(N?.then)}},3260:(xt,Oe,B)=>{"use strict";B.d(Oe,{L:()=>ce,Q:()=>N});var u=B(7582),Y=B(576);function N(pe){return(0,u.FC)(this,arguments,function*(){const xe=pe.getReader();try{for(;;){const{value:Ce,done:Ae}=yield(0,u.qq)(xe.read());if(Ae)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(Ce)}}finally{xe.releaseLock()}})}function ce(pe){return(0,Y.m)(pe?.getReader)}},4482:(xt,Oe,B)=>{"use strict";B.d(Oe,{A:()=>Y,e:()=>N});var u=B(576);function Y(ce){return(0,u.m)(ce?.lift)}function N(ce){return pe=>{if(Y(pe))return pe.lift(function($){try{return ce($,this)}catch(xe){this.error(xe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(xt,Oe,B)=>{"use strict";function u(){}B.d(Oe,{Z:()=>u})},9635:(xt,Oe,B)=>{"use strict";B.d(Oe,{U:()=>N,z:()=>Y});var u=B(4671);function Y(...ce){return N(ce)}function N(ce){return 0===ce.length?u.y:1===ce.length?ce[0]:function($){return ce.reduce((xe,Ce)=>Ce(xe),$)}}},7849:(xt,Oe,B)=>{"use strict";B.d(Oe,{h:()=>N});var u=B(2416),Y=B(3410);function N(ce){Y.z.setTimeout(()=>{const{onUnhandledError:pe}=u.v;if(!pe)throw ce;pe(ce)})}},4532:(xt,Oe,B)=>{"use strict";function u(Y){return new TypeError(`You provided ${null!==Y&&"object"==typeof Y?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d(Oe,{z:()=>u})},5226:function(xt){xt.exports=function(){"use strict";const B={},Y=C=>new Promise(D=>{if(!C)return D();const O=window.scrollX,W=window.scrollY;B.restoreFocusTimeout=setTimeout(()=>{B.previousActiveElement instanceof HTMLElement?(B.previousActiveElement.focus(),B.previousActiveElement=null):document.body&&document.body.focus(),D()},100),window.scrollTo(O,W)});var N={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const $=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((C,D)=>(C[D]="swal2-"+D,C),{}),Ce=["success","warning","info","question","error"].reduce((C,D)=>(C[D]="swal2-"+D,C),{}),Ae="SweetAlert2:",te=C=>C.charAt(0).toUpperCase()+C.slice(1),Q=C=>{console.warn(`${Ae} ${"object"==typeof C?C.join(" "):C}`)},se=C=>{console.error(`${Ae} ${C}`)},Ke=[],rt=(C,D)=>{(C=>{Ke.includes(C)||(Ke.push(C),Q(C))})(`"${C}" is deprecated and will be removed in the next major release. Please use "${D}" instead.`)},ht=C=>"function"==typeof C?C():C,Te=C=>C&&"function"==typeof C.toPromise,Fe=C=>Te(C)?C.toPromise():Promise.resolve(C),$e=C=>C&&Promise.resolve(C)===C,Ue=()=>document.body.querySelector(`.${$.container}`),ke=C=>{const D=Ue();return D?D.querySelector(C):null},De=C=>ke(`.${C}`),Ie=()=>De($.popup),We=()=>De($.icon),de=()=>De($.title),st=()=>De($["html-container"]),kt=()=>De($.image),mt=()=>De($["progress-steps"]),Kt=()=>De($["validation-message"]),at=()=>ke(`.${$.actions} .${$.confirm}`),ai=()=>ke(`.${$.actions} .${$.cancel}`),me=()=>ke(`.${$.actions} .${$.deny}`),Pe=()=>ke(`.${$.loader}`),Le=()=>De($.actions),et=()=>De($.footer),ze=()=>De($["timer-progress-bar"]),Ve=()=>De($.close),Fn=()=>{const C=Ie().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),D=Array.from(C).sort((ge,Rt)=>{const wn=parseInt(ge.getAttribute("tabindex")),Xn=parseInt(Rt.getAttribute("tabindex"));return wn>Xn?1:wn<Xn?-1:0}),O=Ie().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),W=Array.from(O).filter(ge=>"-1"!==ge.getAttribute("tabindex"));return[...new Set(D.concat(W))].filter(ge=>Ln(ge))},vt=()=>bn(document.body,$.shown)&&!bn(document.body,$["toast-shown"])&&!bn(document.body,$["no-backdrop"]),It=()=>Ie()&&bn(Ie(),$.toast),en=(C,D)=>{if(C.textContent="",D){const W=(new DOMParser).parseFromString(D,"text/html");Array.from(W.querySelector("head").childNodes).forEach(ge=>{C.appendChild(ge)}),Array.from(W.querySelector("body").childNodes).forEach(ge=>{ge instanceof HTMLVideoElement||ge instanceof HTMLAudioElement?C.appendChild(ge.cloneNode(!0)):C.appendChild(ge)})}},bn=(C,D)=>{if(!D)return!1;const O=D.split(/\s+/);for(let W=0;W<O.length;W++)if(!C.classList.contains(O[W]))return!1;return!0},Dn=(C,D,O)=>{if(((C,D)=>{Array.from(C.classList).forEach(O=>{!Object.values($).includes(O)&&!Object.values(Ce).includes(O)&&!Object.values(D.showClass).includes(O)&&C.classList.remove(O)})})(C,D),D.customClass&&D.customClass[O]){if("string"!=typeof D.customClass[O]&&!D.customClass[O].forEach)return void Q(`Invalid type of customClass.${O}! Expected string or iterable object, got "${typeof D.customClass[O]}"`);Yt(C,D.customClass[O])}},wr=(C,D)=>{if(!D)return null;switch(D){case"select":case"textarea":case"file":return C.querySelector(`.${$.popup} > .${$[D]}`);case"checkbox":return C.querySelector(`.${$.popup} > .${$.checkbox} input`);case"radio":return C.querySelector(`.${$.popup} > .${$.radio} input:checked`)||C.querySelector(`.${$.popup} > .${$.radio} input:first-child`);case"range":return C.querySelector(`.${$.popup} > .${$.range} input`);default:return C.querySelector(`.${$.popup} > .${$.input}`)}},nr=C=>{if(C.focus(),"file"!==C.type){const D=C.value;C.value="",C.value=D}},Xr=(C,D,O)=>{!C||!D||("string"==typeof D&&(D=D.split(/\s+/).filter(Boolean)),D.forEach(W=>{Array.isArray(C)?C.forEach(ge=>{O?ge.classList.add(W):ge.classList.remove(W)}):O?C.classList.add(W):C.classList.remove(W)}))},Yt=(C,D)=>{Xr(C,D,!0)},Gr=(C,D)=>{Xr(C,D,!1)},Rn=(C,D)=>{const O=Array.from(C.children);for(let W=0;W<O.length;W++){const ge=O[W];if(ge instanceof HTMLElement&&bn(ge,D))return ge}},bt=(C,D,O)=>{O===`${parseInt(O)}`&&(O=parseInt(O)),O||0===parseInt(O)?C.style[D]="number"==typeof O?`${O}px`:O:C.style.removeProperty(D)},pn=function(C){C&&(C.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},$n=C=>{C&&(C.style.display="none")},Zn=(C,D,O,W)=>{const ge=C.querySelector(D);ge&&(ge.style[O]=W)},_r=function(C,D){D?pn(C,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):$n(C)},Ln=C=>!(!C||!(C.offsetWidth||C.offsetHeight||C.getClientRects().length)),nn=C=>C.scrollHeight>C.clientHeight,wt=C=>{const D=window.getComputedStyle(C),O=parseFloat(D.getPropertyValue("animation-duration")||"0"),W=parseFloat(D.getPropertyValue("transition-duration")||"0");return O>0||W>0},jt=function(C){let D=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const O=ze();Ln(O)&&(D&&(O.style.transition="none",O.style.width="100%"),setTimeout(()=>{O.style.transition=`width ${C/1e3}s linear`,O.style.width="0%"},10))},Er=()=>typeof window>"u"||typeof document>"u",Kn=`\n <div aria-labelledby="${$.title}" aria-describedby="${$["html-container"]}" class="${$.popup}" tabindex="-1">\n   <button type="button" class="${$.close}"></button>\n   <ul class="${$["progress-steps"]}"></ul>\n   <div class="${$.icon}"></div>\n   <img class="${$.image}" />\n   <h2 class="${$.title}" id="${$.title}"></h2>\n   <div class="${$["html-container"]}" id="${$["html-container"]}"></div>\n   <input class="${$.input}" />\n   <input type="file" class="${$.file}" />\n   <div class="${$.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${$.select}"></select>\n   <div class="${$.radio}"></div>\n   <label for="${$.checkbox}" class="${$.checkbox}">\n     <input type="checkbox" />\n     <span class="${$.label}"></span>\n   </label>\n   <textarea class="${$.textarea}"></textarea>\n   <div class="${$["validation-message"]}" id="${$["validation-message"]}"></div>\n   <div class="${$.actions}">\n     <div class="${$.loader}"></div>\n     <button type="button" class="${$.confirm}"></button>\n     <button type="button" class="${$.deny}"></button>\n     <button type="button" class="${$.cancel}"></button>\n   </div>\n   <div class="${$.footer}"></div>\n   <div class="${$["timer-progress-bar-container"]}">\n     <div class="${$["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),Pn=()=>{B.currentInstance.resetValidationMessage()},li=C=>{const D=(()=>{const C=Ue();return!!C&&(C.remove(),Gr([document.documentElement,document.body],[$["no-backdrop"],$["toast-shown"],$["has-column"]]),!0)})();if(Er())return void se("SweetAlert2 requires document to initialize");const O=document.createElement("div");O.className=$.container,D&&Yt(O,$["no-transition"]),en(O,Kn);const W=(C=>"string"==typeof C?document.querySelector(C):C)(C.target);W.appendChild(O),(C=>{const D=Ie();D.setAttribute("role",C.toast?"alert":"dialog"),D.setAttribute("aria-live",C.toast?"polite":"assertive"),C.toast||D.setAttribute("aria-modal","true")})(C),(C=>{"rtl"===window.getComputedStyle(C).direction&&Yt(Ue(),$.rtl)})(W),(()=>{const C=Ie(),D=Rn(C,$.input),O=Rn(C,$.file),W=C.querySelector(`.${$.range} input`),ge=C.querySelector(`.${$.range} output`),Rt=Rn(C,$.select),wn=C.querySelector(`.${$.checkbox} input`),Xn=Rn(C,$.textarea);D.oninput=Pn,O.onchange=Pn,Rt.onchange=Pn,wn.onchange=Pn,Xn.oninput=Pn,W.oninput=()=>{Pn(),ge.value=W.value},W.onchange=()=>{Pn(),ge.value=W.value}})()},Gt=(C,D)=>{C instanceof HTMLElement?D.appendChild(C):"object"==typeof C?ir(C,D):C&&en(D,C)},ir=(C,D)=>{C.jquery?Wn(D,C):en(D,C.toString())},Wn=(C,D)=>{if(C.textContent="",0 in D)for(let O=0;O in D;O++)C.appendChild(D[O].cloneNode(!0));else C.appendChild(D.cloneNode(!0))},or=(()=>{if(Er())return!1;const C=document.createElement("div"),D={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const O in D)if(Object.prototype.hasOwnProperty.call(D,O)&&typeof C.style[O]<"u")return D[O];return!1})(),sr=(C,D)=>{const O=Le(),W=Pe();D.showConfirmButton||D.showDenyButton||D.showCancelButton?pn(O):$n(O),Dn(O,D,"actions"),function ei(C,D,O){const W=at(),ge=me(),Rt=ai();Pr(W,"confirm",O),Pr(ge,"deny",O),Pr(Rt,"cancel",O),function qr(C,D,O,W){W.buttonsStyling?(Yt([C,D,O],$.styled),W.confirmButtonColor&&(C.style.backgroundColor=W.confirmButtonColor,Yt(C,$["default-outline"])),W.denyButtonColor&&(D.style.backgroundColor=W.denyButtonColor,Yt(D,$["default-outline"])),W.cancelButtonColor&&(O.style.backgroundColor=W.cancelButtonColor,Yt(O,$["default-outline"]))):Gr([C,D,O],$.styled)}(W,ge,Rt,O),O.reverseButtons&&(O.toast?(C.insertBefore(Rt,W),C.insertBefore(ge,W)):(C.insertBefore(Rt,D),C.insertBefore(ge,D),C.insertBefore(W,D)))}(O,W,D),en(W,D.loaderHtml),Dn(W,D,"loader")};function Pr(C,D,O){_r(C,O[`show${te(D)}Button`],"inline-block"),en(C,O[`${D}ButtonText`]),C.setAttribute("aria-label",O[`${D}ButtonAriaLabel`]),C.className=$[D],Dn(C,O,`${D}Button`),Yt(C,O[`${D}ButtonClass`])}const K=(C,D)=>{const O=Ue();O&&(function V(C,D){"string"==typeof D?C.style.background=D:D||Yt([document.documentElement,document.body],$["no-backdrop"])}(O,D.backdrop),function j(C,D){D in $?Yt(C,$[D]):(Q('The "position" parameter is not valid, defaulting to "center"'),Yt(C,$.center))}(O,D.position),function F(C,D){if(D&&"string"==typeof D){const O=`grow-${D}`;O in $&&Yt(C,$[O])}}(O,D.grow),Dn(O,D,"container"))};const re=["input","file","range","select","radio","checkbox","textarea"],ft=C=>{if(!Yn[C.input])return void se(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${C.input}"`);const D=Qt(C.input),O=Yn[C.input](D,C);pn(D),C.inputAutoFocus&&setTimeout(()=>{nr(O)})},Ot=(C,D)=>{const O=wr(Ie(),C);if(O){(C=>{for(let D=0;D<C.attributes.length;D++){const O=C.attributes[D].name;["type","value","style"].includes(O)||C.removeAttribute(O)}})(O);for(const W in D)O.setAttribute(W,D[W])}},rn=C=>{const D=Qt(C.input);"object"==typeof C.customClass&&Yt(D,C.customClass.input)},Lt=(C,D)=>{(!C.placeholder||D.inputPlaceholder)&&(C.placeholder=D.inputPlaceholder)},Mn=(C,D,O)=>{if(O.inputLabel){C.id=$.input;const W=document.createElement("label"),ge=$["input-label"];W.setAttribute("for",C.id),W.className=ge,"object"==typeof O.customClass&&Yt(W,O.customClass.inputLabel),W.innerText=O.inputLabel,D.insertAdjacentElement("beforebegin",W)}},Qt=C=>Rn(Ie(),$[C]||$.input),ar=(C,D)=>{["string","number"].includes(typeof D)?C.value=`${D}`:$e(D)||Q(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof D}"`)},Yn={};Yn.text=Yn.email=Yn.password=Yn.number=Yn.tel=Yn.url=(C,D)=>(ar(C,D.inputValue),Mn(C,C,D),Lt(C,D),C.type=D.input,C),Yn.file=(C,D)=>(Mn(C,C,D),Lt(C,D),C),Yn.range=(C,D)=>{const O=C.querySelector("input"),W=C.querySelector("output");return ar(O,D.inputValue),O.type=D.input,ar(W,D.inputValue),Mn(O,C,D),C},Yn.select=(C,D)=>{if(C.textContent="",D.inputPlaceholder){const O=document.createElement("option");en(O,D.inputPlaceholder),O.value="",O.disabled=!0,O.selected=!0,C.appendChild(O)}return Mn(C,C,D),C},Yn.radio=C=>(C.textContent="",C),Yn.checkbox=(C,D)=>{const O=wr(Ie(),"checkbox");O.value="1",O.id=$.checkbox,O.checked=Boolean(D.inputValue);const W=C.querySelector("span");return en(W,D.inputPlaceholder),O},Yn.textarea=(C,D)=>{ar(C,D.inputValue),Lt(C,D),Mn(C,C,D);return setTimeout(()=>{if("MutationObserver"in window){const W=parseInt(window.getComputedStyle(Ie()).width);new MutationObserver(()=>{const Rt=C.offsetWidth+(W=>parseInt(window.getComputedStyle(W).marginLeft)+parseInt(window.getComputedStyle(W).marginRight))(C);Ie().style.width=Rt>W?`${Rt}px`:null}).observe(C,{attributes:!0,attributeFilter:["style"]})}}),C};const we=(C,D)=>{const O=st();O&&(Dn(O,D,"htmlContainer"),D.html?(Gt(D.html,O),pn(O,"block")):D.text?(O.textContent=D.text,pn(O,"block")):$n(O),((C,D)=>{const O=Ie(),W=N.innerParams.get(C),ge=!W||D.input!==W.input;re.forEach(Rt=>{const wn=Rn(O,$[Rt]);Ot(Rt,D.inputAttributes),wn.className=$[Rt],ge&&$n(wn)}),D.input&&(ge&&ft(D),rn(D))})(C,D))},Ct=(C,D)=>{for(const O in Ce)D.icon!==O&&Gr(C,Ce[O]);Yt(C,Ce[D.icon]),yn(C,D),Vt(),Dn(C,D,"icon")},Vt=()=>{const C=Ie(),D=window.getComputedStyle(C).getPropertyValue("background-color"),O=C.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let W=0;W<O.length;W++)O[W].style.backgroundColor=D},An=(C,D)=>{let W,O=C.innerHTML;D.iconHtml?W=kr(D.iconHtml):"success"===D.icon?(W='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',O=O.replace(/ style=".*?"/g,"")):W="error"===D.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':kr({question:"?",warning:"!",info:"i"}[D.icon]),O.trim()!==W.trim()&&en(C,W)},yn=(C,D)=>{if(D.iconColor){C.style.color=D.iconColor,C.style.borderColor=D.iconColor;for(const O of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Zn(C,O,"backgroundColor",D.iconColor);Zn(C,".swal2-success-ring","borderColor",D.iconColor)}},kr=C=>`<div class="${$["icon-content"]}">${C}</div>`,Iu=(C,D)=>{const O=D.showClass||{};C.className=`${$.popup} ${Ln(C)?O.popup:""}`,D.toast?(Yt([document.documentElement,document.body],$["toast-shown"]),Yt(C,$.toast)):Yt(C,$.modal),Dn(C,D,"popup"),"string"==typeof D.customClass&&Yt(C,D.customClass),D.icon&&Yt(C,$[`icon-${D.icon}`])},Tr=C=>{const D=document.createElement("li");return Yt(D,$["progress-step"]),en(D,C),D},lt=C=>{const D=document.createElement("li");return Yt(D,$["progress-step-line"]),C.progressStepsDistance&&bt(D,"width",C.progressStepsDistance),D},Hn=(C,D)=>{((C,D)=>{const O=Ue(),W=Ie();if(O&&W){if(D.toast){bt(O,"width",D.width),W.style.width="100%";const ge=Pe();ge&&W.insertBefore(ge,We())}else bt(W,"width",D.width);bt(W,"padding",D.padding),D.color&&(W.style.color=D.color),D.background&&(W.style.background=D.background),$n(Kt()),Iu(W,D)}})(0,D),K(0,D),((C,D)=>{const O=mt();if(!O)return;const{progressSteps:W,currentProgressStep:ge}=D;W&&0!==W.length&&void 0!==ge?(pn(O),O.textContent="",ge>=W.length&&Q("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),W.forEach((Rt,wn)=>{const Xn=Tr(Rt);if(O.appendChild(Xn),wn===ge&&Yt(Xn,$["active-progress-step"]),wn!==W.length-1){const er=lt(D);O.appendChild(er)}})):$n(O)})(0,D),((C,D)=>{const O=N.innerParams.get(C),W=We();O&&D.icon===O.icon?(An(W,D),Ct(W,D)):D.icon||D.iconHtml?D.icon&&-1===Object.keys(Ce).indexOf(D.icon)?(se(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${D.icon}"`),$n(W)):(pn(W),An(W,D),Ct(W,D),Yt(W,D.showClass.icon)):$n(W)})(C,D),((C,D)=>{const O=kt();if(O){if(!D.imageUrl)return void $n(O);pn(O,""),O.setAttribute("src",D.imageUrl),O.setAttribute("alt",D.imageAlt||""),bt(O,"width",D.imageWidth),bt(O,"height",D.imageHeight),O.className=$.image,Dn(O,D,"image")}})(0,D),((C,D)=>{const O=de();O&&(_r(O,D.title||D.titleText,"block"),D.title&&Gt(D.title,O),D.titleText&&(O.innerText=D.titleText),Dn(O,D,"title"))})(0,D),((C,D)=>{const O=Ve();O&&(en(O,D.closeButtonHtml||""),Dn(O,D,"closeButton"),_r(O,D.showCloseButton),O.setAttribute("aria-label",D.closeButtonAriaLabel||""))})(0,D),we(C,D),sr(0,D),((C,D)=>{const O=et();O&&(_r(O,D.footer),D.footer&&Gt(D.footer,O),Dn(O,D,"footer"))})(0,D),"function"==typeof D.didRender&&D.didRender(Ie())},po=()=>at()&&at().click(),Un=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),bs=C=>{C.keydownTarget&&C.keydownHandlerAdded&&(C.keydownTarget.removeEventListener("keydown",C.keydownHandler,{capture:C.keydownListenerCapture}),C.keydownHandlerAdded=!1)},Jt=(C,D)=>{const O=Fn();if(O.length)return(C+=D)===O.length?C=0:-1===C&&(C=O.length-1),void O[C].focus();Ie().focus()},qs=["ArrowRight","ArrowDown"],Mi=["ArrowLeft","ArrowUp"],Ws=(C,D,O)=>{const W=N.innerParams.get(C);W&&(D.isComposing||229===D.keyCode||(W.stopKeydownPropagation&&D.stopPropagation(),"Enter"===D.key?Po(C,D,W):"Tab"===D.key?yr(D):[...qs,...Mi].includes(D.key)?es(D.key):"Escape"===D.key&&ts(D,W,O)))},Po=(C,D,O)=>{if(ht(O.allowEnterKey)&&D.target&&C.getInput()&&D.target instanceof HTMLElement&&D.target.outerHTML===C.getInput().outerHTML){if(["textarea","file"].includes(O.input))return;po(),D.preventDefault()}},yr=C=>{const D=C.target,O=Fn();let W=-1;for(let ge=0;ge<O.length;ge++)if(D===O[ge]){W=ge;break}Jt(W,C.shiftKey?-1:1),C.stopPropagation(),C.preventDefault()},es=C=>{const D=at(),O=me(),W=ai();if(document.activeElement instanceof HTMLElement&&![D,O,W].includes(document.activeElement))return;const Rt=qs.includes(C)?"nextElementSibling":"previousElementSibling";let wn=document.activeElement;for(let Xn=0;Xn<Le().children.length;Xn++){if(wn=wn[Rt],!wn)return;if(wn instanceof HTMLButtonElement&&Ln(wn))break}wn instanceof HTMLButtonElement&&wn.focus()},ts=(C,D,O)=>{ht(D.allowEscapeKey)&&(C.preventDefault(),O(Un.esc))};var Wr={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Or=()=>{Array.from(document.body.children).forEach(D=>{D.hasAttribute("data-previous-aria-hidden")?(D.setAttribute("aria-hidden",D.getAttribute("data-previous-aria-hidden")),D.removeAttribute("data-previous-aria-hidden")):D.removeAttribute("aria-hidden")})},Ri=()=>{const C=navigator.userAgent,D=!!C.match(/iPad/i)||!!C.match(/iPhone/i),O=!!C.match(/WebKit/i);D&&O&&!C.match(/CriOS/i)&&Ie().scrollHeight>window.innerHeight-44&&(Ue().style.paddingBottom="44px")},_c=()=>{const C=Ue();let D;C.ontouchstart=O=>{D=Zs(O)},C.ontouchmove=O=>{D&&(O.preventDefault(),O.stopPropagation())}},Zs=C=>{const D=C.target,O=Ue();return!Es(C)&&!ko(C)&&(D===O||!nn(O)&&D instanceof HTMLElement&&"INPUT"!==D.tagName&&"TEXTAREA"!==D.tagName&&!(nn(st())&&st().contains(D)))},Es=C=>C.touches&&C.touches.length&&"stylus"===C.touches[0].touchType,ko=C=>C.touches&&C.touches.length>1,ns=()=>{if(bn(document.body,$.iosfix)){const C=parseInt(document.body.style.top,10);Gr(document.body,$.iosfix),document.body.style.top="",document.body.scrollTop=-1*C}};let rs=null;const ti=()=>{null===rs&&document.body.scrollHeight>window.innerHeight&&(rs=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${rs+(()=>{const C=document.createElement("div");C.className=$["scrollbar-measure"],document.body.appendChild(C);const D=C.getBoundingClientRect().width-C.clientWidth;return document.body.removeChild(C),D})()}px`)},zi=()=>{null!==rs&&(document.body.style.paddingRight=`${rs}px`,rs=null)};function Oo(C,D,O,W){It()?yc(C,W):(Y(O).then(()=>yc(C,W)),bs(B)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(D.setAttribute("style","display:none !important"),D.removeAttribute("class"),D.innerHTML=""):D.remove(),vt()&&(zi(),ns(),Or()),function Ra(){Gr([document.documentElement,document.body],[$.shown,$["height-auto"],$["no-backdrop"],$["toast-shown"]])}()}function Pi(C){C=zd(C);const D=Wr.swalPromiseResolve.get(this),O=di(this);this.isAwaitingPromise?C.isDismissed||(go(this),D(C)):O&&D(C)}const di=C=>{const D=Ie();if(!D)return!1;const O=N.innerParams.get(C);if(!O||bn(D,O.hideClass.popup))return!1;Gr(D,O.showClass.popup),Yt(D,O.hideClass.popup);const W=Ue();return Gr(W,O.showClass.backdrop),Yt(W,O.hideClass.backdrop),Ki(C,D,O),!0};function mo(C){const D=Wr.swalPromiseReject.get(this);go(this),D&&D(C)}const go=C=>{C.isAwaitingPromise&&(delete C.isAwaitingPromise,N.innerParams.get(C)||C._destroy())},zd=C=>typeof C>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},C),Ki=(C,D,O)=>{const W=Ue(),ge=or&&wt(D);"function"==typeof O.willClose&&O.willClose(D),ge?Gd(C,D,W,O.returnFocus,O.didClose):Oo(C,W,O.returnFocus,O.didClose)},Gd=(C,D,O,W,ge)=>{B.swalCloseEventFinishedCallback=Oo.bind(null,C,O,W,ge),D.addEventListener(or,function(Rt){Rt.target===D&&(B.swalCloseEventFinishedCallback(),delete B.swalCloseEventFinishedCallback)})},yc=(C,D)=>{setTimeout(()=>{"function"==typeof D&&D.bind(C.params)(),C._destroy&&C._destroy()})},Is=C=>{let D=Ie();D||new Fi,D=Ie();const O=Pe();It()?$n(We()):ll(D,C),pn(O),D.setAttribute("data-loading","true"),D.setAttribute("aria-busy","true"),D.focus()},ll=(C,D)=>{const O=Le(),W=Pe();!D&&Ln(at())&&(D=at()),pn(O),D&&($n(D),W.setAttribute("data-button-to-replace",D.className)),W.parentNode.insertBefore(W,D),Yt([C,O],$.loading)},dl=C=>C.checked?1:0,hl=C=>C.checked?C.value:null,Cu=C=>C.files.length?null!==C.getAttribute("multiple")?C.files:C.files[0]:null,No=(C,D)=>{const O=Ie(),W=ge=>{Tu[D.input](O,Fo(ge),D)};Te(D.inputOptions)||$e(D.inputOptions)?(Is(at()),Fe(D.inputOptions).then(ge=>{C.hideLoading(),W(ge)})):"object"==typeof D.inputOptions?W(D.inputOptions):se("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof D.inputOptions)},Cs=(C,D)=>{const O=C.getInput();$n(O),Fe(D.inputValue).then(W=>{O.value="number"===D.input?`${parseFloat(W)||0}`:`${W}`,pn(O),O.focus(),C.hideLoading()}).catch(W=>{se(`Error in inputValue promise: ${W}`),O.value="",pn(O),O.focus(),C.hideLoading()})},Tu={select:(C,D,O)=>{const W=Rn(C,$.select),ge=(Rt,wn,Xn)=>{const er=document.createElement("option");er.value=Xn,en(er,wn),er.selected=fl(Xn,O.inputValue),Rt.appendChild(er)};D.forEach(Rt=>{const wn=Rt[0],Xn=Rt[1];if(Array.isArray(Xn)){const er=document.createElement("optgroup");er.label=wn,er.disabled=!1,W.appendChild(er),Xn.forEach(cs=>ge(er,cs[1],cs[0]))}else ge(W,Xn,wn)}),W.focus()},radio:(C,D,O)=>{const W=Rn(C,$.radio);D.forEach(Rt=>{const wn=Rt[0],Xn=Rt[1],er=document.createElement("input"),cs=document.createElement("label");er.type="radio",er.name=$.radio,er.value=wn,fl(wn,O.inputValue)&&(er.checked=!0);const no=document.createElement("span");en(no,Xn),no.className=$.label,cs.appendChild(er),cs.appendChild(no),W.appendChild(cs)});const ge=W.querySelectorAll("input");ge.length&&ge[0].focus()}},Fo=C=>{const D=[];return typeof Map<"u"&&C instanceof Map?C.forEach((O,W)=>{let ge=O;"object"==typeof ge&&(ge=Fo(ge)),D.push([W,ge])}):Object.keys(C).forEach(O=>{let W=C[O];"object"==typeof W&&(W=Fo(W)),D.push([O,W])}),D},fl=(C,D)=>D&&D.toString()===C.toString(),Qi=(C,D)=>{const O=N.innerParams.get(C);if(!O.input)return void se(`The "input" parameter is needed to be set when using returnInputValueOn${te(D)}`);const W=((C,D)=>{const O=C.getInput();if(!O)return null;switch(D.input){case"checkbox":return dl(O);case"radio":return hl(O);case"file":return Cu(O);default:return D.inputAutoTrim?O.value.trim():O.value}})(C,O);O.inputValidator?ml(C,W,D):C.getInput().checkValidity()?"deny"===D?Pa(C,W):Ji(C,W):(C.enableButtons(),C.showValidationMessage(O.validationMessage))},ml=(C,D,O)=>{const W=N.innerParams.get(C);C.disableInput(),Promise.resolve().then(()=>Fe(W.inputValidator(D,W.validationMessage))).then(Rt=>{C.enableButtons(),C.enableInput(),Rt?C.showValidationMessage(Rt):"deny"===O?Pa(C,D):Ji(C,D)})},Pa=(C,D)=>{const O=N.innerParams.get(C||void 0);O.showLoaderOnDeny&&Is(me()),O.preDeny?(C.isAwaitingPromise=!0,Promise.resolve().then(()=>Fe(O.preDeny(D,O.validationMessage))).then(ge=>{!1===ge?(C.hideLoading(),go(C)):C.close({isDenied:!0,value:typeof ge>"u"?D:ge})}).catch(ge=>gl(C||void 0,ge))):C.close({isDenied:!0,value:D})},Ks=(C,D)=>{C.close({isConfirmed:!0,value:D})},gl=(C,D)=>{C.rejectPromise(D)},Ji=(C,D)=>{const O=N.innerParams.get(C||void 0);O.showLoaderOnConfirm&&Is(),O.preConfirm?(C.resetValidationMessage(),C.isAwaitingPromise=!0,Promise.resolve().then(()=>Fe(O.preConfirm(D,O.validationMessage))).then(ge=>{Ln(Kt())||!1===ge?(C.hideLoading(),go(C)):Ks(C,typeof ge>"u"?D:ge)}).catch(ge=>gl(C||void 0,ge))):Ks(C,D)};function Ds(){const C=N.innerParams.get(this);if(!C)return;const D=N.domCache.get(this);$n(D.loader),It()?C.icon&&pn(We()):ka(D),Gr([D.popup,D.actions],$.loading),D.popup.removeAttribute("aria-busy"),D.popup.removeAttribute("data-loading"),D.confirmButton.disabled=!1,D.denyButton.disabled=!1,D.cancelButton.disabled=!1}const ka=C=>{const D=C.popup.getElementsByClassName(C.loader.getAttribute("data-button-to-replace"));D.length?pn(D[0],"inline-block"):!Ln(at())&&!Ln(me())&&!Ln(ai())&&$n(C.actions)};function vc(){const C=N.innerParams.get(this),D=N.domCache.get(this);return D?wr(D.popup,C.input):null}function is(C,D,O){const W=N.domCache.get(C);D.forEach(ge=>{W[ge].disabled=O})}function Lo(C,D){if(C)if("radio"===C.type){const W=C.parentNode.parentNode.querySelectorAll("input");for(let ge=0;ge<W.length;ge++)W[ge].disabled=D}else C.disabled=D}function Gn(){is(this,["confirmButton","denyButton","cancelButton"],!1)}function As(){is(this,["confirmButton","denyButton","cancelButton"],!0)}function Ys(){Lo(this.getInput(),!1)}function fr(){Lo(this.getInput(),!0)}function Uo(C){const D=N.domCache.get(this),O=N.innerParams.get(this);en(D.validationMessage,C),D.validationMessage.className=$["validation-message"],O.customClass&&O.customClass.validationMessage&&Yt(D.validationMessage,O.customClass.validationMessage),pn(D.validationMessage);const W=this.getInput();W&&(W.setAttribute("aria-invalid",!0),W.setAttribute("aria-describedby",$["validation-message"]),nr(W),Yt(W,$.inputerror))}function Vo(){const C=N.domCache.get(this);C.validationMessage&&$n(C.validationMessage);const D=this.getInput();D&&(D.removeAttribute("aria-invalid"),D.removeAttribute("aria-describedby"),Gr(D,$.inputerror))}const Qn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Du=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Oa={},ni=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],vr=C=>Object.prototype.hasOwnProperty.call(Qn,C),Ss=C=>-1!==Du.indexOf(C),_o=C=>Oa[C],_l=C=>{vr(C)||Q(`Unknown parameter "${C}"`)},yo=C=>{ni.includes(C)&&Q(`The parameter "${C}" is incompatible with toasts`)},Qs=C=>{const D=_o(C);D&&rt(C,D)};function $t(C){const D=Ie(),O=N.innerParams.get(this);if(!D||bn(D,O.hideClass.popup))return void Q("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const W=Na(C),ge=Object.assign({},O,W);Hn(this,ge),N.innerParams.set(this,ge),Object.defineProperties(this,{params:{value:Object.assign({},this.params,C),writable:!1,enumerable:!0}})}const Na=C=>{const D={};return Object.keys(C).forEach(O=>{Ss(O)?D[O]=C[O]:Q(`Invalid parameter to update: ${O}`)}),D};function yl(){const C=N.domCache.get(this),D=N.innerParams.get(this);D?(C.popup&&B.swalCloseEventFinishedCallback&&(B.swalCloseEventFinishedCallback(),delete B.swalCloseEventFinishedCallback),"function"==typeof D.didDestroy&&D.didDestroy(),bc(this)):Fa(this)}const bc=C=>{Fa(C),delete C.params,delete B.keydownHandler,delete B.keydownTarget,delete B.currentInstance},Fa=C=>{C.isAwaitingPromise?(Js(N,C),C.isAwaitingPromise=!0):(Js(Wr,C),Js(N,C),delete C.isAwaitingPromise,delete C.disableButtons,delete C.enableButtons,delete C.getInput,delete C.disableInput,delete C.enableInput,delete C.hideLoading,delete C.disableLoading,delete C.showValidationMessage,delete C.resetValidationMessage,delete C.close,delete C.closePopup,delete C.closeModal,delete C.closeToast,delete C.rejectPromise,delete C.update,delete C._destroy)},Js=(C,D)=>{for(const O in C)C[O].delete(D)};var vl=Object.freeze({__proto__:null,_destroy:yl,close:Pi,closeModal:Pi,closePopup:Pi,closeToast:Pi,disableButtons:As,disableInput:fr,disableLoading:Ds,enableButtons:Gn,enableInput:Ys,getInput:vc,handleAwaitingPromise:go,hideLoading:Ds,rejectPromise:mo,resetValidationMessage:Vo,showValidationMessage:Uo,update:$t});const Wd=(C,D,O)=>{D.popup.onclick=()=>{const W=N.innerParams.get(C);W&&(Ee(W)||W.timer||W.input)||O(Un.close)}},Ee=C=>C.showConfirmButton||C.showDenyButton||C.showCancelButton||C.showCloseButton;let Ht=!1;const wc=C=>{C.popup.onmousedown=()=>{C.container.onmouseup=function(D){C.container.onmouseup=void 0,D.target===C.container&&(Ht=!0)}}},Xs=C=>{C.container.onmousedown=()=>{C.popup.onmouseup=function(D){C.popup.onmouseup=void 0,(D.target===C.popup||C.popup.contains(D.target))&&(Ht=!0)}}},cr=(C,D,O)=>{D.container.onclick=W=>{const ge=N.innerParams.get(C);Ht?Ht=!1:W.target===D.container&&ht(ge.allowOutsideClick)&&O(Un.backdrop)}},os=C=>C instanceof Element||(C=>"object"==typeof C&&C.jquery)(C);const vo=()=>{if(B.timeout)return(()=>{const C=ze(),D=parseInt(window.getComputedStyle(C).width);C.style.removeProperty("transition"),C.style.width="100%";const O=parseInt(window.getComputedStyle(C).width);C.style.width=D/O*100+"%"})(),B.timeout.stop()},ss=()=>{if(B.timeout){const C=B.timeout.start();return jt(C),C}};let Xi=!1;const Oi={};const as=C=>{for(let D=C.target;D&&D!==document;D=D.parentNode)for(const O in Oi){const W=D.getAttribute(O);if(W)return void Oi[O].fire({template:W})}};var Tl=Object.freeze({__proto__:null,argsToParams:C=>{const D={};return"object"!=typeof C[0]||os(C[0])?["title","html","icon"].forEach((O,W)=>{const ge=C[W];"string"==typeof ge||os(ge)?D[O]=ge:void 0!==ge&&se(`Unexpected type of ${O}! Expected "string" or "Element", got ${typeof ge}`)}):Object.assign(D,C[0]),D},bindClickHandler:function Cl(){Oi[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Xi||(document.body.addEventListener("click",as),Xi=!0)},clickCancel:()=>ai()&&ai().click(),clickConfirm:po,clickDeny:()=>me()&&me().click(),enableLoading:Is,fire:function La(){for(var D=arguments.length,O=new Array(D),W=0;W<D;W++)O[W]=arguments[W];return new this(...O)},getActions:Le,getCancelButton:ai,getCloseButton:Ve,getConfirmButton:at,getContainer:Ue,getDenyButton:me,getFocusableElements:Fn,getFooter:et,getHtmlContainer:st,getIcon:We,getIconContent:()=>De($["icon-content"]),getImage:kt,getInputLabel:()=>De($["input-label"]),getLoader:Pe,getPopup:Ie,getProgressSteps:mt,getTimerLeft:()=>B.timeout&&B.timeout.getTimerLeft(),getTimerProgressBar:ze,getTitle:de,getValidationMessage:Kt,increaseTimer:C=>{if(B.timeout){const D=B.timeout.increase(C);return jt(D,!0),D}},isDeprecatedParameter:_o,isLoading:()=>Ie().hasAttribute("data-loading"),isTimerRunning:()=>B.timeout&&B.timeout.isRunning(),isUpdatableParameter:Ss,isValidParameter:vr,isVisible:()=>Ln(Ie()),mixin:function El(C){return class D extends(this){_main(W,ge){return super._main(W,Object.assign({},C,ge))}}},resumeTimer:ss,showLoading:Is,stopTimer:vo,toggleTimer:()=>{const C=B.timeout;return C&&(C.running?vo():ss())}});class Zd{constructor(D,O){this.callback=D,this.remaining=O,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(D){const O=this.running;return O&&this.stop(),this.remaining+=D,O&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Jn=["swal-title","swal-html","swal-footer"],ea=C=>{const D={};return Array.from(C.querySelectorAll("swal-param")).forEach(W=>{eo(W,["name","value"]);const ge=W.getAttribute("name"),Rt=W.getAttribute("value");D[ge]="boolean"==typeof Qn[ge]?"false"!==Rt:"object"==typeof Qn[ge]?JSON.parse(Rt):Rt}),D},Dl=C=>{const D={};return Array.from(C.querySelectorAll("swal-function-param")).forEach(W=>{const ge=W.getAttribute("name"),Rt=W.getAttribute("value");D[ge]=new Function(`return ${Rt}`)()}),D},Va=C=>{const D={};return Array.from(C.querySelectorAll("swal-button")).forEach(W=>{eo(W,["type","color","aria-label"]);const ge=W.getAttribute("type");D[`${ge}ButtonText`]=W.innerHTML,D[`show${te(ge)}Button`]=!0,W.hasAttribute("color")&&(D[`${ge}ButtonColor`]=W.getAttribute("color")),W.hasAttribute("aria-label")&&(D[`${ge}ButtonAriaLabel`]=W.getAttribute("aria-label"))}),D},Al=C=>{const D={},O=C.querySelector("swal-image");return O&&(eo(O,["src","width","height","alt"]),O.hasAttribute("src")&&(D.imageUrl=O.getAttribute("src")),O.hasAttribute("width")&&(D.imageWidth=O.getAttribute("width")),O.hasAttribute("height")&&(D.imageHeight=O.getAttribute("height")),O.hasAttribute("alt")&&(D.imageAlt=O.getAttribute("alt"))),D},Ms=C=>{const D={},O=C.querySelector("swal-icon");return O&&(eo(O,["type","color"]),O.hasAttribute("type")&&(D.icon=O.getAttribute("type")),O.hasAttribute("color")&&(D.iconColor=O.getAttribute("color")),D.iconHtml=O.innerHTML),D},Ec=C=>{const D={},O=C.querySelector("swal-input");O&&(eo(O,["type","label","placeholder","value"]),D.input=O.getAttribute("type")||"text",O.hasAttribute("label")&&(D.inputLabel=O.getAttribute("label")),O.hasAttribute("placeholder")&&(D.inputPlaceholder=O.getAttribute("placeholder")),O.hasAttribute("value")&&(D.inputValue=O.getAttribute("value")));const W=Array.from(C.querySelectorAll("swal-input-option"));return W.length&&(D.inputOptions={},W.forEach(ge=>{eo(ge,["value"]);const Rt=ge.getAttribute("value");D.inputOptions[Rt]=ge.innerHTML})),D},ta=(C,D)=>{const O={};for(const W in D){const ge=D[W],Rt=C.querySelector(ge);Rt&&(eo(Rt,[]),O[ge.replace(/^swal-/,"")]=Rt.innerHTML.trim())}return O},Ic=C=>{const D=Jn.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(C.children).forEach(O=>{const W=O.tagName.toLowerCase();D.includes(W)||Q(`Unrecognized element <${W}>`)})},eo=(C,D)=>{Array.from(C.attributes).forEach(O=>{-1===D.indexOf(O.name)&&Q([`Unrecognized attribute "${O.name}" on <${C.tagName.toLowerCase()}>.`,D.length?`Allowed attributes are: ${D.join(", ")}`:"To set the value, use HTML within the element."])})},Tc=C=>{const D=Ue(),O=Ie();"function"==typeof C.willOpen&&C.willOpen(O);const ge=window.getComputedStyle(document.body).overflowY;qn(D,O,C),setTimeout(()=>{Zr(D,O)},10),vt()&&(to(D,C.scrollbarPadding,ge),Array.from(document.body.children).forEach(D=>{D===Ue()||D.contains(Ue())||(D.hasAttribute("aria-hidden")&&D.setAttribute("data-previous-aria-hidden",D.getAttribute("aria-hidden")),D.setAttribute("aria-hidden","true"))})),!It()&&!B.previousActiveElement&&(B.previousActiveElement=document.activeElement),"function"==typeof C.didOpen&&setTimeout(()=>C.didOpen(O)),Gr(D,$["no-transition"])},Dc=C=>{const D=Ie();if(C.target!==D)return;const O=Ue();D.removeEventListener(or,Dc),O.style.overflowY="auto"},Zr=(C,D)=>{or&&wt(D)?(C.style.overflowY="hidden",D.addEventListener(or,Dc)):C.style.overflowY="auto"},to=(C,D,O)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!bn(document.body,$.iosfix)){const D=document.body.scrollTop;document.body.style.top=-1*D+"px",Yt(document.body,$.iosfix),_c(),Ri()}})(),D&&"hidden"!==O&&ti(),setTimeout(()=>{C.scrollTop=0})},qn=(C,D,O)=>{Yt(C,O.showClass.backdrop),D.style.setProperty("opacity","0","important"),pn(D,"grid"),setTimeout(()=>{Yt(D,O.showClass.popup),D.style.removeProperty("opacity")},10),Yt([document.documentElement,document.body],$.shown),O.heightAuto&&O.backdrop&&!O.toast&&Yt([document.documentElement,document.body],$["height-auto"])};var Ac={email:(C,D)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(C)?Promise.resolve():Promise.resolve(D||"Invalid email address"),url:(C,D)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(C)?Promise.resolve():Promise.resolve(D||"Invalid URL")};function Kd(C){(function Rs(C){C.inputValidator||Object.keys(Ac).forEach(D=>{C.input===D&&(C.inputValidator=Ac[D])})})(C),C.showLoaderOnConfirm&&!C.preConfirm&&Q("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Sc(C){(!C.target||"string"==typeof C.target&&!document.querySelector(C.target)||"string"!=typeof C.target&&!C.target.appendChild)&&(Q('Target parameter is not valid, defaulting to "body"'),C.target="body")}(C),"string"==typeof C.title&&(C.title=C.title.split("\n").join("<br />")),li(C)}let Ni;class pr{constructor(){if(typeof window>"u")return;Ni=this;for(var D=arguments.length,O=new Array(D),W=0;W<D;W++)O[W]=arguments[W];const ge=Object.freeze(this.constructor.argsToParams(O));this.params=ge,this.isAwaitingPromise=!1;const Rt=Ni._main(Ni.params);N.promise.set(this,Rt)}_main(D){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(C=>{!1===C.backdrop&&C.allowOutsideClick&&Q('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const D in C)_l(D),C.toast&&yo(D),Qs(D)})(Object.assign({},O,D)),B.currentInstance&&(B.currentInstance._destroy(),vt()&&Or()),B.currentInstance=Ni;const W=xc(D,O);Kd(W),Object.freeze(W),B.timeout&&(B.timeout.stop(),delete B.timeout),clearTimeout(B.restoreFocusTimeout);const ge=Sl(Ni);return Hn(Ni,W),N.innerParams.set(Ni,W),Ba(Ni,ge,W)}then(D){return N.promise.get(this).then(D)}finally(D){return N.promise.get(this).finally(D)}}const Ba=(C,D,O)=>new Promise((W,ge)=>{const Rt=wn=>{C.close({isDismissed:!0,dismiss:wn})};Wr.swalPromiseResolve.set(C,W),Wr.swalPromiseReject.set(C,ge),D.confirmButton.onclick=()=>{(C=>{const D=N.innerParams.get(C);C.disableButtons(),D.input?Qi(C,"confirm"):Ji(C,!0)})(C)},D.denyButton.onclick=()=>{(C=>{const D=N.innerParams.get(C);C.disableButtons(),D.returnInputValueOnDeny?Qi(C,"deny"):Pa(C,!1)})(C)},D.cancelButton.onclick=()=>{((C,D)=>{C.disableButtons(),D(Un.cancel)})(C,Rt)},D.closeButton.onclick=()=>{Rt(Un.close)},((C,D,O)=>{N.innerParams.get(C).toast?Wd(C,D,O):(wc(D),Xs(D),cr(C,D,O))})(C,D,Rt),((C,D,O,W)=>{bs(D),O.toast||(D.keydownHandler=ge=>Ws(C,ge,W),D.keydownTarget=O.keydownListenerCapture?window:Ie(),D.keydownListenerCapture=O.keydownListenerCapture,D.keydownTarget.addEventListener("keydown",D.keydownHandler,{capture:D.keydownListenerCapture}),D.keydownHandlerAdded=!0)})(C,B,O,Rt),((C,D)=>{"select"===D.input||"radio"===D.input?No(C,D):["text","email","number","tel","textarea"].includes(D.input)&&(Te(D.inputValue)||$e(D.inputValue))&&(Is(at()),Cs(C,D))})(C,O),Tc(O),xl(B,O,Rt),ja(D,O),setTimeout(()=>{D.container.scrollTop=0})}),xc=(C,D)=>{const O=(C=>{const D="string"==typeof C.template?document.querySelector(C.template):C.template;if(!D)return{};const O=D.content;return Ic(O),Object.assign(ea(O),Dl(O),Va(O),Al(O),Ms(O),Ec(O),ta(O,Jn))})(C),W=Object.assign({},Qn,D,O,C);return W.showClass=Object.assign({},Qn.showClass,W.showClass),W.hideClass=Object.assign({},Qn.hideClass,W.hideClass),W},Sl=C=>{const D={popup:Ie(),container:Ue(),actions:Le(),confirmButton:at(),denyButton:me(),cancelButton:ai(),loader:Pe(),closeButton:Ve(),validationMessage:Kt(),progressSteps:mt()};return N.domCache.set(C,D),D},xl=(C,D,O)=>{const W=ze();$n(W),D.timer&&(C.timeout=new Zd(()=>{O("timer"),delete C.timeout},D.timer),D.timerProgressBar&&(pn(W),Dn(W,D,"timerProgressBar"),setTimeout(()=>{C.timeout&&C.timeout.running&&jt(D.timer)})))},ja=(C,D)=>{if(!D.toast){if(!ht(D.allowEnterKey))return void na();Ps(C,D)||Jt(-1,1)}},Ps=(C,D)=>D.focusDeny&&Ln(C.denyButton)?(C.denyButton.focus(),!0):D.focusCancel&&Ln(C.cancelButton)?(C.cancelButton.focus(),!0):!(!D.focusConfirm||!Ln(C.confirmButton)||(C.confirmButton.focus(),0)),na=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const C=new Date,D=localStorage.getItem("swal-initiation");D?(C.getTime()-Date.parse(D))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const O=document.createElement("audio");O.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",O.loop=!0,document.body.appendChild(O),setTimeout(()=>{O.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${C}`)}pr.prototype.disableButtons=As,pr.prototype.enableButtons=Gn,pr.prototype.getInput=vc,pr.prototype.disableInput=fr,pr.prototype.enableInput=Ys,pr.prototype.hideLoading=Ds,pr.prototype.disableLoading=Ds,pr.prototype.showValidationMessage=Uo,pr.prototype.resetValidationMessage=Vo,pr.prototype.close=Pi,pr.prototype.closePopup=Pi,pr.prototype.closeModal=Pi,pr.prototype.closeToast=Pi,pr.prototype.rejectPromise=mo,pr.prototype.update=$t,pr.prototype._destroy=yl,Object.assign(pr,Tl),Object.keys(vl).forEach(C=>{pr[C]=function(){return Ni&&Ni[C]?Ni[C](...arguments):null}}),pr.DismissReason=Un,pr.version="11.7.11";const Fi=pr;return Fi.default=Fi,Fi}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(Oe,B){var u=Oe.createElement("style");if(Oe.getElementsByTagName("head")[0].appendChild(u),u.styleSheet)u.styleSheet.disabled||(u.styleSheet.cssText=B);else try{u.innerHTML=B}catch{u.innerText=B}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-container) div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-container) div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-container) div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-container) div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-container) div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-container) div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-container) div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-container) div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-container) div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-container) div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-container) div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-container) div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-container) div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-container) div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},4650:(xt,Oe,B)=>{"use strict";B.d(Oe,{$8M:()=>Oc,$WT:()=>kr,$Z:()=>rv,AFp:()=>qI,AaK:()=>Ce,CHM:()=>wc,CRH:()=>NI,CZH:()=>l_,CqO:()=>fd,D6c:()=>ux,EJc:()=>Pb,EiD:()=>yD,EpF:()=>sE,F$t:()=>hE,F4k:()=>Pp,FYo:()=>ig,FiY:()=>vi,Gf:()=>AS,GfV:()=>Ql,Gpc:()=>Q,Hsn:()=>Tv,JOm:()=>Eo,JVY:()=>wh,JZr:()=>ht,KtG:()=>Xs,L6k:()=>np,LAX:()=>fD,LFG:()=>Gt,LSH:()=>Fy,Lbi:()=>qS,Lck:()=>_I,MAs:()=>oE,MMx:()=>yI,MR2:()=>ZR,NdJ:()=>Cv,OlP:()=>Cn,Oqu:()=>Nv,P3R:()=>Ch,PXZ:()=>ex,Q6J:()=>bv,QGY:()=>Rp,QbO:()=>xb,Qsj:()=>kD,R0b:()=>Go,RDi:()=>iD,Rgc:()=>t_,SBq:()=>ap,Sil:()=>Yp,Suo:()=>SS,TTD:()=>Pa,TgZ:()=>Mg,W1O:()=>PS,X6Q:()=>nx,XFs:()=>bt,Xpm:()=>Qt,Xts:()=>td,Y36:()=>kh,YKP:()=>cb,YNc:()=>dd,Yjl:()=>cn,Yz7:()=>It,Z0I:()=>zr,ZZ4:()=>Gb,_Bn:()=>ab,_UZ:()=>wv,_Vd:()=>sp,_c5:()=>sm,_uU:()=>OE,aQg:()=>lf,c2e:()=>Mb,cJS:()=>en,cg1:()=>Bg,dDg:()=>Fb,dqk:()=>In,eBb:()=>Sy,eFA:()=>nC,eJc:()=>FI,ekj:()=>Rv,eoX:()=>__,f3M:()=>Wn,g9A:()=>Sb,h0i:()=>yd,hGG:()=>am,hij:()=>Kr,iGM:()=>DS,ifc:()=>j,ip1:()=>c_,jDz:()=>hS,kL8:()=>jA,lG2:()=>Vt,lqb:()=>Yl,lri:()=>JI,mCW:()=>ql,n5z:()=>Pu,oAB:()=>le,oxw:()=>dE,pB0:()=>xy,q3G:()=>fi,q4F:()=>ww,qLn:()=>lp,qOj:()=>iu,qZA:()=>Rg,qzn:()=>ec,rWj:()=>g_,s9C:()=>Dv,sBO:()=>sC,s_b:()=>yb,soG:()=>ef,tb:()=>eC,tp0:()=>Za,uIk:()=>_v,vHH:()=>Te,vpe:()=>rl,wAp:()=>Ye,xp6:()=>xh,z2F:()=>Td,z3N:()=>ma,zSh:()=>_w,zs3:()=>nc});var u=B(7579),Y=B(727),N=B(9751),ce=B(6451),pe=B(3099);function $(o){for(let s in o)if(o[s]===$)return s;throw Error("Could not find renamed property on target object.")}function xe(o,s){for(const c in s)s.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=s[c])}function Ce(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Ce).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const c=s.indexOf("\n");return-1===c?s:s.substring(0,c)}function Ae(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const te=$({__forward_ref__:$});function Q(o){return o.__forward_ref__=Q,o.toString=function(){return Ce(this())},o}function se(o){return Ke(o)?o():o}function Ke(o){return"function"==typeof o&&o.hasOwnProperty(te)&&o.__forward_ref__===Q}function Ne(o){return o&&!!o.\u0275providers}const ht="https://g.co/ng/security#xss";class Te extends Error{constructor(s,c){super(Fe(s,c)),this.code=s}}function Fe(o,s){return`NG0${Math.abs(o)}${s?": "+s.trim():""}`}function $e(o){return"string"==typeof o?o:null==o?"":String(o)}function We(o,s){throw new Te(-201,!1)}function ze(o,s){null==o&&function Ve(o,s,c,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${c} ${d} ${s} <=Actual]`))}(s,o,null,"!=")}function It(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function en(o){return{providers:o.providers||[],imports:o.imports||[]}}function bn(o){return Dn(o,Xr)||Dn(o,Gr)}function zr(o){return null!==bn(o)}function Dn(o,s){return o.hasOwnProperty(s)?o[s]:null}function nr(o){return o&&(o.hasOwnProperty(Yt)||o.hasOwnProperty(Rn))?o[Yt]:null}const Xr=$({\u0275prov:$}),Yt=$({\u0275inj:$}),Gr=$({ngInjectableDef:$}),Rn=$({ngInjectorDef:$});var bt=(()=>((bt=bt||{})[bt.Default=0]="Default",bt[bt.Host=1]="Host",bt[bt.Self=2]="Self",bt[bt.SkipSelf=4]="SkipSelf",bt[bt.Optional=8]="Optional",bt))();let pn;function Zn(o){const s=pn;return pn=o,s}function _r(o,s,c){const d=bn(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&bt.Optional?null:void 0!==s?s:void We(Ce(o))}const In=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),rr={},Er="__NG_DI_FLAG__",Kn="ngTempTokenPath",ci="ngTokenPath",Pn=/\n/gm,Ir="\u0275",an="__source";let xi;function dn(o){const s=xi;return xi=o,s}function li(o,s=bt.Default){if(void 0===xi)throw new Te(-203,!1);return null===xi?_r(o,void 0,s):xi.get(o,s&bt.Optional?null:void 0,s)}function Gt(o,s=bt.Default){return(function $n(){return pn}()||li)(se(o),s)}function Wn(o,s=bt.Default){return Gt(o,or(s))}function or(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function sr(o){const s=[];for(let c=0;c<o.length;c++){const d=se(o[c]);if(Array.isArray(d)){if(0===d.length)throw new Te(900,!1);let h,m=bt.Default;for(let y=0;y<d.length;y++){const I=d[y],S=qr(I);"number"==typeof S?-1===S?h=I.token:m|=S:h=I}s.push(Gt(h,m))}else s.push(Gt(d))}return s}function ei(o,s){return o[Er]=s,o.prototype[Er]=s,o}function qr(o){return o[Er]}function K(o){return{toString:o}.toString()}var V=(()=>((V=V||{})[V.OnPush=0]="OnPush",V[V.Default=1]="Default",V))(),j=(()=>{return(o=j||(j={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",j;var o})();const F={},re=[],Me=$({\u0275cmp:$}),ft=$({\u0275dir:$}),Ft=$({\u0275pipe:$}),Ot=$({\u0275mod:$}),rn=$({\u0275fac:$}),Lt=$({__NG_ELEMENT_ID__:$});let Mn=0;function Qt(o){return K(()=>{const s=Ma(o),c={...s,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===V.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&o.dependencies||null,getStandaloneInjector:null,data:o.data||{},encapsulation:o.encapsulation||j.Emulated,id:"c"+Mn++,styles:o.styles||re,_:null,schemas:o.schemas||null,tView:null};Iu(c);const d=o.dependencies;return c.directiveDefs=Ro(d,!1),c.pipeDefs=Ro(d,!0),c})}function Yn(o){return St(o)||An(o)}function we(o){return null!==o}function le(o){return K(()=>({type:o.type,bootstrap:o.bootstrap||re,declarations:o.declarations||re,imports:o.imports||re,exports:o.exports||re,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Ct(o,s){if(null==o)return F;const c={};for(const d in o)if(o.hasOwnProperty(d)){let h=o[d],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),c[h]=d,s&&(s[h]=m)}return c}function Vt(o){return K(()=>{const s=Ma(o);return Iu(s),s})}function cn(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function St(o){return o[Me]||null}function An(o){return o[ft]||null}function yn(o){return o[Ft]||null}function kr(o){const s=St(o)||An(o)||yn(o);return null!==s&&s.standalone}function Cr(o,s){const c=o[Ot]||null;if(!c&&!0===s)throw new Error(`Type ${Ce(o)} does not have '\u0275mod' property.`);return c}function Ma(o){const s={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:s,exportAs:o.exportAs||null,standalone:!0===o.standalone,selectors:o.selectors||re,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ct(o.inputs,s),outputs:Ct(o.outputs)}}function Iu(o){o.features?.forEach(s=>s(o))}function Ro(o,s){if(!o)return null;const c=s?yn:Yn;return()=>("function"==typeof o?o():o).map(d=>c(d)).filter(we)}const Tr=0,lt=1,on=2,Hn=3,xn=4,po=5,Dr=6,Xo=7,Un=8,bs=9,ui=10,Jt=11,qs=12,Mi=13,Ws=14,Po=15,yr=16,es=17,ts=18,Wr=19,ws=20,Or=21,Vn=22,_c=1,Zs=2,Es=7,ko=8,ns=9,Nr=10;function ti(o){return Array.isArray(o)&&"object"==typeof o[_c]}function zi(o){return Array.isArray(o)&&!0===o[_c]}function Oo(o){return 0!=(4&o.flags)}function Ra(o){return o.componentOffset>-1}function Pi(o){return 1==(1&o.flags)}function di(o){return!!o.template}function mo(o){return 0!=(256&o[on])}function Qi(o,s){return o.hasOwnProperty(rn)?o[rn]:null}class ml{constructor(s,c,d){this.previousValue=s,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Pa(){return Ks}function Ks(o){return o.type.prototype.ngOnChanges&&(o.setInput=Ji),gl}function gl(){const o=ka(this),s=o?.current;if(s){const c=o.previous;if(c===F)o.previous=s;else for(let d in s)c[d]=s[d];o.current=null,this.ngOnChanges(s)}}function Ji(o,s,c,d){const h=this.declaredInputs[c],m=ka(o)||function vc(o,s){return o[Ds]=s}(o,{previous:F,current:null}),y=m.current||(m.current={}),I=m.previous,S=I[h];y[h]=new ml(S&&S.currentValue,s,I===F),o[d]=s}Pa.ngInherit=!0;const Ds="__ngSimpleChanges__";function ka(o){return o[Ds]||null}const Gn=function(o,s,c){};function fr(o){for(;Array.isArray(o);)o=o[Tr];return o}function Vo(o,s){return fr(s[o])}function Qn(o,s){return fr(s[o.index])}function Oa(o,s){return o.data[s]}function vr(o,s){const c=s[o];return ti(c)?c:c[Tr]}function _o(o){return 64==(64&o[on])}function yo(o,s){return null==s?null:o[s]}function Qs(o){o[ts]=0}function xs(o,s){o[po]+=s;let c=o,d=o[Hn];for(;null!==d&&(1===s&&1===c[po]||-1===s&&0===c[po]);)d[po]+=s,c=d,d=d[Hn]}const $t={lFrame:ta(null),bindingsEnabled:!0};function vl(){return $t.bindingsEnabled}function Ee(){return $t.lFrame.lView}function Ht(){return $t.lFrame.tView}function wc(o){return $t.lFrame.contextLView=o,o[Un]}function Xs(o){return $t.lFrame.contextLView=null,o}function cr(){let o=wl();for(;null!==o&&64===o.type;)o=o.parent;return o}function wl(){return $t.lFrame.currentTNode}function ki(o,s){const c=$t.lFrame;c.currentTNode=o,c.isParent=s}function La(){return $t.lFrame.isParent}function El(){$t.lFrame.isParent=!1}function Xi(){return $t.lFrame.bindingIndex++}function Tl(o,s){const c=$t.lFrame;c.bindingIndex=c.bindingRootIndex=o,Jn(s)}function Jn(o){$t.lFrame.currentDirectiveIndex=o}function ea(){return $t.lFrame.currentQueryIndex}function Dl(o){$t.lFrame.currentQueryIndex=o}function Va(o){const s=o[lt];return 2===s.type?s.declTNode:1===s.type?o[Dr]:null}function Al(o,s,c){if(c&bt.SkipSelf){let h=s,m=o;for(;!(h=h.parent,null!==h||c&bt.Host||(h=Va(m),null===h||(m=m[Po],10&h.type))););if(null===h)return!1;s=h,o=m}const d=$t.lFrame=Ec();return d.currentTNode=s,d.lView=o,!0}function Ms(o){const s=Ec(),c=o[lt];$t.lFrame=s,s.currentTNode=c.firstChild,s.lView=o,s.tView=c,s.contextLView=o,s.bindingIndex=c.bindingStartIndex,s.inI18n=!1}function Ec(){const o=$t.lFrame,s=null===o?null:o.child;return null===s?ta(o):s}function ta(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function Ic(){const o=$t.lFrame;return $t.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const eo=Ic;function Cc(){const o=Ic();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Zr(){return $t.lFrame.selectedIndex}function to(o){$t.lFrame.selectedIndex=o}function qn(){const o=$t.lFrame;return Oa(o.tView,o.selectedIndex)}function Ba(o,s){for(let c=s.directiveStart,d=s.directiveEnd;c<d;c++){const m=o.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:I,ngAfterViewInit:S,ngAfterViewChecked:M,ngOnDestroy:L}=m;y&&(o.contentHooks??(o.contentHooks=[])).push(-c,y),I&&((o.contentHooks??(o.contentHooks=[])).push(c,I),(o.contentCheckHooks??(o.contentCheckHooks=[])).push(c,I)),S&&(o.viewHooks??(o.viewHooks=[])).push(-c,S),M&&((o.viewHooks??(o.viewHooks=[])).push(c,M),(o.viewCheckHooks??(o.viewCheckHooks=[])).push(c,M)),null!=L&&(o.destroyHooks??(o.destroyHooks=[])).push(c,L)}}function xc(o,s,c){ja(o,s,3,c)}function Sl(o,s,c,d){(3&o[on])===c&&ja(o,s,c,d)}function xl(o,s){let c=o[on];(3&c)===s&&(c&=2047,c+=1,o[on]=c)}function ja(o,s,c,d){const m=d??-1,y=s.length-1;let I=0;for(let S=void 0!==d?65535&o[ts]:0;S<y;S++)if("number"==typeof s[S+1]){if(I=s[S],null!=d&&I>=d)break}else s[S]<0&&(o[ts]+=65536),(I<m||-1==m)&&(Ps(o,c,s,S),o[ts]=(4294901760&o[ts])+S+2),S++}function Ps(o,s,c,d){const h=c[d]<0,m=c[d+1],I=o[h?-c[d]:c[d]];if(h){if(o[on]>>11<o[ts]>>16&&(3&o[on])===s){o[on]+=2048,Gn(4,I,m);try{m.call(I)}finally{Gn(5,I,m)}}}else{Gn(4,I,m);try{m.call(I)}finally{Gn(5,I,m)}}}const na=-1;class Fi{constructor(s,c,d){this.factory=s,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function er(o,s,c){let d=0;for(;d<c.length;){const h=c[d];if("number"==typeof h){if(0!==h)break;d++;const m=c[d++],y=c[d++],I=c[d++];o.setAttribute(s,y,I,m)}else{const m=h,y=c[++d];no(m)?o.setProperty(s,m,y):o.setAttribute(s,m,y),d++}}return d}function cs(o){return 3===o||4===o||6===o}function no(o){return 64===o.charCodeAt(0)}function ra(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let c=-1;for(let d=0;d<s.length;d++){const h=s[d];"number"==typeof h?c=h:0===c||$a(o,c,h,null,-1===c||2===c?s[++d]:null)}}return o}function $a(o,s,c,d,h){let m=0,y=o.length;if(-1===s)y=-1;else for(;m<o.length;){const I=o[m++];if("number"==typeof I){if(I===s){y=-1;break}if(I>s){y=m-1;break}}}for(;m<o.length;){const I=o[m];if("number"==typeof I)break;if(I===c){if(null===d)return void(null!==h&&(o[m+1]=h));if(d===o[m+1])return void(o[m+2]=h)}m++,null!==d&&m++,null!==h&&m++}-1!==y&&(o.splice(y,0,s),m=y+1),o.splice(m++,0,c),null!==d&&o.splice(m++,0,d),null!==h&&o.splice(m++,0,h)}function ia(o){return o!==na}function Ha(o){return 32767&o}function Rc(o,s){let c=function Mc(o){return o>>16}(o),d=s;for(;c>0;)d=d[Po],c--;return d}let Au=!0;function Pc(o){const s=Au;return Au=o,s}const Su=255,Ml=5;let xu=0;const _i={};function Mu(o,s){const c=Qd(o,s);if(-1!==c)return c;const d=s[lt];d.firstCreatePass&&(o.injectorIndex=s.length,jo(d.data,o),jo(s,null),jo(d.blueprint,null));const h=br(o,s),m=o.injectorIndex;if(ia(h)){const y=Ha(h),I=Rc(h,s),S=I[lt].data;for(let M=0;M<8;M++)s[m+M]=I[y+M]|S[y+M]}return s[m+8]=h,m}function jo(o,s){o.push(0,0,0,0,0,0,0,0,s)}function Qd(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function br(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,d=null,h=s;for(;null!==h;){if(d=oa(h),null===d)return na;if(c++,h=h[Po],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return na}function ks(o,s,c){!function Yd(o,s,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Lt)&&(d=c[Lt]),null==d&&(d=c[Lt]=xu++);const h=d&Su;s.data[o+(h>>Ml)]|=1<<h}(o,s,c)}function Jd(o,s,c){if(c&bt.Optional||void 0!==o)return o;We()}function kc(o,s,c,d){if(c&bt.Optional&&void 0===d&&(d=null),!(c&(bt.Self|bt.Host))){const h=o[bs],m=Zn(void 0);try{return h?h.get(s,d,c&bt.Optional):_r(s,d,c&bt.Optional)}finally{Zn(m)}}return Jd(d,0,c)}function Xd(o,s,c,d=bt.Default,h){if(null!==o){if(1024&s[on]){const y=function Uf(o,s,c,d,h){let m=o,y=s;for(;null!==m&&null!==y&&1024&y[on]&&!(256&y[on]);){const I=Pl(m,y,c,d|bt.Self,_i);if(I!==_i)return I;let S=m.parent;if(!S){const M=y[Or];if(M){const L=M.get(c,_i,d);if(L!==_i)return L}S=oa(y),y=y[Po]}m=S}return h}(o,s,c,d,_i);if(y!==_i)return y}const m=Pl(o,s,c,d,_i);if(m!==_i)return m}return kc(s,c,d,h)}function Pl(o,s,c,d,h){const m=function Lf(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(Lt)?o[Lt]:void 0;return"number"==typeof s?s>=0?s&Su:Ru:s}(c);if("function"==typeof m){if(!Al(s,o,d))return d&bt.Host?Jd(h,0,d):kc(s,c,d,h);try{const y=m(d);if(null!=y||d&bt.Optional)return y;We()}finally{eo()}}else if("number"==typeof m){let y=null,I=Qd(o,s),S=na,M=d&bt.Host?s[yr][Dr]:null;for((-1===I||d&bt.SkipSelf)&&(S=-1===I?br(o,s):s[I+8],S!==na&&kl(d,!1)?(y=s[lt],I=Ha(S),s=Rc(S,s)):I=-1);-1!==I;){const L=s[lt];if(Os(m,I,L.data)){const G=Lr(I,s,c,y,d,M);if(G!==_i)return G}S=s[I+8],S!==na&&kl(d,s[lt].data[I+8]===M)&&Os(m,I,s)?(y=L,I=Ha(S),s=Rc(S,s)):I=-1}}return h}function Lr(o,s,c,d,h,m){const y=s[lt],I=y.data[o+8],L=za(I,y,c,null==d?Ra(I)&&Au:d!=y&&0!=(3&I.type),h&bt.Host&&m===I);return null!==L?lr(s,y,L,I):_i}function za(o,s,c,d,h){const m=o.providerIndexes,y=s.data,I=1048575&m,S=o.directiveStart,L=m>>20,ie=h?I+L:o.directiveEnd;for(let ue=d?I:I+L;ue<ie;ue++){const Re=y[ue];if(ue<S&&c===Re||ue>=S&&Re.type===c)return ue}if(h){const ue=y[S];if(ue&&di(ue)&&ue.type===c)return S}return null}function lr(o,s,c,d){let h=o[c];const m=s.data;if(function C(o){return o instanceof Fi}(h)){const y=h;y.resolving&&function ke(o,s){const c=s?`. Dependency path: ${s.join(" > ")} > ${o}`:"";throw new Te(-200,`Circular dependency in DI detected for ${o}${c}`)}(function Ue(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():$e(o)}(m[c]));const I=Pc(y.canSeeViewProviders);y.resolving=!0;const S=y.injectImpl?Zn(y.injectImpl):null;Al(o,d,bt.Default);try{h=o[c]=y.factory(void 0,m,o,d),s.firstCreatePass&&c>=d.directiveStart&&function pr(o,s,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:m}=s.type.prototype;if(d){const y=Ks(s);(c.preOrderHooks??(c.preOrderHooks=[])).push(o,y),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(o,y)}h&&(c.preOrderHooks??(c.preOrderHooks=[])).push(0-o,h),m&&((c.preOrderHooks??(c.preOrderHooks=[])).push(o,m),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(o,m))}(c,m[c],s)}finally{null!==S&&Zn(S),Pc(I),y.resolving=!1,eo()}}return h}function Os(o,s,c){return!!(c[s+(o>>Ml)]&1<<o)}function kl(o,s){return!(o&bt.Self||o&bt.Host&&s)}class Ga{constructor(s,c){this._tNode=s,this._lView=c}get(s,c,d){return Xd(this._tNode,this._lView,s,or(d),c)}}function Ru(){return new Ga(cr(),Ee())}function Pu(o){return K(()=>{const s=o.prototype.constructor,c=s[rn]||Ns(s),d=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==d;){const m=h[rn]||Ns(h);if(m&&m!==c)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Ns(o){return Ke(o)?()=>{const s=Ns(se(o));return s&&s()}:Qi(o)}function oa(o){const s=o[lt],c=s.type;return 2===c?s.declTNode:1===c?o[Dr]:null}function Oc(o){return function Rl(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const c=o.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const m=c[h];if(cs(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(m===s)return c[h+1];h+=2}}}return null}(cr(),o)}const aa="__parameters__";function ca(o,s,c){return K(()=>{const d=function eh(o){return function(...c){if(o){const d=o(...c);for(const h in d)this[h]=d[h]}}}(s);function h(...m){if(this instanceof h)return d.apply(this,m),this;const y=new h(...m);return I.annotation=y,I;function I(S,M,L){const G=S.hasOwnProperty(aa)?S[aa]:Object.defineProperty(S,aa,{value:[]})[aa];for(;G.length<=L;)G.push(null);return(G[L]=G[L]||[]).push(y),S}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class Cn{constructor(s,c){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=It({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Fs(o,s){o.forEach(c=>Array.isArray(c)?Fs(c,s):s(c))}function Uu(o,s,c){s>=o.length?o.push(c):o.splice(s,0,c)}function Nc(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function qa(o,s){const c=[];for(let d=0;d<o;d++)c.push(s);return c}function ro(o,s,c){let d=Sn(o,s);return d>=0?o[1|d]=c:(d=~d,function Fc(o,s,c,d){let h=o.length;if(h==s)o.push(c,d);else if(1===h)o.push(d,o[0]),o[0]=c;else{for(h--,o.push(o[h-1],o[h]);h>s;)o[h]=o[h-2],h--;o[s]=c,o[s+1]=d}}(o,d,s,c)),d}function io(o,s){const c=Sn(o,s);if(c>=0)return o[1|c]}function Sn(o,s){return function yi(o,s,c){let d=0,h=o.length>>c;for(;h!==d;){const m=d+(h-d>>1),y=o[m<<c];if(s===y)return m<<c;y>s?h=m:d=m+1}return~(h<<c)}(o,s,1)}const vi=ei(ca("Optional"),8),Za=ei(ca("SkipSelf"),4);var Eo=(()=>((Eo=Eo||{})[Eo.Important=1]="Important",Eo[Eo.DashCase=2]="DashCase",Eo))();const zl=new Map;let Wf=0;const ne="__ngContext__";function oe(o,s){ti(s)?(o[ne]=s[ws],function Zf(o){zl.set(o[ws],o)}(s)):o[ne]=s}let Vi;function so(o,s){return Vi(o,s)}function mh(o){const s=o[Hn];return zi(s)?s[Hn]:s}function Hc(o){return gh(o[Mi])}function Zu(o){return gh(o[xn])}function gh(o){for(;null!==o&&!zi(o);)o=o[xn];return o}function $o(o,s,c,d,h){if(null!=d){let m,y=!1;zi(d)?m=d:ti(d)&&(y=!0,d=d[Tr]);const I=fr(d);0===o&&null!==c?null==h?Bi(s,c,I):ln(s,c,I,h||null,!0):1===o&&null!==c?ln(s,c,I,h||null,!0):2===o?function Hm(o,s,c){const d=Gc(o,s);d&&function Ku(o,s,c,d){o.removeChild(s,c,d)}(o,d,s,c)}(s,I,y):3===o&&s.destroyNode(I),null!=m&&function rw(o,s,c,d,h){const m=c[Es];m!==fr(c)&&$o(s,o,d,m,h);for(let I=Nr;I<c.length;I++){const S=c[I];ed(S[lt],S,o,s,d,m)}}(s,o,m,c,h)}}function Jf(o,s,c){return o.createElement(s,c)}function E(o,s){const c=o[ns],d=c.indexOf(s),h=s[Hn];512&s[on]&&(s[on]&=-513,xs(h,-1)),c.splice(d,1)}function P(o,s){if(o.length<=Nr)return;const c=Nr+s,d=o[c];if(d){const h=d[es];null!==h&&h!==o&&E(h,d),s>0&&(o[c-1][xn]=d[xn]);const m=Nc(o,Nr+s);!function $m(o,s){ed(o,s,s[Jt],2,null,null),s[Tr]=null,s[Dr]=null}(d[lt],d);const y=m[Wr];null!==y&&y.detachView(m[lt]),d[Hn]=null,d[xn]=null,d[on]&=-65}return d}function U(o,s){if(!(128&s[on])){const c=s[Jt];c.destroyNode&&ed(o,s,c,3,null,null),function b(o){let s=o[Mi];if(!s)return X(o[lt],o);for(;s;){let c=null;if(ti(s))c=s[Mi];else{const d=s[Nr];d&&(c=d)}if(!c){for(;s&&!s[xn]&&s!==o;)ti(s)&&X(s[lt],s),s=s[Hn];null===s&&(s=o),ti(s)&&X(s[lt],s),c=s&&s[xn]}s=c}}(s)}}function X(o,s){if(!(128&s[on])){s[on]&=-65,s[on]|=128,function Je(o,s){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let d=0;d<c.length;d+=2){const h=s[c[d]];if(!(h instanceof Fi)){const m=c[d+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const I=h[m[y]],S=m[y+1];Gn(4,I,S);try{S.call(I)}finally{Gn(5,I,S)}}else{Gn(4,h,m);try{m.call(h)}finally{Gn(5,h,m)}}}}}(o,s),function _e(o,s){const c=o.cleanup,d=s[Xo];let h=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const y=c[m+3];y>=0?d[h=y]():d[h=-y].unsubscribe(),m+=2}else{const y=d[h=c[m+1]];c[m].call(y)}if(null!==d){for(let m=h+1;m<d.length;m++)(0,d[m])();s[Xo]=null}}(o,s),1===s[lt].type&&s[Jt].destroy();const c=s[es];if(null!==c&&zi(s[Hn])){c!==s[Hn]&&E(c,s);const d=s[Wr];null!==d&&d.detachView(o)}!function ur(o){zl.delete(o[ws])}(s)}}function ut(o,s,c){return function Mt(o,s,c){let d=s;for(;null!==d&&40&d.type;)d=(s=d).parent;if(null===d)return c[Tr];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:m}=o.data[d.directiveStart+h];if(m===j.None||m===j.Emulated)return null}return Qn(d,c)}}(o,s.parent,c)}function ln(o,s,c,d,h){o.insertBefore(s,c,d,h)}function Bi(o,s,c){o.appendChild(s,c)}function Us(o,s,c,d,h){null!==d?ln(o,s,c,d,h):Bi(o,s,c)}function Gc(o,s){return o.parentNode(s)}function yh(o,s,c){return ep(o,s,c)}let Qu,Cy,tp,Ay,ep=function Yu(o,s,c){return 40&o.type?Qn(o,c):null};function qc(o,s,c,d){const h=ut(o,d,s),m=s[Jt],I=yh(d.parent||s[Dr],d,s);if(null!=h)if(Array.isArray(c))for(let S=0;S<c.length;S++)Us(m,h,c[S],I,!1);else Us(m,h,c,I,!1);void 0!==Qu&&Qu(m,d,s,c,h)}function Xu(o,s){if(null!==s){const c=s.type;if(3&c)return Qn(s,o);if(4&c)return vh(-1,o[s.index]);if(8&c){const d=s.child;if(null!==d)return Xu(o,d);{const h=o[s.index];return zi(h)?vh(-1,h):fr(h)}}if(32&c)return so(s,o)()||fr(o[s.index]);{const d=Gl(o,s);return null!==d?Array.isArray(d)?d[0]:Xu(mh(o[yr]),d):Xu(o,s.next)}}return null}function Gl(o,s){return null!==s?o[yr][Dr].projection[s.projection]:null}function vh(o,s){const c=Nr+o+1;if(c<s.length){const d=s[c],h=d[lt].firstChild;if(null!==h)return Xu(d,h)}return s[Es]}function zm(o,s,c,d,h,m,y){for(;null!=c;){const I=d[c.index],S=c.type;if(y&&0===s&&(I&&oe(fr(I),d),c.flags|=2),32!=(32&c.flags))if(8&S)zm(o,s,c.child,d,h,m,!1),$o(s,o,h,I,m);else if(32&S){const M=so(c,d);let L;for(;L=M();)$o(s,o,h,L,m);$o(s,o,h,I,m)}else 16&S?Ey(o,s,d,c,h,m):$o(s,o,h,I,m);c=y?c.projectionNext:c.next}}function ed(o,s,c,d,h,m){zm(c,d,o.firstChild,s,h,m,!1)}function Ey(o,s,c,d,h,m){const y=c[yr],S=y[Dr].projection[d.projection];if(Array.isArray(S))for(let M=0;M<S.length;M++)$o(s,o,h,S[M],m);else zm(o,s,S,y[Hn],h,m,!0)}function Wc(o,s,c){""===c?o.removeAttribute(s,"class"):o.setAttribute(s,"class",c)}function Iy(o,s,c){const{mergedAttrs:d,classes:h,styles:m}=c;null!==d&&er(o,s,d),null!==h&&Wc(o,s,h),null!==m&&function Co(o,s,c){o.setAttribute(s,"style",c)}(o,s,m)}function Xa(o){return function ow(){if(void 0===Cy&&(Cy=null,In.trustedTypes))try{Cy=In.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Cy}()?.createHTML(o)||o}function iD(o){tp=o}function cD(o){return function sw(){if(void 0===Ay&&(Ay=null,In.trustedTypes))try{Ay=In.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Ay}()?.createScriptURL(o)||o}class bh{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ht})`}}class lD extends bh{getTypeName(){return"HTML"}}class aw extends bh{getTypeName(){return"Style"}}class uD extends bh{getTypeName(){return"Script"}}class dD extends bh{getTypeName(){return"URL"}}class hD extends bh{getTypeName(){return"ResourceURL"}}function ma(o){return o instanceof bh?o.changingThisBreaksApplicationSecurity:o}function ec(o,s){const c=function Wm(o){return o instanceof bh&&o.getTypeName()||null}(o);if(null!=c&&c!==s){if("ResourceURL"===c&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${c} (see ${ht})`)}return c===s}function wh(o){return new lD(o)}function np(o){return new aw(o)}function Sy(o){return new uD(o)}function fD(o){return new dD(o)}function xy(o){return new hD(o)}class Zm{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const c=(new window.DOMParser).parseFromString(Xa(s),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(s):(c.removeChild(c.firstChild),c)}catch{return null}}}class lw{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const c=this.inertDocument.createElement("template");return c.innerHTML=Xa(s),c}}const Km=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ql(o){return(o=String(o)).match(Km)?o:"unsafe:"+o}function Wl(o){const s={};for(const c of o.split(","))s[c]=!0;return s}function Ym(...o){const s={};for(const c of o)for(const d in c)c.hasOwnProperty(d)&&(s[d]=!0);return s}const My=Wl("area,br,col,hr,img,wbr"),pD=Wl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zl=Wl("rp,rt"),Eh=Ym(My,Ym(pD,Wl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ym(Zl,Wl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ym(Zl,pD)),Ih=Wl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rp=Ym(Ih,Wl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),mD=Wl("script,style,template");class gD{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let c=s.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(s){const c=s.nodeName.toLowerCase();if(!Eh.hasOwnProperty(c))return this.sanitizedSomething=!0,!mD.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=s.attributes;for(let h=0;h<d.length;h++){const m=d.item(h),y=m.name,I=y.toLowerCase();if(!rp.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let S=m.value;Ih[I]&&(S=ql(S)),this.buf.push(" ",y,'="',Py(S),'"')}return this.buf.push(">"),!0}endElement(s){const c=s.nodeName.toLowerCase();Eh.hasOwnProperty(c)&&!My.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(s){this.buf.push(Py(s))}checkClobberedElement(s,c){if(c&&(s.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return c}}const hw=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_D=/([^\#-~ |!])/g;function Py(o){return o.replace(/&/g,"&amp;").replace(hw,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(_D,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xm;function yD(o,s){let c=null;try{Xm=Xm||function cw(o){const s=new lw(o);return function uw(){try{return!!(new window.DOMParser).parseFromString(Xa(""),"text/html")}catch{return!1}}()?new Zm(s):s}(o);let d=s?String(s):"";c=Xm.getInertBodyElement(d);let h=5,m=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=m,m=c.innerHTML,c=Xm.getInertBodyElement(d)}while(d!==m);return Xa((new gD).sanitizeChildren(ky(c)||c))}finally{if(c){const d=ky(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function ky(o){return"content"in o&&function Oy(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var fi=(()=>((fi=fi||{})[fi.NONE=0]="NONE",fi[fi.HTML=1]="HTML",fi[fi.STYLE=2]="STYLE",fi[fi.SCRIPT=3]="SCRIPT",fi[fi.URL=4]="URL",fi[fi.RESOURCE_URL=5]="RESOURCE_URL",fi))();function Fy(o){const s=Th();return s?s.sanitize(fi.URL,o)||"":ec(o,"URL")?ma(o):ql($e(o))}function Ly(o){const s=Th();if(s)return cD(s.sanitize(fi.RESOURCE_URL,o)||"");if(ec(o,"ResourceURL"))return cD(ma(o));throw new Te(904,!1)}function Ch(o,s,c){return function bD(o,s){return"src"===s&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===s&&("base"===o||"link"===o)?Ly:Fy}(s,c)(o)}function Th(){const o=Ee();return o&&o[qs]}const td=new Cn("ENVIRONMENT_INITIALIZER"),ED=new Cn("INJECTOR",-1),pw=new Cn("INJECTOR_DEF_TYPES");class Vy{get(s,c=rr){if(c===rr){const d=new Error(`NullInjectorError: No provider for ${Ce(s)}!`);throw d.name="NullInjectorError",d}return c}}function ZR(o){return{\u0275providers:o}}function KR(...o){return{\u0275providers:ID(0,o),\u0275fromNgModule:!0}}function ID(o,...s){const c=[],d=new Set;let h;return Fs(s,m=>{const y=m;By(y,c,[],d)&&(h||(h=[]),h.push(y))}),void 0!==h&&CD(h,c),c}function CD(o,s){for(let c=0;c<o.length;c++){const{providers:h}=o[c];jy(h,m=>{s.push(m)})}}function By(o,s,c,d){if(!(o=se(o)))return!1;let h=null,m=nr(o);const y=!m&&St(o);if(m||y){if(y&&!y.standalone)return!1;h=o}else{const S=o.ngModule;if(m=nr(S),!m)return!1;h=S}const I=d.has(h);if(y){if(I)return!1;if(d.add(h),y.dependencies){const S="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const M of S)By(M,s,c,d)}}else{if(!m)return!1;{if(null!=m.imports&&!I){let M;d.add(h);try{Fs(m.imports,L=>{By(L,s,c,d)&&(M||(M=[]),M.push(L))})}finally{}void 0!==M&&CD(M,s)}if(!I){const M=Qi(h)||(()=>new h);s.push({provide:h,useFactory:M,deps:re},{provide:pw,useValue:h,multi:!0},{provide:td,useValue:()=>Gt(h),multi:!0})}const S=m.providers;null==S||I||jy(S,L=>{s.push(L)})}}return h!==o&&void 0!==o.providers}function jy(o,s){for(let c of o)Ne(c)&&(c=c.\u0275providers),Array.isArray(c)?jy(c,s):s(c)}const mw=$({provide:String,useValue:$});function Kl(o){return null!==o&&"object"==typeof o&&mw in o}function ga(o){return"function"==typeof o}const _w=new Cn("Set Injector scope."),op={},AD={};let eg;function tg(){return void 0===eg&&(eg=new Vy),eg}class Yl{}class ng extends Yl{get destroyed(){return this._destroyed}constructor(s,c,d,h){super(),this.parent=c,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rg(s,y=>this.processProvider(y)),this.records.set(ED,Dh(void 0,this)),h.has("environment")&&this.records.set(Yl,Dh(void 0,this));const m=this.records.get(_w);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(pw.multi,re,bt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const c=dn(this),d=Zn(void 0);try{return s()}finally{dn(c),Zn(d)}}get(s,c=rr,d=bt.Default){this.assertNotDestroyed(),d=or(d);const h=dn(this),m=Zn(void 0);try{if(!(d&bt.SkipSelf)){let I=this.records.get(s);if(void 0===I){const S=function zy(o){return"function"==typeof o||"object"==typeof o&&o instanceof Cn}(s)&&bn(s);I=S&&this.injectableDefInScope(S)?Dh($y(s),op):null,this.records.set(s,I)}if(null!=I)return this.hydrate(s,I)}return(d&bt.Self?tg():this.parent).get(s,c=d&bt.Optional&&c===rr?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[Kn]=y[Kn]||[]).unshift(Ce(s)),h)throw y;return function Pr(o,s,c,d){const h=o[Kn];throw s[an]&&h.unshift(s[an]),o.message=function J(o,s,c,d=null){o=o&&"\n"===o.charAt(0)&&o.charAt(1)==Ir?o.slice(2):o;let h=Ce(s);if(Array.isArray(s))h=s.map(Ce).join(" -> ");else if("object"==typeof s){let m=[];for(let y in s)if(s.hasOwnProperty(y)){let I=s[y];m.push(y+":"+("string"==typeof I?JSON.stringify(I):Ce(I)))}h=`{${m.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${o.replace(Pn,"\n  ")}`}("\n"+o.message,h,c,d),o[ci]=h,o[Kn]=null,o}(y,s,"R3InjectorError",this.source)}throw y}finally{Zn(m),dn(h)}}resolveInjectorInitializers(){const s=dn(this),c=Zn(void 0);try{const d=this.get(td.multi,re,bt.Self);for(const h of d)h()}finally{dn(s),Zn(c)}}toString(){const s=[],c=this.records;for(const d of c.keys())s.push(Ce(d));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processProvider(s){let c=ga(s=se(s))?s:se(s&&s.provide);const d=function SD(o){return Kl(o)?Dh(void 0,o.useValue):Dh(nd(o),op)}(s);if(ga(s)||!0!==s.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=Dh(void 0,op,!0),h.factory=()=>sr(h.multi),this.records.set(c,h)),c=s,h.multi.push(s)}this.records.set(c,d)}hydrate(s,c){return c.value===op&&(c.value=AD,c.value=c.factory()),"object"==typeof c.value&&c.value&&function xD(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(s){if(!s.providedIn)return!1;const c=se(s.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function $y(o){const s=bn(o),c=null!==s?s.factory:Qi(o);if(null!==c)return c;if(o instanceof Cn)throw new Te(204,!1);if(o instanceof Function)return function yw(o){const s=o.length;if(s>0)throw qa(s,"?"),new Te(204,!1);const c=function wr(o){return o&&(o[Xr]||o[Gr])||null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new Te(204,!1)}function nd(o,s,c){let d;if(ga(o)){const h=se(o);return Qi(h)||$y(h)}if(Kl(o))d=()=>se(o.useValue);else if(function gw(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...sr(o.deps||[]));else if(function ip(o){return!(!o||!o.useExisting)}(o))d=()=>Gt(se(o.useExisting));else{const h=se(o&&(o.useClass||o.provide));if(!function Hy(o){return!!o.deps}(o))return Qi(h)||$y(h);d=()=>new h(...sr(o.deps))}return d}function Dh(o,s,c=!1){return{factory:o,value:s,multi:c?[]:void 0}}function rg(o,s){for(const c of o)Array.isArray(c)?rg(c,s):c&&Ne(c)?rg(c.\u0275providers,s):s(c)}class MD{}class Ah{}class qy{resolveComponentFactory(s){throw function RD(o){const s=Error(`No component factory found for ${Ce(o)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=o,s}(s)}}let sp=(()=>{class o{}return o.NULL=new qy,o})();function PD(){return rd(cr(),Ee())}function rd(o,s){return new ap(Qn(o,s))}let ap=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=PD,o})();function QR(o){return o instanceof ap?o.nativeElement:o}class ig{}let kD=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function vw(){const o=Ee(),c=vr(cr().index,o);return(ti(c)?c:o)[Jt]}(),o})(),bw=(()=>{class o{}return o.\u0275prov=It({token:o,providedIn:"root",factory:()=>null}),o})();class Ql{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const ww=new Ql("15.2.9"),id={},Wy="ngOriginalError";function Zy(o){return o[Wy]}class lp{constructor(){this._console=console}handleError(s){const c=this._findOriginalError(s);this._console.error("ERROR",s),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(s){let c=s&&Zy(s);for(;c&&Zy(c);)c=Zy(c);return c||null}}function Zc(o){return o instanceof Function?o():o}function UD(o,s,c){let d=o.length;for(;;){const h=o.indexOf(s,c);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const m=s.length;if(h+m===d||o.charCodeAt(h+m)<=32)return h}c=h+1}}const VD="ng-template";function Dw(o,s,c){let d=0,h=!0;for(;d<o.length;){let m=o[d++];if("string"==typeof m&&h){const y=o[d++];if(c&&"class"===m&&-1!==UD(y.toLowerCase(),s,0))return!0}else{if(1===m){for(;d<o.length&&"string"==typeof(m=o[d++]);)if(m.toLowerCase()===s)return!0;return!1}"number"==typeof m&&(h=!1)}}return!1}function og(o){return 4===o.type&&o.value!==VD}function XR(o,s,c){return s===(4!==o.type||c?o.value:VD)}function eP(o,s,c){let d=4;const h=o.attrs||[],m=function Ho(o){for(let s=0;s<o.length;s++)if(cs(o[s]))return s;return o.length}(h);let y=!1;for(let I=0;I<s.length;I++){const S=s[I];if("number"!=typeof S){if(!y)if(4&d){if(d=2|1&d,""!==S&&!XR(o,S,c)||""===S&&1===s.length){if(tc(d))return!1;y=!0}}else{const M=8&d?S:s[++I];if(8&d&&null!==o.attrs){if(!Dw(o.attrs,M,c)){if(tc(d))return!1;y=!0}continue}const G=Aw(8&d?"class":S,h,og(o),c);if(-1===G){if(tc(d))return!1;y=!0;continue}if(""!==M){let ie;ie=G>m?"":h[G+1].toLowerCase();const ue=8&d?ie:null;if(ue&&-1!==UD(ue,M,0)||2&d&&M!==ie){if(tc(d))return!1;y=!0}}}}else{if(!y&&!tc(d)&&!tc(S))return!1;if(y&&tc(S))continue;y=!1,d=S|1&d}}return tc(d)||y}function tc(o){return 0==(1&o)}function Aw(o,s,c,d){if(null===s)return-1;let h=0;if(d||!c){let m=!1;for(;h<s.length;){const y=s[h];if(y===o)return h;if(3===y||6===y)m=!0;else{if(1===y||2===y){let I=s[++h];for(;"string"==typeof I;)I=s[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=m?1:2}return-1}return function BD(o,s){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const d=o[c];if("number"==typeof d)return-1;if(d===s)return c;c++}return-1}(s,o)}function Sw(o,s,c=!1){for(let d=0;d<s.length;d++)if(eP(o,s[d],c))return!0;return!1}function sg(o,s){e:for(let c=0;c<s.length;c++){const d=s[c];if(o.length===d.length){for(let h=0;h<o.length;h++)if(o[h]!==d[h])continue e;return!0}}return!1}function Sh(o,s){return o?":not("+s.trim()+")":s}function jD(o){let s=o[0],c=1,d=2,h="",m=!1;for(;c<o.length;){let y=o[c];if("string"==typeof y)if(2&d){const I=o[++c];h+="["+y+(I.length>0?'="'+I+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!tc(y)&&(s+=Sh(m,h),h=""),d=y,m=m||!tc(d);c++}return""!==h&&(s+=Sh(m,h)),s}const hn={};function xh(o){xw(Ht(),Ee(),Zr()+o,!1)}function xw(o,s,c,d){if(!d)if(3==(3&s[on])){const m=o.preOrderCheckHooks;null!==m&&xc(s,m,c)}else{const m=o.preOrderHooks;null!==m&&Sl(s,m,0,c)}to(c)}function Kc(o,s=null,c=null,d){const h=Mh(o,s,c,d);return h.resolveInjectorInitializers(),h}function Mh(o,s=null,c=null,d,h=new Set){const m=[c||re,KR(o)];return d=d||("object"==typeof o?void 0:Ce(o)),new ng(m,s||tg(),d||null,h)}let nc=(()=>{class o{static create(c,d){if(Array.isArray(c))return Kc({name:""},d,c,"");{const h=c.name??"";return Kc({name:h},c.parent,c.providers,h)}}}return o.THROW_IF_NOT_FOUND=rr,o.NULL=new Vy,o.\u0275prov=It({token:o,providedIn:"any",factory:()=>Gt(ED)}),o.__NG_ELEMENT_ID__=-1,o})();function kh(o,s=bt.Default){const c=Ee();return null===c?Gt(o,s):Xd(cr(),c,se(o),s)}function rv(){throw new Error("invalid")}function hp(o,s){const c=o.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const m=c[d+1];if(-1!==m){const y=o.data[m];Dl(c[d]),y.contentQueries(2,s[m],m)}}}function tu(o,s,c,d,h,m,y,I,S,M,L){const G=s.blueprint.slice();return G[Tr]=h,G[on]=76|d,(null!==L||o&&1024&o[on])&&(G[on]|=1024),Qs(G),G[Hn]=G[Po]=o,G[Un]=c,G[ui]=y||o&&o[ui],G[Jt]=I||o&&o[Jt],G[qs]=S||o&&o[qs]||null,G[bs]=M||o&&o[bs]||null,G[Dr]=m,G[ws]=function ph(){return Wf++}(),G[Or]=L,G[yr]=2==s.type?o[yr]:G,G}function Oh(o,s,c,d,h){let m=o.data[s];if(null===m)m=function Jc(o,s,c,d,h){const m=wl(),y=La(),S=o.data[s]=function Vw(o,s,c,d,h,m){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,c,s,d,h);return null===o.firstChild&&(o.firstChild=S),null!==m&&(y?null==m.child&&null!==S.parent&&(m.child=S):null===m.next&&(m.next=S,S.prev=m)),S}(o,s,c,d,h),function Cl(){return $t.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=c,m.value=d,m.attrs=h;const y=function os(){const o=$t.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();m.injectorIndex=null===y?-1:y.injectorIndex}return ki(m,!0),m}function fp(o,s,c,d){if(0===c)return-1;const h=s.length;for(let m=0;m<c;m++)s.push(d),o.blueprint.push(d),o.data.push(null);return h}function ad(o,s,c){Ms(s);try{const d=o.viewQuery;null!==d&&Vs(1,d,c);const h=o.template;null!==h&&Uw(o,s,h,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&hp(o,s),o.staticViewQueries&&Vs(2,o.viewQuery,c);const m=o.components;null!==m&&function Tn(o,s){for(let c=0;c<s.length;c++)rA(o,s[c])}(s,m)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{s[on]&=-5,Cc()}}function Nh(o,s,c,d){const h=s[on];if(128!=(128&h)){Ms(s);try{Qs(s),function Bo(o){return $t.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&Uw(o,s,c,2,d);const y=3==(3&h);if(y){const M=o.preOrderCheckHooks;null!==M&&xc(s,M,null)}else{const M=o.preOrderHooks;null!==M&&Sl(s,M,0,null),xl(s,0)}if(function nA(o){for(let s=Hc(o);null!==s;s=Zu(s)){if(!s[Zs])continue;const c=s[ns];for(let d=0;d<c.length;d++){const h=c[d];512&h[on]||xs(h[Hn],1),h[on]|=512}}}(s),function Gw(o){for(let s=Hc(o);null!==s;s=Zu(s))for(let c=Nr;c<s.length;c++){const d=s[c],h=d[lt];_o(d)&&Nh(h,d,h.template,d[Un])}}(s),null!==o.contentQueries&&hp(o,s),y){const M=o.contentCheckHooks;null!==M&&xc(s,M)}else{const M=o.contentHooks;null!==M&&Sl(s,M,1),xl(s,1)}!function Lw(o,s){const c=o.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const h=c[d];if(h<0)to(~h);else{const m=h,y=c[++d],I=c[++d];Tl(y,m),I(2,s[m])}}}finally{to(-1)}}(o,s);const I=o.components;null!==I&&function eu(o,s){for(let c=0;c<s.length;c++)cv(o,s[c])}(s,I);const S=o.viewQuery;if(null!==S&&Vs(2,S,d),y){const M=o.viewCheckHooks;null!==M&&xc(s,M)}else{const M=o.viewHooks;null!==M&&Sl(s,M,2),xl(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),s[on]&=-41,512&s[on]&&(s[on]&=-513,xs(s[Hn],-1))}finally{Cc()}}}function Uw(o,s,c,d,h){const m=Zr(),y=2&d;try{to(-1),y&&s.length>Vn&&xw(o,s,Vn,!1),Gn(y?2:0,h),c(d,h)}finally{to(m),Gn(y?3:1,h)}}function Fh(o,s,c){if(Oo(s)){const h=s.directiveEnd;for(let m=s.directiveStart;m<h;m++){const y=o.data[m];y.contentQueries&&y.contentQueries(1,c[m],m)}}}function cd(o,s,c){vl()&&(function ld(o,s,c,d){const h=c.directiveStart,m=c.directiveEnd;Ra(c)&&function Hw(o,s,c){const d=Qn(s,o),h=pp(c),m=o[ui],y=vg(o,tu(o,h,null,c.onPush?32:16,d,s,m,m.createRenderer(d,c),null,null,null));o[s.index]=y}(s,c,o.data[h+c.componentOffset]),o.firstCreatePass||Mu(c,s),oe(d,s);const y=c.initialInputs;for(let I=h;I<m;I++){const S=o.data[I],M=lr(s,o,I,c);oe(M,s),null!==y&&Uh(0,I-h,M,S,0,y),di(S)&&(vr(c.index,s)[Un]=lr(s,o,I,c))}}(o,s,c,Qn(c,s)),64==(64&c.flags)&&gg(o,s,c))}function dg(o,s,c=Qn){const d=s.localNames;if(null!==d){let h=s.index+1;for(let m=0;m<d.length;m+=2){const y=d[m+1],I=-1===y?c(s,o):o[y];o[h++]=I}}}function pp(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=iv(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function iv(o,s,c,d,h,m,y,I,S,M){const L=Vn+d,G=L+h,ie=function ov(o,s){const c=[];for(let d=0;d<s;d++)c.push(d<o?null:hn);return c}(L,G),ue="function"==typeof M?M():M;return ie[lt]={type:o,blueprint:ie,template:c,queries:null,viewQuery:I,declTNode:s,data:ie.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:G,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:S,consts:ue,incompleteFirstPass:!1}}function sv(o,s,c,d){const h=ru(s);null===c?h.push(d):(h.push(c),o.firstCreatePass&&vp(o).push(d,h.length-1))}function Bw(o,s,c,d){for(let h in o)if(o.hasOwnProperty(h)){c=null===c?{}:c;const m=o[h];null===d?jw(c,s,h,m):d.hasOwnProperty(h)&&jw(c,s,d[h],m)}return c}function jw(o,s,c,d){o.hasOwnProperty(c)?o[c].push(s,d):o[c]=[s,d]}function ds(o,s,c,d,h,m,y,I){const S=Qn(s,c);let L,M=s.inputs;!I&&null!=M&&(L=M[d])?(uv(o,c,L,d,h),Ra(s)&&function QD(o,s){const c=vr(s,o);16&c[on]||(c[on]|=32)}(c,s.index)):3&s.type&&(d=function fg(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),h=null!=y?y(h,s.value||"",d):h,m.setProperty(S,d,h))}function av(o,s,c,d){if(vl()){const h=null===d?null:{"":-1},m=function $w(o,s){const c=o.directiveRegistry;let d=null,h=null;if(c)for(let m=0;m<c.length;m++){const y=c[m];if(Sw(s,y.selectors,!1))if(d||(d=[]),di(y))if(null!==y.findHostDirectiveDefs){const I=[];h=h||new Map,y.findHostDirectiveDefs(y,I,h),d.unshift(...I,y),_g(o,s,I.length)}else d.unshift(y),_g(o,s,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,d,h),d.push(y)}return null===d?null:[d,h]}(o,c);let y,I;null===m?y=I=null:[y,I]=m,null!==y&&pg(o,s,c,y,h,I),h&&function eA(o,s,c){if(s){const d=o.localNames=[];for(let h=0;h<s.length;h+=2){const m=c[s[h+1]];if(null==m)throw new Te(-301,!1);d.push(s[h],m)}}}(c,d,h)}c.mergedAttrs=ra(c.mergedAttrs,c.attrs)}function pg(o,s,c,d,h,m){for(let M=0;M<d.length;M++)ks(Mu(c,s),o,d[M].type);!function gp(o,s,c){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+c,o.providerIndexes=s}(c,o.data.length,d.length);for(let M=0;M<d.length;M++){const L=d[M];L.providersResolver&&L.providersResolver(L)}let y=!1,I=!1,S=fp(o,s,d.length,null);for(let M=0;M<d.length;M++){const L=d[M];c.mergedAttrs=ra(c.mergedAttrs,L.hostAttrs),Lh(o,c,s,S,L),mp(S,L,h),null!==L.contentQueries&&(c.flags|=4),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(c.flags|=64);const G=L.type.prototype;!y&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((o.preOrderHooks??(o.preOrderHooks=[])).push(c.index),y=!0),!I&&(G.ngOnChanges||G.ngDoCheck)&&((o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(c.index),I=!0),S++}!function YD(o,s,c){const h=s.directiveEnd,m=o.data,y=s.attrs,I=[];let S=null,M=null;for(let L=s.directiveStart;L<h;L++){const G=m[L],ie=c?c.get(G):null,Re=ie?ie.outputs:null;S=Bw(G.inputs,L,S,ie?ie.inputs:null),M=Bw(G.outputs,L,M,Re);const Qe=null===S||null===y||og(s)?null:tA(S,L,y);I.push(Qe)}null!==S&&(S.hasOwnProperty("class")&&(s.flags|=8),S.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=I,s.inputs=S,s.outputs=M}(o,c,m)}function gg(o,s,c){const d=c.directiveStart,h=c.directiveEnd,m=c.index,y=function Zd(){return $t.lFrame.currentDirectiveIndex}();try{to(m);for(let I=d;I<h;I++){const S=o.data[I],M=s[I];Jn(I),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&iP(S,M)}}finally{to(-1),Jn(y)}}function iP(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function _g(o,s,c){s.componentOffset=c,(o.components??(o.components=[])).push(s.index)}function mp(o,s,c){if(c){if(s.exportAs)for(let d=0;d<s.exportAs.length;d++)c[s.exportAs[d]]=o;di(s)&&(c[""]=o)}}function Lh(o,s,c,d,h){o.data[d]=h;const m=h.factory||(h.factory=Qi(h.type)),y=new Fi(m,di(h),kh);o.blueprint[d]=y,c[d]=y,function mg(o,s,c,d,h){const m=h.hostBindings;if(m){let y=o.hostBindingOpCodes;null===y&&(y=o.hostBindingOpCodes=[]);const I=~s.index;(function XD(o){let s=o.length;for(;s>0;){const c=o[--s];if("number"==typeof c&&c<0)return c}return 0})(y)!=I&&y.push(I),y.push(c,d,m)}}(o,s,d,fp(o,c,h.hostVars,hn),h)}function va(o,s,c,d,h,m){const y=Qn(o,s);!function yg(o,s,c,d,h,m,y){if(null==m)o.removeAttribute(s,h,c);else{const I=null==y?$e(m):y(m,d||"",h);o.setAttribute(s,h,I,c)}}(s[Jt],y,m,o.value,c,d,h)}function Uh(o,s,c,d,h,m){const y=m[s];if(null!==y){const I=d.setInput;for(let S=0;S<y.length;){const M=y[S++],L=y[S++],G=y[S++];null!==I?d.setInput(c,G,M,L):c[L]=G}}}function tA(o,s,c){let d=null,h=0;for(;h<c.length;){const m=c[h];if(0!==m)if(5!==m){if("number"==typeof m)break;if(o.hasOwnProperty(m)){null===d&&(d=[]);const y=o[m];for(let I=0;I<y.length;I+=2)if(y[I]===s){d.push(m,y[I+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function zw(o,s,c,d){return[o,!0,!1,s,null,0,d,c,null,null]}function cv(o,s){const c=vr(s,o);if(_o(c)){const d=c[lt];48&c[on]?Nh(d,c,d.template,c[Un]):c[po]>0&&nu(c)}}function nu(o){for(let d=Hc(o);null!==d;d=Zu(d))for(let h=Nr;h<d.length;h++){const m=d[h];if(_o(m))if(512&m[on]){const y=m[lt];Nh(y,m,y.template,m[Un])}else m[po]>0&&nu(m)}const c=o[lt].components;if(null!==c)for(let d=0;d<c.length;d++){const h=vr(c[d],o);_o(h)&&h[po]>0&&nu(h)}}function rA(o,s){const c=vr(s,o),d=c[lt];(function lv(o,s){for(let c=s.length;c<o.blueprint.length;c++)s.push(o.blueprint[c])})(d,c),ad(d,c,c[Un])}function vg(o,s){return o[Mi]?o[Ws][xn]=s:o[Mi]=s,o[Ws]=s,s}function _p(o){for(;o;){o[on]|=32;const s=mh(o);if(mo(o)&&!s)return o;o=s}return null}function yp(o,s,c,d=!0){const h=s[ui];h.begin&&h.begin();try{Nh(o,s,o.template,c)}catch(y){throw d&&wg(s,y),y}finally{h.end&&h.end()}}function Vs(o,s,c){Dl(0),s(o,c)}function ru(o){return o[Xo]||(o[Xo]=[])}function vp(o){return o.cleanup||(o.cleanup=[])}function wg(o,s){const c=o[bs],d=c?c.get(lp,null):null;d&&d.handleError(s)}function uv(o,s,c,d,h){for(let m=0;m<c.length;){const y=c[m++],I=c[m++],S=s[y],M=o.data[y];null!==M.setInput?M.setInput(S,h,d,I):S[I]=h}}function Eg(o,s,c){let d=c?o.styles:null,h=c?o.classes:null,m=0;if(null!==s)for(let y=0;y<s.length;y++){const I=s[y];"number"==typeof I?m=I:1==m?h=Ae(h,I):2==m&&(d=Ae(d,I+": "+s[++y]+";"))}c?o.styles=d:o.stylesWithoutHost=d,c?o.classes=h:o.classesWithoutHost=h}function Ig(o,s,c,d,h=!1){for(;null!==c;){const m=s[c.index];if(null!==m&&d.push(fr(m)),zi(m))for(let I=Nr;I<m.length;I++){const S=m[I],M=S[lt].firstChild;null!==M&&Ig(S[lt],S,M,d)}const y=c.type;if(8&y)Ig(o,s,c.child,d);else if(32&y){const I=so(c,s);let S;for(;S=I();)d.push(S)}else if(16&y){const I=Gl(s,c);if(Array.isArray(I))d.push(...I);else{const S=mh(s[yr]);Ig(S[lt],S,I,d,!0)}}c=h?c.projectionNext:c.next}return d}class wp{get rootNodes(){const s=this._lView,c=s[lt];return Ig(c,s,c.firstChild,[])}constructor(s,c){this._lView=s,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Un]}set context(s){this._lView[Un]=s}get destroyed(){return 128==(128&this._lView[on])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Hn];if(zi(s)){const c=s[ko],d=c?c.indexOf(this):-1;d>-1&&(P(s,d),Nc(c,d))}this._attachedToViewContainer=!1}U(this._lView[lt],this._lView)}onDestroy(s){sv(this._lView[lt],this._lView,null,s)}markForCheck(){_p(this._cdRefInjectingView||this._lView)}detach(){this._lView[on]&=-65}reattach(){this._lView[on]|=64}detectChanges(){yp(this._lView[lt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function zc(o,s){ed(o,s,s[Jt],2,null,null)}(this._lView[lt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Te(902,!1);this._appRef=s}}class iA extends wp{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;yp(s[lt],s,s[Un],!1)}checkNoChanges(){}get context(){return null}}class Ww extends sp{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const c=St(s);return new Ep(c,this.ngModule)}}function Zw(o){const s=[];for(let c in o)o.hasOwnProperty(c)&&s.push({propName:o[c],templateName:c});return s}class sA{constructor(s,c){this.injector=s,this.parentInjector=c}get(s,c,d){d=or(d);const h=this.injector.get(s,id,d);return h!==id||c===id?h:this.parentInjector.get(s,c,d)}}class Ep extends Ah{get inputs(){return Zw(this.componentDef.inputs)}get outputs(){return Zw(this.componentDef.outputs)}constructor(s,c){super(),this.componentDef=s,this.ngModule=c,this.componentType=s.type,this.selector=function Qy(o){return o.map(jD).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!c}create(s,c,d,h){let m=(h=h||this.ngModule)instanceof Yl?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const y=m?new sA(s,m):s,I=y.get(ig,null);if(null===I)throw new Te(407,!1);const S=y.get(bw,null),M=I.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",G=d?function hg(o,s,c){return o.selectRootElement(s,c===j.ShadowDom)}(M,d,this.componentDef.encapsulation):Jf(M,L,function oA(o){const s=o.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(L)),ie=this.componentDef.onPush?288:272,ue=iv(0,null,null,1,0,null,null,null,null,null),Re=tu(null,ue,null,ie,null,null,I,M,S,y,null);let Qe,ct;Ms(Re);try{const Tt=this.componentDef;let zt,He=null;Tt.findHostDirectiveDefs?(zt=[],He=new Map,Tt.findHostDirectiveDefs(Tt,zt,He),zt.push(Tt)):zt=[Tt];const tn=function aA(o,s){const c=o[lt],d=Vn;return o[d]=s,Oh(c,d,2,"#host",null)}(Re,G),xr=function cA(o,s,c,d,h,m,y,I){const S=h[lt];!function lA(o,s,c,d){for(const h of o)s.mergedAttrs=ra(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(Eg(s,s.mergedAttrs,!0),null!==c&&Iy(d,c,s))}(d,o,s,y);const M=m.createRenderer(s,c),L=tu(h,pp(c),null,c.onPush?32:16,h[o.index],o,m,M,I||null,null,null);return S.firstCreatePass&&_g(S,o,d.length-1),vg(h,L),h[o.index]=L}(tn,G,Tt,zt,Re,I,M);ct=Oa(ue,Vn),G&&function Yw(o,s,c,d){if(d)er(o,c,["ng-version",ww.full]);else{const{attrs:h,classes:m}=function $D(o){const s=[],c=[];let d=1,h=2;for(;d<o.length;){let m=o[d];if("string"==typeof m)2===h?""!==m&&s.push(m,o[++d]):8===h&&c.push(m);else{if(!tc(h))break;h=m}d++}return{attrs:s,classes:c}}(s.selectors[0]);h&&er(o,c,h),m&&m.length>0&&Wc(o,c,m.join(" "))}}(M,Tt,G,d),void 0!==c&&function dv(o,s,c){const d=o.projection=[];for(let h=0;h<s.length;h++){const m=c[h];d.push(null!=m?Array.from(m):null)}}(ct,this.ngContentSelectors,c),Qe=function uA(o,s,c,d,h,m){const y=cr(),I=h[lt],S=Qn(y,h);pg(I,h,y,c,null,d);for(let L=0;L<c.length;L++)oe(lr(h,I,y.directiveStart+L,y),h);gg(I,h,y),S&&oe(S,h);const M=lr(h,I,y.directiveStart+y.componentOffset,y);if(o[Un]=h[Un]=M,null!==m)for(const L of m)L(M,s);return Fh(I,y,o),M}(xr,Tt,zt,He,Re,[hv]),ad(ue,Re,null)}finally{Cc()}return new Kw(this.componentType,Qe,rd(ct,Re),Re,ct)}}class Kw extends MD{constructor(s,c,d,h,m){super(),this.location=d,this._rootLView=h,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new iA(h),this.componentType=s}setInput(s,c){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[s])){const m=this._rootLView;uv(m[lt],m,h,s,c),_p(vr(this._tNode.index,m))}}get injector(){return new Ga(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function hv(){const o=cr();Ba(Ee()[lt],o)}function iu(o){let s=function ic(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const d=[o];for(;s;){let h;if(di(o))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Te(903,!1);h=s.\u0275dir}if(h){if(c){d.push(h);const y=o;y.inputs=Cg(o.inputs),y.declaredInputs=Cg(o.declaredInputs),y.outputs=Cg(o.outputs);const I=h.hostBindings;I&&Jw(o,I);const S=h.viewQuery,M=h.contentQueries;if(S&&dA(o,S),M&&Vh(o,M),xe(o.inputs,h.inputs),xe(o.declaredInputs,h.declaredInputs),xe(o.outputs,h.outputs),di(h)&&h.data.animation){const L=o.data;L.animation=(L.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let y=0;y<m.length;y++){const I=m[y];I&&I.ngInherit&&I(o),I===iu&&(c=!1)}}s=Object.getPrototypeOf(s)}!function Qw(o){let s=0,c=null;for(let d=o.length-1;d>=0;d--){const h=o[d];h.hostVars=s+=h.hostVars,h.hostAttrs=ra(h.hostAttrs,c=ra(c,h.hostAttrs))}}(d)}function Cg(o){return o===F?{}:o===re?[]:o}function dA(o,s){const c=o.viewQuery;o.viewQuery=c?(d,h)=>{s(d,h),c(d,h)}:s}function Vh(o,s){const c=o.contentQueries;o.contentQueries=c?(d,h,m)=>{s(d,h,m),c(d,h,m)}:s}function Jw(o,s){const c=o.hostBindings;o.hostBindings=c?(d,h)=>{s(d,h),c(d,h)}:s}function Ag(o){return!!Sg(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function Sg(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function pi(o,s,c){return!Object.is(o[s],c)&&(o[s]=c,!0)}function _v(o,s,c,d){const h=Ee();return pi(h,Xi(),s)&&(Ht(),va(qn(),h,o,s,c,d)),_v}function ud(o,s,c,d){return pi(o,Xi(),c)?s+$e(c)+d:hn}function dd(o,s,c,d,h,m,y,I){const S=Ee(),M=Ht(),L=o+Vn,G=M.firstCreatePass?function pA(o,s,c,d,h,m,y,I,S){const M=s.consts,L=Oh(s,o,4,y||null,yo(M,I));av(s,c,L,yo(M,S)),Ba(s,L);const G=L.tView=iv(2,L,d,h,m,s.directiveRegistry,s.pipeRegistry,null,s.schemas,M);return null!==s.queries&&(s.queries.template(s,L),G.queries=s.queries.embeddedTView(L)),L}(L,M,S,s,c,d,h,m,y):M.data[L];ki(G,!1);const ie=S[Jt].createComment("");qc(M,S,ie,G),oe(ie,S),vg(S,S[L]=zw(ie,S,ie,G)),Pi(G)&&cd(M,S,G),null!=y&&dg(S,G,I)}function oE(o){return function ni(o,s){return o[s]}(function Il(){return $t.lFrame.contextLView}(),Vn+o)}function bv(o,s,c){const d=Ee();return pi(d,Xi(),s)&&ds(Ht(),qn(),d,o,s,d[Jt],c,!1),bv}function hd(o,s,c,d,h){const y=h?"class":"style";uv(o,c,s.inputs[y],y,d)}function Mg(o,s,c,d){const h=Ee(),m=Ht(),y=Vn+o,I=h[Jt],S=m.firstCreatePass?function Mp(o,s,c,d,h,m){const y=s.consts,S=Oh(s,o,2,d,yo(y,h));return av(s,c,S,yo(y,m)),null!==S.attrs&&Eg(S,S.attrs,!1),null!==S.mergedAttrs&&Eg(S,S.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,S),S}(y,m,h,s,c,d):m.data[y],M=h[y]=Jf(I,s,function Ni(){return $t.lFrame.currentNamespace}()),L=Pi(S);return ki(S,!0),Iy(I,M,S),32!=(32&S.flags)&&qc(m,h,M,S),0===function bc(){return $t.lFrame.elementDepthCount}()&&oe(M,h),function Fa(){$t.lFrame.elementDepthCount++}(),L&&(cd(m,h,S),Fh(m,S,h)),null!==d&&dg(h,S),Mg}function Rg(){let o=cr();La()?El():(o=o.parent,ki(o,!1));const s=o;!function Js(){$t.lFrame.elementDepthCount--}();const c=Ht();return c.firstCreatePass&&(Ba(c,o),Oo(o)&&c.queries.elementEnd(o)),null!=s.classesWithoutHost&&function ge(o){return 0!=(8&o.flags)}(s)&&hd(c,s,Ee(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Rt(o){return 0!=(16&o.flags)}(s)&&hd(c,s,Ee(),s.stylesWithoutHost,!1),Rg}function wv(o,s,c,d){return Mg(o,s,c,d),Rg(),wv}function sE(){return Ee()}function Rp(o){return!!o&&"function"==typeof o.then}function Pp(o){return!!o&&"function"==typeof o.subscribe}const fd=Pp;function Cv(o,s,c,d){const h=Ee(),m=Ht(),y=cr();return function cE(o,s,c,d,h,m,y){const I=Pi(d),M=o.firstCreatePass&&vp(o),L=s[Un],G=ru(s);let ie=!0;if(3&d.type||y){const Qe=Qn(d,s),ct=y?y(Qe):Qe,Tt=G.length,zt=y?tn=>y(fr(tn[d.index])):d.index;let He=null;if(!y&&I&&(He=function _A(o,s,c,d){const h=o.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const y=h[m];if(y===c&&h[m+1]===d){const I=s[Xo],S=h[m+2];return I.length>S?I[S]:null}"string"==typeof y&&(m+=2)}return null}(o,s,h,d.index)),null!==He)(He.__ngLastListenerFn__||He).__ngNextListenerFn__=m,He.__ngLastListenerFn__=m,ie=!1;else{m=uE(d,s,L,m,!1);const tn=c.listen(ct,h,m);G.push(m,tn),M&&M.push(h,zt,Tt,Tt+1)}}else m=uE(d,s,L,m,!1);const ue=d.outputs;let Re;if(ie&&null!==ue&&(Re=ue[h])){const Qe=Re.length;if(Qe)for(let ct=0;ct<Qe;ct+=2){const xr=s[Re[ct]][Re[ct+1]].subscribe(m),vn=G.length;G.push(m,xr),M&&M.push(h,d.index,vn,-(vn+1))}}}(m,h,h[Jt],y,o,s,d),Cv}function lE(o,s,c,d){try{return Gn(6,s,c),!1!==c(d)}catch(h){return wg(o,h),!1}finally{Gn(7,s,c)}}function uE(o,s,c,d,h){return function m(y){if(y===Function)return d;_p(o.componentOffset>-1?vr(o.index,s):s);let S=lE(s,c,d,y),M=m.__ngNextListenerFn__;for(;M;)S=lE(s,c,M,y)&&S,M=M.__ngNextListenerFn__;return h&&!1===S&&(y.preventDefault(),y.returnValue=!1),S}}function dE(o=1){return function Tc(o){return($t.lFrame.contextLView=function Dc(o,s){for(;o>0;)s=s[Po],o--;return s}(o,$t.lFrame.contextLView))[Un]}(o)}function yA(o,s){let c=null;const d=function _a(o){const s=o.attrs;if(null!=s){const c=s.indexOf(5);if(!(1&c))return s[c+1]}return null}(o);for(let h=0;h<s.length;h++){const m=s[h];if("*"!==m){if(null===d?Sw(o,m,!0):sg(d,m))return h}else c=h}return c}function hE(o){const s=Ee()[yr][Dr];if(!s.projection){const d=s.projection=qa(o?o.length:1,null),h=d.slice();let m=s.child;for(;null!==m;){const y=o?yA(m,o):0;null!==y&&(h[y]?h[y].projectionNext=m:d[y]=m,h[y]=m),m=m.next}}}function Tv(o,s=0,c){const d=Ee(),h=Ht(),m=Oh(h,Vn+o,16,null,c||null);null===m.projection&&(m.projection=s),El(),32!=(32&m.flags)&&function Gm(o,s,c){Ey(s[Jt],0,s,c,ut(o,c,s),yh(c.parent||s[Dr],c,s))}(h,d,m)}function Dv(o,s,c){return kp(o,"",s,"",c),Dv}function kp(o,s,c,d,h){const m=Ee(),y=ud(m,s,c,d);return y!==hn&&ds(Ht(),qn(),m,o,y,m[Jt],h,!1),kp}function Fp(o,s){return o<<17|s<<2}function el(o){return o>>17&32767}function Ng(o){return 2|o}function wa(o){return(131068&o)>>2}function Fg(o,s){return-131069&o|s<<2}function Sv(o){return 1|o}function yE(o,s,c,d,h){const m=o[c+1],y=null===s;let I=d?el(m):wa(m),S=!1;for(;0!==I&&(!1===S||y);){const L=o[I+1];wA(o[I],s)&&(S=!0,o[I+1]=d?Sv(L):Ng(L)),I=d?el(L):wa(L)}S&&(o[c+1]=d?Ng(m):Sv(m))}function wA(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&Sn(o,s)>=0}function Rv(o,s){return function ao(o,s,c,d){const h=Ee(),m=Ht(),y=function Oi(o){const s=$t.lFrame,c=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,c}(2);m.firstUpdatePass&&function kv(o,s,c,d){const h=o.data;if(null===h[c+1]){const m=h[Zr()],y=function AE(o,s){return s>=o.expandoStartIndex}(o,c);(function kE(o,s){return 0!=(o.flags&(s?8:16))})(m,d)&&null===s&&!y&&(s=!1),s=function Lg(o,s,c,d){const h=function Ua(o){const s=$t.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}(o);let m=d?s.residualClasses:s.residualStyles;if(null===h)0===(d?s.classBindings:s.styleBindings)&&(c=Lp(c=Ov(null,o,s,c,d),s.attrs,d),m=null);else{const y=s.directiveStylingLast;if(-1===y||o[y]!==h)if(c=Ov(h,o,s,c,d),null===m){let S=function Ug(o,s,c){const d=c?s.classBindings:s.styleBindings;if(0!==wa(d))return o[el(d)]}(o,s,d);void 0!==S&&Array.isArray(S)&&(S=Ov(null,o,s,S[1],d),S=Lp(S,s.attrs,d),function SE(o,s,c,d){o[el(c?s.classBindings:s.styleBindings)]=d}(o,s,d,S))}else m=function xE(o,s,c){let d;const h=s.directiveEnd;for(let m=1+s.directiveStylingLast;m<h;m++)d=Lp(d,o[m].hostAttrs,c);return Lp(d,s.attrs,c)}(o,s,d)}return void 0!==m&&(d?s.residualClasses=m:s.residualStyles=m),c}(h,m,s,d),function bA(o,s,c,d,h,m){let y=m?s.classBindings:s.styleBindings,I=el(y),S=wa(y);o[d]=c;let L,M=!1;if(Array.isArray(c)?(L=c[1],(null===L||Sn(c,L)>0)&&(M=!0)):L=c,h)if(0!==S){const ie=el(o[I+1]);o[d+1]=Fp(ie,I),0!==ie&&(o[ie+1]=Fg(o[ie+1],d)),o[I+1]=function Og(o,s){return 131071&o|s<<17}(o[I+1],d)}else o[d+1]=Fp(I,0),0!==I&&(o[I+1]=Fg(o[I+1],d)),I=d;else o[d+1]=Fp(S,0),0===I?I=d:o[S+1]=Fg(o[S+1],d),S=d;M&&(o[d+1]=Ng(o[d+1])),yE(o,L,d,!0),yE(o,L,d,!1),function _E(o,s,c,d,h){const m=h?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof s&&Sn(m,s)>=0&&(c[d+1]=Sv(c[d+1]))}(s,L,o,d,m),y=Fp(I,S),m?s.classBindings=y:s.styleBindings=y}(h,m,s,c,y,d)}}(m,o,y,d),s!==hn&&pi(h,y,s)&&function RE(o,s,c,d,h,m,y,I){if(!(3&s.type))return;const S=o.data,M=S[I+1],L=function vA(o){return 1==(1&o)}(M)?PE(S,s,c,h,wa(M),y):void 0;Gh(L)||(Gh(m)||function kg(o){return 2==(2&o)}(M)&&(m=PE(S,null,c,h,I,y)),function iw(o,s,c,d,h){if(s)h?o.addClass(c,d):o.removeClass(c,d);else{let m=-1===d.indexOf("-")?void 0:Eo.DashCase;null==h?o.removeStyle(c,d,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=Eo.Important),o.setStyle(c,d,h,m))}}(d,y,Vo(Zr(),c),h,m))}(m,m.data[Zr()],h,h[Jt],o,h[y+1]=function AA(o,s){return null==o||""===o||("string"==typeof s?o+=s:"object"==typeof o&&(o=Ce(ma(o)))),o}(s,c),d,y)}(o,s,null,!0),Rv}function Ov(o,s,c,d,h){let m=null;const y=c.directiveEnd;let I=c.directiveStylingLast;for(-1===I?I=c.directiveStart:I++;I<y&&(m=s[I],d=Lp(d,m.hostAttrs,h),m!==o);)I++;return null!==o&&(c.directiveStylingLast=I),d}function Lp(o,s,c){const d=c?1:2;let h=-1;if(null!==s)for(let m=0;m<s.length;m++){const y=s[m];"number"==typeof y?h=y:h===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),ro(o,y,!!c||s[++m]))}return void 0===o?null:o}function PE(o,s,c,d,h,m){const y=null===s;let I;for(;h>0;){const S=o[h],M=Array.isArray(S),L=M?S[1]:S,G=null===L;let ie=c[h+1];ie===hn&&(ie=G?re:void 0);let ue=G?io(ie,d):L===d?ie:void 0;if(M&&!Gh(ue)&&(ue=io(S,d)),Gh(ue)&&(I=ue,y))return I;const Re=o[h+1];h=y?el(Re):wa(Re)}if(null!==s){let S=m?s.residualClasses:s.residualStyles;null!=S&&(I=io(S,d))}return I}function Gh(o){return void 0!==o}function OE(o,s=""){const c=Ee(),d=Ht(),h=o+Vn,m=d.firstCreatePass?Oh(d,h,1,s,null):d.data[h],y=c[h]=function Io(o,s){return o.createText(s)}(c[Jt],s);qc(d,c,y,m),ki(m,!1)}function Nv(o){return Kr("",o,""),Nv}function Kr(o,s,c){const d=Ee(),h=ud(d,o,s,c);return h!==hn&&function Xc(o,s,c){const d=Vo(s,o);!function Bm(o,s,c){o.setValue(s,c)}(o[Jt],d,c)}(d,Zr(),h),Kr}const md=void 0;var BA=["en",[["a","p"],["AM","PM"],md],[["AM","PM"],md,md],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],md,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],md,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",md,"{1} 'at' {0}",md],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function VA(o){const c=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Zh={};function Bg(o){const s=function tl(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=be(s);if(c)return c;const d=s.split("-")[0];if(c=be(d),c)return c;if("en"===d)return BA;throw new Te(701,!1)}function jA(o){return Bg(o)[Ye.PluralCase]}function be(o){return o in Zh||(Zh[o]=In.ng&&In.ng.common&&In.ng.common.locales&&In.ng.common.locales[o]),Zh[o]}var Ye=(()=>((Ye=Ye||{})[Ye.LocaleId=0]="LocaleId",Ye[Ye.DayPeriodsFormat=1]="DayPeriodsFormat",Ye[Ye.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ye[Ye.DaysFormat=3]="DaysFormat",Ye[Ye.DaysStandalone=4]="DaysStandalone",Ye[Ye.MonthsFormat=5]="MonthsFormat",Ye[Ye.MonthsStandalone=6]="MonthsStandalone",Ye[Ye.Eras=7]="Eras",Ye[Ye.FirstDayOfWeek=8]="FirstDayOfWeek",Ye[Ye.WeekendRange=9]="WeekendRange",Ye[Ye.DateFormat=10]="DateFormat",Ye[Ye.TimeFormat=11]="TimeFormat",Ye[Ye.DateTimeFormat=12]="DateTimeFormat",Ye[Ye.NumberSymbols=13]="NumberSymbols",Ye[Ye.NumberFormats=14]="NumberFormats",Ye[Ye.CurrencyCode=15]="CurrencyCode",Ye[Ye.CurrencySymbol=16]="CurrencySymbol",Ye[Ye.CurrencyName=17]="CurrencyName",Ye[Ye.Currencies=18]="Currencies",Ye[Ye.Directionality=19]="Directionality",Ye[Ye.PluralCase=20]="PluralCase",Ye[Ye.ExtraData=21]="ExtraData",Ye))();const Vp="en-US";let qE=Vp;function rb(o,s,c,d,h){if(o=se(o),Array.isArray(o))for(let m=0;m<o.length;m++)rb(o[m],s,c,d,h);else{const m=Ht(),y=Ee();let I=ga(o)?o:se(o.provide),S=nd(o);const M=cr(),L=1048575&M.providerIndexes,G=M.directiveStart,ie=M.providerIndexes>>20;if(ga(o)||!o.multi){const ue=new Fi(S,h,kh),Re=Qg(I,s,h?L:L+ie,G);-1===Re?(ks(Mu(M,y),m,I),Xh(m,o,s.length),s.push(I),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),c.push(ue),y.push(ue)):(c[Re]=ue,y[Re]=ue)}else{const ue=Qg(I,s,L+ie,G),Re=Qg(I,s,L,L+ie),ct=Re>=0&&c[Re];if(h&&!ct||!h&&!(ue>=0&&c[ue])){ks(Mu(M,y),m,I);const Tt=function lS(o,s,c,d,h){const m=new Fi(o,c,kh);return m.multi=[],m.index=s,m.componentProviders=0,ib(m,h,d&&!c),m}(h?cS:ob,c.length,h,d,S);!h&&ct&&(c[Re].providerFactory=Tt),Xh(m,o,s.length,0),s.push(I),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),c.push(Tt),y.push(Tt)}else Xh(m,o,ue>-1?ue:Re,ib(c[h?Re:ue],S,!h&&d));!h&&d&&ct&&c[Re].componentProviders++}}}function Xh(o,s,c,d){const h=ga(s),m=function DD(o){return!!o.useClass}(s);if(h||m){const S=(m?se(s.useClass):s).prototype.ngOnDestroy;if(S){const M=o.destroyHooks||(o.destroyHooks=[]);if(!h&&s.multi){const L=M.indexOf(c);-1===L?M.push(c,[d,S]):M[L+1].push(d,S)}else M.push(c,S)}}}function ib(o,s,c){return c&&o.componentProviders++,o.multi.push(s)-1}function Qg(o,s,c,d){for(let h=c;h<d;h++)if(s[h]===o)return h;return-1}function ob(o,s,c,d){return sb(this.multi,[])}function cS(o,s,c,d){const h=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,I=lr(c,c[lt],this.providerFactory.index,d);m=I.slice(0,y),sb(h,m);for(let S=y;S<I.length;S++)m.push(I[S])}else m=[],sb(h,m);return m}function sb(o,s){for(let c=0;c<o.length;c++)s.push((0,o[c])());return s}function ab(o,s=[]){return c=>{c.providersResolver=(d,h)=>function aS(o,s,c){const d=Ht();if(d.firstCreatePass){const h=di(o);rb(c,d.data,d.blueprint,h,!0),rb(s,d.data,d.blueprint,h,!1)}}(d,h?h(o):o,s)}}class yd{}class cb{}function _I(o,s){return new dS(o,s??null)}class dS extends yd{constructor(s,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ww(this);const d=Cr(s);this._bootstrapComponents=Zc(d.bootstrap),this._r3Injector=Mh(s,c,[{provide:yd,useValue:this},{provide:sp,useValue:this.componentFactoryResolver}],Ce(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class lb extends cb{constructor(s){super(),this.moduleType=s}create(s){return new dS(this.moduleType,s)}}class EP extends yd{constructor(s,c,d){super(),this.componentFactoryResolver=new Ww(this),this.instance=null;const h=new ng([...s,{provide:yd,useValue:this},{provide:sp,useValue:this.componentFactoryResolver}],c||tg(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function yI(o,s,c=null){return new EP(o,s,c).injector}let ub=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=ID(0,c.type),h=d.length>0?yI([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,h)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=It({token:o,providedIn:"environment",factory:()=>new o(Gt(Yl))}),o})();function hS(o){o.getStandaloneInjector=s=>s.get(ub).getOrCreateStandaloneInjector(o)}function SI(o){return s=>{setTimeout(o,void 0,s)}}const rl=class vS extends u.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,c,d){let h=s,m=c||(()=>null),y=d;if(s&&"object"==typeof s){const S=s;h=S.next?.bind(S),m=S.error?.bind(S),y=S.complete?.bind(S)}this.__isAsync&&(m=SI(m),h&&(h=SI(h)),y&&(y=SI(y)));const I=super.subscribe({next:h,error:m,complete:y});return s instanceof Y.w0&&s.add(I),I}};function UP(){return this._results[Symbol.iterator]()}class gb{get changes(){return this._changes||(this._changes=new rl)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=gb.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=UP)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,c){return this._results.reduce(s,c)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,c){const d=this;d.dirty=!1;const h=function Gi(o){return o.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Lu(o,s,c){if(o.length!==s.length)return!1;for(let d=0;d<o.length;d++){let h=o[d],m=s[d];if(c&&(h=c(h),m=c(m)),m!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let t_=(()=>{class o{}return o.__NG_ELEMENT_ID__=jP,o})();const VP=t_,BP=class extends VP{constructor(s,c,d){super(),this._declarationLView=s,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(s,c){const d=this._declarationTContainer.tView,h=tu(this._declarationLView,d,s,16,null,d.declTNode,null,null,null,null,c||null);h[es]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[Wr];return null!==y&&(h[Wr]=y.createEmbeddedView(d)),ad(d,h,s),new wp(h)}};function jP(){return _b(cr(),Ee())}function _b(o,s){return 4&o.type?new BP(s,o,rd(o,s)):null}let yb=(()=>{class o{}return o.__NG_ELEMENT_ID__=$P,o})();function $P(){return ES(cr(),Ee())}const HP=yb,bS=class extends HP{constructor(s,c,d){super(),this._lContainer=s,this._hostTNode=c,this._hostLView=d}get element(){return rd(this._hostTNode,this._hostLView)}get injector(){return new Ga(this._hostTNode,this._hostLView)}get parentInjector(){const s=br(this._hostTNode,this._hostLView);if(ia(s)){const c=Rc(s,this._hostLView),d=Ha(s);return new Ga(c[lt].data[d+8],c)}return new Ga(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const c=wS(this._lContainer);return null!==c&&c[s]||null}get length(){return this._lContainer.length-Nr}createEmbeddedView(s,c,d){let h,m;"number"==typeof d?h=d:null!=d&&(h=d.index,m=d.injector);const y=s.createEmbeddedView(c||{},m);return this.insert(y,h),y}createComponent(s,c,d,h,m){const y=s&&!function Fl(o){return"function"==typeof o}(s);let I;if(y)I=c;else{const G=c||{};I=G.index,d=G.injector,h=G.projectableNodes,m=G.environmentInjector||G.ngModuleRef}const S=y?s:new Ep(St(s)),M=d||this.parentInjector;if(!m&&null==S.ngModule){const ie=(y?M:this.parentInjector).get(Yl,null);ie&&(m=ie)}const L=S.create(M,h,void 0,m);return this.insert(L.hostView,I),L}insert(s,c){const d=s._lView,h=d[lt];if(function _l(o){return zi(o[Hn])}(d)){const L=this.indexOf(s);if(-1!==L)this.detach(L);else{const G=d[Hn],ie=new bS(G,G[Dr],G[Hn]);ie.detach(ie.indexOf(s))}}const m=this._adjustIndex(c),y=this._lContainer;!function p(o,s,c,d){const h=Nr+d,m=c.length;d>0&&(c[h-1][xn]=s),d<m-Nr?(s[xn]=c[h],Uu(c,Nr+d,s)):(c.push(s),s[xn]=null),s[Hn]=c;const y=s[es];null!==y&&c!==y&&function g(o,s){const c=o[ns];s[yr]!==s[Hn][Hn][yr]&&(o[Zs]=!0),null===c?o[ns]=[s]:c.push(s)}(y,s);const I=s[Wr];null!==I&&I.insertView(o),s[on]|=64}(h,d,y,m);const I=vh(m,y),S=d[Jt],M=Gc(S,y[Es]);return null!==M&&function wy(o,s,c,d,h,m){d[Tr]=h,d[Dr]=s,ed(o,d,c,1,h,m)}(h,y[Dr],S,d,M,I),s.attachToViewContainerRef(),Uu(xI(y),m,s),s}move(s,c){return this.insert(s,c)}indexOf(s){const c=wS(this._lContainer);return null!==c?c.indexOf(s):-1}remove(s){const c=this._adjustIndex(s,-1),d=P(this._lContainer,c);d&&(Nc(xI(this._lContainer),c),U(d[lt],d))}detach(s){const c=this._adjustIndex(s,-1),d=P(this._lContainer,c);return d&&null!=Nc(xI(this._lContainer),c)?new wp(d):null}_adjustIndex(s,c=0){return s??this.length+c}};function wS(o){return o[ko]}function xI(o){return o[ko]||(o[ko]=[])}function ES(o,s){let c;const d=s[o.index];if(zi(d))c=d;else{let h;if(8&o.type)h=fr(d);else{const m=s[Jt];h=m.createComment("");const y=Qn(o,s);ln(m,Gc(m,y),h,function Xf(o,s){return o.nextSibling(s)}(m,y),!1)}s[o.index]=c=zw(d,s,h,o),vg(s,c)}return new bS(c,o,s)}class MI{constructor(s){this.queryList=s,this.matches=null}clone(){return new MI(this.queryList)}setDirty(){this.queryList.setDirty()}}class RI{constructor(s=[]){this.queries=s}createEmbeddedView(s){const c=s.queries;if(null!==c){const d=null!==s.contentQueries?s.contentQueries[0]:c.length,h=[];for(let m=0;m<d;m++){const y=c.getByIndex(m);h.push(this.queries[y.indexInDeclarationView].clone())}return new RI(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let c=0;c<this.queries.length;c++)null!==RS(s,c).matches&&this.queries[c].setDirty()}}class IS{constructor(s,c,d=null){this.predicate=s,this.flags=c,this.read=d}}class PI{constructor(s=[]){this.queries=s}elementStart(s,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(s,c)}elementEnd(s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(s)}embeddedTView(s){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,m=this.getByIndex(d).embeddedTView(s,h);m&&(m.indexInDeclarationView=d,null!==c?c.push(m):c=[m])}return null!==c?new PI(c):null}template(s,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(s,c)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class kI{constructor(s,c=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(s,c){this.isApplyingToNode(c)&&this.matchTNode(s,c)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,c){this.elementStart(s,c)}embeddedTView(s,c){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,c),new kI(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=s.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(s,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const m=d[h];this.matchTNodeWithReadOption(s,c,zP(c,m)),this.matchTNodeWithReadOption(s,c,za(c,s,m,!1,!1))}else d===t_?4&c.type&&this.matchTNodeWithReadOption(s,c,-1):this.matchTNodeWithReadOption(s,c,za(c,s,d,!1,!1))}matchTNodeWithReadOption(s,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===ap||h===yb||h===t_&&4&c.type)this.addMatch(c.index,-2);else{const m=za(c,s,h,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,d)}}addMatch(s,c){null===this.matches?this.matches=[s,c]:this.matches.push(s,c)}}function zP(o,s){const c=o.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===s)return c[d+1];return null}function CS(o,s,c,d){return-1===c?function GP(o,s){return 11&o.type?rd(o,s):4&o.type?_b(o,s):null}(s,o):-2===c?function qP(o,s,c){return c===ap?rd(s,o):c===t_?_b(s,o):c===yb?ES(s,o):void 0}(o,s,d):lr(o,o[lt],c,s)}function TS(o,s,c,d){const h=s[Wr].queries[d];if(null===h.matches){const m=o.data,y=c.matches,I=[];for(let S=0;S<y.length;S+=2){const M=y[S];I.push(M<0?null:CS(s,m[M],y[S+1],c.metadata.read))}h.matches=I}return h.matches}function OI(o,s,c,d){const h=o.queries.getByIndex(c),m=h.matches;if(null!==m){const y=TS(o,s,h,c);for(let I=0;I<m.length;I+=2){const S=m[I];if(S>0)d.push(y[I/2]);else{const M=m[I+1],L=s[-S];for(let G=Nr;G<L.length;G++){const ie=L[G];ie[es]===ie[Hn]&&OI(ie[lt],ie,M,d)}if(null!==L[ns]){const G=L[ns];for(let ie=0;ie<G.length;ie++){const ue=G[ie];OI(ue[lt],ue,M,d)}}}}}return d}function DS(o){const s=Ee(),c=Ht(),d=ea();Dl(d+1);const h=RS(c,d);if(o.dirty&&function Ss(o){return 4==(4&o[on])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const m=h.crossesNgTemplate?OI(c,s,d,[]):TS(c,s,h,d);o.reset(m,QR),o.notifyOnChanges()}return!0}return!1}function AS(o,s,c){const d=Ht();d.firstCreatePass&&(MS(d,new IS(o,s,c),-1),2==(2&s)&&(d.staticViewQueries=!0)),xS(d,Ee(),s)}function SS(o,s,c,d){const h=Ht();if(h.firstCreatePass){const m=cr();MS(h,new IS(s,c,d),m.index),function ZP(o,s){const c=o.contentQueries||(o.contentQueries=[]);s!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,s)}(h,o),2==(2&c)&&(h.staticContentQueries=!0)}xS(h,Ee(),c)}function NI(){return function WP(o,s){return o[Wr].queries[s].queryList}(Ee(),ea())}function xS(o,s,c){const d=new gb(4==(4&c));sv(o,s,d,d.destroy),null===s[Wr]&&(s[Wr]=new RI),s[Wr].queries.push(new MI(d))}function MS(o,s,c){null===o.queries&&(o.queries=new PI),o.queries.track(new kI(s,c))}function RS(o,s){return o.queries.getByIndex(s)}function PS(o,s){return _b(o,s)}function FI(o){return!!Cr(o)}function Id(...o){}const c_=new Cn("Application Initializer");let l_=(()=>{class o{constructor(c){this.appInits=c,this.resolve=Id,this.reject=Id,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(Rp(m))c.push(m);else if(fd(m)){const y=new Promise((I,S)=>{m.subscribe({complete:I,error:S})});c.push(y)}}Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(Gt(c_,8))},o.\u0275prov=It({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const qI=new Cn("AppId",{providedIn:"root",factory:function Cd(){return`${Kp()}${Kp()}${Kp()}`}});function Kp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Sb=new Cn("Platform Initializer"),qS=new Cn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),xb=new Cn("AnimationModuleType");let Mb=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=It({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const ef=new Cn("LocaleId",{providedIn:"root",factory:()=>Wn(ef,bt.Optional|bt.SkipSelf)||function Rb(){return typeof $localize<"u"&&$localize.locale||Vp}()}),Pb=new Cn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class KS{constructor(s,c){this.ngModuleFactory=s,this.componentFactories=c}}let Yp=(()=>{class o{compileModuleSync(c){return new lb(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),m=Zc(Cr(c).declarations).reduce((y,I)=>{const S=St(I);return S&&y.push(new Ep(S)),y},[]);return new KS(d,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=It({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const ZI=(()=>Promise.resolve(0))();function tf(o){typeof Zone>"u"?ZI.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Go{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rl(!1),this.onMicrotaskEmpty=new rl(!1),this.onStable=new rl(!1),this.onError=new rl(!1),typeof Zone>"u")throw new Te(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function kb(){let o=In.requestAnimationFrame,s=In.cancelAnimationFrame;if(typeof Zone<"u"&&o&&s){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function JS(o){const s=()=>{!function YI(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(In,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,p_(o),o.isCheckStableRunning=!0,f_(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),p_(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,m,y,I)=>{try{return Nb(o),c.invokeTask(h,m,y,I)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&s(),m_(o)}},onInvoke:(c,d,h,m,y,I,S)=>{try{return Nb(o),c.invoke(h,m,y,I,S)}finally{o.shouldCoalesceRunChangeDetection&&s(),m_(o)}},onHasTask:(c,d,h,m)=>{c.hasTask(h,m),d===h&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,p_(o),f_(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,d,h,m)=>(c.handleError(h,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Go.isInAngularZone())throw new Te(909,!1)}static assertNotInAngularZone(){if(Go.isInAngularZone())throw new Te(909,!1)}run(s,c,d){return this._inner.run(s,c,d)}runTask(s,c,d,h){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+h,s,Ob,Id,Id);try{return m.runTask(y,c,d)}finally{m.cancelTask(y)}}runGuarded(s,c,d){return this._inner.runGuarded(s,c,d)}runOutsideAngular(s){return this._outer.run(s)}}const Ob={};function f_(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function p_(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Nb(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function m_(o){o._nesting--,f_(o)}class QI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rl,this.onMicrotaskEmpty=new rl,this.onStable=new rl,this.onError=new rl}run(s,c,d){return s.apply(c,d)}runGuarded(s,c,d){return s.apply(c,d)}runOutsideAngular(s){return s()}runTask(s,c,d,h){return s.apply(c,d)}}const JI=new Cn(""),g_=new Cn("");let Ti,Fb=(()=>{class o{constructor(c,d,h){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ti||(function $i(o){Ti=o}(h),h.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Go.assertNotInAngularZone(),tf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())tf(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,h){return[]}}return o.\u0275fac=function(c){return new(c||o)(Gt(Go),Gt(__),Gt(g_))},o.\u0275prov=It({token:o,factory:o.\u0275fac}),o})(),__=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Ti?.findTestabilityInTree(this,c,d)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=It({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Hs=!1;let lc=null;const XI=new Cn("AllowMultipleToken"),Lb=new Cn("PlatformDestroyListeners"),eC=new Cn("appBootstrapListener");class ex{constructor(s,c){this.name=s,this.token=c}}function nC(o,s,c=[]){const d=`Platform: ${s}`,h=new Cn(d);return(m=[])=>{let y=w_();if(!y||y.injector.get(XI,!1)){const I=[...c,...m,{provide:h,useValue:!0}];o?o(I):function Qp(o){if(lc&&!lc.get(XI,!1))throw new Te(400,!1);lc=o;const s=o.get(iC);(function y_(o){const s=o.get(Sb,null);s&&s.forEach(c=>c())})(o)}(function b_(o=[],s){return nc.create({name:s,providers:[{provide:_w,useValue:"platform"},{provide:Lb,useValue:new Set([()=>lc=null])},...o]})}(I,d))}return function v_(o){const s=w_();if(!s)throw new Te(401,!1);return s}()}}function w_(){return lc?.get(iC)??null}let iC=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const h=function Ub(o,s){let c;return c="noop"===o?new QI:("zone.js"===o?void 0:o)||new Go(s),c}(d?.ngZone,function nf(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:Go,useValue:h}];return h.run(()=>{const y=nc.create({providers:m,parent:this.injector,name:c.moduleType.name}),I=c.create(y),S=I.injector.get(lp,null);if(!S)throw new Te(402,!1);return h.runOutsideAngular(()=>{const M=h.onError.subscribe({next:L=>{S.handleError(L)}});I.onDestroy(()=>{E_(this._modules,I),M.unsubscribe()})}),function Vb(o,s,c){try{const d=c();return Rp(d)?d.catch(h=>{throw s.runOutsideAngular(()=>o.handleError(h)),h}):d}catch(d){throw s.runOutsideAngular(()=>o.handleError(d)),d}}(S,h,()=>{const M=I.injector.get(l_);return M.runInitializers(),M.donePromise.then(()=>(function WE(o){ze(o,"Expected localeId to be defined"),"string"==typeof o&&(qE=o.toLowerCase().replace(/_/g,"-"))}(I.injector.get(ef,Vp)||Vp),this._moduleDoBootstrap(I),I))})})}bootstrapModule(c,d=[]){const h=Bb({},d);return function tC(o,s,c){const d=new lb(c);return Promise.resolve(d)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(c){const d=c.injector.get(Td);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new Te(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(Lb,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(Gt(nc))},o.\u0275prov=It({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function Bb(o,s){return Array.isArray(s)?s.reduce(Bb,o):{...o,...s}}let Td=(()=>{class o{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(c,d,h){this._zone=c,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new N.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),y=new N.y(I=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Go.assertNotInAngularZone(),tf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Go.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{S.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ce.T)(m,y.pipe((0,pe.B)()))}bootstrap(c,d){const h=c instanceof Ah;if(!this._injector.get(l_).done){!h&&kr(c);throw new Te(405,Hs)}let y;y=h?c:this._injector.get(sp).resolveComponentFactory(c),this.componentTypes.push(y.componentType);const I=function XS(o){return o.isBoundToModule}(y)?void 0:this._injector.get(yd),M=y.create(nc.NULL,[],d||y.selector,I),L=M.location.nativeElement,G=M.injector.get(JI,null);return G?.registerApplication(L),M.onDestroy(()=>{this.detachView(M.hostView),E_(this.components,M),G?.unregisterApplication(L)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new Te(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;E_(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(eC,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>E_(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Te(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)(Gt(Go),Gt(Yl),Gt(lp))},o.\u0275prov=It({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function E_(o,s){const c=o.indexOf(s);c>-1&&o.splice(c,1)}function nx(){return!1}let sC=(()=>{class o{}return o.__NG_ELEMENT_ID__=em,o})();function em(o){return function aC(o,s,c){if(Ra(o)&&!c){const d=vr(o.index,s);return new wp(d,d)}return 47&o.type?new wp(s[yr],s):null}(cr(),Ee(),16==(16&o))}class dC{constructor(){}supports(s){return Ag(s)}create(s){return new hC(s)}}const im=(o,s)=>s;class hC{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||im}forEachItem(s){let c;for(c=this._itHead;null!==c;c=c._next)s(c)}forEachOperation(s){let c=this._itHead,d=this._removalsHead,h=0,m=null;for(;c||d;){const y=!d||c&&c.currentIndex<A_(d,h,m)?c:d,I=A_(y,h,m),S=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(c=c._next,null==y.previousIndex)h++;else{m||(m=[]);const M=I-h,L=S-h;if(M!=L){for(let ie=0;ie<M;ie++){const ue=ie<m.length?m[ie]:m[ie]=0,Re=ue+ie;L<=Re&&Re<M&&(m[ie]=ue+1)}m[y.previousIndex]=L-M}}I!==S&&s(y,I,S)}}forEachPreviousItem(s){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)s(c)}forEachAddedItem(s){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)s(c)}forEachMovedItem(s){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)s(c)}forEachRemovedItem(s){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)s(c)}forEachIdentityChange(s){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)s(c)}diff(s){if(null==s&&(s=[]),!Ag(s))throw new Te(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,m,y,c=this._itHead,d=!1;if(Array.isArray(s)){this.length=s.length;for(let I=0;I<this.length;I++)m=s[I],y=this._trackByFn(I,m),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,m,y,I)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,y,I),d=!0),c=c._next}else h=0,function eE(o,s){if(Array.isArray(o))for(let c=0;c<o.length;c++)s(o[c]);else{const c=o[Symbol.iterator]();let d;for(;!(d=c.next()).done;)s(d.value)}}(s,I=>{y=this._trackByFn(h,I),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,I,y,h)),Object.is(c.item,I)||this._addIdentityChange(c,I)):(c=this._mismatch(c,I,y,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,c,d,h){let m;return null===s?m=this._itTail:(m=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(s.item,c)||this._addIdentityChange(s,c),this._reinsertAfter(s,m,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(s.item,c)||this._addIdentityChange(s,c),this._moveAfter(s,m,h)):s=this._addAfter(new D_(c,d),m,h),s}_verifyReinsertion(s,c,d,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?s=this._reinsertAfter(m,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const c=s._next;this._addToRemovals(this._unlink(s)),s=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,m=s._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(s,c,d),this._addToMoves(s,d),s}_moveAfter(s,c,d){return this._unlink(s),this._insertAfter(s,c,d),this._addToMoves(s,d),s}_addAfter(s,c,d){return this._insertAfter(s,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,c,d){const h=null===c?this._itHead:c._next;return s._next=h,s._prev=c,null===h?this._itTail=s:h._prev=s,null===c?this._itHead=s:c._next=s,null===this._linkedRecords&&(this._linkedRecords=new lu),this._linkedRecords.put(s),s.currentIndex=d,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const c=s._prev,d=s._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,s}_addToMoves(s,c){return s.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new lu),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,c){return s.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class D_{constructor(s,c){this.item=s,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class om{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,s))return d;return null}remove(s){const c=s._prevDup,d=s._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class lu{constructor(){this.map=new Map}put(s){const c=s.trackById;let d=this.map.get(c);d||(d=new om,this.map.set(c,d)),d.add(s)}get(s,c){const h=this.map.get(s);return h?h.get(s,c):null}remove(s){const c=s.trackById;return this.map.get(c).remove(s)&&this.map.delete(c),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function A_(o,s,c){const d=o.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+s+h}class fC{constructor(){}supports(s){return s instanceof Map||Sg(s)}create(){return new lx}}class lx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let c;for(c=this._mapHead;null!==c;c=c._next)s(c)}forEachPreviousItem(s){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)s(c)}forEachChangedItem(s){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)s(c)}forEachAddedItem(s){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)s(c)}forEachRemovedItem(s){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)s(c)}diff(s){if(s){if(!(s instanceof Map||Sg(s)))throw new Te(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(s,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,c){if(s){const d=s._prev;return c._next=s,c._prev=d,s._prev=c,d&&(d._next=c),s===this._mapHead&&(this._mapHead=c),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(s,c){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,c);const m=h._prev,y=h._next;return m&&(m._next=y),y&&(y._prev=m),h._next=null,h._prev=null,h}const d=new pC(s);return this._records.set(s,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,c){Object.is(c,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=c,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,c){s instanceof Map?s.forEach(c):Object.keys(s).forEach(d=>c(s[d],d))}}class pC{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zb(){return new Gb([new dC])}let Gb=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||zb()),deps:[[o,new Za,new vi]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new Te(901,!1)}}return o.\u0275prov=It({token:o,providedIn:"root",factory:zb}),o})();function uc(){return new lf([new fC])}let lf=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||uc()),deps:[[o,new Za,new vi]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(d)return d;throw new Te(901,!1)}}return o.\u0275prov=It({token:o,providedIn:"root",factory:uc}),o})();const sm=nC(null,"core",[]);let am=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(Gt(Td))},o.\u0275mod=le({type:o}),o.\u0275inj=en({}),o})();function ux(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(xt,Oe,B)=>{"use strict";B.d(Oe,{Z:()=>rt});var u=B(2090),Y=B(4859),N=B(6881),ce=B(1877);class pe{constructor(Te,Fe){this._delegate=Te,this.firebase=Fe,(0,N._addComponent)(Te,new Y.wA("app-compat",()=>this,"PUBLIC")),this.container=Te.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this._delegate.automaticDataCollectionEnabled=Te}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Te=>{this._delegate.checkDestroyed(),Te()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(Te,Fe=N._DEFAULT_ENTRY_NAME){var $e;this._delegate.checkDestroyed();const Ue=this._delegate.container.getProvider(Te);return!Ue.isInitialized()&&"EXPLICIT"===(null===($e=Ue.getComponent())||void 0===$e?void 0:$e.instantiationMode)&&Ue.initialize(),Ue.getImmediate({identifier:Fe})}_removeServiceInstance(Te,Fe=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Te).clearInstance(Fe)}_addComponent(Te){(0,N._addComponent)(this._delegate,Te)}_addOrOverwriteComponent(Te){(0,N._addOrOverwriteComponent)(this._delegate,Te)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const xe=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),te=function Ae(){const ht=function Ce(ht){const Te={},Fe={__esModule:!0,initializeApp:function ke(Ge,de={}){const st=N.initializeApp(Ge,de);if((0,u.r3)(Te,st.name))return Te[st.name];const kt=new ht(st,Fe);return Te[st.name]=kt,kt},app:Ue,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Ie(Ge){const de=Ge.name,st=de.replace("-compat","");if(N._registerComponent(Ge)&&"PUBLIC"===Ge.type){const kt=(mt=Ue())=>{if("function"!=typeof mt[st])throw xe.create("invalid-app-argument",{appName:de});return mt[st]()};void 0!==Ge.serviceProps&&(0,u.ZB)(kt,Ge.serviceProps),Fe[st]=kt,ht.prototype[st]=function(...mt){return this._getService.bind(this,de).apply(this,Ge.multipleInstances?mt:[])}}return"PUBLIC"===Ge.type?Fe[st]:null},removeApp:function $e(Ge){delete Te[Ge]},useAsService:function We(Ge,de){return"serverAuth"===de?null:de},modularAPIs:N}};function Ue(Ge){if(!(0,u.r3)(Te,Ge=Ge||N._DEFAULT_ENTRY_NAME))throw xe.create("no-app",{appName:Ge});return Te[Ge]}return Fe.default=Fe,Object.defineProperty(Fe,"apps",{get:function De(){return Object.keys(Te).map(Ge=>Te[Ge])}}),Ue.App=ht,Fe}(pe);return ht.INTERNAL=Object.assign(Object.assign({},ht.INTERNAL),{createFirebaseNamespace:Ae,extendNamespace:function Te(Fe){(0,u.ZB)(ht,Fe)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),ht}(),Q=new ce.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){Q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ht=self.firebase.SDK_VERSION;ht&&ht.indexOf("LITE")>=0&&Q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const rt=te;!function Ne(ht){(0,N.registerVersion)("@firebase/app-compat","0.2.11",ht)}()},6881:(xt,Oe,B)=>{"use strict";B.r(Oe),B.d(Oe,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>xi,_DEFAULT_ENTRY_NAME:()=>_r,_addComponent:()=>wt,_addOrOverwriteComponent:()=>jt,_apps:()=>In,_clearComponents:()=>ci,_components:()=>nn,_getProvider:()=>Er,_registerComponent:()=>rr,_removeServiceInstance:()=>Kn,deleteApp:()=>ir,getApp:()=>li,getApps:()=>Gt,initializeApp:()=>dn,onLog:()=>sr,registerVersion:()=>or,setLogLevel:()=>ei});var u=B(5861),Y=B(4859),N=B(1877),ce=B(2090);const pe=(we,le)=>le.some(qe=>we instanceof qe);let $,xe;const te=new WeakMap,Q=new WeakMap,se=new WeakMap,Ke=new WeakMap,Ne=new WeakMap;let Te={get(we,le,qe){if(we instanceof IDBTransaction){if("done"===le)return Q.get(we);if("objectStoreNames"===le)return we.objectStoreNames||se.get(we);if("store"===le)return qe.objectStoreNames[1]?void 0:qe.objectStore(qe.objectStoreNames[0])}return ke(we[le])},set:(we,le,qe)=>(we[le]=qe,!0),has:(we,le)=>we instanceof IDBTransaction&&("done"===le||"store"===le)||le in we};function Ue(we){return"function"==typeof we?function $e(we){return we!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ae(){return xe||(xe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(we)?function(...le){return we.apply(De(this),le),ke(te.get(this))}:function(...le){return ke(we.apply(De(this),le))}:function(le,...qe){const Ct=we.call(De(this),le,...qe);return se.set(Ct,le.sort?le.sort():[le]),ke(Ct)}}(we):(we instanceof IDBTransaction&&function ht(we){if(Q.has(we))return;const le=new Promise((qe,Ct)=>{const Vt=()=>{we.removeEventListener("complete",cn),we.removeEventListener("error",St),we.removeEventListener("abort",St)},cn=()=>{qe(),Vt()},St=()=>{Ct(we.error||new DOMException("AbortError","AbortError")),Vt()};we.addEventListener("complete",cn),we.addEventListener("error",St),we.addEventListener("abort",St)});Q.set(we,le)}(we),pe(we,function Ce(){return $||($=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(we,Te):we)}function ke(we){if(we instanceof IDBRequest)return function rt(we){const le=new Promise((qe,Ct)=>{const Vt=()=>{we.removeEventListener("success",cn),we.removeEventListener("error",St)},cn=()=>{qe(ke(we.result)),Vt()},St=()=>{Ct(we.error),Vt()};we.addEventListener("success",cn),we.addEventListener("error",St)});return le.then(qe=>{qe instanceof IDBCursor&&te.set(qe,we)}).catch(()=>{}),Ne.set(le,we),le}(we);if(Ke.has(we))return Ke.get(we);const le=Ue(we);return le!==we&&(Ke.set(we,le),Ne.set(le,we)),le}const De=we=>Ne.get(we),Ge=["get","getKey","getAll","getAllKeys","count"],de=["put","add","delete","clear"],st=new Map;function kt(we,le){if(!(we instanceof IDBDatabase)||le in we||"string"!=typeof le)return;if(st.get(le))return st.get(le);const qe=le.replace(/FromIndex$/,""),Ct=le!==qe,Vt=de.includes(qe);if(!(qe in(Ct?IDBIndex:IDBObjectStore).prototype)||!Vt&&!Ge.includes(qe))return;const cn=function(){var St=(0,u.Z)(function*(An,...yn){const kr=this.transaction(An,Vt?"readwrite":"readonly");let Cr=kr.store;return Ct&&(Cr=Cr.index(yn.shift())),(yield Promise.all([Cr[qe](...yn),Vt&&kr.done]))[0]});return function(yn){return St.apply(this,arguments)}}();return st.set(le,cn),cn}!function Fe(we){Te=we(Te)}(we=>({...we,get:(le,qe,Ct)=>kt(le,qe)||we.get(le,qe,Ct),has:(le,qe)=>!!kt(le,qe)||we.has(le,qe)}));class mt{constructor(le){this.container=le}getPlatformInfoString(){return this.container.getProviders().map(qe=>{if(function Kt(we){return"VERSION"===we.getComponent()?.type}(qe)){const Ct=qe.getImmediate();return`${Ct.library}/${Ct.version}`}return null}).filter(qe=>qe).join(" ")}}const at="@firebase/app",me=new N.Yd("@firebase/app"),_r="[DEFAULT]",Ln={[at]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},In=new Map,nn=new Map;function wt(we,le){try{we.container.addComponent(le)}catch(qe){me.debug(`Component ${le.name} failed to register with FirebaseApp ${we.name}`,qe)}}function jt(we,le){we.container.addOrOverwriteComponent(le)}function rr(we){const le=we.name;if(nn.has(le))return me.debug(`There were multiple attempts to register component ${le}.`),!1;nn.set(le,we);for(const qe of In.values())wt(qe,we);return!0}function Er(we,le){const qe=we.container.getProvider("heartbeat").getImmediate({optional:!0});return qe&&qe.triggerHeartbeat(),we.container.getProvider(le)}function Kn(we,le,qe=_r){Er(we,le).clearInstance(qe)}function ci(){nn.clear()}const Ir=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class an{constructor(le,qe,Ct){this._isDeleted=!1,this._options=Object.assign({},le),this._config=Object.assign({},qe),this._name=qe.name,this._automaticDataCollectionEnabled=qe.automaticDataCollectionEnabled,this._container=Ct,this.container.addComponent(new Y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(le){this.checkDestroyed(),this._automaticDataCollectionEnabled=le}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(le){this._isDeleted=le}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}}const xi="9.22.1";function dn(we,le={}){let qe=we;"object"!=typeof le&&(le={name:le});const Ct=Object.assign({name:_r,automaticDataCollectionEnabled:!1},le),Vt=Ct.name;if("string"!=typeof Vt||!Vt)throw Ir.create("bad-app-name",{appName:String(Vt)});if(qe||(qe=(0,ce.aH)()),!qe)throw Ir.create("no-options");const cn=In.get(Vt);if(cn){if((0,ce.vZ)(qe,cn.options)&&(0,ce.vZ)(Ct,cn.config))return cn;throw Ir.create("duplicate-app",{appName:Vt})}const St=new Y.H0(Vt);for(const yn of nn.values())St.addComponent(yn);const An=new an(qe,Ct,St);return In.set(Vt,An),An}function li(we=_r){const le=In.get(we);if(!le&&we===_r&&(0,ce.aH)())return dn();if(!le)throw Ir.create("no-app",{appName:we});return le}function Gt(){return Array.from(In.values())}function ir(we){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,u.Z)(function*(we){const le=we.name;In.has(le)&&(In.delete(le),yield Promise.all(we.container.getProviders().map(qe=>qe.delete())),we.isDeleted=!0)})).apply(this,arguments)}function or(we,le,qe){var Ct;let Vt=null!==(Ct=Ln[we])&&void 0!==Ct?Ct:we;qe&&(Vt+=`-${qe}`);const cn=Vt.match(/\s|\//),St=le.match(/\s|\//);if(cn||St){const An=[`Unable to register library "${Vt}" with version "${le}":`];return cn&&An.push(`library name "${Vt}" contains illegal characters (whitespace or "/")`),cn&&St&&An.push("and"),St&&An.push(`version name "${le}" contains illegal characters (whitespace or "/")`),void me.warn(An.join(" "))}rr(new Y.wA(`${Vt}-version`,()=>({library:Vt,version:le}),"VERSION"))}function sr(we,le){if(null!==we&&"function"!=typeof we)throw Ir.create("invalid-log-argument");(0,N.Am)(we,le)}function ei(we){(0,N.Ub)(we)}const qr="firebase-heartbeat-database",Pr=1,J="firebase-heartbeat-store";let K=null;function V(){return K||(K=function Ie(we,le,{blocked:qe,upgrade:Ct,blocking:Vt,terminated:cn}={}){const St=indexedDB.open(we,le),An=ke(St);return Ct&&St.addEventListener("upgradeneeded",yn=>{Ct(ke(St.result),yn.oldVersion,yn.newVersion,ke(St.transaction),yn)}),qe&&St.addEventListener("blocked",yn=>qe(yn.oldVersion,yn.newVersion,yn)),An.then(yn=>{cn&&yn.addEventListener("close",()=>cn()),Vt&&yn.addEventListener("versionchange",kr=>Vt(kr.oldVersion,kr.newVersion,kr))}).catch(()=>{}),An}(qr,Pr,{upgrade:(we,le)=>{0===le&&we.createObjectStore(J)}}).catch(we=>{throw Ir.create("idb-open",{originalErrorMessage:we.message})})),K}function F(){return(F=(0,u.Z)(function*(we){try{return yield(yield V()).transaction(J).objectStore(J).get(ft(we))}catch(le){if(le instanceof ce.ZR)me.warn(le.message);else{const qe=Ir.create("idb-get",{originalErrorMessage:le?.message});me.warn(qe.message)}}})).apply(this,arguments)}function re(we,le){return Me.apply(this,arguments)}function Me(){return(Me=(0,u.Z)(function*(we,le){try{const Ct=(yield V()).transaction(J,"readwrite");yield Ct.objectStore(J).put(le,ft(we)),yield Ct.done}catch(qe){if(qe instanceof ce.ZR)me.warn(qe.message);else{const Ct=Ir.create("idb-set",{originalErrorMessage:qe?.message});me.warn(Ct.message)}}})).apply(this,arguments)}function ft(we){return`${we.name}!${we.options.appId}`}class rn{constructor(le){this.container=le,this._heartbeatsCache=null;const qe=this.container.getProvider("app").getImmediate();this._storage=new Qt(qe),this._heartbeatsCachePromise=this._storage.read().then(Ct=>(this._heartbeatsCache=Ct,Ct))}triggerHeartbeat(){var le=this;return(0,u.Z)(function*(){const Ct=le.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Vt=Lt();if(null===le._heartbeatsCache&&(le._heartbeatsCache=yield le._heartbeatsCachePromise),le._heartbeatsCache.lastSentHeartbeatDate!==Vt&&!le._heartbeatsCache.heartbeats.some(cn=>cn.date===Vt))return le._heartbeatsCache.heartbeats.push({date:Vt,agent:Ct}),le._heartbeatsCache.heartbeats=le._heartbeatsCache.heartbeats.filter(cn=>{const St=new Date(cn.date).valueOf();return Date.now()-St<=2592e6}),le._storage.overwrite(le._heartbeatsCache)})()}getHeartbeatsHeader(){var le=this;return(0,u.Z)(function*(){if(null===le._heartbeatsCache&&(yield le._heartbeatsCachePromise),null===le._heartbeatsCache||0===le._heartbeatsCache.heartbeats.length)return"";const qe=Lt(),{heartbeatsToSend:Ct,unsentEntries:Vt}=function Mn(we,le=1024){const qe=[];let Ct=we.slice();for(const Vt of we){const cn=qe.find(St=>St.agent===Vt.agent);if(cn){if(cn.dates.push(Vt.date),ar(qe)>le){cn.dates.pop();break}}else if(qe.push({agent:Vt.agent,dates:[Vt.date]}),ar(qe)>le){qe.pop();break}Ct=Ct.slice(1)}return{heartbeatsToSend:qe,unsentEntries:Ct}}(le._heartbeatsCache.heartbeats),cn=(0,ce.L)(JSON.stringify({version:2,heartbeats:Ct}));return le._heartbeatsCache.lastSentHeartbeatDate=qe,Vt.length>0?(le._heartbeatsCache.heartbeats=Vt,yield le._storage.overwrite(le._heartbeatsCache)):(le._heartbeatsCache.heartbeats=[],le._storage.overwrite(le._heartbeatsCache)),cn})()}}function Lt(){return(new Date).toISOString().substring(0,10)}class Qt{constructor(le){this.app=le,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var le=this;return(0,u.Z)(function*(){return(yield le._canUseIndexedDBPromise)&&(yield function j(we){return F.apply(this,arguments)}(le.app))||{heartbeats:[]}})()}overwrite(le){var qe=this;return(0,u.Z)(function*(){var Ct;if(yield qe._canUseIndexedDBPromise){const cn=yield qe.read();return re(qe.app,{lastSentHeartbeatDate:null!==(Ct=le.lastSentHeartbeatDate)&&void 0!==Ct?Ct:cn.lastSentHeartbeatDate,heartbeats:le.heartbeats})}})()}add(le){var qe=this;return(0,u.Z)(function*(){var Ct;if(yield qe._canUseIndexedDBPromise){const cn=yield qe.read();return re(qe.app,{lastSentHeartbeatDate:null!==(Ct=le.lastSentHeartbeatDate)&&void 0!==Ct?Ct:cn.lastSentHeartbeatDate,heartbeats:[...cn.heartbeats,...le.heartbeats]})}})()}}function ar(we){return(0,ce.L)(JSON.stringify({version:2,heartbeats:we})).length}!function Yn(we){rr(new Y.wA("platform-logger",le=>new mt(le),"PRIVATE")),rr(new Y.wA("heartbeat",le=>new rn(le),"PRIVATE")),or(at,"0.9.11",we),or(at,"0.9.11","esm2017"),or("fire-js","")}("")},4859:(xt,Oe,B)=>{"use strict";B.d(Oe,{H0:()=>Ce,wA:()=>N});var u=B(5861),Y=B(2090);class N{constructor(te,Q,se){this.name=te,this.instanceFactory=Q,this.type=se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const ce="[DEFAULT]";class pe{constructor(te,Q){this.name=te,this.container=Q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const Q=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(Q)){const se=new Y.BH;if(this.instancesDeferred.set(Q,se),this.isInitialized(Q)||this.shouldAutoInitialize())try{const Ke=this.getOrInitializeService({instanceIdentifier:Q});Ke&&se.resolve(Ke)}catch{}}return this.instancesDeferred.get(Q).promise}getImmediate(te){var Q;const se=this.normalizeInstanceIdentifier(te?.identifier),Ke=null!==(Q=te?.optional)&&void 0!==Q&&Q;if(!this.isInitialized(se)&&!this.shouldAutoInitialize()){if(Ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:se})}catch(Ne){if(Ke)return null;throw Ne}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function xe(Ae){return"EAGER"===Ae.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:ce})}catch{}for(const[Q,se]of this.instancesDeferred.entries()){const Ke=this.normalizeInstanceIdentifier(Q);try{const Ne=this.getOrInitializeService({instanceIdentifier:Ke});se.resolve(Ne)}catch{}}}}clearInstance(te=ce){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,u.Z)(function*(){const Q=Array.from(te.instances.values());yield Promise.all([...Q.filter(se=>"INTERNAL"in se).map(se=>se.INTERNAL.delete()),...Q.filter(se=>"_delete"in se).map(se=>se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=ce){return this.instances.has(te)}getOptions(te=ce){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:Q={}}=te,se=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(se))throw Error(`${this.name}(${se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ke=this.getOrInitializeService({instanceIdentifier:se,options:Q});for(const[Ne,rt]of this.instancesDeferred.entries())se===this.normalizeInstanceIdentifier(Ne)&&rt.resolve(Ke);return Ke}onInit(te,Q){var se;const Ke=this.normalizeInstanceIdentifier(Q),Ne=null!==(se=this.onInitCallbacks.get(Ke))&&void 0!==se?se:new Set;Ne.add(te),this.onInitCallbacks.set(Ke,Ne);const rt=this.instances.get(Ke);return rt&&te(rt,Ke),()=>{Ne.delete(te)}}invokeOnInitCallbacks(te,Q){const se=this.onInitCallbacks.get(Q);if(se)for(const Ke of se)try{Ke(te,Q)}catch{}}getOrInitializeService({instanceIdentifier:te,options:Q={}}){let se=this.instances.get(te);if(!se&&this.component&&(se=this.component.instanceFactory(this.container,{instanceIdentifier:(Ae=te,Ae===ce?void 0:Ae),options:Q}),this.instances.set(te,se),this.instancesOptions.set(te,Q),this.invokeOnInitCallbacks(se,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,se)}catch{}var Ae;return se||null}normalizeInstanceIdentifier(te=ce){return this.component?this.component.multipleInstances?te:ce:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ce{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const Q=this.getProvider(te.name);if(Q.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);Q.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const Q=new pe(te,this);return this.providers.set(te,Q),Q}getProviders(){return Array.from(this.providers.values())}}},1877:(xt,Oe,B)=>{"use strict";B.d(Oe,{Am:()=>Ae,Ub:()=>Ce,Yd:()=>xe,in:()=>Y});const u=[];var Y=(()=>{return(te=Y||(Y={}))[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",Y;var te})();const N={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},ce=Y.INFO,pe={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},$=(te,Q,...se)=>{if(Q<te.logLevel)return;const Ke=(new Date).toISOString(),Ne=pe[Q];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${Q})`);console[Ne](`[${Ke}]  ${te.name}:`,...se)};class xe{constructor(Q){this.name=Q,this._logLevel=ce,this._logHandler=$,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(Q){if(!(Q in Y))throw new TypeError(`Invalid value "${Q}" assigned to \`logLevel\``);this._logLevel=Q}setLogLevel(Q){this._logLevel="string"==typeof Q?N[Q]:Q}get logHandler(){return this._logHandler}set logHandler(Q){if("function"!=typeof Q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Q}get userLogHandler(){return this._userLogHandler}set userLogHandler(Q){this._userLogHandler=Q}debug(...Q){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...Q),this._logHandler(this,Y.DEBUG,...Q)}log(...Q){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...Q),this._logHandler(this,Y.VERBOSE,...Q)}info(...Q){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...Q),this._logHandler(this,Y.INFO,...Q)}warn(...Q){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...Q),this._logHandler(this,Y.WARN,...Q)}error(...Q){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...Q),this._logHandler(this,Y.ERROR,...Q)}}function Ce(te){u.forEach(Q=>{Q.setLogLevel(te)})}function Ae(te,Q){for(const se of u){let Ke=null;Q&&Q.level&&(Ke=N[Q.level]),se.userLogHandler=null===te?null:(Ne,rt,...ht)=>{const Te=ht.map(Fe=>{if(null==Fe)return null;if("string"==typeof Fe)return Fe;if("number"==typeof Fe||"boolean"==typeof Fe)return Fe.toString();if(Fe instanceof Error)return Fe.message;try{return JSON.stringify(Fe)}catch{return null}}).filter(Fe=>Fe).join(" ");rt>=(Ke??Ne.logLevel)&&te({level:Y[rt].toLowerCase(),message:Te,args:ht,type:Ne.name})}}}},259:(xt,Oe,B)=>{"use strict";B.d(Oe,{C6:()=>u.getApps,KN:()=>u.registerVersion,Mq:()=>u.getApp,ZF:()=>u.initializeApp});var u=B(6881);(0,u.registerVersion)("firebase","9.22.1","app")},9260:(xt,Oe,B)=>{"use strict";B.d(Oe,{Z:()=>u.Z});var u=B(3942);u.Z.registerVersion("firebase","9.22.1","app-compat")},9568:(xt,Oe,B)=>{"use strict";B.r(Oe);var u=B(5861),Y=B(3942),N=B(1389),ce=B(2090),xe=(B(6881),B(1877),B(4859));function Ce(){return window}const Ae=2e3;function Q(){return Q=(0,u.Z)(function*(V,j,F){var re;const{BuildInfo:Me}=Ce();(0,N.as)(j.sessionId,"AuthEvent did not contain a session ID");const ft=yield function Fe(V){return $e.apply(this,arguments)}(j.sessionId),Ft={};return(0,N.at)()?Ft.ibi=Me.packageName:(0,N.au)()?Ft.apn=Me.packageName:(0,N.av)(V,"operation-not-supported-in-this-environment"),Me.displayName&&(Ft.appDisplayName=Me.displayName),Ft.sessionId=ft,(0,N.aw)(V,F,j.type,void 0,null!==(re=j.eventId)&&void 0!==re?re:void 0,Ft)}),Q.apply(this,arguments)}function Ke(){return(Ke=(0,u.Z)(function*(V){const{BuildInfo:j}=Ce(),F={};(0,N.at)()?F.iosBundleId=j.packageName:(0,N.au)()?F.androidPackageName=j.packageName:(0,N.av)(V,"operation-not-supported-in-this-environment"),yield(0,N.ax)(V,F)})).apply(this,arguments)}function ht(){return(ht=(0,u.Z)(function*(V,j,F){const{cordova:re}=Ce();let Me=()=>{};try{yield new Promise((ft,Ft)=>{let Ot=null;function rn(){var Qt;ft();const ar=null===(Qt=re.plugins.browsertab)||void 0===Qt?void 0:Qt.close;"function"==typeof ar&&ar(),"function"==typeof F?.close&&F.close()}function Lt(){Ot||(Ot=window.setTimeout(()=>{Ft((0,N.az)(V,"redirect-cancelled-by-user"))},Ae))}function Mn(){"visible"===document?.visibilityState&&Lt()}j.addPassiveListener(rn),document.addEventListener("resume",Lt,!1),(0,N.au)()&&document.addEventListener("visibilitychange",Mn,!1),Me=()=>{j.removePassiveListener(rn),document.removeEventListener("resume",Lt,!1),document.removeEventListener("visibilitychange",Mn,!1),Ot&&window.clearTimeout(Ot)}})}finally{Me()}})).apply(this,arguments)}function $e(){return($e=(0,u.Z)(function*(V){const j=function Ue(V){if((0,N.as)(/[0-9a-zA-Z]+/.test(V),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(V);const j=new ArrayBuffer(V.length),F=new Uint8Array(j);for(let re=0;re<V.length;re++)F[re]=V.charCodeAt(re);return F}(V),F=yield crypto.subtle.digest("SHA-256",j);return Array.from(new Uint8Array(F)).map(Me=>Me.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const ke=20;class De extends N.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(j=>{this.resolveInialized=j})}addPassiveListener(j){this.passiveListeners.add(j)}removePassiveListener(j){this.passiveListeners.delete(j)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(j){return this.resolveInialized(),this.passiveListeners.forEach(F=>F(j)),super.onEvent(j)}initialized(){var j=this;return(0,u.Z)(function*(){yield j.initPromise})()}}function Ge(V){return de.apply(this,arguments)}function de(){return(de=(0,u.Z)(function*(V){const j=yield mt()._get(Kt(V));return j&&(yield mt()._remove(Kt(V))),j})).apply(this,arguments)}function kt(){const V=[],j="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let F=0;F<ke;F++){const re=Math.floor(Math.random()*j.length);V.push(j.charAt(re))}return V.join("")}function mt(){return(0,N.aC)(N.b)}function Kt(V){return(0,N.aD)("authEvent",V.config.apiKey,V.name)}function me(V){if(!V?.includes("?"))return{};const[j,...F]=V.split("?");return(0,ce.zd)(F.join("?"))}const Le=class Pe{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aE,this._overrideRedirectResult=N.aF}_initialize(j){var F=this;return(0,u.Z)(function*(){const re=j._key();let Me=F.eventManagers.get(re);return Me||(Me=new De(j),F.eventManagers.set(re,Me),F.attachCallbackListeners(j,Me)),Me})()}_openPopup(j){(0,N.av)(j,"operation-not-supported-in-this-environment")}_openRedirect(j,F,re,Me){var ft=this;return(0,u.Z)(function*(){!function Te(V){var j,F,re,Me,ft,Ft,Ot,rn,Lt,Mn;const Qt=Ce();(0,N.aA)("function"==typeof(null===(j=Qt?.universalLinks)||void 0===j?void 0:j.subscribe),V,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.aA)(typeof(null===(F=Qt?.BuildInfo)||void 0===F?void 0:F.packageName)<"u",V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.aA)("function"==typeof(null===(ft=null===(Me=null===(re=Qt?.cordova)||void 0===re?void 0:re.plugins)||void 0===Me?void 0:Me.browsertab)||void 0===ft?void 0:ft.openUrl),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aA)("function"==typeof(null===(rn=null===(Ot=null===(Ft=Qt?.cordova)||void 0===Ft?void 0:Ft.plugins)||void 0===Ot?void 0:Ot.browsertab)||void 0===rn?void 0:rn.isAvailable),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aA)("function"==typeof(null===(Mn=null===(Lt=Qt?.cordova)||void 0===Lt?void 0:Lt.InAppBrowser)||void 0===Mn?void 0:Mn.open),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(j);const Ft=yield ft._initialize(j);yield Ft.initialized(),Ft.resetRedirect(),(0,N.aG)(),yield ft._originValidation(j);const Ot=function Ie(V,j,F=null){return{type:j,eventId:F,urlResponse:null,sessionId:kt(),postBody:null,tenantId:V.tenantId,error:(0,N.az)(V,"no-auth-event")}}(j,re,Me);yield function We(V,j){return mt()._set(Kt(V),j)}(j,Ot);const rn=yield function te(V,j,F){return Q.apply(this,arguments)}(j,Ot,F),Lt=yield function Ne(V){const{cordova:j}=Ce();return new Promise(F=>{j.plugins.browsertab.isAvailable(re=>{let Me=null;re?j.plugins.browsertab.openUrl(V):Me=j.InAppBrowser.open(V,(0,N.ay)()?"_blank":"_system","location=yes"),F(Me)})})}(rn);return function rt(V,j,F){return ht.apply(this,arguments)}(j,Ft,Lt)})()}_isIframeWebStorageSupported(j,F){throw new Error("Method not implemented.")}_originValidation(j){const F=j._key();return this.originValidationPromises[F]||(this.originValidationPromises[F]=function se(V){return Ke.apply(this,arguments)}(j)),this.originValidationPromises[F]}attachCallbackListeners(j,F){const{universalLinks:re,handleOpenURL:Me,BuildInfo:ft}=Ce(),Ft=setTimeout((0,u.Z)(function*(){yield Ge(j),F.onEvent(et())}),500),Ot=function(){var Mn=(0,u.Z)(function*(Qt){clearTimeout(Ft);const ar=yield Ge(j);let Yn=null;ar&&Qt?.url&&(Yn=function st(V,j){var F,re;const Me=function ai(V){const j=me(V),F=j.link?decodeURIComponent(j.link):void 0,re=me(F).link,Me=j.deep_link_id?decodeURIComponent(j.deep_link_id):void 0;return me(Me).link||Me||re||F||V}(j);if(Me.includes("/__/auth/callback")){const ft=me(Me),Ft=ft.firebaseError?function at(V){try{return JSON.parse(V)}catch{return null}}(decodeURIComponent(ft.firebaseError)):null,Ot=null===(re=null===(F=Ft?.code)||void 0===F?void 0:F.split("auth/"))||void 0===re?void 0:re[1],rn=Ot?(0,N.az)(Ot):null;return rn?{type:V.type,eventId:V.eventId,tenantId:V.tenantId,error:rn,urlResponse:null,sessionId:null,postBody:null}:{type:V.type,eventId:V.eventId,tenantId:V.tenantId,sessionId:V.sessionId,urlResponse:Me,postBody:null}}return null}(ar,Qt.url)),F.onEvent(Yn||et())});return function(ar){return Mn.apply(this,arguments)}}();typeof re<"u"&&"function"==typeof re.subscribe&&re.subscribe(null,Ot);const rn=Me,Lt=`${ft.packageName.toLowerCase()}://`;Ce().handleOpenURL=function(){var Mn=(0,u.Z)(function*(Qt){if(Qt.toLowerCase().startsWith(Lt)&&Ot({url:Qt}),"function"==typeof rn)try{rn(Qt)}catch(ar){console.error(ar)}});return function(Qt){return Mn.apply(this,arguments)}}()}};function et(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.az)("no-auth-event")}}const Fn=1e3;function vt(){var V;return(null===(V=self?.location)||void 0===V?void 0:V.protocol)||null}function gn(V=(0,ce.z$)()){return!("file:"!==vt()&&"ionic:"!==vt()&&"capacitor:"!==vt()||!V.toLowerCase().match(/iphone|ipad|ipod|android/))}function wr(){try{const V=self.localStorage,j=N.aL();if(V)return V.setItem(j,"1"),V.removeItem(j),!function Dn(V=(0,ce.z$)()){return function bn(){return(0,ce.w1)()&&11===document?.documentMode}()||function zr(V=(0,ce.z$)()){return/Edge\/\d+/.test(V)}(V)}()||(0,ce.hl)()}catch{return nr()&&(0,ce.hl)()}return!1}function nr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xr(){return(function It(){return"http:"===vt()||"https:"===vt()}()||(0,ce.ru)()||gn())&&!function en(){return(0,ce.b$)()||(0,ce.UG)()}()&&wr()&&!nr()}function Yt(){return gn()&&typeof document<"u"}function Rn(){return(Rn=(0,u.Z)(function*(){return!!Yt()&&new Promise(V=>{const j=setTimeout(()=>{V(!1)},Fn);document.addEventListener("deviceready",()=>{clearTimeout(j),V(!0)})})})).apply(this,arguments)}const pn={LOCAL:"local",NONE:"none",SESSION:"session"},$n=N.aA,Zn="persistence";function Ln(V){return In.apply(this,arguments)}function In(){return(In=(0,u.Z)(function*(V){yield V._initializationPromise;const j=wt(),F=N.aD(Zn,V.config.apiKey,V.name);j&&j.setItem(F,V._getPersistence())})).apply(this,arguments)}function wt(){var V;try{return(null===(V=function bt(){return typeof window<"u"?window:null}())||void 0===V?void 0:V.sessionStorage)||null}catch{return null}}const jt=N.aA;class rr{constructor(){this.browserResolver=N.aC(N.k),this.cordovaResolver=N.aC(Le),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aE,this._overrideRedirectResult=N.aF}_initialize(j){var F=this;return(0,u.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._initialize(j)})()}_openPopup(j,F,re,Me){var ft=this;return(0,u.Z)(function*(){return yield ft.selectUnderlyingResolver(),ft.assertedUnderlyingResolver._openPopup(j,F,re,Me)})()}_openRedirect(j,F,re,Me){var ft=this;return(0,u.Z)(function*(){return yield ft.selectUnderlyingResolver(),ft.assertedUnderlyingResolver._openRedirect(j,F,re,Me)})()}_isIframeWebStorageSupported(j,F){this.assertedUnderlyingResolver._isIframeWebStorageSupported(j,F)}_originValidation(j){return this.assertedUnderlyingResolver._originValidation(j)}get _shouldInitProactively(){return Yt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return jt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var j=this;return(0,u.Z)(function*(){if(j.underlyingResolver)return;const F=yield function Gr(){return Rn.apply(this,arguments)}();j.underlyingResolver=F?j.cordovaResolver:j.browserResolver})()}}function Er(V){return V.unwrap()}function ci(V){return Ir(V)}function Ir(V){const{_tokenResponse:j}=V instanceof ce.ZR?V.customData:V;if(!j)return null;if(!(V instanceof ce.ZR)&&"temporaryProof"in j&&"phoneNumber"in j)return N.P.credentialFromResult(V);const F=j.providerId;if(!F||F===N.p.PASSWORD)return null;let re;switch(F){case N.p.GOOGLE:re=N.V;break;case N.p.FACEBOOK:re=N.U;break;case N.p.GITHUB:re=N.W;break;case N.p.TWITTER:re=N.Z;break;default:const{oauthIdToken:Me,oauthAccessToken:ft,oauthTokenSecret:Ft,pendingToken:Ot,nonce:rn}=j;return ft||Ft||Me||Ot?Ot?F.startsWith("saml.")?N.aO._create(F,Ot):N.L._fromParams({providerId:F,signInMethod:F,pendingToken:Ot,idToken:Me,accessToken:ft}):new N.X(F).credential({idToken:Me,accessToken:ft,rawNonce:rn}):null}return V instanceof ce.ZR?re.credentialFromError(V):re.credentialFromResult(V)}function an(V,j){return j.catch(F=>{throw F instanceof ce.ZR&&function Pn(V,j){var F;const re=null===(F=j.customData)||void 0===F?void 0:F._tokenResponse;if("auth/multi-factor-auth-required"===j?.code)j.resolver=new li(V,N.aq(V,j));else if(re){const Me=Ir(j),ft=j;Me&&(ft.credential=Me,ft.tenantId=re.tenantId||void 0,ft.email=re.email||void 0,ft.phoneNumber=re.phoneNumber||void 0)}}(V,F),F}).then(F=>{const Me=F.user;return{operationType:F.operationType,credential:ci(F),additionalUserInfo:N.ao(F),user:Gt.getOrCreate(Me)}})}function xi(V,j){return dn.apply(this,arguments)}function dn(){return(dn=(0,u.Z)(function*(V,j){const F=yield j;return{verificationId:F.verificationId,confirm:re=>an(V,F.confirm(re))}})).apply(this,arguments)}class li{constructor(j,F){this.resolver=F,this.auth=function Kn(V){return V.wrapped()}(j)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(j){return an(Er(this.auth),this.resolver.resolveSignIn(j))}}class Gt{constructor(j){this._delegate=j,this.multiFactor=N.ar(j)}static getOrCreate(j){return Gt.USER_MAP.has(j)||Gt.USER_MAP.set(j,new Gt(j)),Gt.USER_MAP.get(j)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(j){return this._delegate.getIdTokenResult(j)}getIdToken(j){return this._delegate.getIdToken(j)}linkAndRetrieveDataWithCredential(j){return this.linkWithCredential(j)}linkWithCredential(j){var F=this;return(0,u.Z)(function*(){return an(F.auth,N.a0(F._delegate,j))})()}linkWithPhoneNumber(j,F){var re=this;return(0,u.Z)(function*(){return xi(re.auth,N.l(re._delegate,j,F))})()}linkWithPopup(j){var F=this;return(0,u.Z)(function*(){return an(F.auth,N.d(F._delegate,j,rr))})()}linkWithRedirect(j){var F=this;return(0,u.Z)(function*(){return yield Ln(N.aH(F.auth)),N.g(F._delegate,j,rr)})()}reauthenticateAndRetrieveDataWithCredential(j){return this.reauthenticateWithCredential(j)}reauthenticateWithCredential(j){var F=this;return(0,u.Z)(function*(){return an(F.auth,N.a1(F._delegate,j))})()}reauthenticateWithPhoneNumber(j,F){return xi(this.auth,N.r(this._delegate,j,F))}reauthenticateWithPopup(j){return an(this.auth,N.e(this._delegate,j,rr))}reauthenticateWithRedirect(j){var F=this;return(0,u.Z)(function*(){return yield Ln(N.aH(F.auth)),N.h(F._delegate,j,rr)})()}sendEmailVerification(j){return N.ae(this._delegate,j)}unlink(j){var F=this;return(0,u.Z)(function*(){return yield N.an(F._delegate,j),F})()}updateEmail(j){return N.aj(this._delegate,j)}updatePassword(j){return N.ak(this._delegate,j)}updatePhoneNumber(j){return N.u(this._delegate,j)}updateProfile(j){return N.ai(this._delegate,j)}verifyBeforeUpdateEmail(j,F){return N.af(this._delegate,j,F)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Gt.USER_MAP=new WeakMap;const ir=N.aA;let Wn=(()=>{class V{constructor(F,re){if(this.app=F,re.isInitialized())return this._delegate=re.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Me}=F.options;ir(Me,"invalid-api-key",{appName:F.name}),ir(Me,"invalid-api-key",{appName:F.name});const ft=typeof window<"u"?rr:void 0;this._delegate=re.initialize({options:{persistence:sr(Me,F.name),popupRedirectResolver:ft}}),this._delegate._updateErrorMap(N.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Gt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(F){this._delegate.languageCode=F}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(F){this._delegate.tenantId=F}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(F,re){N.I(this._delegate,F,re)}applyActionCode(F){return N.a5(this._delegate,F)}checkActionCode(F){return N.a6(this._delegate,F)}confirmPasswordReset(F,re){return N.a4(this._delegate,F,re)}createUserWithEmailAndPassword(F,re){var Me=this;return(0,u.Z)(function*(){return an(Me._delegate,N.a8(Me._delegate,F,re))})()}fetchProvidersForEmail(F){return this.fetchSignInMethodsForEmail(F)}fetchSignInMethodsForEmail(F){return N.ad(this._delegate,F)}isSignInWithEmailLink(F){return N.ab(this._delegate,F)}getRedirectResult(){var F=this;return(0,u.Z)(function*(){ir(Xr(),F._delegate,"operation-not-supported-in-this-environment");const re=yield N.j(F._delegate,rr);return re?an(F._delegate,Promise.resolve(re)):{credential:null,user:null}})()}addFrameworkForLogging(F){!function ze(V,j){(0,N.aH)(V)._logFramework(j)}(this._delegate,F)}onAuthStateChanged(F,re,Me){const{next:ft,error:Ft,complete:Ot}=or(F,re,Me);return this._delegate.onAuthStateChanged(ft,Ft,Ot)}onIdTokenChanged(F,re,Me){const{next:ft,error:Ft,complete:Ot}=or(F,re,Me);return this._delegate.onIdTokenChanged(ft,Ft,Ot)}sendSignInLinkToEmail(F,re){return N.aa(this._delegate,F,re)}sendPasswordResetEmail(F,re){return N.a3(this._delegate,F,re||void 0)}setPersistence(F){var re=this;return(0,u.Z)(function*(){let Me;switch(function _r(V,j){$n(Object.values(pn).includes(j),V,"invalid-persistence-type"),(0,ce.b$)()?$n(j!==pn.SESSION,V,"unsupported-persistence-type"):(0,ce.UG)()?$n(j===pn.NONE,V,"unsupported-persistence-type"):nr()?$n(j===pn.NONE||j===pn.LOCAL&&(0,ce.hl)(),V,"unsupported-persistence-type"):$n(j===pn.NONE||wr(),V,"unsupported-persistence-type")}(re._delegate,F),F){case pn.SESSION:Me=N.a;break;case pn.LOCAL:Me=(yield N.aC(N.i)._isAvailable())?N.i:N.b;break;case pn.NONE:Me=N.N;break;default:return N.av("argument-error",{appName:re._delegate.name})}return re._delegate.setPersistence(Me)})()}signInAndRetrieveDataWithCredential(F){return this.signInWithCredential(F)}signInAnonymously(){return an(this._delegate,N._(this._delegate))}signInWithCredential(F){return an(this._delegate,N.$(this._delegate,F))}signInWithCustomToken(F){return an(this._delegate,N.a2(this._delegate,F))}signInWithEmailAndPassword(F,re){return an(this._delegate,N.a9(this._delegate,F,re))}signInWithEmailLink(F,re){return an(this._delegate,N.ac(this._delegate,F,re))}signInWithPhoneNumber(F,re){return xi(this._delegate,N.s(this._delegate,F,re))}signInWithPopup(F){var re=this;return(0,u.Z)(function*(){return ir(Xr(),re._delegate,"operation-not-supported-in-this-environment"),an(re._delegate,N.c(re._delegate,F,rr))})()}signInWithRedirect(F){var re=this;return(0,u.Z)(function*(){return ir(Xr(),re._delegate,"operation-not-supported-in-this-environment"),yield Ln(re._delegate),N.f(re._delegate,F,rr)})()}updateCurrentUser(F){return this._delegate.updateCurrentUser(F)}verifyPasswordResetCode(F){return N.a7(this._delegate,F)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return V.Persistence=pn,V})();function or(V,j,F){let re=V;"function"!=typeof V&&({next:re,error:j,complete:F}=V);const Me=re;return{next:Ft=>Me(Ft&&Gt.getOrCreate(Ft)),error:j,complete:F}}function sr(V,j){const F=function nn(V,j){const F=wt();if(!F)return[];const re=N.aD(Zn,V,j);switch(F.getItem(re)){case pn.NONE:return[N.N];case pn.LOCAL:return[N.i,N.a];case pn.SESSION:return[N.a];default:return[]}}(V,j);if(typeof self<"u"&&!F.includes(N.i)&&F.push(N.i),typeof window<"u")for(const re of[N.b,N.a])F.includes(re)||F.push(re);return F.includes(N.N)||F.push(N.N),F}class ei{constructor(){this.providerId="phone",this._delegate=new N.P(Er(Y.Z.auth()))}static credential(j,F){return N.P.credential(j,F)}verifyPhoneNumber(j,F){return this._delegate.verifyPhoneNumber(j,F)}unwrap(){return this._delegate}}ei.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,ei.PROVIDER_ID=N.P.PROVIDER_ID;const qr=N.aA;class Pr{constructor(j,F,re=Y.Z.app()){var Me;qr(null===(Me=re.options)||void 0===Me?void 0:Me.apiKey,"invalid-api-key",{appName:re.name}),this._delegate=new N.R(j,F,re.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function K(V){V.INTERNAL.registerComponent(new xe.wA("auth-compat",j=>{const F=j.getProvider("app-compat").getImmediate(),re=j.getProvider("auth");return new Wn(F,re)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.Q,FacebookAuthProvider:N.U,GithubAuthProvider:N.W,GoogleAuthProvider:N.V,OAuthProvider:N.X,SAMLAuthProvider:N.Y,PhoneAuthProvider:ei,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:Pr,TwitterAuthProvider:N.Z,Auth:Wn,AuthCredential:N.J,Error:ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),V.registerVersion("@firebase/auth-compat","0.4.2")}(Y.Z)},5861:(xt,Oe,B)=>{"use strict";function u(N,ce,pe,$,xe,Ce,Ae){try{var te=N[Ce](Ae),Q=te.value}catch(se){return void pe(se)}te.done?ce(Q):Promise.resolve(Q).then($,xe)}function Y(N){return function(){var ce=this,pe=arguments;return new Promise(function($,xe){var Ce=N.apply(ce,pe);function Ae(Q){u(Ce,$,xe,Ae,te,"next",Q)}function te(Q){u(Ce,$,xe,Ae,te,"throw",Q)}Ae(void 0)})}}B.d(Oe,{Z:()=>Y})},7582:(xt,Oe,B)=>{"use strict";function ce(me,Se){var Pe={};for(var Le in me)Object.prototype.hasOwnProperty.call(me,Le)&&Se.indexOf(Le)<0&&(Pe[Le]=me[Le]);if(null!=me&&"function"==typeof Object.getOwnPropertySymbols){var et=0;for(Le=Object.getOwnPropertySymbols(me);et<Le.length;et++)Se.indexOf(Le[et])<0&&Object.prototype.propertyIsEnumerable.call(me,Le[et])&&(Pe[Le[et]]=me[Le[et]])}return Pe}function se(me,Se,Pe,Le){return new(Pe||(Pe=Promise))(function(ze,Ve){function Et(It){try{vt(Le.next(It))}catch(gn){Ve(gn)}}function Fn(It){try{vt(Le.throw(It))}catch(gn){Ve(gn)}}function vt(It){It.done?ze(It.value):function et(ze){return ze instanceof Pe?ze:new Pe(function(Ve){Ve(ze)})}(It.value).then(Et,Fn)}vt((Le=Le.apply(me,Se||[])).next())})}function ke(me){return this instanceof ke?(this.v=me,this):new ke(me)}function De(me,Se,Pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et,Le=Pe.apply(me,Se||[]),ze=[];return et={},Ve("next"),Ve("throw"),Ve("return"),et[Symbol.asyncIterator]=function(){return this},et;function Ve(en){Le[en]&&(et[en]=function(bn){return new Promise(function(zr,Dn){ze.push([en,bn,zr,Dn])>1||Et(en,bn)})})}function Et(en,bn){try{!function Fn(en){en.value instanceof ke?Promise.resolve(en.value.v).then(vt,It):gn(ze[0][2],en)}(Le[en](bn))}catch(zr){gn(ze[0][3],zr)}}function vt(en){Et("next",en)}function It(en){Et("throw",en)}function gn(en,bn){en(bn),ze.shift(),ze.length&&Et(ze[0][0],ze[0][1])}}function We(me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,Se=me[Symbol.asyncIterator];return Se?Se.call(me):(me=function ht(me){var Se="function"==typeof Symbol&&Symbol.iterator,Pe=Se&&me[Se],Le=0;if(Pe)return Pe.call(me);if(me&&"number"==typeof me.length)return{next:function(){return me&&Le>=me.length&&(me=void 0),{value:me&&me[Le++],done:!me}}};throw new TypeError(Se?"Object is not iterable.":"Symbol.iterator is not defined.")}(me),Pe={},Le("next"),Le("throw"),Le("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe);function Le(ze){Pe[ze]=me[ze]&&function(Ve){return new Promise(function(Et,Fn){!function et(ze,Ve,Et,Fn){Promise.resolve(Fn).then(function(vt){ze({value:vt,done:Et})},Ve)}(Et,Fn,(Ve=me[ze](Ve)).done,Ve.value)})}}}B.d(Oe,{FC:()=>De,KL:()=>We,_T:()=>ce,mG:()=>se,qq:()=>ke})}},xt=>{xt(xt.s=1925)}]);