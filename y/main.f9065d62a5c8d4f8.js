(self.webpackChunkClinicaOnlineLaboIV=self.webpackChunkClinicaOnlineLaboIV||[]).push([[179],{2313:(Qt,Ye,U)=>{"use strict";U.d(Ye,{nm:()=>Sr});var w=U(4976),be=(U(4650),U(3692),U(259),U(5861)),ne=U(6881),Ne=U(4859),me=U(2090),Se=U(1877);const fe=new Map,ge={activated:!1,tokenObservers:[]},ve={initialized:!1,enabled:!1};function je(We){return fe.get(We)||Object.assign({},ge)}function St(){return ve}const Ut="https://content-firebaseappcheck.googleapis.com/v1",xe="exchangeDebugToken",ot={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Le{constructor(Be,Ue,xt,jt,Vn){if(this.operation=Be,this.retryPolicy=Ue,this.getWaitDuration=xt,this.lowerBound=jt,this.upperBound=Vn,this.pending=null,this.nextErrorWaitInterval=jt,jt>Vn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Be){var Ue=this;return(0,be.Z)(function*(){Ue.stop();try{Ue.pending=new me.BH,yield function Qe(We){return new Promise(Be=>{setTimeout(Be,We)})}(Ue.getNextRun(Be)),Ue.pending.resolve(),yield Ue.pending.promise,Ue.pending=new me.BH,yield Ue.operation(),Ue.pending.resolve(),yield Ue.pending.promise,Ue.process(!0).catch(()=>{})}catch(xt){Ue.retryPolicy(xt)?Ue.process(!1).catch(()=>{}):Ue.stop()}})()}getNextRun(Be){if(Be)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ue=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ue}}}const It=new me.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Bt(We){if(!je(We).activated)throw It.create("use-before-activation",{appName:We.name})}function ln(We,Be){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,be.Z)(function*({url:We,body:Be},Ue){const xt={"Content-Type":"application/json"},jt=Ue.getImmediate({optional:!0});if(jt){const Hi=yield jt.getHeartbeatsHeader();Hi&&(xt["X-Firebase-Client"]=Hi)}const Vn={method:"POST",body:JSON.stringify(Be),headers:xt};let cr,qn;try{cr=yield fetch(We,Vn)}catch(Hi){throw It.create("fetch-network-error",{originalErrorMessage:Hi?.message})}if(200!==cr.status)throw It.create("fetch-status-error",{httpStatus:cr.status});try{qn=yield cr.json()}catch(Hi){throw It.create("fetch-parse-error",{originalErrorMessage:Hi?.message})}const Jn=qn.ttl.match(/^([\d.]+)(s)$/);if(!Jn||!Jn[2]||isNaN(Number(Jn[1])))throw It.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${qn.ttl}`});const Ci=1e3*Number(Jn[1]),Ii=Date.now();return{token:qn.token,expireTimeMillis:Ii+Ci,issuedAtTimeMillis:Ii}})).apply(this,arguments)}function Je(We,Be){const{projectId:Ue,appId:xt,apiKey:jt}=We.options;return{url:`${Ut}/projects/${Ue}/apps/${xt}:${xe}?key=${jt}`,body:{debug_token:Be}}}const ct="firebase-app-check-database",gt=1,rt="firebase-app-check-store";let Ve=null;function Rn(We,Be){return er.apply(this,arguments)}function er(){return(er=(0,be.Z)(function*(We,Be){const xt=(yield function mt(){return Ve||(Ve=new Promise((We,Be)=>{try{const Ue=indexedDB.open(ct,gt);Ue.onsuccess=xt=>{We(xt.target.result)},Ue.onerror=xt=>{var jt;Be(It.create("storage-open",{originalErrorMessage:null===(jt=xt.target.error)||void 0===jt?void 0:jt.message}))},Ue.onupgradeneeded=xt=>{0===xt.oldVersion&&xt.target.result.createObjectStore(rt,{keyPath:"compositeKey"})}}catch(Ue){Be(It.create("storage-open",{originalErrorMessage:Ue?.message}))}}),Ve)}()).transaction(rt,"readwrite"),Vn=xt.objectStore(rt).put({compositeKey:We,value:Be});return new Promise((cr,qn)=>{Vn.onsuccess=Jn=>{cr()},xt.onerror=Jn=>{var Ci;qn(It.create("storage-set",{originalErrorMessage:null===(Ci=Jn.target.error)||void 0===Ci?void 0:Ci.message}))}})})).apply(this,arguments)}const yr=new Se.Yd("@firebase/app-check");function $n(We,Be){return(0,me.hl)()?function _t(We,Be){return Rn(function fr(We){return`${We.options.appId}-${We.name}`}(We),Be)}(We,Be).catch(Ue=>{yr.warn(`Failed to write token to IndexedDB. Error: ${Ue}`)}):Promise.resolve()}function Pn(){return St().enabled}function Ir(){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,be.Z)(function*(){const We=St();if(We.enabled&&We.token)return We.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const mr={error:"UNKNOWN_ERROR"};function Qn(We){return me.US.encodeString(JSON.stringify(We),!1)}function Ln(We){return an.apply(this,arguments)}function an(){return(an=(0,be.Z)(function*(We,Be=!1){const Ue=We.app;Bt(Ue);const xt=je(Ue);let Vn,jt=xt.token;if(jt&&!Un(jt)&&(xt.token=void 0,jt=void 0),!jt){const Jn=yield xt.cachedTokenPromise;Jn&&(Un(Jn)?jt=Jn:yield $n(Ue,void 0))}if(!Be&&jt&&Un(jt))return{token:jt.token};let qn,cr=!1;if(Pn()){xt.exchangeTokenPromise||(xt.exchangeTokenPromise=ln(Je(Ue,yield Ir()),We.heartbeatServiceProvider).finally(()=>{xt.exchangeTokenPromise=void 0}),cr=!0);const Jn=yield xt.exchangeTokenPromise;return yield $n(Ue,Jn),xt.token=Jn,{token:Jn.token}}try{xt.exchangeTokenPromise||(xt.exchangeTokenPromise=xt.provider.getToken().finally(()=>{xt.exchangeTokenPromise=void 0}),cr=!0),jt=yield je(Ue).exchangeTokenPromise}catch(Jn){"appCheck/throttled"===Jn.code?yr.warn(Jn.message):yr.error(Jn),Vn=Jn}return jt?Vn?qn=Un(jt)?{token:jt.token,internalError:Vn}:pi(Vn):(qn={token:jt.token},xt.token=jt,yield $n(Ue,jt)):qn=pi(Vn),cr&&function ri(We,Be){const Ue=je(We).tokenObservers;for(const xt of Ue)try{"EXTERNAL"===xt.type&&null!=Be.error?xt.error(Be.error):xt.next(Be)}catch{}}(Ue,qn),qn})).apply(this,arguments)}function In(We){return kn.apply(this,arguments)}function kn(){return(kn=(0,be.Z)(function*(We){const Be=We.app;Bt(Be);const{provider:Ue}=je(Be);if(Pn()){const xt=yield Ir(),{token:jt}=yield ln(Je(Be,xt),We.heartbeatServiceProvider);return{token:jt}}{const{token:xt}=yield Ue.getToken();return{token:xt}}})).apply(this,arguments)}function Cr(We,Be){const Ue=je(We),xt=Ue.tokenObservers.filter(jt=>jt.next!==Be);0===xt.length&&Ue.tokenRefresher&&Ue.tokenRefresher.isRunning()&&Ue.tokenRefresher.stop(),Ue.tokenObservers=xt}function hi(We){const{app:Be}=We,Ue=je(Be);let xt=Ue.tokenRefresher;xt||(xt=function pr(We){const{app:Be}=We;return new Le((0,be.Z)(function*(){let xt;if(xt=je(Be).token?yield Ln(We,!0):yield Ln(We),xt.error)throw xt.error;if(xt.internalError)throw xt.internalError}),()=>!0,()=>{const Ue=je(Be);if(Ue.token){let xt=Ue.token.issuedAtTimeMillis+.5*(Ue.token.expireTimeMillis-Ue.token.issuedAtTimeMillis)+3e5;return xt=Math.min(xt,Ue.token.expireTimeMillis-3e5),Math.max(0,xt-Date.now())}return 0},ot.RETRIAL_MIN_WAIT,ot.RETRIAL_MAX_WAIT)}(We),Ue.tokenRefresher=xt),!xt.isRunning()&&Ue.isTokenAutoRefreshEnabled&&xt.start()}function Un(We){return We.expireTimeMillis-Date.now()>0}function pi(We){return{token:Qn(mr),error:We}}class ir{constructor(Be,Ue){this.app=Be,this.heartbeatServiceProvider=Ue}_delete(){const{tokenObservers:Be}=je(this.app);for(const Ue of Be)Cr(this.app,Ue.next);return Promise.resolve()}}const Ht="app-check-internal";!function Bn(){(0,ne._registerComponent)(new Ne.wA("app-check",We=>function vr(We,Be){return new ir(We,Be)}(We.getProvider("app").getImmediate(),We.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((We,Be,Ue)=>{We.getProvider(Ht).initialize()})),(0,ne._registerComponent)(new Ne.wA(Ht,We=>function vn(We){return{getToken:Be=>Ln(We,Be),getLimitedUseToken:()=>In(We),addTokenListener:Be=>function yn(We,Be,Ue,xt){const{app:jt}=We,Vn=je(jt);if(Vn.tokenObservers=[...Vn.tokenObservers,{next:Ue,error:xt,type:Be}],Vn.token&&Un(Vn.token)){const qn=Vn.token;Promise.resolve().then(()=>{Ue({token:qn.token}),hi(We)}).catch(()=>{})}Vn.cachedTokenPromise.then(()=>hi(We))}(We,"INTERNAL",Be),removeTokenListener:Be=>Cr(We.app,Be)}}(We.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ne.registerVersion)("@firebase/app-check","0.8.0")}();class Sr{constructor(){return(0,w.vb)("app-check")}}typeof window<"u"&&window},3692:(Qt,Ye,U)=>{"use strict";U.d(Ye,{Ot:()=>ye,ZF:()=>tt,hX:()=>je,z6:()=>be});var w=U(259),j=U(4650),h=U(4976);class ye{constructor(Le){return Le}}class be{constructor(){return(0,w.C6)()}}const me=new j.OlP("angularfire2._apps"),Se={provide:ye,useFactory:function Ne(Ge){return Ge&&1===Ge.length?Ge[0]:new ye((0,w.Mq)())},deps:[[new j.FiY,me]]},fe={provide:be,deps:[[new j.FiY,me]]};function ge(Ge){return(Le,Qe)=>{const Mt=Le.runOutsideAngular(()=>Ge(Qe));return new ye(Mt)}}let ve=(()=>{class Ge{constructor(Qe){(0,w.KN)("angularfire",h.q4.full,"core"),(0,w.KN)("angularfire",h.q4.full,"app"),(0,w.KN)("angular",j.q4F.full,Qe.toString())}}return Ge.\u0275fac=function(Qe){return new(Qe||Ge)(j.LFG(j.Lbi))},Ge.\u0275mod=j.oAB({type:Ge}),Ge.\u0275inj=j.cJS({providers:[Se,fe]}),Ge})();function je(Ge,...Le){return{ngModule:ve,providers:[{provide:me,useFactory:ge(Ge),multi:!0,deps:[j.R0b,j.zs3,h.HU,...Le]}]}}const tt=(0,h.u3)(w.ZF,!0)},7246:(Qt,Ye,U)=>{"use strict";U.d(Ye,{gx:()=>ve,dh:()=>je,Xb:()=>ln,v0:()=>Je,AR:()=>Ge,w$:()=>An,e5:()=>Qn});var w=U(4976),j=U(4650),h=U(3692),ye=U(259),be=U(2313),ne=U(1389);U(2090),U(6881),U(1877),U(4859);class ve{constructor(re){return re}}class je{constructor(){return(0,w.vb)("auth")}}const St=new j.OlP("angularfire2.auth-instances");function tt(bt){return(re,Ie)=>{const lt=re.runOutsideAngular(()=>bt(Ie));return new ve(lt)}}const ut={provide:je,deps:[[new j.FiY,St]]},xe={provide:ve,useFactory:function Ut(bt,re){const Ie=(0,w.JM)("auth",bt,re);return Ie&&new ve(Ie)},deps:[[new j.FiY,St],h.Ot]};let ot=(()=>{class bt{constructor(){(0,ye.KN)("angularfire",w.q4.full,"auth")}}return bt.\u0275fac=function(Ie){return new(Ie||bt)},bt.\u0275mod=j.oAB({type:bt}),bt.\u0275inj=j.cJS({providers:[xe,ut]}),bt})();function Ge(bt,...re){return{ngModule:ot,providers:[{provide:St,useFactory:tt(bt),multi:!0,deps:[j.R0b,j.zs3,w.HU,h.z6,[new j.FiY,be.nm],...re]}]}}const ln=(0,w.u3)(ne.a8,!0),Je=(0,w.u3)(ne.o,!0),An=(0,w.u3)(ne.ae,!0),Qn=(0,w.u3)(ne.a9,!0)},1205:(Qt,Ye,U)=>{"use strict";U.d(Ye,{zQ:()=>Pr,ww:()=>at,rT:()=>Wt,f7:()=>ln,L6:()=>ze,_Q:()=>Bt,lh:()=>Vt,Qv:()=>It,nw:()=>Gt});var w=U(4650),j=U(7579),h=U(9646),ye=U(9751),be=U(8996),ne=U(6451),Ne=U(5363),me=U(3900),Se=U(4004),fe=U(6063);class ge extends j.x{constructor(ct=1/0,gt=1/0,rt=fe.l){super(),this._bufferSize=ct,this._windowTime=gt,this._timestampProvider=rt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=gt===1/0,this._bufferSize=Math.max(1,ct),this._windowTime=Math.max(1,gt)}next(ct){const{isStopped:gt,_buffer:rt,_infiniteTimeWindow:Xe,_timestampProvider:Ve,_windowTime:mt}=this;gt||(rt.push(ct),!Xe&&rt.push(Ve.now()+mt)),this._trimBuffer(),super.next(ct)}_subscribe(ct){this._throwIfClosed(),this._trimBuffer();const gt=this._innerSubscribe(ct),{_infiniteTimeWindow:rt,_buffer:Xe}=this,Ve=Xe.slice();for(let mt=0;mt<Ve.length&&!ct.closed;mt+=rt?1:2)ct.next(Ve[mt]);return this._checkFinalizedStatuses(ct),gt}_trimBuffer(){const{_bufferSize:ct,_timestampProvider:gt,_buffer:rt,_infiniteTimeWindow:Xe}=this,Ve=(Xe?1:2)*ct;if(ct<1/0&&Ve<rt.length&&rt.splice(0,rt.length-Ve),!Xe){const mt=gt.now();let En=0;for(let _t=1;_t<rt.length&&rt[_t]<=mt;_t+=2)En=_t;En&&rt.splice(0,En+1)}}}var ve=U(3099);function je(Je,ct,gt){let rt,Xe=!1;return Je&&"object"==typeof Je?({bufferSize:rt=1/0,windowTime:ct=1/0,refCount:Xe=!1,scheduler:gt}=Je):rt=Je??1/0,(0,ve.B)({connector:()=>new ge(rt,ct,gt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Xe})}var nt=U(590),St=U(576);function Ut(Je,ct){return(0,St.m)(ct)?(0,me.w)(()=>Je,ct):(0,me.w)(()=>Je)}var tt=U(9468),ut=U(9300),xe=U(4976),ot=U(2011),Ge=U(6895),Le=U(2313),Qe=U(9260);const It=new w.OlP("angularfire2.auth.use-emulator"),ze=new w.OlP("angularfire2.auth.settings"),Bt=new w.OlP("angularfire2.auth.tenant-id"),Wt=new w.OlP("angularfire2.auth.langugage-code"),Vt=new w.OlP("angularfire2.auth.use-device-language"),ln=new w.OlP("angularfire.auth.persistence"),Gt=(Je,ct,gt,rt,Xe,Ve,mt,En)=>(0,ot.cc)(`${Je.name}.auth`,"AngularFireAuth",Je.name,()=>{const _t=ct.runOutsideAngular(()=>Je.auth());if(gt&&_t.useEmulator(...gt),rt&&(_t.tenantId=rt),_t.languageCode=Xe,Ve&&_t.useDeviceLanguage(),mt)for(const[zt,zn]of Object.entries(mt))_t.settings[zt]=zn;return En&&_t.setPersistence(En),_t},[gt,rt,Xe,Ve,mt,En]);let Pr=(()=>{class Je{constructor(gt,rt,Xe,Ve,mt,En,_t,zt,zn,Rn,er,Or){const Gn=new j.x,fr=(0,h.of)(void 0).pipe((0,Ne.Q)(mt.outsideAngular),(0,me.w)(()=>Ve.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,9568)))),(0,Se.U)(()=>(0,ot.on)(gt,Ve,rt)),(0,Se.U)(yr=>Gt(yr,Ve,En,zt,zn,Rn,_t,er)),je({bufferSize:1,refCount:!1}));if((0,Ge.PM)(Xe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,h.of)(null);else{fr.pipe((0,nt.P)()).subscribe();const Vr=fr.pipe((0,me.w)(An=>An.getRedirectResult().then(Kt=>Kt,()=>null)),xe.iC,je({bufferSize:1,refCount:!1})),Nn=fr.pipe((0,me.w)(An=>new ye.y(Kt=>({unsubscribe:Ve.runOutsideAngular(()=>An.onAuthStateChanged(Pn=>Kt.next(Pn),Pn=>Kt.error(Pn),()=>Kt.complete()))})))),$n=fr.pipe((0,me.w)(An=>new ye.y(Kt=>({unsubscribe:Ve.runOutsideAngular(()=>An.onIdTokenChanged(Pn=>Kt.next(Pn),Pn=>Kt.error(Pn),()=>Kt.complete()))}))));this.authState=Vr.pipe(Ut(Nn),(0,tt.R)(mt.outsideAngular),(0,Ne.Q)(mt.insideAngular)),this.user=Vr.pipe(Ut($n),(0,tt.R)(mt.outsideAngular),(0,Ne.Q)(mt.insideAngular)),this.idToken=this.user.pipe((0,me.w)(An=>An?(0,be.D)(An.getIdToken()):(0,h.of)(null))),this.idTokenResult=this.user.pipe((0,me.w)(An=>An?(0,be.D)(An.getIdTokenResult()):(0,h.of)(null))),this.credential=(0,ne.T)(Vr,Gn,this.authState.pipe((0,ut.h)(An=>!An))).pipe((0,Se.U)(An=>An?.user?An:null),(0,tt.R)(mt.outsideAngular),(0,Ne.Q)(mt.insideAngular))}return(0,ot.pX)(this,fr,Ve,{spy:{apply:(yr,Vr,Nn)=>{(yr.startsWith("signIn")||yr.startsWith("createUser"))&&Nn.then($n=>Gn.next($n))}}})}}return Je.\u0275fac=function(gt){return new(gt||Je)(w.LFG(ot.Dh),w.LFG(ot.xv,8),w.LFG(w.Lbi),w.LFG(w.R0b),w.LFG(xe.HU),w.LFG(It,8),w.LFG(ze,8),w.LFG(Bt,8),w.LFG(Wt,8),w.LFG(Vt,8),w.LFG(ln,8),w.LFG(Le.nm,8))},Je.\u0275prov=w.Yz7({token:Je,factory:Je.\u0275fac,providedIn:"any"}),Je})(),at=(()=>{class Je{constructor(){Qe.Z.registerVersion("angularfire",xe.q4.full,"auth-compat")}}return Je.\u0275fac=function(gt){return new(gt||Je)},Je.\u0275mod=w.oAB({type:Je}),Je.\u0275inj=w.cJS({providers:[Pr]}),Je})()},7977:(Qt,Ye,U)=>{"use strict";U.d(Ye,{ST:()=>vr,yb:()=>vn});var w=U(4650),j=U(4986),h=U(9751),ye=U(8996),be=U(9646),ne=U(4976),Ne=U(8675),me=U(4482),Se=U(5403);function fe(){return(0,me.e)((bt,re)=>{let Ie,lt=!1;bt.subscribe((0,Se.x)(re,qt=>{const wt=Ie;Ie=qt,lt&&re.next([wt,qt]),lt=!0}))})}var ge=U(4004),ve=U(5026),je=U(1884),nt=U(9300),St=U(2011),Ut=U(6895),ut=(U(9568),U(3942)),xe=U(2810),ot=U(2090),Ge=U(4859);function Mt(bt,re){if(void 0===re)return{merge:!1};if(void 0!==re.mergeFields&&void 0!==re.merge)throw new xe.WA("invalid-argument",`Invalid options passed to function ${bt}(): You cannot specify both "merge" and "mergeFields".`);return re}function It(){if(typeof Uint8Array>"u")throw new xe.WA("unimplemented","Uint8Arrays are not available in this environment.")}function ze(){if(!(0,xe.Me)())throw new xe.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Bt{constructor(re){this._delegate=re}static fromBase64String(re){return ze(),new Bt(xe.Jj.fromBase64String(re))}static fromUint8Array(re){return It(),new Bt(xe.Jj.fromUint8Array(re))}toBase64(){return ze(),this._delegate.toBase64()}toUint8Array(){return It(),this._delegate.toUint8Array()}isEqual(re){return this._delegate.isEqual(re._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Wt(bt){return function Vt(bt,re){if("object"!=typeof bt||null===bt)return!1;const Ie=bt;for(const lt of re)if(lt in Ie&&"function"==typeof Ie[lt])return!0;return!1}(bt,["next","error","complete"])}class ln{enableIndexedDbPersistence(re,Ie){return(0,xe.ST)(re._delegate,{forceOwnership:Ie})}enableMultiTabIndexedDbPersistence(re){return(0,xe.fH)(re._delegate)}clearIndexedDbPersistence(re){return(0,xe.Fc)(re._delegate)}}class Gt{constructor(re,Ie,lt){this._delegate=Ie,this._persistenceProvider=lt,this.INTERNAL={delete:()=>this.terminate()},re instanceof xe.l7||(this._appCompat=re)}get _databaseId(){return this._delegate._databaseId}settings(re){const Ie=this._delegate._getSettings();!re.merge&&Ie.host!==re.host&&(0,xe.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),re.merge&&delete(re=Object.assign(Object.assign({},Ie),re)).merge,this._delegate._setSettings(re)}useEmulator(re,Ie,lt={}){(0,xe.at)(this._delegate,re,Ie,lt)}enableNetwork(){return(0,xe.Ix)(this._delegate)}disableNetwork(){return(0,xe.TF)(this._delegate)}enablePersistence(re){let Ie=!1,lt=!1;return re&&(Ie=!!re.synchronizeTabs,lt=!!re.experimentalForceOwningTab,(0,xe.Wi)("synchronizeTabs",Ie,"experimentalForceOwningTab",lt)),Ie?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,lt)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,xe.Mx)(this._delegate)}onSnapshotsInSync(re){return(0,xe.sc)(this._delegate,re)}get app(){if(!this._appCompat)throw new xe.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(re){try{return new er(this,(0,xe.hJ)(this._delegate,re))}catch(Ie){throw Xe(Ie,"collection()","Firestore.collection()")}}doc(re){try{return new rt(this,(0,xe.JU)(this._delegate,re))}catch(Ie){throw Xe(Ie,"doc()","Firestore.doc()")}}collectionGroup(re){try{return new zt(this,(0,xe.B$)(this._delegate,re))}catch(Ie){throw Xe(Ie,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(re){return(0,xe.i3)(this._delegate,Ie=>re(new Je(this,Ie)))}batch(){return(0,xe.qY)(this._delegate),new ct(new xe.PU(this._delegate,re=>(0,xe.GL)(this._delegate,re)))}loadBundle(re){return(0,xe.Pb)(this._delegate,re)}namedQuery(re){return(0,xe.L$)(this._delegate,re).then(Ie=>Ie?new zt(this,Ie):null)}}class Pr extends xe.u7{constructor(re){super(),this.firestore=re}convertBytes(re){return new Bt(new xe.Jj(re))}convertReference(re){const Ie=this.convertDocumentKey(re,this.firestore._databaseId);return rt.forKey(Ie,this.firestore,null)}}class Je{constructor(re,Ie){this._firestore=re,this._delegate=Ie,this._userDataWriter=new Pr(re)}get(re){const Ie=Or(re);return this._delegate.get(Ie).then(lt=>new En(this._firestore,new xe.xU(this._firestore._delegate,this._userDataWriter,lt._key,lt._document,lt.metadata,Ie.converter)))}set(re,Ie,lt){const qt=Or(re);return lt?(Mt("Transaction.set",lt),this._delegate.set(qt,Ie,lt)):this._delegate.set(qt,Ie),this}update(re,Ie,lt,...qt){const wt=Or(re);return 2===arguments.length?this._delegate.update(wt,Ie):this._delegate.update(wt,Ie,lt,...qt),this}delete(re){const Ie=Or(re);return this._delegate.delete(Ie),this}}class ct{constructor(re){this._delegate=re}set(re,Ie,lt){const qt=Or(re);return lt?(Mt("WriteBatch.set",lt),this._delegate.set(qt,Ie,lt)):this._delegate.set(qt,Ie),this}update(re,Ie,lt,...qt){const wt=Or(re);return 2===arguments.length?this._delegate.update(wt,Ie):this._delegate.update(wt,Ie,lt,...qt),this}delete(re){const Ie=Or(re);return this._delegate.delete(Ie),this}commit(){return this._delegate.commit()}}class gt{constructor(re,Ie,lt){this._firestore=re,this._userDataWriter=Ie,this._delegate=lt}fromFirestore(re,Ie){const lt=new xe.$q(this._firestore._delegate,this._userDataWriter,re._key,re._document,re.metadata,null);return this._delegate.fromFirestore(new _t(this._firestore,lt),Ie??{})}toFirestore(re,Ie){return Ie?this._delegate.toFirestore(re,Ie):this._delegate.toFirestore(re)}static getInstance(re,Ie){const lt=gt.INSTANCES;let qt=lt.get(re);qt||(qt=new WeakMap,lt.set(re,qt));let wt=qt.get(Ie);return wt||(wt=new gt(re,new Pr(re),Ie),qt.set(Ie,wt)),wt}}gt.INSTANCES=new WeakMap;class rt{constructor(re,Ie){this.firestore=re,this._delegate=Ie,this._userDataWriter=new Pr(re)}static forPath(re,Ie,lt){if(re.length%2!=0)throw new xe.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${re.canonicalString()} has ${re.length}`);return new rt(Ie,new xe.my(Ie._delegate,lt,new xe.Ky(re)))}static forKey(re,Ie,lt){return new rt(Ie,new xe.my(Ie._delegate,lt,re))}get id(){return this._delegate.id}get parent(){return new er(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(re){try{return new er(this.firestore,(0,xe.hJ)(this._delegate,re))}catch(Ie){throw Xe(Ie,"collection()","DocumentReference.collection()")}}isEqual(re){return(re=(0,ot.m9)(re))instanceof xe.my&&(0,xe.Eo)(this._delegate,re)}set(re,Ie){Ie=Mt("DocumentReference.set",Ie);try{return Ie?(0,xe.pl)(this._delegate,re,Ie):(0,xe.pl)(this._delegate,re)}catch(lt){throw Xe(lt,"setDoc()","DocumentReference.set()")}}update(re,Ie,...lt){try{return 1===arguments.length?(0,xe.r7)(this._delegate,re):(0,xe.r7)(this._delegate,re,Ie,...lt)}catch(qt){throw Xe(qt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,xe.oe)(this._delegate)}onSnapshot(...re){const Ie=Ve(re),lt=mt(re,qt=>new En(this.firestore,new xe.xU(this.firestore._delegate,this._userDataWriter,qt._key,qt._document,qt.metadata,this._delegate.converter)));return(0,xe.cf)(this._delegate,Ie,lt)}get(re){let Ie;return Ie="cache"===re?.source?(0,xe.kl)(this._delegate):"server"===re?.source?(0,xe.Xk)(this._delegate):(0,xe.QT)(this._delegate),Ie.then(lt=>new En(this.firestore,new xe.xU(this.firestore._delegate,this._userDataWriter,lt._key,lt._document,lt.metadata,this._delegate.converter)))}withConverter(re){return new rt(this.firestore,this._delegate.withConverter(re?gt.getInstance(this.firestore,re):null))}}function Xe(bt,re,Ie){return bt.message=bt.message.replace(re,Ie),bt}function Ve(bt){for(const re of bt)if("object"==typeof re&&!Wt(re))return re;return{}}function mt(bt,re){var Ie,lt;let qt;return qt=Wt(bt[0])?bt[0]:Wt(bt[1])?bt[1]:"function"==typeof bt[0]?{next:bt[0],error:bt[1],complete:bt[2]}:{next:bt[1],error:bt[2],complete:bt[3]},{next:wt=>{qt.next&&qt.next(re(wt))},error:null===(Ie=qt.error)||void 0===Ie?void 0:Ie.bind(qt),complete:null===(lt=qt.complete)||void 0===lt?void 0:lt.bind(qt)}}class En{constructor(re,Ie){this._firestore=re,this._delegate=Ie}get ref(){return new rt(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(re){return this._delegate.data(re)}get(re,Ie){return this._delegate.get(re,Ie)}isEqual(re){return(0,xe.qK)(this._delegate,re._delegate)}}class _t extends En{data(re){const Ie=this._delegate.data(re);return(0,xe.K9)(void 0!==Ie,"Document in a QueryDocumentSnapshot should exist"),Ie}}class zt{constructor(re,Ie){this.firestore=re,this._delegate=Ie,this._userDataWriter=new Pr(re)}where(re,Ie,lt){try{return new zt(this.firestore,(0,xe.IO)(this._delegate,(0,xe.ar)(re,Ie,lt)))}catch(qt){throw Xe(qt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(re,Ie){try{return new zt(this.firestore,(0,xe.IO)(this._delegate,(0,xe.Xo)(re,Ie)))}catch(lt){throw Xe(lt,/(orderBy|where)\(\)/,"Query.$1()")}}limit(re){try{return new zt(this.firestore,(0,xe.IO)(this._delegate,(0,xe.b9)(re)))}catch(Ie){throw Xe(Ie,"limit()","Query.limit()")}}limitToLast(re){try{return new zt(this.firestore,(0,xe.IO)(this._delegate,(0,xe.vh)(re)))}catch(Ie){throw Xe(Ie,"limitToLast()","Query.limitToLast()")}}startAt(...re){try{return new zt(this.firestore,(0,xe.IO)(this._delegate,(0,xe.e0)(...re)))}catch(Ie){throw Xe(Ie,"startAt()","Query.startAt()")}}startAfter(...re){try{return new zt(this.firestore,(0,xe.IO)(this._delegate,(0,xe.TQ)(...re)))}catch(Ie){throw Xe(Ie,"startAfter()","Query.startAfter()")}}endBefore(...re){try{return new zt(this.firestore,(0,xe.IO)(this._delegate,(0,xe.Lx)(...re)))}catch(Ie){throw Xe(Ie,"endBefore()","Query.endBefore()")}}endAt(...re){try{return new zt(this.firestore,(0,xe.IO)(this._delegate,(0,xe.Wu)(...re)))}catch(Ie){throw Xe(Ie,"endAt()","Query.endAt()")}}isEqual(re){return(0,xe.iE)(this._delegate,re._delegate)}get(re){let Ie;return Ie="cache"===re?.source?(0,xe.UQ)(this._delegate):"server"===re?.source?(0,xe.zN)(this._delegate):(0,xe.PL)(this._delegate),Ie.then(lt=>new Rn(this.firestore,new xe.W(this.firestore._delegate,this._userDataWriter,this._delegate,lt._snapshot)))}onSnapshot(...re){const Ie=Ve(re),lt=mt(re,qt=>new Rn(this.firestore,new xe.W(this.firestore._delegate,this._userDataWriter,this._delegate,qt._snapshot)));return(0,xe.cf)(this._delegate,Ie,lt)}withConverter(re){return new zt(this.firestore,this._delegate.withConverter(re?gt.getInstance(this.firestore,re):null))}}class zn{constructor(re,Ie){this._firestore=re,this._delegate=Ie}get type(){return this._delegate.type}get doc(){return new _t(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Rn{constructor(re,Ie){this._firestore=re,this._delegate=Ie}get query(){return new zt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(re=>new _t(this._firestore,re))}docChanges(re){return this._delegate.docChanges(re).map(Ie=>new zn(this._firestore,Ie))}forEach(re,Ie){this._delegate.forEach(lt=>{re.call(Ie,new _t(this._firestore,lt))})}isEqual(re){return(0,xe.qK)(this._delegate,re._delegate)}}class er extends zt{constructor(re,Ie){super(re,Ie),this.firestore=re,this._delegate=Ie}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const re=this._delegate.parent;return re?new rt(this.firestore,re):null}doc(re){try{return new rt(this.firestore,void 0===re?(0,xe.JU)(this._delegate):(0,xe.JU)(this._delegate,re))}catch(Ie){throw Xe(Ie,"doc()","CollectionReference.doc()")}}add(re){return(0,xe.ET)(this._delegate,re).then(Ie=>new rt(this.firestore,Ie))}isEqual(re){return(0,xe.Eo)(this._delegate,re._delegate)}withConverter(re){return new er(this.firestore,this._delegate.withConverter(re?gt.getInstance(this.firestore,re):null))}}function Or(bt){return(0,xe.Cf)(bt,xe.my)}class Gn{constructor(...re){this._delegate=new xe.Lz(...re)}static documentId(){return new Gn(xe.Xb.keyField().canonicalString())}isEqual(re){return(re=(0,ot.m9)(re))instanceof xe.Lz&&this._delegate._internalPath.isEqual(re._internalPath)}}class fr{constructor(re){this._delegate=re}static serverTimestamp(){const re=(0,xe.Bt)();return re._methodName="FieldValue.serverTimestamp",new fr(re)}static delete(){const re=(0,xe.AK)();return re._methodName="FieldValue.delete",new fr(re)}static arrayUnion(...re){const Ie=(0,xe.vr)(...re);return Ie._methodName="FieldValue.arrayUnion",new fr(Ie)}static arrayRemove(...re){const Ie=(0,xe.Ab)(...re);return Ie._methodName="FieldValue.arrayRemove",new fr(Ie)}static increment(re){const Ie=(0,xe.nP)(re);return Ie._methodName="FieldValue.increment",new fr(Ie)}isEqual(re){return this._delegate.isEqual(re._delegate)}}const yr={Firestore:Gt,GeoPoint:xe.F8,Timestamp:xe.EK,Blob:Bt,Transaction:Je,WriteBatch:ct,DocumentReference:rt,DocumentSnapshot:En,Query:zt,QueryDocumentSnapshot:_t,QuerySnapshot:Rn,CollectionReference:er,FieldPath:Gn,FieldValue:fr,setLogLevel:function at(bt){(0,xe.Ub)(bt)},CACHE_SIZE_UNLIMITED:xe.IX};!function Nn(bt){(function Vr(bt,re){bt.INTERNAL.registerComponent(new Ge.wA("firestore-compat",Ie=>{const lt=Ie.getProvider("app-compat").getImmediate(),qt=Ie.getProvider("firestore").getImmediate();return re(lt,qt)},"PUBLIC").setServiceProps(Object.assign({},yr)))})(bt,(re,Ie)=>new Gt(re,Ie,new ln)),bt.registerVersion("@firebase/firestore-compat","0.3.10")}(ut.Z);var $n=U(1205),An=U(2313),Kt=U(9260);function Ir(bt,re){return function Pn(bt,re=j.z){return new h.y(Ie=>{let lt;return null!=re?re.schedule(()=>{lt=bt.onSnapshot({includeMetadataChanges:!0},Ie)}):lt=bt.onSnapshot({includeMetadataChanges:!0},Ie),()=>{lt?.()}})}(bt,re)}function $r(bt,re){return Ir(bt,re).pipe((0,ge.U)(Ie=>({payload:Ie,type:"query"})))}function mr(bt,re){return $r(bt,re).pipe((0,Ne.O)(void 0),fe(),(0,ge.U)(([Ie,lt])=>{const qt=lt.payload.docChanges(),wt=qt.map(Me=>({type:Me.type,payload:Me}));return Ie&&JSON.stringify(Ie.payload.metadata)!==JSON.stringify(lt.payload.metadata)&&lt.payload.docs.forEach((Me,J)=>{const se=qt.find(oe=>oe.doc.ref.isEqual(Me.ref)),X=Ie?.payload.docs.find(oe=>oe.ref.isEqual(Me.ref));se&&JSON.stringify(se.doc.metadata)===JSON.stringify(Me.metadata)||!se&&X&&JSON.stringify(X.metadata)===JSON.stringify(Me.metadata)||wt.push({type:"modified",payload:{oldIndex:J,newIndex:J,type:"modified",doc:Me}})}),wt}))}function Qn(bt,re,Ie){return mr(bt,Ie).pipe((0,ve.R)((lt,qt)=>function Ln(bt,re,Ie){return re.forEach(lt=>{Ie.indexOf(lt.type)>-1&&(bt=function In(bt,re){switch(re.type){case"added":if(!bt[re.newIndex]||!bt[re.newIndex].doc.ref.isEqual(re.doc.ref))return an(bt,re.newIndex,0,re);break;case"modified":if(null==bt[re.oldIndex]||bt[re.oldIndex].doc.ref.isEqual(re.doc.ref)){if(re.oldIndex!==re.newIndex){const Ie=bt.slice();return Ie.splice(re.oldIndex,1),Ie.splice(re.newIndex,0,re),Ie}return an(bt,re.newIndex,1,re)}break;case"removed":if(bt[re.oldIndex]&&bt[re.oldIndex].doc.ref.isEqual(re.doc.ref))return an(bt,re.oldIndex,1)}return bt}(bt,lt))}),bt}(lt,qt.map(wt=>wt.payload),re),[]),(0,je.x)(),(0,ge.U)(lt=>lt.map(qt=>({type:qt.type,payload:qt}))))}function an(bt,re,Ie,...lt){const qt=bt.slice();return qt.splice(re,Ie,...lt),qt}function kn(bt){return(!bt||0===bt.length)&&(bt=["added","removed","modified"]),bt}class yn{constructor(re,Ie,lt){this.ref=re,this.query=Ie,this.afs=lt}stateChanges(re){let Ie=mr(this.query,this.afs.schedulers.outsideAngular);return re&&re.length>0&&(Ie=Ie.pipe((0,ge.U)(lt=>lt.filter(qt=>re.indexOf(qt.type)>-1)))),Ie.pipe((0,Ne.O)(void 0),fe(),(0,nt.h)(([lt,qt])=>qt.length>0||!lt),(0,ge.U)(([lt,qt])=>qt),ne.iC)}auditTrail(re){return this.stateChanges(re).pipe((0,ve.R)((Ie,lt)=>[...Ie,...lt],[]))}snapshotChanges(re){const Ie=kn(re);return Qn(this.query,Ie,this.afs.schedulers.outsideAngular).pipe(ne.iC)}valueChanges(re={}){return $r(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(Ie=>Ie.payload.docs.map(lt=>re.idField?Object.assign(Object.assign({},lt.data()),{[re.idField]:lt.id}):lt.data())),ne.iC)}get(re){return(0,ye.D)(this.query.get(re)).pipe(ne.iC)}add(re){return this.ref.add(re)}doc(re){return new Cr(this.ref.doc(re),this.afs)}}class Cr{constructor(re,Ie){this.ref=re,this.afs=Ie}set(re,Ie){return this.ref.set(re,Ie)}update(re){return this.ref.update(re)}delete(){return this.ref.delete()}collection(re,Ie){const lt=this.ref.collection(re),{ref:qt,query:wt}=ir(lt,Ie);return new yn(qt,wt,this.afs)}snapshotChanges(){return function Ar(bt,re){return Ir(bt,re).pipe((0,Ne.O)(void 0),fe(),(0,ge.U)(([Ie,lt])=>lt.exists?Ie?.exists?{payload:lt,type:"modified"}:{payload:lt,type:"added"}:{payload:lt,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ne.iC)}valueChanges(re={}){return this.snapshotChanges().pipe((0,ge.U)(({payload:Ie})=>re.idField?Object.assign(Object.assign({},Ie.data()),{[re.idField]:Ie.id}):Ie.data()))}get(re){return(0,ye.D)(this.ref.get(re)).pipe(ne.iC)}}class hi{constructor(re,Ie){this.query=re,this.afs=Ie}stateChanges(re){return re&&0!==re.length?mr(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(Ie=>Ie.filter(lt=>re.indexOf(lt.type)>-1)),(0,nt.h)(Ie=>Ie.length>0),ne.iC):mr(this.query,this.afs.schedulers.outsideAngular).pipe(ne.iC)}auditTrail(re){return this.stateChanges(re).pipe((0,ve.R)((Ie,lt)=>[...Ie,...lt],[]))}snapshotChanges(re){const Ie=kn(re);return Qn(this.query,Ie,this.afs.schedulers.outsideAngular).pipe(ne.iC)}valueChanges(re={}){return $r(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(lt=>lt.payload.docs.map(qt=>re.idField?Object.assign({[re.idField]:qt.id},qt.data()):qt.data())),ne.iC)}get(re){return(0,ye.D)(this.query.get(re)).pipe(ne.iC)}}const pr=new w.OlP("angularfire2.enableFirestorePersistence"),ri=new w.OlP("angularfire2.firestore.persistenceSettings"),Un=new w.OlP("angularfire2.firestore.settings"),pi=new w.OlP("angularfire2.firestore.use-emulator");function ir(bt,re=(Ie=>Ie)){return{query:re(bt),ref:bt}}let vr=(()=>{class bt{constructor(Ie,lt,qt,wt,Me,J,se,X,oe,ee,ke,_e,Ce,ue,Oe,dt,Rt){this.schedulers=se;const Zt=(0,St.on)(Ie,J,lt),cn=oe;ee&&(0,$n.nw)(Zt,J,ke,Ce,ue,Oe,_e,dt),[this.firestore,this.persistenceEnabled$]=(0,St.cc)(`${Zt.name}.firestore`,"AngularFirestore",Zt.name,()=>{const Wn=J.runOutsideAngular(()=>Zt.firestore());if(wt&&Wn.settings(wt),cn&&Wn.useEmulator(...cn),qt&&!(0,Ut.PM)(Me)){const xr=()=>{try{return(0,ye.D)(Wn.enablePersistence(X||void 0).then(()=>!0,()=>!1))}catch(st){return typeof console<"u"&&console.warn(st),(0,be.of)(!1)}};return[Wn,J.runOutsideAngular(xr)]}return[Wn,(0,be.of)(!1)]},[wt,cn,qt])}collection(Ie,lt){let qt;qt="string"==typeof Ie?this.firestore.collection(Ie):Ie;const{ref:wt,query:Me}=ir(qt,lt),J=this.schedulers.ngZone.run(()=>wt);return new yn(J,Me,this)}collectionGroup(Ie,lt){const qt=lt||(Me=>Me),wt=this.firestore.collectionGroup(Ie);return new hi(qt(wt),this)}doc(Ie){let lt;lt="string"==typeof Ie?this.firestore.doc(Ie):Ie;const qt=this.schedulers.ngZone.run(()=>lt);return new Cr(qt,this)}createId(){return this.firestore.collection("_").doc().id}}return bt.\u0275fac=function(Ie){return new(Ie||bt)(w.LFG(St.Dh),w.LFG(St.xv,8),w.LFG(pr,8),w.LFG(Un,8),w.LFG(w.Lbi),w.LFG(w.R0b),w.LFG(ne.HU),w.LFG(ri,8),w.LFG(pi,8),w.LFG($n.zQ,8),w.LFG($n.Qv,8),w.LFG($n.L6,8),w.LFG($n._Q,8),w.LFG($n.rT,8),w.LFG($n.lh,8),w.LFG($n.f7,8),w.LFG(An.nm,8))},bt.\u0275prov=w.Yz7({token:bt,factory:bt.\u0275fac,providedIn:"any"}),bt})(),vn=(()=>{class bt{constructor(){Kt.Z.registerVersion("angularfire",ne.q4.full,"fst-compat")}static enablePersistence(Ie){return{ngModule:bt,providers:[{provide:pr,useValue:!0},{provide:ri,useValue:Ie}]}}}return bt.\u0275fac=function(Ie){return new(Ie||bt)},bt.\u0275mod=w.oAB({type:bt}),bt.\u0275inj=w.cJS({providers:[vr]}),bt})()},2011:(Qt,Ye,U)=>{"use strict";U.d(Ye,{Dh:()=>me,GT:()=>ne,cc:()=>nt,hO:()=>je,on:()=>fe,pX:()=>be,xv:()=>Se});var w=U(4650),j=U(9260),h=U(4976);Qt=U.hmd(Qt);const ye=["ngOnDestroy"],be=(ut,xe,ot,Ge={})=>new Proxy(ut,{get:(Le,Qe)=>ot.runOutsideAngular(()=>{var Mt;if(ut[Qe])return!(null===(Mt=Ge?.spy)||void 0===Mt)&&Mt.get&&Ge.spy.get(Qe,ut[Qe]),ut[Qe];if(ye.indexOf(Qe)>-1)return()=>{};const It=xe.toPromise().then(ze=>{const Bt=ze&&ze[Qe];return"function"==typeof Bt?Bt.bind(ze):Bt&&Bt.then?Bt.then(Wt=>ot.run(()=>Wt)):ot.run(()=>Bt)});return new Proxy(()=>{},{get:(ze,Bt)=>It[Bt],apply:(ze,Bt,Wt)=>It.then(Vt=>{var ln;const Gt=Vt&&Vt(...Wt);return!(null===(ln=Ge?.spy)||void 0===ln)&&ln.apply&&Ge.spy.apply(Qe,Wt,Gt),Gt})})})}),ne=(ut,xe)=>{xe.forEach(ot=>{Object.getOwnPropertyNames(ot.prototype||ot).forEach(Ge=>{Object.defineProperty(ut.prototype,Ge,Object.getOwnPropertyDescriptor(ot.prototype||ot,Ge))})})};class Ne{constructor(xe){return xe}}const me=new w.OlP("angularfire2.app.options"),Se=new w.OlP("angularfire2.app.name");function fe(ut,xe,ot){const Le="object"==typeof ot&&ot||{};Le.name=Le.name||"string"==typeof ot&&ot||"[DEFAULT]";const Mt=j.Z.apps.filter(It=>It&&It.name===Le.name)[0]||xe.runOutsideAngular(()=>j.Z.initializeApp(ut,Le));try{JSON.stringify(ut)!==JSON.stringify(Mt.options)&&ge("error",`${Mt.name} Firebase App already initialized with different options${Qt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ne(Mt)}const ge=(ut,...xe)=>{(0,w.X6Q)()&&typeof console<"u"&&console[ut](...xe)},ve={provide:Ne,useFactory:fe,deps:[me,w.R0b,[new w.FiY,Se]]};let je=(()=>{class ut{constructor(ot){j.Z.registerVersion("angularfire",h.q4.full,"core"),j.Z.registerVersion("angularfire",h.q4.full,"app-compat"),j.Z.registerVersion("angular",w.q4F.full,ot.toString())}static initializeApp(ot,Ge){return{ngModule:ut,providers:[{provide:me,useValue:ot},{provide:Se,useValue:Ge}]}}}return ut.\u0275fac=function(ot){return new(ot||ut)(w.LFG(w.Lbi))},ut.\u0275mod=w.oAB({type:ut}),ut.\u0275inj=w.cJS({providers:[ve]}),ut})();function nt(ut,xe,ot,Ge,Le){const[,Qe,Mt]=globalThis.\u0275AngularfireInstanceCache.find(It=>It[0]===ut)||[];if(Qe)return function St(ut,xe){try{return ut.toString()===xe.toString()}catch{return ut===xe}}(Le,Mt)||(tt("error",`${xe} was already initialized on the ${ot} Firebase App with different settings.${Ut?" You may need to reload as Firebase is not HMR aware.":""}`),tt("warn",{is:Le,was:Mt})),Qe;{const It=Ge();return globalThis.\u0275AngularfireInstanceCache.push([ut,It,Le]),It}}const Ut=!!Qt.hot,tt=(ut,...xe)=>{(0,w.X6Q)()&&typeof console<"u"&&console[ut](...xe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(Qt,Ye,U)=>{"use strict";U.d(Ye,{q4:()=>ta,iC:()=>Pi,fc:()=>Ao,HU:()=>lu,vb:()=>cu,JM:()=>uc,u3:()=>Fl});var w=U(4650),j=U(259),h=U(5861),ye=U(6881),be=U(2090),ne=U(4859),Ne=U(1877);const me=(M,L)=>L.some(G=>M instanceof G);let Se,fe;const je=new WeakMap,nt=new WeakMap,St=new WeakMap,Ut=new WeakMap,tt=new WeakMap;let ot={get(M,L,G){if(M instanceof IDBTransaction){if("done"===L)return nt.get(M);if("objectStoreNames"===L)return M.objectStoreNames||St.get(M);if("store"===L)return G.objectStoreNames[1]?void 0:G.objectStore(G.objectStoreNames[0])}return Mt(M[L])},set:(M,L,G)=>(M[L]=G,!0),has:(M,L)=>M instanceof IDBTransaction&&("done"===L||"store"===L)||L in M};function Qe(M){return"function"==typeof M?function Le(M){return M!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(M)?function(...L){return M.apply(It(this),L),Mt(je.get(this))}:function(...L){return Mt(M.apply(It(this),L))}:function(L,...G){const pe=M.call(It(this),L,...G);return St.set(pe,L.sort?L.sort():[L]),Mt(pe)}}(M):(M instanceof IDBTransaction&&function xe(M){if(nt.has(M))return;const L=new Promise((G,pe)=>{const Pe=()=>{M.removeEventListener("complete",He),M.removeEventListener("error",Tt),M.removeEventListener("abort",Tt)},He=()=>{G(),Pe()},Tt=()=>{pe(M.error||new DOMException("AbortError","AbortError")),Pe()};M.addEventListener("complete",He),M.addEventListener("error",Tt),M.addEventListener("abort",Tt)});nt.set(M,L)}(M),me(M,function ge(){return Se||(Se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(M,ot):M)}function Mt(M){if(M instanceof IDBRequest)return function ut(M){const L=new Promise((G,pe)=>{const Pe=()=>{M.removeEventListener("success",He),M.removeEventListener("error",Tt)},He=()=>{G(Mt(M.result)),Pe()},Tt=()=>{pe(M.error),Pe()};M.addEventListener("success",He),M.addEventListener("error",Tt)});return L.then(G=>{G instanceof IDBCursor&&je.set(G,M)}).catch(()=>{}),tt.set(L,M),L}(M);if(Ut.has(M))return Ut.get(M);const L=Qe(M);return L!==M&&(Ut.set(M,L),tt.set(L,M)),L}const It=M=>tt.get(M),Wt=["get","getKey","getAll","getAllKeys","count"],Vt=["put","add","delete","clear"],ln=new Map;function Gt(M,L){if(!(M instanceof IDBDatabase)||L in M||"string"!=typeof L)return;if(ln.get(L))return ln.get(L);const G=L.replace(/FromIndex$/,""),pe=L!==G,Pe=Vt.includes(G);if(!(G in(pe?IDBIndex:IDBObjectStore).prototype)||!Pe&&!Wt.includes(G))return;const He=function(){var Tt=(0,h.Z)(function*(_n,...dn){const Tn=this.transaction(_n,Pe?"readwrite":"readonly");let br=Tn.store;return pe&&(br=br.index(dn.shift())),(yield Promise.all([br[G](...dn),Pe&&Tn.done]))[0]});return function(dn){return Tt.apply(this,arguments)}}();return ln.set(L,He),He}!function Ge(M){ot=M(ot)}(M=>({...M,get:(L,G,pe)=>Gt(L,G)||M.get(L,G,pe),has:(L,G)=>!!Gt(L,G)||M.has(L,G)}));const Pr="@firebase/installations",at="0.6.4",Je=1e4,ct=`w:${at}`,gt="FIS_v2",rt="https://firebaseinstallations.googleapis.com/v1",Xe=36e5,_t=new be.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function zt(M){return M instanceof be.ZR&&M.code.includes("request-failed")}function zn({projectId:M}){return`${rt}/projects/${M}/installations`}function Rn(M){return{token:M.token,requestStatus:2,expiresIn:Nn(M.expiresIn),creationTime:Date.now()}}function er(M,L){return Or.apply(this,arguments)}function Or(){return(Or=(0,h.Z)(function*(M,L){const pe=(yield L.json()).error;return _t.create("request-failed",{requestName:M,serverCode:pe.code,serverMessage:pe.message,serverStatus:pe.status})})).apply(this,arguments)}function Gn({apiKey:M}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M})}function yr(M){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,h.Z)(function*(M){const L=yield M();return L.status>=500&&L.status<600?M():L})).apply(this,arguments)}function Nn(M){return Number(M.replace("s","000"))}function Kt(){return(Kt=(0,h.Z)(function*({appConfig:M,heartbeatServiceProvider:L},{fid:G}){const pe=zn(M),Pe=Gn(M),He=L.getImmediate({optional:!0});if(He){const Tn=yield He.getHeartbeatsHeader();Tn&&Pe.append("x-firebase-client",Tn)}const _n={method:"POST",headers:Pe,body:JSON.stringify({fid:G,authVersion:gt,appId:M.appId,sdkVersion:ct})},dn=yield yr(()=>fetch(pe,_n));if(dn.ok){const Tn=yield dn.json();return{fid:Tn.fid||G,registrationStatus:2,refreshToken:Tn.refreshToken,authToken:Rn(Tn.authToken)}}throw yield er("Create Installation",dn)})).apply(this,arguments)}function Pn(M){return new Promise(L=>{setTimeout(L,M)})}const Ar=/^[cdef][\w-]{21}$/,$r="";function mr(){try{const M=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(M),M[0]=112+M[0]%16;const G=function Qn(M){return function Ir(M){return btoa(String.fromCharCode(...M)).replace(/\+/g,"-").replace(/\//g,"_")}(M).substr(0,22)}(M);return Ar.test(G)?G:$r}catch{return $r}}function Ln(M){return`${M.appName}!${M.appId}`}const an=new Map;function In(M,L){const G=Ln(M);Cr(G,L),function hi(M,L){const G=function ri(){return!pr&&"BroadcastChannel"in self&&(pr=new BroadcastChannel("[Firebase] FID Change"),pr.onmessage=M=>{Cr(M.data.key,M.data.fid)}),pr}();G&&G.postMessage({key:M,fid:L}),function Un(){0===an.size&&pr&&(pr.close(),pr=null)}()}(G,L)}function Cr(M,L){const G=an.get(M);if(G)for(const pe of G)pe(L)}let pr=null;const pi="firebase-installations-database",ir=1,vr="firebase-installations-store";let vn=null;function bt(){return vn||(vn=function ze(M,L,{blocked:G,upgrade:pe,blocking:Pe,terminated:He}={}){const Tt=indexedDB.open(M,L),_n=Mt(Tt);return pe&&Tt.addEventListener("upgradeneeded",dn=>{pe(Mt(Tt.result),dn.oldVersion,dn.newVersion,Mt(Tt.transaction))}),G&&Tt.addEventListener("blocked",()=>G()),_n.then(dn=>{He&&dn.addEventListener("close",()=>He()),Pe&&dn.addEventListener("versionchange",()=>Pe())}).catch(()=>{}),_n}(pi,ir,{upgrade:(M,L)=>{0===L&&M.createObjectStore(vr)}})),vn}function re(M,L){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,h.Z)(function*(M,L){const G=Ln(M),Pe=(yield bt()).transaction(vr,"readwrite"),He=Pe.objectStore(vr),Tt=yield He.get(G);return yield He.put(L,G),yield Pe.done,(!Tt||Tt.fid!==L.fid)&&In(M,L.fid),L})).apply(this,arguments)}function lt(M){return qt.apply(this,arguments)}function qt(){return(qt=(0,h.Z)(function*(M){const L=Ln(M),pe=(yield bt()).transaction(vr,"readwrite");yield pe.objectStore(vr).delete(L),yield pe.done})).apply(this,arguments)}function wt(M,L){return Me.apply(this,arguments)}function Me(){return(Me=(0,h.Z)(function*(M,L){const G=Ln(M),Pe=(yield bt()).transaction(vr,"readwrite"),He=Pe.objectStore(vr),Tt=yield He.get(G),_n=L(Tt);return void 0===_n?yield He.delete(G):yield He.put(_n,G),yield Pe.done,_n&&(!Tt||Tt.fid!==_n.fid)&&In(M,_n.fid),_n})).apply(this,arguments)}function J(M){return se.apply(this,arguments)}function se(){return se=(0,h.Z)(function*(M){let L;const G=yield wt(M.appConfig,pe=>{const Pe=function X(M){return Oe(M||{fid:mr(),registrationStatus:0})}(pe),He=function oe(M,L){if(0===L.registrationStatus){if(!navigator.onLine)return{installationEntry:L,registrationPromise:Promise.reject(_t.create("app-offline"))};const G={fid:L.fid,registrationStatus:1,registrationTime:Date.now()},pe=function ee(M,L){return ke.apply(this,arguments)}(M,G);return{installationEntry:G,registrationPromise:pe}}return 1===L.registrationStatus?{installationEntry:L,registrationPromise:_e(M)}:{installationEntry:L}}(M,Pe);return L=He.registrationPromise,He.installationEntry});return G.fid===$r?{installationEntry:yield L}:{installationEntry:G,registrationPromise:L}}),se.apply(this,arguments)}function ke(){return ke=(0,h.Z)(function*(M,L){try{const G=yield function An(M,L){return Kt.apply(this,arguments)}(M,L);return re(M.appConfig,G)}catch(G){throw zt(G)&&409===G.customData.serverCode?yield lt(M.appConfig):yield re(M.appConfig,{fid:L.fid,registrationStatus:0}),G}}),ke.apply(this,arguments)}function _e(M){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,h.Z)(function*(M){let L=yield ue(M.appConfig);for(;1===L.registrationStatus;)yield Pn(100),L=yield ue(M.appConfig);if(0===L.registrationStatus){const{installationEntry:G,registrationPromise:pe}=yield J(M);return pe||G}return L})).apply(this,arguments)}function ue(M){return wt(M,L=>{if(!L)throw _t.create("installation-not-found");return Oe(L)})}function Oe(M){return function dt(M){return 1===M.registrationStatus&&M.registrationTime+Je<Date.now()}(M)?{fid:M.fid,registrationStatus:0}:M}function Zt(){return(Zt=(0,h.Z)(function*({appConfig:M,heartbeatServiceProvider:L},G){const pe=function cn(M,{fid:L}){return`${zn(M)}/${L}/authTokens:generate`}(M,G),Pe=function fr(M,{refreshToken:L}){const G=Gn(M);return G.append("Authorization",function $n(M){return`${gt} ${M}`}(L)),G}(M,G),He=L.getImmediate({optional:!0});if(He){const Tn=yield He.getHeartbeatsHeader();Tn&&Pe.append("x-firebase-client",Tn)}const _n={method:"POST",headers:Pe,body:JSON.stringify({installation:{sdkVersion:ct,appId:M.appId}})},dn=yield yr(()=>fetch(pe,_n));if(dn.ok)return Rn(yield dn.json());throw yield er("Generate Auth Token",dn)})).apply(this,arguments)}function Wn(M){return xr.apply(this,arguments)}function xr(){return xr=(0,h.Z)(function*(M,L=!1){let G;const pe=yield wt(M.appConfig,He=>{if(!dr(He))throw _t.create("not-registered");const Tt=He.authToken;if(!L&&function wn(M){return 2===M.requestStatus&&!function Sr(M){const L=Date.now();return L<M.creationTime||M.creationTime+M.expiresIn<L+Xe}(M)}(Tt))return He;if(1===Tt.requestStatus)return G=function st(M,L){return it.apply(this,arguments)}(M,L),He;{if(!navigator.onLine)throw _t.create("app-offline");const _n=function sr(M){const L={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},M),{authToken:L})}(He);return G=function Ht(M,L){return Bn.apply(this,arguments)}(M,_n),_n}});return G?yield G:pe.authToken}),xr.apply(this,arguments)}function it(){return(it=(0,h.Z)(function*(M,L){let G=yield $t(M.appConfig);for(;1===G.authToken.requestStatus;)yield Pn(100),G=yield $t(M.appConfig);const pe=G.authToken;return 0===pe.requestStatus?Wn(M,L):pe})).apply(this,arguments)}function $t(M){return wt(M,L=>{if(!dr(L))throw _t.create("not-registered");return function wi(M){return 1===M.requestStatus&&M.requestTime+Je<Date.now()}(L.authToken)?Object.assign(Object.assign({},L),{authToken:{requestStatus:0}}):L})}function Bn(){return Bn=(0,h.Z)(function*(M,L){try{const G=yield function Rt(M,L){return Zt.apply(this,arguments)}(M,L),pe=Object.assign(Object.assign({},L),{authToken:G});return yield re(M.appConfig,pe),G}catch(G){if(!zt(G)||401!==G.customData.serverCode&&404!==G.customData.serverCode){const pe=Object.assign(Object.assign({},L),{authToken:{requestStatus:0}});yield re(M.appConfig,pe)}else yield lt(M.appConfig);throw G}}),Bn.apply(this,arguments)}function dr(M){return void 0!==M&&2===M.registrationStatus}function us(){return(us=(0,h.Z)(function*(M){const L=M,{installationEntry:G,registrationPromise:pe}=yield J(L);return pe?pe.catch(console.error):Wn(L).catch(console.error),G.fid})).apply(this,arguments)}function wo(){return wo=(0,h.Z)(function*(M,L=!1){const G=M;return yield function qr(M){return un.apply(this,arguments)}(G),(yield Wn(G,L)).token}),wo.apply(this,arguments)}function un(){return(un=(0,h.Z)(function*(M){const{registrationPromise:L}=yield J(M);L&&(yield L)})).apply(this,arguments)}function Be(M){return _t.create("missing-app-config-values",{valueName:M})}const Ue="installations",jt=M=>{const L=M.getProvider("app").getImmediate(),G=function We(M){if(!M||!M.options)throw Be("App Configuration");if(!M.name)throw Be("App Name");const L=["projectId","apiKey","appId"];for(const G of L)if(!M.options[G])throw Be(G);return{appName:M.name,projectId:M.options.projectId,apiKey:M.options.apiKey,appId:M.options.appId}}(L);return{app:L,appConfig:G,heartbeatServiceProvider:(0,ye._getProvider)(L,"heartbeat"),_delete:()=>Promise.resolve()}},Vn=M=>{const L=M.getProvider("app").getImmediate(),G=(0,ye._getProvider)(L,Ue).getImmediate();return{getId:()=>function mi(M){return us.apply(this,arguments)}(G),getToken:Pe=>function ki(M){return wo.apply(this,arguments)}(G,Pe)}};(function cr(){(0,ye._registerComponent)(new ne.wA(Ue,jt,"PUBLIC")),(0,ye._registerComponent)(new ne.wA("installations-internal",Vn,"PRIVATE"))})(),(0,ye.registerVersion)(Pr,at),(0,ye.registerVersion)(Pr,at,"esm2017");const qn="@firebase/remote-config",Di=new be.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ta{constructor(L,G,pe,Pe){this.client=L,this.storage=G,this.storageCache=pe,this.logger=Pe}isCachedDataFresh(L,G){if(!G)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const pe=Date.now()-G,Pe=pe<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${pe}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${Pe}.`),Pe}fetch(L){var G=this;return(0,h.Z)(function*(){const[pe,Pe]=yield Promise.all([G.storage.getLastSuccessfulFetchTimestampMillis(),G.storage.getLastSuccessfulFetchResponse()]);if(Pe&&G.isCachedDataFresh(L.cacheMaxAgeMillis,pe))return Pe;L.eTag=Pe&&Pe.eTag;const He=yield G.client.fetch(L),Tt=[G.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===He.status&&Tt.push(G.storage.setLastSuccessfulFetchResponse(He)),yield Promise.all(Tt),He})()}}function zo(M=navigator){return M.languages&&M.languages[0]||M.language}class Go{constructor(L,G,pe,Pe,He,Tt){this.firebaseInstallations=L,this.sdkVersion=G,this.namespace=pe,this.projectId=Pe,this.apiKey=He,this.appId=Tt}fetch(L){var G=this;return(0,h.Z)(function*(){const[pe,Pe]=yield Promise.all([G.firebaseInstallations.getId(),G.firebaseInstallations.getToken()]),Tt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${G.projectId}/namespaces/${G.namespace}:fetch?key=${G.apiKey}`,_n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},dn={sdk_version:G.sdkVersion,app_instance_id:pe,app_instance_id_token:Pe,app_id:G.appId,language_code:zo()},Tn={method:"POST",headers:_n,body:JSON.stringify(dn)},br=fetch(Tt,Tn),wr=new Promise((va,ra)=>{L.signal.addEventListener(()=>{const Sd=new Error("The operation was aborted.");Sd.name="AbortError",ra(Sd)})});let Es;try{yield Promise.race([br,wr]),Es=yield br}catch(va){let ra="fetch-client-network";throw"AbortError"===va?.name&&(ra="fetch-timeout"),Di.create(ra,{originalErrorMessage:va?.message})}let ls=Es.status;const Fc=Es.headers.get("ETag")||void 0;let Ac,el;if(200===Es.status){let va;try{va=yield Es.json()}catch(ra){throw Di.create("fetch-client-parse",{originalErrorMessage:ra?.message})}Ac=va.entries,el=va.state}if("INSTANCE_STATE_UNSPECIFIED"===el?ls=500:"NO_CHANGE"===el?ls=304:("NO_TEMPLATE"===el||"EMPTY_CONFIG"===el)&&(Ac={}),304!==ls&&200!==ls)throw Di.create("fetch-status",{httpStatus:ls});return{status:ls,eTag:Fc,config:Ac}})()}}class zs{constructor(L,G){this.client=L,this.storage=G}fetch(L){var G=this;return(0,h.Z)(function*(){const pe=(yield G.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return G.attemptFetch(L,pe)})()}attemptFetch(L,{throttleEndTimeMillis:G,backoffCount:pe}){var Pe=this;return(0,h.Z)(function*(){yield function fs(M,L){return new Promise((G,pe)=>{const Pe=Math.max(L-Date.now(),0),He=setTimeout(G,Pe);M.addEventListener(()=>{clearTimeout(He),pe(Di.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,G);try{const He=yield Pe.client.fetch(L);return yield Pe.storage.deleteThrottleMetadata(),He}catch(He){if(!function sa(M){if(!(M instanceof be.ZR&&M.customData))return!1;const L=Number(M.customData.httpStatus);return 429===L||500===L||503===L||504===L}(He))throw He;const Tt={throttleEndTimeMillis:Date.now()+(0,be.$s)(pe),backoffCount:pe+1};return yield Pe.storage.setThrottleMetadata(Tt),Pe.attemptFetch(L,Tt)}})()}}class _c{constructor(L,G,pe,Pe,He){this.app=L,this._client=G,this._storageCache=pe,this._storage=Pe,this._logger=He,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Mo(M,L){const G=M.target.error||void 0;return Di.create(L,{originalErrorMessage:G&&G?.message})}const ns="app_namespace_store";class ec{constructor(L,G,pe,Pe=function Gs(){return new Promise((M,L)=>{try{const G=indexedDB.open("firebase_remote_config",1);G.onerror=pe=>{L(Mo(pe,"storage-open"))},G.onsuccess=pe=>{M(pe.target.result)},G.onupgradeneeded=pe=>{0===pe.oldVersion&&pe.target.result.createObjectStore(ns,{keyPath:"compositeKey"})}}catch(G){L(Di.create("storage-open",{originalErrorMessage:G?.message}))}})}()){this.appId=L,this.appName=G,this.namespace=pe,this.openDbPromise=Pe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var G=this;return(0,h.Z)(function*(){const pe=yield G.openDbPromise;return new Promise((Pe,He)=>{const _n=pe.transaction([ns],"readonly").objectStore(ns),dn=G.createCompositeKey(L);try{const Tn=_n.get(dn);Tn.onerror=br=>{He(Mo(br,"storage-get"))},Tn.onsuccess=br=>{const wr=br.target.result;Pe(wr?wr.value:void 0)}}catch(Tn){He(Di.create("storage-get",{originalErrorMessage:Tn?.message}))}})})()}set(L,G){var pe=this;return(0,h.Z)(function*(){const Pe=yield pe.openDbPromise;return new Promise((He,Tt)=>{const dn=Pe.transaction([ns],"readwrite").objectStore(ns),Tn=pe.createCompositeKey(L);try{const br=dn.put({compositeKey:Tn,value:G});br.onerror=wr=>{Tt(Mo(wr,"storage-set"))},br.onsuccess=()=>{He()}}catch(br){Tt(Di.create("storage-set",{originalErrorMessage:br?.message}))}})})()}delete(L){var G=this;return(0,h.Z)(function*(){const pe=yield G.openDbPromise;return new Promise((Pe,He)=>{const _n=pe.transaction([ns],"readwrite").objectStore(ns),dn=G.createCompositeKey(L);try{const Tn=_n.delete(dn);Tn.onerror=br=>{He(Mo(br,"storage-delete"))},Tn.onsuccess=()=>{Pe()}}catch(Tn){He(Di.create("storage-delete",{originalErrorMessage:Tn?.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class Ws{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,h.Z)(function*(){const G=L.storage.getLastFetchStatus(),pe=L.storage.getLastSuccessfulFetchTimestampMillis(),Pe=L.storage.getActiveConfig(),He=yield G;He&&(L.lastFetchStatus=He);const Tt=yield pe;Tt&&(L.lastSuccessfulFetchTimestampMillis=Tt);const _n=yield Pe;_n&&(L.activeConfig=_n)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function Wo(){return rs.apply(this,arguments)}function rs(){return(rs=(0,h.Z)(function*(){if(!(0,be.hl)())return!1;try{return yield(0,be.eu)()}catch{return!1}})).apply(this,arguments)}!function Po(){(0,ye._registerComponent)(new ne.wA("remote-config",function M(L,{instanceIdentifier:G}){const pe=L.getProvider("app").getImmediate(),Pe=L.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Di.create("registration-window");if(!(0,be.hl)())throw Di.create("indexed-db-unavailable");const{projectId:He,apiKey:Tt,appId:_n}=pe.options;if(!He)throw Di.create("registration-project-id");if(!Tt)throw Di.create("registration-api-key");if(!_n)throw Di.create("registration-app-id");const dn=new ec(_n,pe.name,G=G||"firebase"),Tn=new Ws(dn),br=new Ne.Yd(qn);br.logLevel=Ne.in.ERROR;const wr=new Go(Pe,ye.SDK_VERSION,G,He,Tt,_n),Es=new zs(wr,dn),ls=new Ta(Es,dn,Tn,br),Fc=new _c(pe,ls,Tn,dn,br);return function ji(M){const L=(0,be.m9)(M);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(Fc),Fc},"PUBLIC").setMultipleInstances(!0)),(0,ye.registerVersion)(qn,"0.4.4"),(0,ye.registerVersion)(qn,"0.4.4","esm2017")}();const qo=(M,L)=>L.some(G=>M instanceof G);let ho,Rs;const Oo=new WeakMap,fo=new WeakMap,ii=new WeakMap,ps=new WeakMap,ca=new WeakMap;let Ps={get(M,L,G){if(M instanceof IDBTransaction){if("done"===L)return fo.get(M);if("objectStoreNames"===L)return M.objectStoreNames||ii.get(M);if("store"===L)return G.objectStoreNames[1]?void 0:G.objectStore(G.objectStoreNames[0])}return eo(M[L])},set:(M,L,G)=>(M[L]=G,!0),has:(M,L)=>M instanceof IDBTransaction&&("done"===L||"store"===L)||L in M};function Ha(M){return"function"==typeof M?function la(M){return M!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function nc(){return Rs||(Rs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(M)?function(...L){return M.apply(ci(this),L),eo(Oo.get(this))}:function(...L){return eo(M.apply(ci(this),L))}:function(L,...G){const pe=M.call(ci(this),L,...G);return ii.set(pe,L.sort?L.sort():[L]),eo(pe)}}(M):(M instanceof IDBTransaction&&function Ei(M){if(fo.has(M))return;const L=new Promise((G,pe)=>{const Pe=()=>{M.removeEventListener("complete",He),M.removeEventListener("error",Tt),M.removeEventListener("abort",Tt)},He=()=>{G(),Pe()},Tt=()=>{pe(M.error||new DOMException("AbortError","AbortError")),Pe()};M.addEventListener("complete",He),M.addEventListener("error",Tt),M.addEventListener("abort",Tt)});fo.set(M,L)}(M),qo(M,function tc(){return ho||(ho=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(M,Ps):M)}function eo(M){if(M instanceof IDBRequest)return function oi(M){const L=new Promise((G,pe)=>{const Pe=()=>{M.removeEventListener("success",He),M.removeEventListener("error",Tt)},He=()=>{G(eo(M.result)),Pe()},Tt=()=>{pe(M.error),Pe()};M.addEventListener("success",He),M.addEventListener("error",Tt)});return L.then(G=>{G instanceof IDBCursor&&Oo.set(G,M)}).catch(()=>{}),ca.set(L,M),L}(M);if(ps.has(M))return ps.get(M);const L=Ha(M);return L!==M&&(ps.set(M,L),ca.set(L,M)),L}const ci=M=>ca.get(M);function Io(M,L,{blocked:G,upgrade:pe,blocking:Pe,terminated:He}={}){const Tt=indexedDB.open(M,L),_n=eo(Tt);return pe&&Tt.addEventListener("upgradeneeded",dn=>{pe(eo(Tt.result),dn.oldVersion,dn.newVersion,eo(Tt.transaction))}),G&&Tt.addEventListener("blocked",()=>G()),_n.then(dn=>{He&&dn.addEventListener("close",()=>He()),Pe&&dn.addEventListener("versionchange",()=>Pe())}).catch(()=>{}),_n}function No(M,{blocked:L}={}){const G=indexedDB.deleteDatabase(M);return L&&G.addEventListener("blocked",()=>L()),eo(G).then(()=>{})}const is=["get","getKey","getAll","getAllKeys","count"],Wi=["put","add","delete","clear"],Aa=new Map;function oo(M,L){if(!(M instanceof IDBDatabase)||L in M||"string"!=typeof L)return;if(Aa.get(L))return Aa.get(L);const G=L.replace(/FromIndex$/,""),pe=L!==G,Pe=Wi.includes(G);if(!(G in(pe?IDBIndex:IDBObjectStore).prototype)||!Pe&&!is.includes(G))return;const He=function(){var Tt=(0,h.Z)(function*(_n,...dn){const Tn=this.transaction(_n,Pe?"readwrite":"readonly");let br=Tn.store;return pe&&(br=br.index(dn.shift())),(yield Promise.all([br[G](...dn),Pe&&Tn.done]))[0]});return function(dn){return Tt.apply(this,arguments)}}();return Aa.set(L,He),He}!function tr(M){Ps=M(Ps)}(M=>({...M,get:(L,G,pe)=>oo(L,G)||M.get(L,G,pe),has:(L,G)=>!!oo(L,G)||M.has(L,G)}));const jn="/firebase-messaging-sw.js",os="/firebase-cloud-messaging-push-scope",Sa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ss="https://fcmregistrations.googleapis.com/v1",po="google.c.a.c_id",xa="google.c.a.c_l",ua="google.c.a.ts",Os="google.c.a.e";var Dt=(()=>{return(M=Dt||(Dt={})).PUSH_RECEIVED="push-received",M.NOTIFICATION_CLICKED="notification-clicked",Dt;var M})();function nr(M){const L=new Uint8Array(M);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Et(M){const G=(M+"=".repeat((4-M.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),pe=atob(G),Pe=new Uint8Array(pe.length);for(let He=0;He<pe.length;++He)Pe[He]=pe.charCodeAt(He);return Pe}const Fe="fcm_token_details_db",Te=5,vt="fcm_token_object_Store";function tn(){return tn=(0,h.Z)(function*(M){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(He=>He.name).includes(Fe))return null;let L=null;return(yield Io(Fe,Te,{upgrade:(pe=(0,h.Z)(function*(Pe,He,Tt,_n){var dn;if(He<2||!Pe.objectStoreNames.contains(vt))return;const Tn=_n.objectStore(vt),br=yield Tn.index("fcmSenderId").get(M);if(yield Tn.clear(),br)if(2===He){const wr=br;if(!wr.auth||!wr.p256dh||!wr.endpoint)return;L={token:wr.fcmToken,createTime:null!==(dn=wr.createTime)&&void 0!==dn?dn:Date.now(),subscriptionOptions:{auth:wr.auth,p256dh:wr.p256dh,endpoint:wr.endpoint,swScope:wr.swScope,vapidKey:"string"==typeof wr.vapidKey?wr.vapidKey:nr(wr.vapidKey)}}}else if(3===He){const wr=br;L={token:wr.fcmToken,createTime:wr.createTime,subscriptionOptions:{auth:nr(wr.auth),p256dh:nr(wr.p256dh),endpoint:wr.endpoint,swScope:wr.swScope,vapidKey:nr(wr.vapidKey)}}}else if(4===He){const wr=br;L={token:wr.fcmToken,createTime:wr.createTime,subscriptionOptions:{auth:nr(wr.auth),p256dh:nr(wr.p256dh),endpoint:wr.endpoint,swScope:wr.swScope,vapidKey:nr(wr.vapidKey)}}}}),function(He,Tt,_n,dn){return pe.apply(this,arguments)})})).close(),yield No(Fe),yield No("fcm_vapid_details_db"),yield No("undefined"),function rr(M){if(!M||!M.subscriptionOptions)return!1;const{subscriptionOptions:L}=M;return"number"==typeof M.createTime&&M.createTime>0&&"string"==typeof M.token&&M.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}(L)?L:null;var pe}),tn.apply(this,arguments)}const ni="firebase-messaging-database",so=1,qi="firebase-messaging-store";let Zo=null;function Ui(){return Zo||(Zo=Io(ni,so,{upgrade:(M,L)=>{0===L&&M.createObjectStore(qi)}})),Zo}function mo(M){return Ko.apply(this,arguments)}function Ko(){return Ko=(0,h.Z)(function*(M){const L=za(M),pe=yield(yield Ui()).transaction(qi).objectStore(qi).get(L);if(pe)return pe;{const Pe=yield function Pt(M){return tn.apply(this,arguments)}(M.appConfig.senderId);if(Pe)return yield Yo(M,Pe),Pe}}),Ko.apply(this,arguments)}function Yo(M,L){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,h.Z)(function*(M,L){const G=za(M),Pe=(yield Ui()).transaction(qi,"readwrite");return yield Pe.objectStore(qi).put(L,G),yield Pe.done,L})).apply(this,arguments)}function qs(){return(qs=(0,h.Z)(function*(M){const L=za(M),pe=(yield Ui()).transaction(qi,"readwrite");yield pe.objectStore(qi).delete(L),yield pe.done})).apply(this,arguments)}function za({appConfig:M}){return M.appId}const li=new be.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function to(M,L){return ms.apply(this,arguments)}function ms(){return(ms=(0,h.Z)(function*(M,L){const G=yield Ks(M),pe=Jo(L),Pe={method:"POST",headers:G,body:JSON.stringify(pe)};let He;try{He=yield(yield fetch(Qo(M.appConfig),Pe)).json()}catch(Tt){throw li.create("token-subscribe-failed",{errorInfo:Tt?.toString()})}if(He.error)throw li.create("token-subscribe-failed",{errorInfo:He.error.message});if(!He.token)throw li.create("token-subscribe-no-token");return He.token})).apply(this,arguments)}function Ns(){return(Ns=(0,h.Z)(function*(M,L){const G=yield Ks(M),pe=Jo(L.subscriptionOptions),Pe={method:"PATCH",headers:G,body:JSON.stringify(pe)};let He;try{He=yield(yield fetch(`${Qo(M.appConfig)}/${L.token}`,Pe)).json()}catch(Tt){throw li.create("token-update-failed",{errorInfo:Tt?.toString()})}if(He.error)throw li.create("token-update-failed",{errorInfo:He.error.message});if(!He.token)throw li.create("token-update-no-token");return He.token})).apply(this,arguments)}function Zs(M,L){return ao.apply(this,arguments)}function ao(){return(ao=(0,h.Z)(function*(M,L){const pe={method:"DELETE",headers:yield Ks(M)};try{const He=yield(yield fetch(`${Qo(M.appConfig)}/${L}`,pe)).json();if(He.error)throw li.create("token-unsubscribe-failed",{errorInfo:He.error.message})}catch(Pe){throw li.create("token-unsubscribe-failed",{errorInfo:Pe?.toString()})}})).apply(this,arguments)}function Qo({projectId:M}){return`${ss}/projects/${M}/registrations`}function Ks(M){return ks.apply(this,arguments)}function ks(){return(ks=(0,h.Z)(function*({appConfig:M,installations:L}){const G=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M.apiKey,"x-goog-firebase-installations-auth":`FIS ${G}`})})).apply(this,arguments)}function Jo({p256dh:M,auth:L,endpoint:G,vapidKey:pe}){const Pe={web:{endpoint:G,auth:L,p256dh:M}};return pe!==Sa&&(Pe.web.applicationPubKey=pe),Pe}const Ma=6048e5;function Do(){return Do=(0,h.Z)(function*(M){const L=yield function Ra(M,L){return Ki.apply(this,arguments)}(M.swRegistration,M.vapidKey),G={vapidKey:M.vapidKey,swScope:M.swRegistration.scope,endpoint:L.endpoint,auth:nr(L.getKey("auth")),p256dh:nr(L.getKey("p256dh"))},pe=yield mo(M.firebaseDependencies);if(pe){if(function Oi(M,L){return L.vapidKey===M.vapidKey&&L.endpoint===M.endpoint&&L.auth===M.auth&&L.p256dh===M.p256dh}(pe.subscriptionOptions,G))return Date.now()>=pe.createTime+Ma?function fi(M,L){return Fs.apply(this,arguments)}(M,{token:pe.token,createTime:Date.now(),subscriptionOptions:G}):pe.token;try{yield Zs(M.firebaseDependencies,pe.token)}catch(Pe){console.warn(Pe)}return Ls(M.firebaseDependencies,G)}return Ls(M.firebaseDependencies,G)}),Do.apply(this,arguments)}function ko(){return ko=(0,h.Z)(function*(M){const L=yield mo(M.firebaseDependencies);L&&(yield Zs(M.firebaseDependencies,L.token),yield function $i(M){return qs.apply(this,arguments)}(M.firebaseDependencies));const G=yield M.swRegistration.pushManager.getSubscription();return!G||G.unsubscribe()}),ko.apply(this,arguments)}function Fs(){return Fs=(0,h.Z)(function*(M,L){try{const G=yield function Zr(M,L){return Ns.apply(this,arguments)}(M.firebaseDependencies,L),pe=Object.assign(Object.assign({},L),{token:G,createTime:Date.now()});return yield Yo(M.firebaseDependencies,pe),G}catch(G){throw yield function Hr(M){return ko.apply(this,arguments)}(M),G}}),Fs.apply(this,arguments)}function Ls(M,L){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,h.Z)(function*(M,L){const pe={token:yield to(M,L),createTime:Date.now(),subscriptionOptions:L};return yield Yo(M,pe),pe.token})).apply(this,arguments)}function Ki(){return(Ki=(0,h.Z)(function*(M,L){return(yield M.pushManager.getSubscription())||M.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Et(L)})})).apply(this,arguments)}function gs(M){const L={from:M.from,collapseKey:M.collapse_key,messageId:M.fcmMessageId};return function rc(M,L){if(!L.notification)return;M.notification={};const G=L.notification.title;G&&(M.notification.title=G);const pe=L.notification.body;pe&&(M.notification.body=pe);const Pe=L.notification.image;Pe&&(M.notification.image=Pe);const He=L.notification.icon;He&&(M.notification.icon=He)}(L,M),function da(M,L){L.data&&(M.data=L.data)}(L,M),function k(M,L){var G,pe,Pe,He,Tt;if(!(L.fcmOptions||null!==(G=L.notification)&&void 0!==G&&G.click_action))return;M.fcmOptions={};const _n=null!==(Pe=null===(pe=L.fcmOptions)||void 0===pe?void 0:pe.link)&&void 0!==Pe?Pe:null===(He=L.notification)||void 0===He?void 0:He.click_action;_n&&(M.fcmOptions.link=_n);const dn=null===(Tt=L.fcmOptions)||void 0===Tt?void 0:Tt.analytics_label;dn&&(M.fcmOptions.analyticsLabel=dn)}(L,M),L}function V(M,L){const G=[];for(let pe=0;pe<M.length;pe++)G.push(M.charAt(pe)),pe<L.length&&G.push(L.charAt(pe));return G.join("")}function Ae(M){return li.create("missing-app-config-values",{valueName:M})}V("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),V("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class I{constructor(L,G,pe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Pe=function ie(M){if(!M||!M.options)throw Ae("App Configuration Object");if(!M.name)throw Ae("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:G}=M;for(const pe of L)if(!G[pe])throw Ae(pe);return{appName:M.name,projectId:G.projectId,apiKey:G.apiKey,appId:G.appId,senderId:G.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:Pe,installations:G,analyticsProvider:pe}}_delete(){return Promise.resolve()}}function x(M){return z.apply(this,arguments)}function z(){return(z=(0,h.Z)(function*(M){try{M.swRegistration=yield navigator.serviceWorker.register(jn,{scope:os}),M.swRegistration.update().catch(()=>{})}catch(L){throw li.create("failed-service-worker-registration",{browserErrorMessage:L?.message})}})).apply(this,arguments)}function et(){return(et=(0,h.Z)(function*(M,L){if(!L&&!M.swRegistration&&(yield x(M)),L||!M.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw li.create("invalid-sw-registration");M.swRegistration=L}})).apply(this,arguments)}function Cn(){return(Cn=(0,h.Z)(function*(M,L){L?M.vapidKey=L:M.vapidKey||(M.vapidKey=Sa)})).apply(this,arguments)}function Sn(){return Sn=(0,h.Z)(function*(M,L){if(!navigator)throw li.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw li.create("permission-blocked");return yield function Xt(M,L){return Cn.apply(this,arguments)}(M,L?.vapidKey),yield function we(M,L){return et.apply(this,arguments)}(M,L?.serviceWorkerRegistration),function as(M){return Do.apply(this,arguments)}(M)}),Sn.apply(this,arguments)}function no(){return(no=(0,h.Z)(function*(M,L,G){const pe=function nn(M){switch(M){case Dt.NOTIFICATION_CLICKED:return"notification_open";case Dt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(L);(yield M.firebaseDependencies.analyticsProvider.get()).logEvent(pe,{message_id:G[po],message_name:G[xa],message_time:G[ua],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function To(){return To=(0,h.Z)(function*(M,L){const G=L.data;if(!G.isFirebaseMessaging)return;M.onMessageHandler&&G.messageType===Dt.PUSH_RECEIVED&&("function"==typeof M.onMessageHandler?M.onMessageHandler(gs(G)):M.onMessageHandler.next(gs(G)));const pe=G.data;(function W(M){return"object"==typeof M&&!!M&&po in M})(pe)&&"1"===pe[Os]&&(yield function Gr(M,L,G){return no.apply(this,arguments)}(M,G.messageType,pe))}),To.apply(this,arguments)}const en="@firebase/messaging",Ft=M=>{const L=new I(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),M.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",G=>function Dn(M,L){return To.apply(this,arguments)}(L,G)),L},co=M=>{const L=M.getProvider("messaging").getImmediate();return{getToken:pe=>function Ct(M,L){return Sn.apply(this,arguments)}(L,pe)}};function tu(){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,h.Z)(function*(){try{yield(0,be.eu)()}catch{return!1}return typeof window<"u"&&(0,be.hl)()&&(0,be.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function dl(){(0,ye._registerComponent)(new ne.wA("messaging",Ft,"PUBLIC")),(0,ye._registerComponent)(new ne.wA("messaging-internal",co,"PRIVATE")),(0,ye.registerVersion)(en,"0.12.4"),(0,ye.registerVersion)(en,"0.12.4","esm2017")}();const or="analytics",fa="firebase_id",Rl="origin",Ti=6e4,Hn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vc="https://www.googletagmanager.com/gtag/js",lr=new Ne.Yd("@firebase/analytics"),gr=new be.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function hn(M){if(!M.startsWith(vc)){const L=gr.create("invalid-gtag-resource",{gtagURL:M});return lr.warn(L.message),""}return M}function Wr(M){return Promise.all(M.map(L=>L.catch(G=>G)))}function cs(){return(cs=(0,h.Z)(function*(M,L,G,pe,Pe,He){const Tt=pe[Pe];try{if(Tt)yield L[Tt];else{const dn=(yield Wr(G)).find(Tn=>Tn.measurementId===Pe);dn&&(yield L[dn.appId])}}catch(_n){lr.error(_n)}M("config",Pe,He)})).apply(this,arguments)}function oc(){return(oc=(0,h.Z)(function*(M,L,G,pe,Pe){try{let He=[];if(Pe&&Pe.send_to){let Tt=Pe.send_to;Array.isArray(Tt)||(Tt=[Tt]);const _n=yield Wr(G);for(const dn of Tt){const Tn=_n.find(wr=>wr.measurementId===dn),br=Tn&&L[Tn.appId];if(!br){He=[];break}He.push(br)}}0===He.length&&(He=Object.values(L)),yield Promise.all(He),M("event",pe,Pe||{})}catch(He){lr.error(He)}})).apply(this,arguments)}const yi=30,pa=new class Js{constructor(L={},G=1e3){this.throttleMetadata=L,this.intervalMillis=G}getThrottleMetadata(L){return this.throttleMetadata[L]}setThrottleMetadata(L,G){this.throttleMetadata[L]=G}deleteThrottleMetadata(L){delete this.throttleMetadata[L]}};function pt(M){return new Headers({Accept:"application/json","x-goog-api-key":M})}function zr(){return(zr=(0,h.Z)(function*(M){var L;const{appId:G,apiKey:pe}=M,Pe={method:"GET",headers:pt(pe)},He=Hn.replace("{app-id}",G),Tt=yield fetch(He,Pe);if(200!==Tt.status&&304!==Tt.status){let _n="";try{const dn=yield Tt.json();null!==(L=dn.error)&&void 0!==L&&L.message&&(_n=dn.error.message)}catch{}throw gr.create("config-fetch-failed",{httpStatus:Tt.status,responseMessage:_n})}return Tt.json()})).apply(this,arguments)}function Qc(){return(Qc=(0,h.Z)(function*(M,L=pa,G){const{appId:pe,apiKey:Pe,measurementId:He}=M.options;if(!pe)throw gr.create("no-app-id");if(!Pe){if(He)return{measurementId:He,appId:pe};throw gr.create("no-api-key")}const Tt=L.getThrottleMetadata(pe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},_n=new iu;return setTimeout((0,h.Z)(function*(){_n.abort()}),void 0!==G?G:Ti),sc({appId:pe,apiKey:Pe,measurementId:He},Tt,_n,L)})).apply(this,arguments)}function sc(M,L,G){return wc.apply(this,arguments)}function wc(){return wc=(0,h.Z)(function*(M,{throttleEndTimeMillis:L,backoffCount:G},pe,Pe=pa){var He;const{appId:Tt,measurementId:_n}=M;try{yield function Ec(M,L){return new Promise((G,pe)=>{const Pe=Math.max(L-Date.now(),0),He=setTimeout(G,Pe);M.addEventListener(()=>{clearTimeout(He),pe(gr.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(pe,L)}catch(dn){if(_n)return lr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_n} provided in the "measurementId" field in the local Firebase config. [${dn?.message}]`),{appId:Tt,measurementId:_n};throw dn}try{const dn=yield function Yc(M){return zr.apply(this,arguments)}(M);return Pe.deleteThrottleMetadata(Tt),dn}catch(dn){const Tn=dn;if(!function ru(M){if(!(M instanceof be.ZR&&M.customData))return!1;const L=Number(M.customData.httpStatus);return 429===L||500===L||503===L||504===L}(Tn)){if(Pe.deleteThrottleMetadata(Tt),_n)return lr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_n} provided in the "measurementId" field in the local Firebase config. [${Tn?.message}]`),{appId:Tt,measurementId:_n};throw dn}const br=503===Number(null===(He=Tn?.customData)||void 0===He?void 0:He.httpStatus)?(0,be.$s)(G,Pe.intervalMillis,yi):(0,be.$s)(G,Pe.intervalMillis),wr={throttleEndTimeMillis:Date.now()+br,backoffCount:G+1};return Pe.setThrottleMetadata(Tt,wr),lr.debug(`Calling attemptFetch again in ${br} millis`),sc(M,wr,pe,Pe)}}),wc.apply(this,arguments)}class iu{constructor(){this.listeners=[]}addEventListener(L){this.listeners.push(L)}abort(){this.listeners.forEach(L=>L())}}let ac,F;function _s(){return(_s=(0,h.Z)(function*(M,L,G,pe,Pe){if(Pe&&Pe.global)M("event",G,pe);else{const He=yield L;M("event",G,Object.assign(Object.assign({},pe),{send_to:He}))}})).apply(this,arguments)}function Ke(){return(Ke=(0,h.Z)(function*(){if(!(0,be.hl)())return lr.warn(gr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,be.eu)()}catch(M){return lr.warn(gr.create("indexeddb-unavailable",{errorInfo:M?.toString()}).message),!1}return!0})).apply(this,arguments)}function fn(){return fn=(0,h.Z)(function*(M,L,G,pe,Pe,He,Tt){var _n;const dn=function nu(M){return Qc.apply(this,arguments)}(M);dn.then(ls=>{G[ls.measurementId]=ls.appId,M.options.measurementId&&ls.measurementId!==M.options.measurementId&&lr.warn(`The measurement ID in the local Firebase config (${M.options.measurementId}) does not match the measurement ID fetched from the server (${ls.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ls=>lr.error(ls)),L.push(dn);const Tn=function ce(){return Ke.apply(this,arguments)}().then(ls=>{if(ls)return pe.getId()}),[br,wr]=yield Promise.all([dn,Tn]);(function Ka(M){const L=window.document.getElementsByTagName("script");for(const G of Object.values(L))if(G.src&&G.src.includes(vc)&&G.src.includes(M))return G;return null})(He)||function Fo(M,L){const G=function Qs(M,L){let G;return window.trustedTypes&&(G=window.trustedTypes.createPolicy(M,L)),G}("firebase-js-sdk-policy",{createScriptURL:hn}),pe=document.createElement("script"),Pe=`${vc}?l=${M}&id=${L}`;pe.src=G?G?.createScriptURL(Pe):Pe,pe.async=!0,document.head.appendChild(pe)}(He,br.measurementId),F&&(Pe("consent","default",F),function H(M){F=M}(void 0)),Pe("js",new Date);const Es=null!==(_n=Tt?.config)&&void 0!==_n?_n:{};return Es[Rl]="firebase",Es.update=!0,null!=wr&&(Es[fa]=wr),Pe("config",br.measurementId,Es),ac&&(Pe("set",ac),function te(M){ac=M}(void 0)),br.measurementId}),fn.apply(this,arguments)}class mn{constructor(L){this.app=L}_delete(){return delete Rr[this.app.options.appId],Promise.resolve()}}let Rr={},Ri=[];const Oa={};let ea,ma,bs="dataLayer",Xs="gtag",ga=!1;function Ku(M,L,G){!function Pc(){const M=[];if((0,be.ru)()&&M.push("This is a browser extension environment."),(0,be.zI)()||M.push("Cookies are not available."),M.length>0){const L=M.map((pe,Pe)=>`(${Pe+1}) ${pe}`).join(" "),G=gr.create("invalid-analytics-context",{errorInfo:L});lr.warn(G.message)}}();const pe=M.options.appId;if(!pe)throw gr.create("no-app-id");if(!M.options.apiKey){if(!M.options.measurementId)throw gr.create("no-api-key");lr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${M.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Rr[pe])throw gr.create("already-exists",{id:pe});if(!ga){!function bc(M){let L=[];Array.isArray(window[M])?L=window[M]:window[M]=L}(bs);const{wrappedGtag:He,gtagCore:Tt}=function Lo(M,L,G,pe,Pe){let He=function(...Tt){window[pe].push(arguments)};return window[Pe]&&"function"==typeof window[Pe]&&(He=window[Pe]),window[Pe]=function pl(M,L,G,pe){function He(){return He=(0,h.Z)(function*(Tt,..._n){try{if("event"===Tt){const[dn,Tn]=_n;yield function ic(M,L,G,pe,Pe){return oc.apply(this,arguments)}(M,L,G,dn,Tn)}else if("config"===Tt){const[dn,Tn]=_n;yield function _o(M,L,G,pe,Pe,He){return cs.apply(this,arguments)}(M,L,G,pe,dn,Tn)}else if("consent"===Tt){const[dn]=_n;M("consent","update",dn)}else if("get"===Tt){const[dn,Tn,br]=_n;M("get",dn,Tn,br)}else if("set"===Tt){const[dn]=_n;M("set",dn)}else M(Tt,..._n)}catch(dn){lr.error(dn)}}),He.apply(this,arguments)}return function Pe(Tt){return He.apply(this,arguments)}}(He,M,L,G),{gtagCore:He,wrappedGtag:window[Pe]}}(Rr,Ri,Oa,bs,Xs);ma=He,ea=Tt,ga=!0}return Rr[pe]=function kt(M,L,G,pe,Pe,He,Tt){return fn.apply(this,arguments)}(M,Ri,Oa,L,ea,bs,G),new mn(M)}function Uo(){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,h.Z)(function*(){if((0,be.ru)()||!(0,be.zI)()||!(0,be.hl)())return!1;try{return yield(0,be.eu)()}catch{return!1}})).apply(this,arguments)}const ka="@firebase/analytics";!function bo(){(0,ye._registerComponent)(new ne.wA(or,(L,{options:G})=>Ku(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),G),"PUBLIC")),(0,ye._registerComponent)(new ne.wA("analytics-internal",function M(L){try{const G=L.getProvider(or).getImmediate();return{logEvent:(pe,Pe,He)=>function gl(M,L,G,pe){M=(0,be.m9)(M),function Id(M,L,G,pe,Pe){return _s.apply(this,arguments)}(ma,Rr[M.app.options.appId],L,G,pe).catch(Pe=>lr.error(Pe))}(G,pe,Pe,He)}}catch(G){throw gr.create("interop-component-reg-failed",{reason:G})}},"PRIVATE")),(0,ye.registerVersion)(ka,"0.10.0"),(0,ye.registerVersion)(ka,"0.10.0","esm2017")}();var Eh=U(4408),Ni=U(7565);const Jc=new class Ji extends Ni.v{}(class Ic extends Eh.o{constructor(L,G){super(L,G),this.scheduler=L,this.work=G}schedule(L,G=0){return G>0?super.schedule(L,G):(this.delay=G,this.state=L,this.scheduler.flush(this),this)}execute(L,G){return G>0||this.closed?super.execute(L,G):this._execute(L,G)}requestAsyncId(L,G,pe=0){return null!=pe&&pe>0||null==pe&&this.delay>0?super.requestAsyncId(L,G,pe):(L.flush(this),0)}});var Oc=U(4986),Nl=U(9751),Dc=U(8505),_a=U(5363),yl=U(9468);const ta=new w.GfV("7.6.1"),Fa="__angularfire_symbol__analyticsIsSupportedValue",Nc="__angularfire_symbol__analyticsIsSupported",ya="__angularfire_symbol__remoteConfigIsSupportedValue",au="__angularfire_symbol__remoteConfigIsSupported",ws="__angularfire_symbol__messagingIsSupportedValue",na="__angularfire_symbol__messagingIsSupported";function uc(M,L,G){if(L){if(1===L.length)return L[0];const He=L.filter(Tt=>Tt.app===G);if(1===He.length)return He[0]}return G.container.getProvider(M).getImmediate({optional:!0})}globalThis[Nc]||(globalThis[Nc]=Uo().then(M=>globalThis[Fa]=M).catch(()=>globalThis[Fa]=!1)),globalThis[na]||(globalThis[na]=tu().then(M=>globalThis[ws]=M).catch(()=>globalThis[ws]=!1)),globalThis[au]||(globalThis[au]=Wo().then(M=>globalThis[ya]=M).catch(()=>globalThis[ya]=!1));const cu=(M,L)=>{const G=L?[L]:(0,j.C6)(),pe=[];return G.forEach(Pe=>{Pe.container.getProvider(M).instances.forEach(Tt=>{pe.includes(Tt)||pe.push(Tt)})}),pe};function dc(){}class Tc{constructor(L,G=Jc){this.zone=L,this.delegate=G}now(){return this.delegate.now()}schedule(L,G,pe){const Pe=this.zone;return this.delegate.schedule(function(Tt){Pe.runGuarded(()=>{L.apply(this,[Tt])})},G,pe)}}class Ya{constructor(L){this.zone=L,this.task=null}call(L,G){const pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",dc,{},dc,dc)),G.pipe((0,Dc.b)({next:pe,complete:pe,error:pe})).subscribe(L).add(pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let lu=(()=>{class M{constructor(G){this.ngZone=G,this.outsideAngular=G.runOutsideAngular(()=>new Tc(Zone.current)),this.insideAngular=G.run(()=>new Tc(Zone.current,Oc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return M.\u0275fac=function(G){return new(G||M)(w.LFG(w.R0b))},M.\u0275prov=w.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function Xc(){const M=globalThis.\u0275AngularFireScheduler;if(!M)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return M}function hc(M){return Xc().ngZone.run(()=>M())}function Ao(M){return M.pipe((0,_a.Q)(Xc().outsideAngular))}function Pi(M){return Xc(),function kc(M){return function(G){return(G=G.lift(new Ya(M.ngZone))).pipe((0,yl.R)(M.outsideAngular),(0,_a.Q)(M.insideAngular))}}(Xc())(M)}const Qu=(M,L)=>function(){const pe=arguments;return L&&setTimeout(()=>{"scheduled"===L.state&&L.invoke()},10),hc(()=>M.apply(void 0,pe))},Fl=(M,L)=>function(){let G;const pe=arguments;for(let He=0;He<arguments.length;He++)"function"==typeof pe[He]&&(L&&(G||(G=hc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",dc,{},dc,dc)))),pe[He]=Qu(pe[He],G));const Pe=function Ad(M){return Xc().ngZone.runOutsideAngular(()=>M())}(()=>M.apply(this,pe));if(!L){if(Pe instanceof Nl.y){const He=Xc();return Pe.pipe((0,yl.R)(He.outsideAngular),(0,_a.Q)(He.insideAngular))}return hc(()=>Pe)}return Pe instanceof Nl.y?Pe.pipe(Pi):Pe instanceof Promise?hc(()=>new Promise((He,Tt)=>Pe.then(_n=>hc(()=>He(_n)),_n=>hc(()=>Tt(_n))))):"function"==typeof Pe&&G?function(){return setTimeout(()=>{G&&"scheduled"===G.state&&G.invoke()},10),Pe.apply(this,arguments)}:hc(()=>Pe)}},1389:(Qt,Ye,U)=>{"use strict";U.d(Ye,{$:()=>jn,A:()=>ge,D:()=>nt,I:()=>jr,J:()=>jt,L:()=>lo,N:()=>wt,P:()=>kt,Q:()=>ec,R:()=>Cc,U:()=>Co,V:()=>Wo,W:()=>rs,X:()=>uo,Y:()=>tc,Z:()=>nc,_:()=>ca,a:()=>go,a0:()=>Sa,a1:()=>po,a2:()=>yc,a3:()=>vt,a4:()=>tn,a5:()=>ni,a6:()=>qi,a7:()=>Ui,a8:()=>Ko,a9:()=>Zi,aA:()=>ze,aB:()=>Nc,aC:()=>lt,aD:()=>Me,aE:()=>Dc,aF:()=>Dd,aG:()=>Si,aH:()=>Lr,aL:()=>Za,aO:()=>ho,aa:()=>$i,ab:()=>za,ac:()=>Ga,ad:()=>Zr,ae:()=>Zs,af:()=>Qo,ai:()=>Ma,aj:()=>Do,ak:()=>Hr,an:()=>la,ao:()=>rc,aq:()=>Cn,ar:()=>en,as:()=>Wt,at:()=>Oe,au:()=>_e,av:()=>Ge,aw:()=>wr,ax:()=>na,ay:()=>dt,az:()=>Le,b:()=>ha,c:()=>ma,d:()=>Ku,e:()=>ou,f:()=>ka,g:()=>Ji,h:()=>Eh,i:()=>ui,j:()=>Oc,k:()=>el,l:()=>D,m:()=>Sd,o:()=>Th,p:()=>me,r:()=>E,s:()=>vs,u:()=>ce});var w=U(5861),j=U(2090),h=U(6881),ye=U(7582),be=U(1877),ne=U(4859);const me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ge={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const nt=function ve(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},St=function je(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ut=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ut=new be.Yd("@firebase/auth");function ot(T,...g){ut.logLevel<=be.in.ERROR&&ut.error(`Auth (${h.SDK_VERSION}): ${T}`,...g)}function Ge(T,...g){throw It(T,...g)}function Le(T,...g){return It(T,...g)}function Qe(T,g,v){const R=Object.assign(Object.assign({},St()),{[g]:v});return new j.LL("auth","Firebase",R).create(g,{appName:T.name})}function Mt(T,g,v){if(!(g instanceof v))throw v.name!==g.constructor.name&&Ge(T,"argument-error"),Qe(T,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function It(T,...g){if("string"!=typeof T){const v=g[0],R=[...g.slice(1)];return R[0]&&(R[0].appName=T.name),T._errorFactory.create(v,...R)}return Ut.create(T,...g)}function ze(T,g,...v){if(!T)throw It(g,...v)}function Bt(T){const g="INTERNAL ASSERTION FAILED: "+T;throw ot(g),new Error(g)}function Wt(T,g){T||Bt(g)}function Vt(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.href)||""}function ln(){return"http:"===Gt()||"https:"===Gt()}function Gt(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.protocol)||null}class Je{constructor(g,v){this.shortDelay=g,this.longDelay=v,Wt(v>g,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function Pr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ln()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ct(T,g){Wt(T.emulator,"Emulator should always be set here");const{url:v}=T.emulator;return g?`${v}${g.startsWith("/")?g.slice(1):g}`:v}class gt{static initialize(g,v,R){this.fetchImpl=g,v&&(this.headersImpl=v),R&&(this.responseImpl=R)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Bt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Bt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Bt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Xe=new Je(3e4,6e4);function Ve(T,g){return T.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:T.tenantId}):g}function mt(T,g,v,R){return En.apply(this,arguments)}function En(){return(En=(0,w.Z)(function*(T,g,v,R,Q={}){return _t(T,Q,(0,w.Z)(function*(){let de={},qe={};R&&("GET"===g?qe=R:de={body:JSON.stringify(R)});const At=(0,j.xO)(Object.assign({key:T.config.apiKey},qe)).slice(1),sn=yield T._getAdditionalHeaders();return sn["Content-Type"]="application/json",T.languageCode&&(sn["X-Firebase-Locale"]=T.languageCode),gt.fetch()(er(T,T.config.apiHost,v,At),Object.assign({method:g,headers:sn,referrerPolicy:"no-referrer"},de))}))})).apply(this,arguments)}function _t(T,g,v){return zt.apply(this,arguments)}function zt(){return(zt=(0,w.Z)(function*(T,g,v){T._canInitEmulator=!1;const R=Object.assign(Object.assign({},rt),g);try{const Q=new Or(T),de=yield Promise.race([v(),Q.promise]);Q.clearNetworkTimeout();const qe=yield de.json();if("needConfirmation"in qe)throw Gn(T,"account-exists-with-different-credential",qe);if(de.ok&&!("errorMessage"in qe))return qe;{const At=de.ok?qe.errorMessage:qe.error.message,[sn,bn]=At.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===sn)throw Gn(T,"credential-already-in-use",qe);if("EMAIL_EXISTS"===sn)throw Gn(T,"email-already-in-use",qe);if("USER_DISABLED"===sn)throw Gn(T,"user-disabled",qe);const Kn=R[sn]||sn.toLowerCase().replace(/[_\s]+/g,"-");if(bn)throw Qe(T,Kn,bn);Ge(T,Kn)}}catch(Q){if(Q instanceof j.ZR)throw Q;Ge(T,"network-request-failed",{message:String(Q)})}})).apply(this,arguments)}function zn(T,g,v,R){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,w.Z)(function*(T,g,v,R,Q={}){const de=yield mt(T,g,v,R,Q);return"mfaPendingCredential"in de&&Ge(T,"multi-factor-auth-required",{_serverResponse:de}),de})).apply(this,arguments)}function er(T,g,v,R){const Q=`${g}${v}?${R}`;return T.config.emulator?ct(T.config,Q):`${T.config.apiScheme}://${Q}`}class Or{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((v,R)=>{this.timer=setTimeout(()=>R(Le(this.auth,"network-request-failed")),Xe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gn(T,g,v){const R={appName:T.name};v.email&&(R.email=v.email),v.phoneNumber&&(R.phoneNumber=v.phoneNumber);const Q=Le(T,g,R);return Q.customData._tokenResponse=v,Q}function yr(){return(yr=(0,w.Z)(function*(T,g){return mt(T,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Nn(){return(Nn=(0,w.Z)(function*(T,g){return mt(T,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function An(){return(An=(0,w.Z)(function*(T,g){return mt(T,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Kt(T){if(T)try{const g=new Date(Number(T));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Ar(){return(Ar=(0,w.Z)(function*(T,g=!1){const v=(0,j.m9)(T),R=yield v.getIdToken(g),Q=mr(R);ze(Q&&Q.exp&&Q.auth_time&&Q.iat,v.auth,"internal-error");const de="object"==typeof Q.firebase?Q.firebase:void 0,qe=de?.sign_in_provider;return{claims:Q,token:R,authTime:Kt($r(Q.auth_time)),issuedAtTime:Kt($r(Q.iat)),expirationTime:Kt($r(Q.exp)),signInProvider:qe||null,signInSecondFactor:de?.sign_in_second_factor||null}})).apply(this,arguments)}function $r(T){return 1e3*Number(T)}function mr(T){const[g,v,R]=T.split(".");if(void 0===g||void 0===v||void 0===R)return ot("JWT malformed, contained fewer than 3 sections"),null;try{const Q=(0,j.tV)(v);return Q?JSON.parse(Q):(ot("Failed to decode base64 JWT payload"),null)}catch(Q){return ot("Caught error parsing JWT payload as JSON",Q?.toString()),null}}function Ln(T,g){return an.apply(this,arguments)}function an(){return(an=(0,w.Z)(function*(T,g,v=!1){if(v)return g;try{return yield g}catch(R){throw R instanceof j.ZR&&function In({code:T}){return"auth/user-disabled"===T||"auth/user-token-expired"===T}(R)&&T.auth.currentUser===T&&(yield T.auth.signOut()),R}})).apply(this,arguments)}class kn{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var v;if(g){const R=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),R}{this.errorBackoff=3e4;const Q=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,Q)}}schedule(g=!1){var v=this;if(!this.isRunning)return;const R=this.getInterval(g);this.timerId=setTimeout((0,w.Z)(function*(){yield v.iteration()}),R)}iteration(){var g=this;return(0,w.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&g.schedule(!0))}g.schedule()})()}}class yn{constructor(g,v){this.createdAt=g,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kt(this.lastLoginAt),this.creationTime=Kt(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Cr(T){return hi.apply(this,arguments)}function hi(){return hi=(0,w.Z)(function*(T){var g;const v=T.auth,R=yield T.getIdToken(),Q=yield Ln(T,function $n(T,g){return An.apply(this,arguments)}(v,{idToken:R}));ze(Q?.users.length,v,"internal-error");const de=Q.users[0];T._notifyReloadListener(de);const qe=null!==(g=de.providerUserInfo)&&void 0!==g&&g.length?function pi(T){return T.map(g=>{var{providerId:v}=g,R=(0,ye._T)(g,["providerId"]);return{providerId:v,uid:R.rawId||"",displayName:R.displayName||null,email:R.email||null,phoneNumber:R.phoneNumber||null,photoURL:R.photoUrl||null}})}(de.providerUserInfo):[],At=function Un(T,g){return[...T.filter(R=>!g.some(Q=>Q.providerId===R.providerId)),...g]}(T.providerData,qe),Kn=!!T.isAnonymous&&!(T.email&&de.passwordHash||At?.length),Ur={uid:de.localId,displayName:de.displayName||null,photoURL:de.photoUrl||null,email:de.email||null,emailVerified:de.emailVerified||!1,phoneNumber:de.phoneNumber||null,tenantId:de.tenantId||null,providerData:At,metadata:new yn(de.createdAt,de.lastLoginAt),isAnonymous:Kn};Object.assign(T,Ur)}),hi.apply(this,arguments)}function ri(){return(ri=(0,w.Z)(function*(T){const g=(0,j.m9)(T);yield Cr(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function vr(){return(vr=(0,w.Z)(function*(T,g){const v=yield _t(T,{},(0,w.Z)(function*(){const R=(0,j.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:Q,apiKey:de}=T.config,qe=er(T,Q,"/v1/token",`key=${de}`),At=yield T._getAdditionalHeaders();return At["Content-Type"]="application/x-www-form-urlencoded",gt.fetch()(qe,{method:"POST",headers:At,body:R})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class vn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ze(g.idToken,"internal-error"),ze(typeof g.idToken<"u","internal-error"),ze(typeof g.refreshToken<"u","internal-error");const v="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Qn(T){const g=mr(T);return ze(g,"internal-error"),ze(typeof g.exp<"u","internal-error"),ze(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,v)}getToken(g,v=!1){var R=this;return(0,w.Z)(function*(){return ze(!R.accessToken||R.refreshToken,g,"user-token-expired"),v||!R.accessToken||R.isExpired?R.refreshToken?(yield R.refresh(g,R.refreshToken),R.accessToken):null:R.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,v){var R=this;return(0,w.Z)(function*(){const{accessToken:Q,refreshToken:de,expiresIn:qe}=yield function ir(T,g){return vr.apply(this,arguments)}(g,v);R.updateTokensAndExpiration(Q,de,Number(qe))})()}updateTokensAndExpiration(g,v,R){this.refreshToken=v||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*R}static fromJSON(g,v){const{refreshToken:R,accessToken:Q,expirationTime:de}=v,qe=new vn;return R&&(ze("string"==typeof R,"internal-error",{appName:g}),qe.refreshToken=R),Q&&(ze("string"==typeof Q,"internal-error",{appName:g}),qe.accessToken=Q),de&&(ze("number"==typeof de,"internal-error",{appName:g}),qe.expirationTime=de),qe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new vn,this.toJSON())}_performRefresh(){return Bt("not implemented")}}function bt(T,g){ze("string"==typeof T||typeof T>"u","internal-error",{appName:g})}class re{constructor(g){var{uid:v,auth:R,stsTokenManager:Q}=g,de=(0,ye._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=R,this.stsTokenManager=Q,this.accessToken=Q.accessToken,this.displayName=de.displayName||null,this.email=de.email||null,this.emailVerified=de.emailVerified||!1,this.phoneNumber=de.phoneNumber||null,this.photoURL=de.photoURL||null,this.isAnonymous=de.isAnonymous||!1,this.tenantId=de.tenantId||null,this.providerData=de.providerData?[...de.providerData]:[],this.metadata=new yn(de.createdAt||void 0,de.lastLoginAt||void 0)}getIdToken(g){var v=this;return(0,w.Z)(function*(){const R=yield Ln(v,v.stsTokenManager.getToken(v.auth,g));return ze(R,v.auth,"internal-error"),v.accessToken!==R&&(v.accessToken=R,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),R})()}getIdTokenResult(g){return function Ir(T){return Ar.apply(this,arguments)}(this,g)}reload(){return function pr(T){return ri.apply(this,arguments)}(this)}_assign(g){this!==g&&(ze(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(v=>Object.assign({},v)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const v=new re(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(g){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,v=!1){var R=this;return(0,w.Z)(function*(){let Q=!1;g.idToken&&g.idToken!==R.stsTokenManager.accessToken&&(R.stsTokenManager.updateFromServerResponse(g),Q=!0),v&&(yield Cr(R)),yield R.auth._persistUserIfCurrent(R),Q&&R.auth._notifyListenersIfCurrent(R)})()}delete(){var g=this;return(0,w.Z)(function*(){const v=yield g.getIdToken();return yield Ln(g,function fr(T,g){return yr.apply(this,arguments)}(g.auth,{idToken:v})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,v){var R,Q,de,qe,At,sn,bn,Kn;const Ur=null!==(R=v.displayName)&&void 0!==R?R:void 0,ba=null!==(Q=v.email)&&void 0!==Q?Q:void 0,Bs=null!==(de=v.phoneNumber)&&void 0!==de?de:void 0,Pd=null!==(qe=v.photoURL)&&void 0!==qe?qe:void 0,Ua=null!==(At=v.tenantId)&&void 0!==At?At:void 0,vl=null!==(sn=v._redirectEventId)&&void 0!==sn?sn:void 0,hu=null!==(bn=v.createdAt)&&void 0!==bn?bn:void 0,Od=null!==(Kn=v.lastLoginAt)&&void 0!==Kn?Kn:void 0,{uid:Ba,emailVerified:Ah,isAnonymous:Ul,providerData:Nd,stsTokenManager:Xu}=v;ze(Ba&&Xu,g,"internal-error");const Dr=vn.fromJSON(this.name,Xu);ze("string"==typeof Ba,g,"internal-error"),bt(Ur,g.name),bt(ba,g.name),ze("boolean"==typeof Ah,g,"internal-error"),ze("boolean"==typeof Ul,g,"internal-error"),bt(Bs,g.name),bt(Pd,g.name),bt(Ua,g.name),bt(vl,g.name),bt(hu,g.name),bt(Od,g.name);const ed=new re({uid:Ba,auth:g,email:ba,emailVerified:Ah,displayName:Ur,isAnonymous:Ul,photoURL:Pd,phoneNumber:Bs,tenantId:Ua,stsTokenManager:Dr,createdAt:hu,lastLoginAt:Od});return Nd&&Array.isArray(Nd)&&(ed.providerData=Nd.map(fu=>Object.assign({},fu))),vl&&(ed._redirectEventId=vl),ed}static _fromIdTokenResponse(g,v,R=!1){return(0,w.Z)(function*(){const Q=new vn;Q.updateFromServerResponse(v);const de=new re({uid:v.localId,auth:g,stsTokenManager:Q,isAnonymous:R});return yield Cr(de),de})()}}const Ie=new Map;function lt(T){Wt(T instanceof Function,"Expected a class definition");let g=Ie.get(T);return g?(Wt(g instanceof T,"Instance stored in cache mismatched with class"),g):(g=new T,Ie.set(T,g),g)}const wt=(()=>{class T{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,w.Z)(function*(){return!0})()}_set(v,R){var Q=this;return(0,w.Z)(function*(){Q.storage[v]=R})()}_get(v){var R=this;return(0,w.Z)(function*(){const Q=R.storage[v];return void 0===Q?null:Q})()}_remove(v){var R=this;return(0,w.Z)(function*(){delete R.storage[v]})()}_addListener(v,R){}_removeListener(v,R){}}return T.type="NONE",T})();function Me(T,g,v){return`firebase:${T}:${g}:${v}`}class J{constructor(g,v,R){this.persistence=g,this.auth=v,this.userKey=R;const{config:Q,name:de}=this.auth;this.fullUserKey=Me(this.userKey,Q.apiKey,de),this.fullPersistenceKey=Me("persistence",Q.apiKey,de),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,w.Z)(function*(){const v=yield g.persistence._get(g.fullUserKey);return v?re._fromJSON(g.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var v=this;return(0,w.Z)(function*(){if(v.persistence===g)return;const R=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=g,R?v.setCurrentUser(R):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,v,R="authUser"){return(0,w.Z)(function*(){if(!v.length)return new J(lt(wt),g,R);const Q=(yield Promise.all(v.map(function(){var bn=(0,w.Z)(function*(Kn){if(yield Kn._isAvailable())return Kn});return function(Kn){return bn.apply(this,arguments)}}()))).filter(bn=>bn);let de=Q[0]||lt(wt);const qe=Me(R,g.config.apiKey,g.name);let At=null;for(const bn of v)try{const Kn=yield bn._get(qe);if(Kn){const Ur=re._fromJSON(g,Kn);bn!==de&&(At=Ur),de=bn;break}}catch{}const sn=Q.filter(bn=>bn._shouldAllowMigration);return de._shouldAllowMigration&&sn.length?(de=sn[0],At&&(yield de._set(qe,At.toJSON())),yield Promise.all(v.map(function(){var bn=(0,w.Z)(function*(Kn){if(Kn!==de)try{yield Kn._remove(qe)}catch{}});return function(Kn){return bn.apply(this,arguments)}}())),new J(de,g,R)):new J(de,g,R)})()}}function se(T){const g=T.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(ke(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(X(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Ce(g))return"Blackberry";if(ue(g))return"Webos";if(oe(g))return"Safari";if((g.includes("chrome/")||ee(g))&&!g.includes("edge/"))return"Chrome";if(_e(g))return"Android";{const R=T.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===R?.length)return R[1]}return"Other"}function X(T=(0,j.z$)()){return/firefox\//i.test(T)}function oe(T=(0,j.z$)()){const g=T.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function ee(T=(0,j.z$)()){return/crios\//i.test(T)}function ke(T=(0,j.z$)()){return/iemobile/i.test(T)}function _e(T=(0,j.z$)()){return/android/i.test(T)}function Ce(T=(0,j.z$)()){return/blackberry/i.test(T)}function ue(T=(0,j.z$)()){return/webos/i.test(T)}function Oe(T=(0,j.z$)()){return/iphone|ipad|ipod/i.test(T)||/macintosh/i.test(T)&&/mobile/i.test(T)}function dt(T=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(T)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(T)}function cn(T=(0,j.z$)()){return Oe(T)||_e(T)||ue(T)||Ce(T)||/windows phone/i.test(T)||ke(T)}function xr(T,g=[]){let v;switch(T){case"Browser":v=se((0,j.z$)());break;case"Worker":v=`${se((0,j.z$)())}-${T}`;break;default:v=T}const R=g.length?g.join(","):"FirebaseCore-web";return`${v}/JsCore/${h.SDK_VERSION}/${R}`}function it(){return(it=(0,w.Z)(function*(T){return(yield mt(T,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function $t(T,g){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,w.Z)(function*(T,g){return mt(T,"GET","/v2/recaptchaConfig",Ve(T,g))})).apply(this,arguments)}function Bn(T){return void 0!==T&&void 0!==T.getResponse}function dr(T){return void 0!==T&&void 0!==T.enterprise}class wn{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(v=>"EMAIL_PASSWORD_PROVIDER"===v.provider&&"OFF"!==v.enforcementState)}}function sr(T){return new Promise((g,v)=>{const R=document.createElement("script");R.setAttribute("src",T),R.onload=g,R.onerror=Q=>{const de=Le("internal-error");de.customData=Q,v(de)},R.type="text/javascript",R.charset="UTF-8",function Sr(){var T,g;return null!==(g=null===(T=document.getElementsByTagName("head"))||void 0===T?void 0:T[0])&&void 0!==g?g:document}().appendChild(R)})}function wi(T){return`__${T}${Math.floor(1e6*Math.random())}`}const ki="NO_RECAPTCHA";class wo{constructor(g){this.type="recaptcha-enterprise",this.auth=Lr(g)}verify(g="verify",v=!1){var R=this;return(0,w.Z)(function*(){function de(){return de=(0,w.Z)(function*(At){if(!v){if(null==At.tenantId&&null!=At._agentRecaptchaConfig)return At._agentRecaptchaConfig.siteKey;if(null!=At.tenantId&&void 0!==At._tenantRecaptchaConfigs[At.tenantId])return At._tenantRecaptchaConfigs[At.tenantId].siteKey}return new Promise(function(){var sn=(0,w.Z)(function*(bn,Kn){$t(At,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ur=>{if(void 0!==Ur.recaptchaKey){const ba=new wn(Ur);return null==At.tenantId?At._agentRecaptchaConfig=ba:At._tenantRecaptchaConfigs[At.tenantId]=ba,bn(ba.siteKey)}Kn(new Error("recaptcha Enterprise site key undefined"))}).catch(Ur=>{Kn(Ur)})});return function(bn,Kn){return sn.apply(this,arguments)}}())}),de.apply(this,arguments)}function qe(At,sn,bn){const Kn=window.grecaptcha;dr(Kn)?Kn.enterprise.ready(()=>{Kn.enterprise.execute(At,{action:g}).then(Ur=>{sn(Ur)}).catch(()=>{sn(ki)})}):bn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((At,sn)=>{(function Q(At){return de.apply(this,arguments)})(R.auth).then(bn=>{if(!v&&dr(window.grecaptcha))qe(bn,At,sn);else{if(typeof window>"u")return void sn(new Error("RecaptchaVerifier is only supported in browser"));sr("https://www.google.com/recaptcha/enterprise.js?render="+bn).then(()=>{qe(bn,At,sn)}).catch(Kn=>{sn(Kn)})}}).catch(bn=>{sn(bn)})})})()}}function qr(T,g,v){return un.apply(this,arguments)}function un(){return(un=(0,w.Z)(function*(T,g,v,R=!1){const Q=new wo(T);let de;try{de=yield Q.verify(v)}catch{de=yield Q.verify(v,!0)}const qe=Object.assign({},g);return Object.assign(qe,R?{captchaResp:de}:{captchaResponse:de}),Object.assign(qe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(qe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),qe})).apply(this,arguments)}class ar{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,v){const R=de=>new Promise((qe,At)=>{try{qe(g(de))}catch(sn){At(sn)}});R.onAbort=v,this.queue.push(R);const Q=this.queue.length-1;return()=>{this.queue[Q]=()=>Promise.resolve()}}runMiddleware(g){var v=this;return(0,w.Z)(function*(){if(v.auth.currentUser===g)return;const R=[];try{for(const Q of v.queue)yield Q(g),Q.onAbort&&R.push(Q.onAbort)}catch(Q){R.reverse();for(const de of R)try{de()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:Q?.message})}})()}}class Xr{constructor(g,v,R,Q){this.app=g,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=R,this.config=Q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Eo(this),this.idTokenSubscription=new Eo(this),this.beforeStateQueue=new ar(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ut,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=Q.sdkClientVersion}_initializeWithPersistence(g,v){var R=this;return v&&(this._popupRedirectResolver=lt(v)),this._initializationPromise=this.queue((0,w.Z)(function*(){var Q,de;if(!R._deleted&&(R.persistenceManager=yield J.create(R,g),!R._deleted)){if(null!==(Q=R._popupRedirectResolver)&&void 0!==Q&&Q._shouldInitProactively)try{yield R._popupRedirectResolver._initialize(R)}catch{}yield R.initializeCurrentUser(v),R.lastNotifiedUid=(null===(de=R.currentUser)||void 0===de?void 0:de.uid)||null,!R._deleted&&(R._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,w.Z)(function*(){if(g._deleted)return;const v=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||v){if(g.currentUser&&v&&g.currentUser.uid===v.uid)return g._currentUser._assign(v),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(v,!0)}})()}initializeCurrentUser(g){var v=this;return(0,w.Z)(function*(){var R;const Q=yield v.assertedPersistence.getCurrentUser();let de=Q,qe=!1;if(g&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const At=null===(R=v.redirectUser)||void 0===R?void 0:R._redirectEventId,sn=de?._redirectEventId,bn=yield v.tryRedirectSignIn(g);(!At||At===sn)&&bn?.user&&(de=bn.user,qe=!0)}if(!de)return v.directlySetCurrentUser(null);if(!de._redirectEventId){if(qe)try{yield v.beforeStateQueue.runMiddleware(de)}catch(At){de=Q,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(At))}return de?v.reloadAndSetCurrentUserOrClear(de):v.directlySetCurrentUser(null)}return ze(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===de._redirectEventId?v.directlySetCurrentUser(de):v.reloadAndSetCurrentUserOrClear(de)})()}tryRedirectSignIn(g){var v=this;return(0,w.Z)(function*(){let R=null;try{R=yield v._popupRedirectResolver._completeRedirectFn(v,g,!0)}catch{yield v._setRedirectUser(null)}return R})()}reloadAndSetCurrentUserOrClear(g){var v=this;return(0,w.Z)(function*(){try{yield Cr(g)}catch(R){if("auth/network-request-failed"!==R?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function at(){if(typeof navigator>"u")return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}()}_delete(){var g=this;return(0,w.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var v=this;return(0,w.Z)(function*(){const R=g?(0,j.m9)(g):null;return R&&ze(R.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(R&&R._clone(v))})()}_updateCurrentUser(g,v=!1){var R=this;return(0,w.Z)(function*(){if(!R._deleted)return g&&ze(R.tenantId===g.tenantId,R,"tenant-id-mismatch"),v||(yield R.beforeStateQueue.runMiddleware(g)),R.queue((0,w.Z)(function*(){yield R.directlySetCurrentUser(g),R.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,w.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var v=this;return this.queue((0,w.Z)(function*(){yield v.assertedPersistence.setPersistence(lt(g))}))}initializeRecaptchaConfig(){var g=this;return(0,w.Z)(function*(){const v=yield $t(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),R=new wn(v);null==g.tenantId?g._agentRecaptchaConfig=R:g._tenantRecaptchaConfigs[g.tenantId]=R,R.emailPasswordEnabled&&new wo(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new j.LL("auth","Firebase",g())}onAuthStateChanged(g,v,R){return this.registerStateListener(this.authStateSubscription,g,v,R)}beforeAuthStateChanged(g,v){return this.beforeStateQueue.pushCallback(g,v)}onIdTokenChanged(g,v,R){return this.registerStateListener(this.idTokenSubscription,g,v,R)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,v){var R=this;return(0,w.Z)(function*(){const Q=yield R.getOrInitRedirectPersistenceManager(v);return null===g?Q.removeCurrentUser():Q.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var v=this;return(0,w.Z)(function*(){if(!v.redirectPersistenceManager){const R=g&&lt(g)||v._popupRedirectResolver;ze(R,v,"argument-error"),v.redirectPersistenceManager=yield J.create(v,[lt(R._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(g){var v=this;return(0,w.Z)(function*(){var R,Q;return v._isInitialized&&(yield v.queue((0,w.Z)(function*(){}))),(null===(R=v._currentUser)||void 0===R?void 0:R._redirectEventId)===g?v._currentUser:(null===(Q=v.redirectUser)||void 0===Q?void 0:Q._redirectEventId)===g?v.redirectUser:null})()}_persistUserIfCurrent(g){var v=this;return(0,w.Z)(function*(){if(g===v.currentUser)return v.queue((0,w.Z)(function*(){return v.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const R=null!==(v=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==R&&(this.lastNotifiedUid=R,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,v,R,Q){if(this._deleted)return()=>{};const de="function"==typeof v?v:v.next.bind(v),qe=this._isInitialized?Promise.resolve():this._initializationPromise;return ze(qe,this,"internal-error"),qe.then(()=>de(this.currentUser)),"function"==typeof v?g.addObserver(v,R,Q):g.addObserver(v)}directlySetCurrentUser(g){var v=this;return(0,w.Z)(function*(){v.currentUser&&v.currentUser!==g&&v._currentUser._stopProactiveRefresh(),g&&v.isProactiveRefreshEnabled&&g._startProactiveRefresh(),v.currentUser=g,g?yield v.assertedPersistence.setCurrentUser(g):yield v.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=xr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,w.Z)(function*(){var v;const R={"X-Client-Version":g.clientVersion};g.app.options.appId&&(R["X-Firebase-gmpid"]=g.app.options.appId);const Q=yield null===(v=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();Q&&(R["X-Firebase-Client"]=Q);const de=yield g._getAppCheckToken();return de&&(R["X-Firebase-AppCheck"]=de),R})()}_getAppCheckToken(){var g=this;return(0,w.Z)(function*(){var v;const R=yield null===(v=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return R?.error&&function xe(T,...g){ut.logLevel<=be.in.WARN&&ut.warn(`Auth (${h.SDK_VERSION}): ${T}`,...g)}(`Error while retrieving App Check token: ${R.error}`),R?.token})()}}function Lr(T){return(0,j.m9)(T)}class Eo{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,j.ne)(v=>this.observer=v)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function jr(T,g,v){const R=Lr(T);ze(R._canInitEmulator,R,"emulator-config-failed"),ze(/^https?:\/\//.test(g),R,"invalid-emulator-scheme");const Q=!!v?.disableWarnings,de=We(g),{host:qe,port:At}=function Be(T){const g=We(T),v=/(\/\/)?([^?#/]+)/.exec(T.substr(g.length));if(!v)return{host:"",port:null};const R=v[2].split("@").pop()||"",Q=/^(\[[^\]]+\])(:|$)/.exec(R);if(Q){const de=Q[1];return{host:de,port:Ue(R.substr(de.length+1))}}{const[de,qe]=R.split(":");return{host:de,port:Ue(qe)}}}(g);R.config.emulator={url:`${de}//${qe}${null===At?"":`:${At}`}/`},R.settings.appVerificationDisabledForTesting=!0,R.emulatorConfig=Object.freeze({host:qe,port:At,protocol:de.replace(":",""),options:Object.freeze({disableWarnings:Q})}),Q||function xt(){function T(){const g=document.createElement("p"),v=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",T):T())}()}function We(T){const g=T.indexOf(":");return g<0?"":T.substr(0,g+1)}function Ue(T){if(!T)return null;const g=Number(T);return isNaN(g)?null:g}class jt{constructor(g,v){this.providerId=g,this.signInMethod=v}toJSON(){return Bt("not implemented")}_getIdTokenResponse(g){return Bt("not implemented")}_linkToIdToken(g,v){return Bt("not implemented")}_getReauthenticationResolver(g){return Bt("not implemented")}}function Vn(T,g){return cr.apply(this,arguments)}function cr(){return(cr=(0,w.Z)(function*(T,g){return mt(T,"POST","/v1/accounts:resetPassword",Ve(T,g))})).apply(this,arguments)}function qn(T,g){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,w.Z)(function*(T,g){return mt(T,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ii(){return(Ii=(0,w.Z)(function*(T,g){return mt(T,"POST","/v1/accounts:update",Ve(T,g))})).apply(this,arguments)}function Hi(T,g){return Di.apply(this,arguments)}function Di(){return(Di=(0,w.Z)(function*(T,g){return zn(T,"POST","/v1/accounts:signInWithPassword",Ve(T,g))})).apply(this,arguments)}function Mr(T,g){return Li.apply(this,arguments)}function Li(){return(Li=(0,w.Z)(function*(T,g){return mt(T,"POST","/v1/accounts:sendOobCode",Ve(T,g))})).apply(this,arguments)}function ro(){return(ro=(0,w.Z)(function*(T,g){return Mr(T,g)})).apply(this,arguments)}function ds(T,g){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,w.Z)(function*(T,g){return Mr(T,g)})).apply(this,arguments)}function hs(T,g){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,w.Z)(function*(T,g){return Mr(T,g)})).apply(this,arguments)}function ji(){return(ji=(0,w.Z)(function*(T,g){return Mr(T,g)})).apply(this,arguments)}function _i(){return(_i=(0,w.Z)(function*(T,g){return zn(T,"POST","/v1/accounts:signInWithEmailLink",Ve(T,g))})).apply(this,arguments)}function Xi(){return(Xi=(0,w.Z)(function*(T,g){return zn(T,"POST","/v1/accounts:signInWithEmailLink",Ve(T,g))})).apply(this,arguments)}class zi extends jt{constructor(g,v,R,Q=null){super("password",R),this._email=g,this._password=v,this._tenantId=Q}static _fromEmailAndPassword(g,v){return new zi(g,v,"password")}static _fromEmailAndCode(g,v,R=null){return new zi(g,v,"emailLink",R)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(g){var v=this;return(0,w.Z)(function*(){var R;switch(v.signInMethod){case"password":const Q={returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(R=g._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const de=yield qr(g,Q,"signInWithPassword");return Hi(g,de)}return Hi(g,Q).catch(function(){var de=(0,w.Z)(function*(qe){if("auth/missing-recaptcha-token"===qe.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const At=yield qr(g,Q,"signInWithPassword");return Hi(g,At)}return Promise.reject(qe)});return function(qe){return de.apply(this,arguments)}}());case"emailLink":return function gi(T,g){return _i.apply(this,arguments)}(g,{email:v._email,oobCode:v._password});default:Ge(g,"internal-error")}})()}_linkToIdToken(g,v){var R=this;return(0,w.Z)(function*(){switch(R.signInMethod){case"password":return qn(g,{idToken:v,returnSecureToken:!0,email:R._email,password:R._password});case"emailLink":return function xo(T,g){return Xi.apply(this,arguments)}(g,{idToken:v,email:R._email,oobCode:R._password});default:Ge(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Nr(T,g){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,w.Z)(function*(T,g){return zn(T,"POST","/v1/accounts:signInWithIdp",Ve(T,g))})).apply(this,arguments)}class lo extends jt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const v=new lo(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(v.idToken=g.idToken),g.accessToken&&(v.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(v.nonce=g.nonce),g.pendingToken&&(v.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(v.accessToken=g.oauthToken,v.secret=g.oauthTokenSecret):Ge("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:R,signInMethod:Q}=v,de=(0,ye._T)(v,["providerId","signInMethod"]);if(!R||!Q)return null;const qe=new lo(R,Q);return qe.idToken=de.idToken||void 0,qe.accessToken=de.accessToken||void 0,qe.secret=de.secret,qe.nonce=de.nonce,qe.pendingToken=de.pendingToken||null,qe}_getIdTokenResponse(g){return Nr(g,this.buildRequest())}_linkToIdToken(g,v){const R=this.buildRequest();return R.idToken=v,Nr(g,R)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,Nr(g,v)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),g.postBody=(0,j.xO)(v)}return g}}function zo(){return(zo=(0,w.Z)(function*(T,g){return mt(T,"POST","/v1/accounts:sendVerificationCode",Ve(T,g))})).apply(this,arguments)}function fs(){return(fs=(0,w.Z)(function*(T,g){return zn(T,"POST","/v1/accounts:signInWithPhoneNumber",Ve(T,g))})).apply(this,arguments)}function zs(){return(zs=(0,w.Z)(function*(T,g){const v=yield zn(T,"POST","/v1/accounts:signInWithPhoneNumber",Ve(T,g));if(v.temporaryProof)throw Gn(T,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const aa={USER_NOT_FOUND:"user-not-found"};function _c(){return(_c=(0,w.Z)(function*(T,g){return zn(T,"POST","/v1/accounts:signInWithPhoneNumber",Ve(T,Object.assign(Object.assign({},g),{operation:"REAUTH"})),aa)})).apply(this,arguments)}class Mo extends jt{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,v){return new Mo({verificationId:g,verificationCode:v})}static _fromTokenResponse(g,v){return new Mo({phoneNumber:g,temporaryProof:v})}_getIdTokenResponse(g){return function Go(T,g){return fs.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,v){return function sa(T,g){return zs.apply(this,arguments)}(g,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function io(T,g){return _c.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:v,verificationId:R,verificationCode:Q}=this.params;return g&&v?{temporaryProof:g,phoneNumber:v}:{sessionInfo:R,code:Q}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:v,verificationCode:R,phoneNumber:Q,temporaryProof:de}=g;return R||v||Q||de?new Mo({verificationId:v,verificationCode:R,phoneNumber:Q,temporaryProof:de}):null}}class Ro{constructor(g){var v,R,Q,de,qe,At;const sn=(0,j.zd)((0,j.pd)(g)),bn=null!==(v=sn.apiKey)&&void 0!==v?v:null,Kn=null!==(R=sn.oobCode)&&void 0!==R?R:null,Ur=function ns(T){switch(T){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Q=sn.mode)&&void 0!==Q?Q:null);ze(bn&&Kn&&Ur,"argument-error"),this.apiKey=bn,this.operation=Ur,this.code=Kn,this.continueUrl=null!==(de=sn.continueUrl)&&void 0!==de?de:null,this.languageCode=null!==(qe=sn.languageCode)&&void 0!==qe?qe:null,this.tenantId=null!==(At=sn.tenantId)&&void 0!==At?At:null}static parseLink(g){const v=function Ms(T){const g=(0,j.zd)((0,j.pd)(T)).link,v=g?(0,j.zd)((0,j.pd)(g)).deep_link_id:null,R=(0,j.zd)((0,j.pd)(T)).deep_link_id;return(R?(0,j.zd)((0,j.pd)(R)).link:null)||R||v||g||T}(g);try{return new Ro(v)}catch{return null}}}let ec=(()=>{class T{constructor(){this.providerId=T.PROVIDER_ID}static credential(v,R){return zi._fromEmailAndPassword(v,R)}static credentialWithLink(v,R){const Q=Ro.parseLink(R);return ze(Q,"argument-error"),zi._fromEmailAndCode(v,Q.code,Q.tenantId)}}return T.PROVIDER_ID="password",T.EMAIL_PASSWORD_SIGN_IN_METHOD="password",T.EMAIL_LINK_SIGN_IN_METHOD="emailLink",T})();class Ws{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Po extends Ws{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class uo extends Po{static credentialFromJSON(g){const v="string"==typeof g?JSON.parse(g):g;return ze("providerId"in v&&"signInMethod"in v,"argument-error"),lo._fromParams(v)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ze(g.idToken||g.accessToken,"argument-error"),lo._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return uo.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return uo.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:R,oauthTokenSecret:Q,pendingToken:de,nonce:qe,providerId:At}=g;if(!R&&!Q&&!v&&!de||!At)return null;try{return new uo(At)._credential({idToken:v,accessToken:R,nonce:qe,pendingToken:de})}catch{return null}}}let Co=(()=>{class T extends Po{constructor(){super("facebook.com")}static credential(v){return lo._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return T.credential(v.oauthAccessToken)}catch{return null}}}return T.FACEBOOK_SIGN_IN_METHOD="facebook.com",T.PROVIDER_ID="facebook.com",T})(),Wo=(()=>{class T extends Po{constructor(){super("google.com"),this.addScope("profile")}static credential(v,R){return lo._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:R})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:R,oauthAccessToken:Q}=v;if(!R&&!Q)return null;try{return T.credential(R,Q)}catch{return null}}}return T.GOOGLE_SIGN_IN_METHOD="google.com",T.PROVIDER_ID="google.com",T})(),rs=(()=>{class T extends Po{constructor(){super("github.com")}static credential(v){return lo._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return T.credential(v.oauthAccessToken)}catch{return null}}}return T.GITHUB_SIGN_IN_METHOD="github.com",T.PROVIDER_ID="github.com",T})();class ho extends jt{constructor(g,v){super(g,g),this.pendingToken=v}_getIdTokenResponse(g){return Nr(g,this.buildRequest())}_linkToIdToken(g,v){const R=this.buildRequest();return R.idToken=v,Nr(g,R)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,Nr(g,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:R,signInMethod:Q,pendingToken:de}=v;return R&&Q&&de&&R===Q?new ho(R,de):null}static _create(g,v){return new ho(g,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class tc extends Ws{constructor(g){ze(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return tc.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return tc.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const v=ho.fromJSON(g);return ze(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:v,providerId:R}=g;if(!v||!R)return null;try{return ho._create(R,v)}catch{return null}}}let nc=(()=>{class T extends Po{constructor(){super("twitter.com")}static credential(v,R){return lo._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:R})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:R,oauthTokenSecret:Q}=v;if(!R||!Q)return null;try{return T.credential(R,Q)}catch{return null}}}return T.TWITTER_SIGN_IN_METHOD="twitter.com",T.PROVIDER_ID="twitter.com",T})();function Oo(T,g){return fo.apply(this,arguments)}function fo(){return(fo=(0,w.Z)(function*(T,g){return zn(T,"POST","/v1/accounts:signUp",Ve(T,g))})).apply(this,arguments)}class ii{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,v,R,Q=!1){return(0,w.Z)(function*(){const de=yield re._fromIdTokenResponse(g,R,Q),qe=ps(R);return new ii({user:de,providerId:qe,_tokenResponse:R,operationType:v})})()}static _forOperation(g,v,R){return(0,w.Z)(function*(){yield g._updateTokensIfNecessary(R,!0);const Q=ps(R);return new ii({user:g,providerId:Q,_tokenResponse:R,operationType:v})})()}}function ps(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}function ca(T){return oi.apply(this,arguments)}function oi(){return(oi=(0,w.Z)(function*(T){var g;const v=Lr(T);if(yield v._initializationPromise,null!==(g=v.currentUser)&&void 0!==g&&g.isAnonymous)return new ii({user:v.currentUser,providerId:null,operationType:"signIn"});const R=yield Oo(v,{returnSecureToken:!0}),Q=yield ii._fromIdTokenResponse(v,"signIn",R,!0);return yield v._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class Ei extends j.ZR{constructor(g,v,R,Q){var de;super(v.code,v.message),this.operationType=R,this.user=Q,Object.setPrototypeOf(this,Ei.prototype),this.customData={appName:g.name,tenantId:null!==(de=g.tenantId)&&void 0!==de?de:void 0,_serverResponse:v.customData._serverResponse,operationType:R}}static _fromErrorAndOperation(g,v,R,Q){return new Ei(g,v,R,Q)}}function Ps(T,g,v,R){return("reauthenticate"===g?v._getReauthenticationResolver(T):v._getIdTokenResponse(T)).catch(de=>{throw"auth/multi-factor-auth-required"===de.code?Ei._fromErrorAndOperation(T,de,g,R):de})}function tr(T){return new Set(T.map(({providerId:g})=>g).filter(g=>!!g))}function la(T,g){return Ha.apply(this,arguments)}function Ha(){return Ha=(0,w.Z)(function*(T,g){const v=(0,j.m9)(T);yield Io(!0,v,g);const{providerUserInfo:R}=yield function Vr(T,g){return Nn.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[g]}),Q=tr(R||[]);return v.providerData=v.providerData.filter(de=>Q.has(de.providerId)),Q.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),Ha.apply(this,arguments)}function eo(T,g){return ci.apply(this,arguments)}function ci(){return(ci=(0,w.Z)(function*(T,g,v=!1){const R=yield Ln(T,g._linkToIdToken(T.auth,yield T.getIdToken()),v);return ii._forOperation(T,"link",R)})).apply(this,arguments)}function Io(T,g,v){return No.apply(this,arguments)}function No(){return(No=(0,w.Z)(function*(T,g,v){yield Cr(g);const Q=!1===T?"provider-already-linked":"no-such-provider";ze(tr(g.providerData).has(v)===T,g.auth,Q)})).apply(this,arguments)}function is(T,g){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,w.Z)(function*(T,g,v=!1){const{auth:R}=T,Q="reauthenticate";try{const de=yield Ln(T,Ps(R,Q,g,T),v);ze(de.idToken,R,"internal-error");const qe=mr(de.idToken);ze(qe,R,"internal-error");const{sub:At}=qe;return ze(T.uid===At,R,"user-mismatch"),ii._forOperation(T,Q,de)}catch(de){throw"auth/user-not-found"===de?.code&&Ge(R,"user-mismatch"),de}})).apply(this,arguments)}function Aa(T,g){return oo.apply(this,arguments)}function oo(){return(oo=(0,w.Z)(function*(T,g,v=!1){const R="signIn",Q=yield Ps(T,R,g),de=yield ii._fromIdTokenResponse(T,R,Q);return v||(yield T._updateCurrentUser(de.user)),de})).apply(this,arguments)}function jn(T,g){return os.apply(this,arguments)}function os(){return(os=(0,w.Z)(function*(T,g){return Aa(Lr(T),g)})).apply(this,arguments)}function Sa(T,g){return ss.apply(this,arguments)}function ss(){return(ss=(0,w.Z)(function*(T,g){const v=(0,j.m9)(T);return yield Io(!1,v,g.providerId),eo(v,g)})).apply(this,arguments)}function po(T,g){return xa.apply(this,arguments)}function xa(){return(xa=(0,w.Z)(function*(T,g){return is((0,j.m9)(T),g)})).apply(this,arguments)}function Os(){return(Os=(0,w.Z)(function*(T,g){return zn(T,"POST","/v1/accounts:signInWithCustomToken",Ve(T,g))})).apply(this,arguments)}function yc(T,g){return Dt.apply(this,arguments)}function Dt(){return Dt=(0,w.Z)(function*(T,g){const v=Lr(T),R=yield function ua(T,g){return Os.apply(this,arguments)}(v,{token:g,returnSecureToken:!0}),Q=yield ii._fromIdTokenResponse(v,"signIn",R);return yield v._updateCurrentUser(Q.user),Q}),Dt.apply(this,arguments)}class nr{constructor(g,v){this.factorId=g,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(g,v){return"phoneInfo"in v?Et._fromServerResponse(g,v):"totpInfo"in v?Fe._fromServerResponse(g,v):Ge(g,"internal-error")}}class Et extends nr{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,v){return new Et(v)}}class Fe extends nr{constructor(g){super("totp",g)}static _fromServerResponse(g,v){return new Fe(v)}}function Te(T,g,v){var R;ze((null===(R=v.url)||void 0===R?void 0:R.length)>0,T,"invalid-continue-uri"),ze(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,T,"invalid-dynamic-link-domain"),g.continueUrl=v.url,g.dynamicLinkDomain=v.dynamicLinkDomain,g.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(ze(v.iOS.bundleId.length>0,T,"missing-ios-bundle-id"),g.iOSBundleId=v.iOS.bundleId),v.android&&(ze(v.android.packageName.length>0,T,"missing-android-pkg-name"),g.androidInstallApp=v.android.installApp,g.androidMinimumVersionCode=v.android.minimumVersion,g.androidPackageName=v.android.packageName)}function vt(T,g,v){return Pt.apply(this,arguments)}function Pt(){return Pt=(0,w.Z)(function*(T,g,v){var R;const Q=Lr(T),de={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(R=Q._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const qe=yield qr(Q,de,"getOobCode",!0);v&&Te(Q,qe,v),yield ds(Q,qe)}else v&&Te(Q,de,v),yield ds(Q,de).catch(function(){var qe=(0,w.Z)(function*(At){if("auth/missing-recaptcha-token"!==At.code)return Promise.reject(At);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const sn=yield qr(Q,de,"getOobCode",!0);v&&Te(Q,sn,v),yield ds(Q,sn)}});return function(At){return qe.apply(this,arguments)}}())}),Pt.apply(this,arguments)}function tn(T,g,v){return rr.apply(this,arguments)}function rr(){return(rr=(0,w.Z)(function*(T,g,v){yield Vn((0,j.m9)(T),{oobCode:g,newPassword:v})})).apply(this,arguments)}function ni(T,g){return so.apply(this,arguments)}function so(){return so=(0,w.Z)(function*(T,g){yield function Ci(T,g){return Ii.apply(this,arguments)}((0,j.m9)(T),{oobCode:g})}),so.apply(this,arguments)}function qi(T,g){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,w.Z)(function*(T,g){const v=(0,j.m9)(T),R=yield Vn(v,{oobCode:g}),Q=R.requestType;switch(ze(Q,v,"internal-error"),Q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ze(R.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ze(R.mfaInfo,v,"internal-error");default:ze(R.email,v,"internal-error")}let de=null;return R.mfaInfo&&(de=nr._fromServerResponse(Lr(v),R.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.newEmail:R.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.email:R.newEmail)||null,multiFactorInfo:de},operation:Q}})).apply(this,arguments)}function Ui(T,g){return mo.apply(this,arguments)}function mo(){return(mo=(0,w.Z)(function*(T,g){const{data:v}=yield qi((0,j.m9)(T),g);return v.email})).apply(this,arguments)}function Ko(T,g,v){return Yo.apply(this,arguments)}function Yo(){return Yo=(0,w.Z)(function*(T,g,v){var R;const Q=Lr(T),de={returnSecureToken:!0,email:g,password:v,clientType:"CLIENT_TYPE_WEB"};let qe;if(null!==(R=Q._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const bn=yield qr(Q,de,"signUpPassword");qe=Oo(Q,bn)}else qe=Oo(Q,de).catch(function(){var bn=(0,w.Z)(function*(Kn){if("auth/missing-recaptcha-token"===Kn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Ur=yield qr(Q,de,"signUpPassword");return Oo(Q,Ur)}return Promise.reject(Kn)});return function(Kn){return bn.apply(this,arguments)}}());const At=yield qe.catch(bn=>Promise.reject(bn)),sn=yield ii._fromIdTokenResponse(Q,"signIn",At);return yield Q._updateCurrentUser(sn.user),sn}),Yo.apply(this,arguments)}function Zi(T,g,v){return jn((0,j.m9)(T),ec.credential(g,v))}function $i(T,g,v){return qs.apply(this,arguments)}function qs(){return qs=(0,w.Z)(function*(T,g,v){var R;const Q=Lr(T),de={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function qe(At,sn){ze(sn.handleCodeInApp,Q,"argument-error"),sn&&Te(Q,At,sn)}if(null!==(R=Q._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const At=yield qr(Q,de,"getOobCode",!0);qe(At,v),yield hs(Q,At)}else qe(de,v),yield hs(Q,de).catch(function(){var At=(0,w.Z)(function*(sn){if("auth/missing-recaptcha-token"!==sn.code)return Promise.reject(sn);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const bn=yield qr(Q,de,"getOobCode",!0);qe(bn,v),yield hs(Q,bn)}});return function(sn){return At.apply(this,arguments)}}())}),qs.apply(this,arguments)}function za(T,g){return"EMAIL_SIGNIN"===Ro.parseLink(g)?.operation}function Ga(T,g,v){return li.apply(this,arguments)}function li(){return(li=(0,w.Z)(function*(T,g,v){const R=(0,j.m9)(T),Q=ec.credentialWithLink(g,v||Vt());return ze(Q._tenantId===(R.tenantId||null),R,"tenant-id-mismatch"),jn(R,Q)})).apply(this,arguments)}function ms(){return(ms=(0,w.Z)(function*(T,g){return mt(T,"POST","/v1/accounts:createAuthUri",Ve(T,g))})).apply(this,arguments)}function Zr(T,g){return Ns.apply(this,arguments)}function Ns(){return Ns=(0,w.Z)(function*(T,g){const R={identifier:g,continueUri:ln()?Vt():"http://localhost"},{signinMethods:Q}=yield function to(T,g){return ms.apply(this,arguments)}((0,j.m9)(T),R);return Q||[]}),Ns.apply(this,arguments)}function Zs(T,g){return ao.apply(this,arguments)}function ao(){return ao=(0,w.Z)(function*(T,g){const v=(0,j.m9)(T),Q={requestType:"VERIFY_EMAIL",idToken:yield T.getIdToken()};g&&Te(v.auth,Q,g);const{email:de}=yield function $o(T,g){return ro.apply(this,arguments)}(v.auth,Q);de!==T.email&&(yield T.reload())}),ao.apply(this,arguments)}function Qo(T,g,v){return Ks.apply(this,arguments)}function Ks(){return Ks=(0,w.Z)(function*(T,g,v){const R=(0,j.m9)(T),de={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield T.getIdToken(),newEmail:g};v&&Te(R.auth,de,v);const{email:qe}=yield function xs(T,g){return ji.apply(this,arguments)}(R.auth,de);qe!==T.email&&(yield T.reload())}),Ks.apply(this,arguments)}function Jo(){return(Jo=(0,w.Z)(function*(T,g){return mt(T,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ma(T,g){return as.apply(this,arguments)}function as(){return as=(0,w.Z)(function*(T,{displayName:g,photoURL:v}){if(void 0===g&&void 0===v)return;const R=(0,j.m9)(T),de={idToken:yield R.getIdToken(),displayName:g,photoUrl:v,returnSecureToken:!0},qe=yield Ln(R,function ks(T,g){return Jo.apply(this,arguments)}(R.auth,de));R.displayName=qe.displayName||null,R.photoURL=qe.photoUrl||null;const At=R.providerData.find(({providerId:sn})=>"password"===sn);At&&(At.displayName=R.displayName,At.photoURL=R.photoURL),yield R._updateTokensIfNecessary(qe)}),as.apply(this,arguments)}function Do(T,g){return ko((0,j.m9)(T),g,null)}function Hr(T,g){return ko((0,j.m9)(T),null,g)}function ko(T,g,v){return fi.apply(this,arguments)}function fi(){return(fi=(0,w.Z)(function*(T,g,v){const{auth:R}=T,de={idToken:yield T.getIdToken(),returnSecureToken:!0};g&&(de.email=g),v&&(de.password=v);const qe=yield Ln(T,qn(R,de));yield T._updateTokensIfNecessary(qe,!0)})).apply(this,arguments)}class Ls{constructor(g,v,R={}){this.isNewUser=g,this.providerId=v,this.profile=R}}class Wa extends Ls{constructor(g,v,R,Q){super(g,v,R),this.username=Q}}class Ra extends Ls{constructor(g,v){super(g,"facebook.com",v)}}class Ki extends Wa{constructor(g,v){super(g,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class Oi extends Ls{constructor(g,v){super(g,"google.com",v)}}class gs extends Wa{constructor(g,v,R){super(g,"twitter.com",v,R)}}function rc(T){const{user:g,_tokenResponse:v}=T;return g.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Fs(T){var g,v;if(!T)return null;const{providerId:R}=T,Q=T.rawUserInfo?JSON.parse(T.rawUserInfo):{},de=T.isNewUser||"identitytoolkit#SignupNewUserResponse"===T.kind;if(!R&&T?.idToken){const qe=null===(v=null===(g=mr(T.idToken))||void 0===g?void 0:g.firebase)||void 0===v?void 0:v.sign_in_provider;if(qe)return new Ls(de,"anonymous"!==qe&&"custom"!==qe?qe:null)}if(!R)return null;switch(R){case"facebook.com":return new Ra(de,Q);case"github.com":return new Ki(de,Q);case"google.com":return new Oi(de,Q);case"twitter.com":return new gs(de,Q,T.screenName||null);case"custom":case"anonymous":return new Ls(de,null);default:return new Ls(de,R,Q)}}(v)}class et{constructor(g,v,R){this.type=g,this.credential=v,this.auth=R}static _fromIdtoken(g,v){return new et("enroll",g,v)}static _fromMfaPendingCredential(g){return new et("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var v,R;if(g?.multiFactorSession){if(null!==(v=g.multiFactorSession)&&void 0!==v&&v.pendingCredential)return et._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(R=g.multiFactorSession)&&void 0!==R&&R.idToken)return et._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Xt{constructor(g,v,R){this.session=g,this.hints=v,this.signInResolver=R}static _fromError(g,v){const R=Lr(g),Q=v.customData._serverResponse,de=(Q.mfaInfo||[]).map(At=>nr._fromServerResponse(R,At));ze(Q.mfaPendingCredential,R,"internal-error");const qe=et._fromMfaPendingCredential(Q.mfaPendingCredential);return new Xt(qe,de,function(){var At=(0,w.Z)(function*(sn){const bn=yield sn._process(R,qe);delete Q.mfaInfo,delete Q.mfaPendingCredential;const Kn=Object.assign(Object.assign({},Q),{idToken:bn.idToken,refreshToken:bn.refreshToken});switch(v.operationType){case"signIn":const Ur=yield ii._fromIdTokenResponse(R,v.operationType,Kn);return yield R._updateCurrentUser(Ur.user),Ur;case"reauthenticate":return ze(v.user,R,"internal-error"),ii._forOperation(v.user,v.operationType,Kn);default:Ge(R,"internal-error")}});return function(sn){return At.apply(this,arguments)}}())}resolveSignIn(g){var v=this;return(0,w.Z)(function*(){return v.signInResolver(g)})()}}function Cn(T,g){var v;const R=(0,j.m9)(T),Q=g;return ze(g.customData.operationType,R,"argument-error"),ze(null===(v=Q.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,R,"argument-error"),Xt._fromError(R,Q)}class Dn{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(R=>nr._fromServerResponse(g.auth,R)))})}static _fromUser(g){return new Dn(g)}getSession(){var g=this;return(0,w.Z)(function*(){return et._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,v){var R=this;return(0,w.Z)(function*(){const Q=g,de=yield R.getSession(),qe=yield Ln(R.user,Q._process(R.user.auth,de,v));return yield R.user._updateTokensIfNecessary(qe),R.user.reload()})()}unenroll(g){var v=this;return(0,w.Z)(function*(){const R="string"==typeof g?g:g.uid,Q=yield v.user.getIdToken();try{const de=yield Ln(v.user,function nn(T,g){return mt(T,"POST","/v2/accounts/mfaEnrollment:withdraw",Ve(T,g))}(v.user.auth,{idToken:Q,mfaEnrollmentId:R}));v.enrolledFactors=v.enrolledFactors.filter(({uid:qe})=>qe!==R),yield v.user._updateTokensIfNecessary(de),yield v.user.reload()}catch(de){throw de}})()}}const To=new WeakMap;function en(T){const g=(0,j.m9)(T);return To.has(g)||To.set(g,Dn._fromUser(g)),To.get(g)}const ht="__sak";class Ft{constructor(g,v){this.storageRetriever=g,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(ht,"1"),this.storage.removeItem(ht),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,v){return this.storage.setItem(g,JSON.stringify(v)),Promise.resolve()}_get(g){const v=this.storage.getItem(g);return Promise.resolve(v?JSON.parse(v):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const ha=(()=>{class T extends Ft{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,R)=>this.onStorageEvent(v,R),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function co(){const T=(0,j.z$)();return oe(T)||Oe(T)}()&&function Wn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=cn(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const R of Object.keys(this.listeners)){const Q=this.storage.getItem(R),de=this.localCache[R];Q!==de&&v(R,de,Q)}}onStorageEvent(v,R=!1){if(!v.key)return void this.forAllChangedKeys((At,sn,bn)=>{this.notifyListeners(At,bn)});const Q=v.key;if(R?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const At=this.storage.getItem(Q);if(v.newValue!==At)null!==v.newValue?this.storage.setItem(Q,v.newValue):this.storage.removeItem(Q);else if(this.localCache[Q]===v.newValue&&!R)return}const de=()=>{const At=this.storage.getItem(Q);!R&&this.localCache[Q]===At||this.notifyListeners(Q,At)},qe=this.storage.getItem(Q);!function Zt(){return(0,j.w1)()&&10===document.documentMode}()||qe===v.newValue||v.newValue===v.oldValue?de():setTimeout(de,10)}notifyListeners(v,R){this.localCache[v]=R;const Q=this.listeners[v];if(Q)for(const de of Array.from(Q))de(R&&JSON.parse(R))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,R,Q)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:R,newValue:Q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,R){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(R)}_removeListener(v,R){this.listeners[v]&&(this.listeners[v].delete(R),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,R){var Q=()=>super._set,de=this;return(0,w.Z)(function*(){yield Q().call(de,v,R),de.localCache[v]=JSON.stringify(R)})()}_get(v){var R=()=>super._get,Q=this;return(0,w.Z)(function*(){const de=yield R().call(Q,v);return Q.localCache[v]=JSON.stringify(de),de})()}_remove(v){var R=()=>super._remove,Q=this;return(0,w.Z)(function*(){yield R().call(Q,v),delete Q.localCache[v]})()}}return T.type="LOCAL",T})(),go=(()=>{class T extends Ft{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,R){}_removeListener(v,R){}}return T.type="SESSION",T})();let qa=(()=>{class T{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const R=this.receivers.find(de=>de.isListeningto(v));if(R)return R;const Q=new T(v);return this.receivers.push(Q),Q}isListeningto(v){return this.eventTarget===v}handleEvent(v){var R=this;return(0,w.Z)(function*(){const Q=v,{eventId:de,eventType:qe,data:At}=Q.data,sn=R.handlersMap[qe];if(!sn?.size)return;Q.ports[0].postMessage({status:"ack",eventId:de,eventType:qe});const bn=Array.from(sn).map(function(){var Ur=(0,w.Z)(function*(ba){return ba(Q.origin,At)});return function(ba){return Ur.apply(this,arguments)}}()),Kn=yield function Pa(T){return Promise.all(T.map(function(){var g=(0,w.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(R){return{fulfilled:!1,reason:R}}});return function(v){return g.apply(this,arguments)}}()))}(bn);Q.ports[0].postMessage({status:"done",eventId:de,eventType:qe,response:Kn})})()}_subscribe(v,R){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(R)}_unsubscribe(v,R){this.handlersMap[v]&&R&&this.handlersMap[v].delete(R),(!R||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return T.receivers=[],T})();function Za(T="",g=10){let v="";for(let R=0;R<g;R++)v+=Math.floor(10*Math.random());return T+v}class hl{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,v,R=50){var Q=this;return(0,w.Z)(function*(){const de=typeof MessageChannel<"u"?new MessageChannel:null;if(!de)throw new Error("connection_unavailable");let qe,At;return new Promise((sn,bn)=>{const Kn=Za("",20);de.port1.start();const Ur=setTimeout(()=>{bn(new Error("unsupported_event"))},R);At={messageChannel:de,onMessage(ba){const Bs=ba;if(Bs.data.eventId===Kn)switch(Bs.data.status){case"ack":clearTimeout(Ur),qe=setTimeout(()=>{bn(new Error("timeout"))},3e3);break;case"done":clearTimeout(qe),sn(Bs.data.response);break;default:clearTimeout(Ur),clearTimeout(qe),bn(new Error("invalid_response"))}}},Q.handlers.add(At),de.port1.addEventListener("message",At.onMessage),Q.target.postMessage({eventType:g,eventId:Kn,data:v},[de.port2])}).finally(()=>{At&&Q.removeMessageHandler(At)})})()}}function Kr(){return window}function fa(){return typeof Kr().WorkerGlobalScope<"u"&&"function"==typeof Kr().importScripts}function Ti(){return(Ti=(0,w.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const lr="firebaseLocalStorageDb",fl=1,gr="firebaseLocalStorage",hn="fbase_key";class Wr{constructor(g){this.request=g}toPromise(){return new Promise((g,v)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Qs(T,g){return T.transaction([gr],g?"readwrite":"readonly").objectStore(gr)}function bc(){const T=indexedDB.open(lr,fl);return new Promise((g,v)=>{T.addEventListener("error",()=>{v(T.error)}),T.addEventListener("upgradeneeded",()=>{const R=T.result;try{R.createObjectStore(gr,{keyPath:hn})}catch(Q){v(Q)}}),T.addEventListener("success",(0,w.Z)(function*(){const R=T.result;R.objectStoreNames.contains(gr)?g(R):(R.close(),yield function Fo(){const T=indexedDB.deleteDatabase(lr);return new Wr(T).toPromise()}(),g(yield bc()))}))})}function _o(T,g,v){return cs.apply(this,arguments)}function cs(){return(cs=(0,w.Z)(function*(T,g,v){const R=Qs(T,!0).put({[hn]:g,value:v});return new Wr(R).toPromise()})).apply(this,arguments)}function oc(){return(oc=(0,w.Z)(function*(T,g){const v=Qs(T,!1).get(g),R=yield new Wr(v).toPromise();return void 0===R?null:R.value})).apply(this,arguments)}function pl(T,g){const v=Qs(T,!0).delete(g);return new Wr(v).toPromise()}const ui=(()=>{class T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,w.Z)(function*(){return v.db||(v.db=yield bc()),v.db})()}_withRetries(v){var R=this;return(0,w.Z)(function*(){let Q=0;for(;;)try{const de=yield R._openDb();return yield v(de)}catch(de){if(Q++>3)throw de;R.db&&(R.db.close(),R.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,w.Z)(function*(){return fa()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,w.Z)(function*(){v.receiver=qa._getInstance(function vc(){return fa()?self:null}()),v.receiver._subscribe("keyChanged",function(){var R=(0,w.Z)(function*(Q,de){return{keyProcessed:(yield v._poll()).includes(de.key)}});return function(Q,de){return R.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var R=(0,w.Z)(function*(Q,de){return["keyChanged"]});return function(Q,de){return R.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,w.Z)(function*(){var R,Q;if(v.activeServiceWorker=yield function Rl(){return Ti.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new hl(v.activeServiceWorker);const de=yield v.sender._send("ping",{},800);de&&null!==(R=de[0])&&void 0!==R&&R.fulfilled&&null!==(Q=de[0])&&void 0!==Q&&Q.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var R=this;return(0,w.Z)(function*(){if(R.sender&&R.activeServiceWorker&&function Hn(){var T;return(null===(T=navigator?.serviceWorker)||void 0===T?void 0:T.controller)||null}()===R.activeServiceWorker)try{yield R.sender._send("keyChanged",{key:v},R.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,w.Z)(function*(){try{if(!indexedDB)return!1;const v=yield bc();return yield _o(v,ht,"1"),yield pl(v,ht),!0}catch{}return!1})()}_withPendingWrite(v){var R=this;return(0,w.Z)(function*(){R.pendingWrites++;try{yield v()}finally{R.pendingWrites--}})()}_set(v,R){var Q=this;return(0,w.Z)(function*(){return Q._withPendingWrite((0,w.Z)(function*(){return yield Q._withRetries(de=>_o(de,v,R)),Q.localCache[v]=R,Q.notifyServiceWorker(v)}))})()}_get(v){var R=this;return(0,w.Z)(function*(){const Q=yield R._withRetries(de=>function ic(T,g){return oc.apply(this,arguments)}(de,v));return R.localCache[v]=Q,Q})()}_remove(v){var R=this;return(0,w.Z)(function*(){return R._withPendingWrite((0,w.Z)(function*(){return yield R._withRetries(Q=>pl(Q,v)),delete R.localCache[v],R.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,w.Z)(function*(){const R=yield v._withRetries(qe=>{const At=Qs(qe,!1).getAll();return new Wr(At).toPromise()});if(!R)return[];if(0!==v.pendingWrites)return[];const Q=[],de=new Set;for(const{fbase_key:qe,value:At}of R)de.add(qe),JSON.stringify(v.localCache[qe])!==JSON.stringify(At)&&(v.notifyListeners(qe,At),Q.push(qe));for(const qe of Object.keys(v.localCache))v.localCache[qe]&&!de.has(qe)&&(v.notifyListeners(qe,null),Q.push(qe));return Q})()}notifyListeners(v,R){this.localCache[v]=R;const Q=this.listeners[v];if(Q)for(const de of Array.from(Q))de(R)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,w.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,R){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(R)}_removeListener(v,R){this.listeners[v]&&(this.listeners[v].delete(R),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return T.type="LOCAL",T})(),nu=1e12;class Qc{constructor(g){this.auth=g,this.counter=nu,this._widgets=new Map}render(g,v){const R=this.counter;return this._widgets.set(R,new sc(g,this.auth.name,v||{})),this.counter++,R}reset(g){var v;const R=g||nu;null===(v=this._widgets.get(R))||void 0===v||v.delete(),this._widgets.delete(R)}getResponse(g){var v;return(null===(v=this._widgets.get(g||nu))||void 0===v?void 0:v.getResponse())||""}execute(g){var v=this;return(0,w.Z)(function*(){var R;return null===(R=v._widgets.get(g||nu))||void 0===R||R.execute(),""})()}}class sc{constructor(g,v,R){this.params=R,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Q="string"==typeof g?document.getElementById(g):g;ze(Q,"argument-error",{appName:v}),this.container=Q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function wc(T){const g=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let R=0;R<T;R++)g.push(v.charAt(Math.floor(Math.random()*v.length)));return g.join("")}(50);const{callback:g,"expired-callback":v}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ec=wi("rcb"),ru=new Je(3e4,6e4);class ac{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Kr().grecaptcha)||void 0===g||!g.render)}load(g,v=""){return ze(function Id(T){return T.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(T)}(v),g,"argument-error"),this.shouldResolveImmediately(v)&&Bn(Kr().grecaptcha)?Promise.resolve(Kr().grecaptcha):new Promise((R,Q)=>{const de=Kr().setTimeout(()=>{Q(Le(g,"network-request-failed"))},ru.get());Kr()[Ec]=()=>{Kr().clearTimeout(de),delete Kr()[Ec];const At=Kr().grecaptcha;if(!At||!Bn(At))return void Q(Le(g,"internal-error"));const sn=At.render;At.render=(bn,Kn)=>{const Ur=sn(bn,Kn);return this.counter++,Ur},this.hostLanguage=v,R(At)},sr(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:Ec,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(de),Q(Le(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var v;return!(null===(v=Kr().grecaptcha)||void 0===v||!v.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class _s{load(g){return(0,w.Z)(function*(){return new Qc(g)})()}clearedOneInstance(){}}const Bi="recaptcha",ys={theme:"light",type:"image"};class Cc{constructor(g,v=Object.assign({},ys),R){this.parameters=v,this.type=Bi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Lr(R),this.isInvisible="invisible"===this.parameters.size,ze(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Q="string"==typeof g?document.getElementById(g):g;ze(Q,this.auth,"argument-error"),this.container=Q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _s:new ac,this.validateStartingState()}verify(){var g=this;return(0,w.Z)(function*(){g.assertNotDestroyed();const v=yield g.render(),R=g.getAssertedRecaptcha();return R.getResponse(v)||new Promise(de=>{const qe=At=>{At&&(g.tokenChangeListeners.delete(qe),de(At))};g.tokenChangeListeners.add(qe),g.isInvisible&&R.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ze(!this.parameters.sitekey,this.auth,"argument-error"),ze(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ze(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return v=>{if(this.tokenChangeListeners.forEach(R=>R(v)),"function"==typeof g)g(v);else if("string"==typeof g){const R=Kr()[g];"function"==typeof R&&R(v)}}}assertNotDestroyed(){ze(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,w.Z)(function*(){if(yield g.init(),!g.widgetId){let v=g.container;if(!g.isInvisible){const R=document.createElement("div");v.appendChild(R),v=R}g.widgetId=g.getAssertedRecaptcha().render(v,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,w.Z)(function*(){ze(ln()&&!fa(),g.auth,"internal-error"),yield function yo(){let T=null;return new Promise(g=>{"complete"!==document.readyState?(T=()=>g(),window.addEventListener("load",T)):g()}).catch(g=>{throw T&&window.removeEventListener("load",T),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const v=yield function st(T){return it.apply(this,arguments)}(g.auth);ze(v,g.auth,"internal-error"),g.parameters.sitekey=v})()}getAssertedRecaptcha(){return ze(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vo{constructor(g,v){this.verificationId=g,this.onConfirmation=v}confirm(g){const v=Mo._fromVerification(this.verificationId,g);return this.onConfirmation(v)}}function vs(T,g,v){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,w.Z)(function*(T,g,v){const R=Lr(T),Q=yield H(R,g,(0,j.m9)(v));return new vo(Q,de=>jn(R,de))})).apply(this,arguments)}function D(T,g,v){return S.apply(this,arguments)}function S(){return(S=(0,w.Z)(function*(T,g,v){const R=(0,j.m9)(T);yield Io(!1,R,"phone");const Q=yield H(R.auth,g,(0,j.m9)(v));return new vo(Q,de=>Sa(R,de))})).apply(this,arguments)}function E(T,g,v){return F.apply(this,arguments)}function F(){return(F=(0,w.Z)(function*(T,g,v){const R=(0,j.m9)(T),Q=yield H(R.auth,g,(0,j.m9)(v));return new vo(Q,de=>po(R,de))})).apply(this,arguments)}function H(T,g,v){return te.apply(this,arguments)}function te(){return te=(0,w.Z)(function*(T,g,v){var R;const Q=yield v.verify();try{let de;if(ze("string"==typeof Q,T,"argument-error"),ze(v.type===Bi,T,"argument-error"),de="string"==typeof g?{phoneNumber:g}:g,"session"in de){const qe=de.session;if("phoneNumber"in de)return ze("enroll"===qe.type,T,"internal-error"),(yield function Ct(T,g){return mt(T,"POST","/v2/accounts/mfaEnrollment:start",Ve(T,g))}(T,{idToken:qe.credential,phoneEnrollmentInfo:{phoneNumber:de.phoneNumber,recaptchaToken:Q}})).phoneSessionInfo.sessionInfo;{ze("signin"===qe.type,T,"internal-error");const At=(null===(R=de.multiFactorHint)||void 0===R?void 0:R.uid)||de.multiFactorUid;return ze(At,T,"missing-multi-factor-info"),(yield function Js(T,g){return mt(T,"POST","/v2/accounts/mfaSignIn:start",Ve(T,g))}(T,{mfaPendingCredential:qe.credential,mfaEnrollmentId:At,phoneSignInInfo:{recaptchaToken:Q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:qe}=yield function Ta(T,g){return zo.apply(this,arguments)}(T,{phoneNumber:de.phoneNumber,recaptchaToken:Q});return qe}}finally{v._reset()}}),te.apply(this,arguments)}function ce(T,g){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,w.Z)(function*(T,g){yield eo((0,j.m9)(T),g)})).apply(this,arguments)}let kt=(()=>{class T{constructor(v){this.providerId=T.PROVIDER_ID,this.auth=Lr(v)}verifyPhoneNumber(v,R){return H(this.auth,v,(0,j.m9)(R))}static credential(v,R){return Mo._fromVerification(v,R)}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:R,temporaryProof:Q}=v;return R&&Q?Mo._fromTokenResponse(R,Q):null}}return T.PROVIDER_ID="phone",T.PHONE_SIGN_IN_METHOD="phone",T})();function fn(T,g){return g?lt(g):(ze(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}class mn extends jt{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Nr(g,this._buildIdpRequest())}_linkToIdToken(g,v){return Nr(g,this._buildIdpRequest(v))}_getReauthenticationResolver(g){return Nr(g,this._buildIdpRequest())}_buildIdpRequest(g){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(v.idToken=g),v}}function Rr(T){return Aa(T.auth,new mn(T),T.bypassAuthState)}function Ri(T){const{auth:g,user:v}=T;return ze(v,g,"internal-error"),is(v,new mn(T),T.bypassAuthState)}function Oa(T){return bs.apply(this,arguments)}function bs(){return(bs=(0,w.Z)(function*(T){const{auth:g,user:v}=T;return ze(v,g,"internal-error"),eo(v,new mn(T),T.bypassAuthState)})).apply(this,arguments)}class Xs{constructor(g,v,R,Q,de=!1){this.auth=g,this.resolver=R,this.user=Q,this.bypassAuthState=de,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var g=this;return new Promise(function(){var v=(0,w.Z)(function*(R,Q){g.pendingPromise={resolve:R,reject:Q};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(de){g.reject(de)}});return function(R,Q){return v.apply(this,arguments)}}())}onAuthEvent(g){var v=this;return(0,w.Z)(function*(){const{urlResponse:R,sessionId:Q,postBody:de,tenantId:qe,error:At,type:sn}=g;if(At)return void v.reject(At);const bn={auth:v.auth,requestUri:R,sessionId:Q,tenantId:qe||void 0,postBody:de||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(sn)(bn))}catch(Kn){v.reject(Kn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Rr;case"linkViaPopup":case"linkViaRedirect":return Oa;case"reauthViaPopup":case"reauthViaRedirect":return Ri;default:Ge(this.auth,"internal-error")}}resolve(g){Wt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Wt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ea=new Je(2e3,1e4);function ma(T,g,v){return ga.apply(this,arguments)}function ga(){return(ga=(0,w.Z)(function*(T,g,v){const R=Lr(T);Mt(T,g,Ws);const Q=fn(R,v);return new Pl(R,"signInViaPopup",g,Q).executeNotNull()})).apply(this,arguments)}function ou(T,g,v){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,w.Z)(function*(T,g,v){const R=(0,j.m9)(T);Mt(R.auth,g,Ws);const Q=fn(R.auth,v);return new Pl(R.auth,"reauthViaPopup",g,Q,R).executeNotNull()})).apply(this,arguments)}function Ku(T,g,v){return ml.apply(this,arguments)}function ml(){return(ml=(0,w.Z)(function*(T,g,v){const R=(0,j.m9)(T);Mt(R.auth,g,Ws);const Q=fn(R.auth,v);return new Pl(R.auth,"linkViaPopup",g,Q,R).executeNotNull()})).apply(this,arguments)}let Pl=(()=>{class T extends Xs{constructor(v,R,Q,de,qe){super(v,R,de,qe),this.provider=Q,this.authWindow=null,this.pollId=null,T.currentPopupAction&&T.currentPopupAction.cancel(),T.currentPopupAction=this}executeNotNull(){var v=this;return(0,w.Z)(function*(){const R=yield v.execute();return ze(R,v.auth,"internal-error"),R})()}onExecution(){var v=this;return(0,w.Z)(function*(){Wt(1===v.filter.length,"Popup operations only handle one event");const R=Za();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],R),v.authWindow.associatedEvent=R,v.resolver._originValidation(v.auth).catch(Q=>{v.reject(Q)}),v.resolver._isIframeWebStorageSupported(v.auth,Q=>{Q||v.reject(Le(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Le(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,T.currentPopupAction=null}pollUserCancellation(){const v=()=>{var R,Q;this.pollId=null!==(Q=null===(R=this.authWindow)||void 0===R?void 0:R.window)&&void 0!==Q&&Q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Le(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,ea.get())};v()}}return T.currentPopupAction=null,T})();const Uo="pendingRedirect",Yi=new Map;class Na extends Xs{constructor(g,v,R=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,R),this.eventId=null}execute(){var g=()=>super.execute,v=this;return(0,w.Z)(function*(){let R=Yi.get(v.auth._key());if(!R){try{const de=(yield function su(T,g){return vi.apply(this,arguments)}(v.resolver,v.auth))?yield g().call(v):null;R=()=>Promise.resolve(de)}catch(Q){R=()=>Promise.reject(Q)}Yi.set(v.auth._key(),R)}return v.bypassAuthState||Yi.set(v.auth._key(),()=>Promise.resolve(null)),R()})()}onAuthEvent(g){var v=()=>super.onAuthEvent,R=this;return(0,w.Z)(function*(){if("signInViaRedirect"===g.type)return v().call(R,g);if("unknown"!==g.type){if(g.eventId){const Q=yield R.auth._redirectUserForId(g.eventId);if(Q)return R.user=Q,v().call(R,g);R.resolve(null)}}else R.resolve(null)})()}onExecution(){return(0,w.Z)(function*(){})()}cleanUp(){}}function vi(){return(vi=(0,w.Z)(function*(T,g){const v=Us(g),R=gl(T);if(!(yield R._isAvailable()))return!1;const Q="true"===(yield R._get(v));return yield R._remove(v),Q})).apply(this,arguments)}function Ol(T,g){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,w.Z)(function*(T,g){return gl(T)._set(Us(g),"true")})).apply(this,arguments)}function Si(){Yi.clear()}function Dd(T,g){Yi.set(T._key(),g)}function gl(T){return lt(T._redirectPersistence)}function Us(T){return Me(Uo,T.config.apiKey,T.name)}function ka(T,g,v){return function Yu(T,g,v){return bo.apply(this,arguments)}(T,g,v)}function bo(){return(bo=(0,w.Z)(function*(T,g,v){const R=Lr(T);Mt(T,g,Ws),yield R._initializationPromise;const Q=fn(R,v);return yield Ol(Q,R),Q._openRedirect(R,g,"signInViaRedirect")})).apply(this,arguments)}function Eh(T,g,v){return function Ic(T,g,v){return Ni.apply(this,arguments)}(T,g,v)}function Ni(){return(Ni=(0,w.Z)(function*(T,g,v){const R=(0,j.m9)(T);Mt(R.auth,g,Ws),yield R.auth._initializationPromise;const Q=fn(R.auth,v);yield Ol(Q,R.auth);const de=yield yl(R);return Q._openRedirect(R.auth,g,"reauthViaRedirect",de)})).apply(this,arguments)}function Ji(T,g,v){return function Jc(T,g,v){return _l.apply(this,arguments)}(T,g,v)}function _l(){return(_l=(0,w.Z)(function*(T,g,v){const R=(0,j.m9)(T);Mt(R.auth,g,Ws),yield R.auth._initializationPromise;const Q=fn(R.auth,v);yield Io(!1,R,g.providerId),yield Ol(Q,R.auth);const de=yield yl(R);return Q._openRedirect(R.auth,g,"linkViaRedirect",de)})).apply(this,arguments)}function Oc(T,g){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,w.Z)(function*(T,g){return yield Lr(T)._initializationPromise,Dc(T,g,!1)})).apply(this,arguments)}function Dc(T,g){return _a.apply(this,arguments)}function _a(){return(_a=(0,w.Z)(function*(T,g,v=!1){const R=Lr(T),Q=fn(R,g),qe=yield new Na(R,Q,v).execute();return qe&&!v&&(delete qe.user._redirectEventId,yield R._persistUserIfCurrent(qe.user),yield R._setRedirectUser(null,g)),qe})).apply(this,arguments)}function yl(T){return ta.apply(this,arguments)}function ta(){return(ta=(0,w.Z)(function*(T){const g=Za(`${T.uid}:::`);return T._redirectEventId=g,yield T.auth._setRedirectUser(T),yield T.auth._persistUserIfCurrent(T),g})).apply(this,arguments)}class Nc{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let v=!1;return this.consumers.forEach(R=>{this.isEventForConsumer(g,R)&&(v=!0,this.sendToConsumer(g,R),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function ws(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return au(T);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=g,v=!0)),v}sendToConsumer(g,v){var R;if(g.error&&!au(g)){const Q=(null===(R=g.error.code)||void 0===R?void 0:R.split("auth/")[1])||"internal-error";v.onError(Le(this.auth,Q))}else v.onAuthEvent(g)}isEventForConsumer(g,v){const R=null===v.eventId||!!g.eventId&&g.eventId===v.eventId;return v.filter.includes(g.type)&&R}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ya(g))}saveEventToCache(g){this.cachedEventUids.add(ya(g)),this.lastProcessedEventTime=Date.now()}}function ya(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(g=>g).join("-")}function au({type:T,error:g}){return"unknown"===T&&"auth/no-auth-event"===g?.code}function na(T){return cc.apply(this,arguments)}function cc(){return(cc=(0,w.Z)(function*(T,g={}){return mt(T,"GET","/v1/projects",g)})).apply(this,arguments)}const kl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Td=/^https?/;function uc(){return(uc=(0,w.Z)(function*(T){if(T.config.emulator)return;const{authorizedDomains:g}=yield na(T);for(const v of g)try{if(cu(v))return}catch{}Ge(T,"unauthorized-domain")})).apply(this,arguments)}function cu(T){const g=Vt(),{protocol:v,hostname:R}=new URL(g);if(T.startsWith("chrome-extension://")){const qe=new URL(T);return""===qe.hostname&&""===R?"chrome-extension:"===v&&T.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===v&&qe.hostname===R}if(!Td.test(v))return!1;if(kl.test(T))return R===T;const Q=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Q+"|"+Q+")$","i").test(R)}const dc=new Je(3e4,6e4);function Tc(){const T=Kr().___jsl;if(T?.H)for(const g of Object.keys(T.H))if(T.H[g].r=T.H[g].r||[],T.H[g].L=T.H[g].L||[],T.H[g].r=[...T.H[g].L],T.CP)for(let v=0;v<T.CP.length;v++)T.CP[v]=null}let lu=null;const Ad=new Je(5e3,15e3),hc="__/auth/iframe",Ao="emulator/auth/iframe",uu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kc(T){const g=T.config;ze(g.authDomain,T,"auth-domain-config-required");const v=g.emulator?ct(g,Ao):`https://${T.config.authDomain}/${hc}`,R={apiKey:g.apiKey,appName:T.name,v:h.SDK_VERSION},Q=Pi.get(T.config.apiHost);Q&&(R.eid=Q);const de=T._getFrameworks();return de.length&&(R.fw=de.join(",")),`${v}?${(0,j.xO)(R).slice(1)}`}function Fl(){return Fl=(0,w.Z)(function*(T){const g=yield function Xc(T){return lu=lu||function Ya(T){return new Promise((g,v)=>{var R,Q,de;function qe(){Tc(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Tc(),v(Le(T,"network-request-failed"))},timeout:dc.get()})}if(null!==(Q=null===(R=Kr().gapi)||void 0===R?void 0:R.iframes)&&void 0!==Q&&Q.Iframe)g(gapi.iframes.getContext());else{if(null===(de=Kr().gapi)||void 0===de||!de.load){const At=wi("iframefcb");return Kr()[At]=()=>{gapi.load?qe():v(Le(T,"network-request-failed"))},sr(`https://apis.google.com/js/api.js?onload=${At}`).catch(sn=>v(sn))}qe()}}).catch(g=>{throw lu=null,g})}(T),lu}(T),v=Kr().gapi;return ze(v,T,"internal-error"),g.open({where:document.body,url:kc(T),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uu,dontclear:!0},R=>new Promise(function(){var Q=(0,w.Z)(function*(de,qe){yield R.restyle({setHideOnLeave:!1});const At=Le(T,"network-request-failed"),sn=Kr().setTimeout(()=>{qe(At)},Ad.get());function bn(){Kr().clearTimeout(sn),de(R)}R.ping(bn).then(bn,()=>{qe(At)})});return function(de,qe){return Q.apply(this,arguments)}}()))}),Fl.apply(this,arguments)}const M={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},L=500,G=600,pe="_blank",Pe="http://localhost";class He{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const dn="__/auth/handler",Tn="emulator/auth/handler",br=encodeURIComponent("fac");function wr(T,g,v,R,Q,de){return Es.apply(this,arguments)}function Es(){return(Es=(0,w.Z)(function*(T,g,v,R,Q,de){ze(T.config.authDomain,T,"auth-domain-config-required"),ze(T.config.apiKey,T,"invalid-api-key");const qe={apiKey:T.config.apiKey,appName:T.name,authType:v,redirectUrl:R,v:h.SDK_VERSION,eventId:Q};if(g instanceof Ws){g.setDefaultLanguage(T.languageCode),qe.providerId=g.providerId||"",(0,j.xb)(g.getCustomParameters())||(qe.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Kn,Ur]of Object.entries(de||{}))qe[Kn]=Ur}if(g instanceof Po){const Kn=g.getScopes().filter(Ur=>""!==Ur);Kn.length>0&&(qe.scopes=Kn.join(","))}T.tenantId&&(qe.tid=T.tenantId);const At=qe;for(const Kn of Object.keys(At))void 0===At[Kn]&&delete At[Kn];const sn=yield T._getAppCheckToken(),bn=sn?`#${br}=${encodeURIComponent(sn)}`:"";return`${function ls({config:T}){return T.emulator?ct(T,Tn):`https://${T.authDomain}/${dn}`}(T)}?${(0,j.xO)(At).slice(1)}${bn}`})).apply(this,arguments)}const Fc="webStorageSupport",el=class Ac{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=go,this._completeRedirectFn=Dc,this._overrideRedirectResult=Dd}_openPopup(g,v,R,Q){var de=this;return(0,w.Z)(function*(){var qe;Wt(null===(qe=de.eventManagers[g._key()])||void 0===qe?void 0:qe.manager,"_initialize() not called before _openPopup()");const At=yield wr(g,v,R,Vt(),Q);return function Tt(T,g,v,R=L,Q=G){const de=Math.max((window.screen.availHeight-Q)/2,0).toString(),qe=Math.max((window.screen.availWidth-R)/2,0).toString();let At="";const sn=Object.assign(Object.assign({},M),{width:R.toString(),height:Q.toString(),top:de,left:qe}),bn=(0,j.z$)().toLowerCase();v&&(At=ee(bn)?pe:v),X(bn)&&(g=g||Pe,sn.scrollbars="yes");const Kn=Object.entries(sn).reduce((ba,[Bs,Pd])=>`${ba}${Bs}=${Pd},`,"");if(function Rt(T=(0,j.z$)()){var g;return Oe(T)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(bn)&&"_self"!==At)return function _n(T,g){const v=document.createElement("a");v.href=T,v.target=g;const R=document.createEvent("MouseEvent");R.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(R)}(g||"",At),new He(null);const Ur=window.open(g||"",At,Kn);ze(Ur,T,"popup-blocked");try{Ur.focus()}catch{}return new He(Ur)}(g,At,Za())})()}_openRedirect(g,v,R,Q){var de=this;return(0,w.Z)(function*(){return yield de._originValidation(g),function or(T){Kr().location.href=T}(yield wr(g,v,R,Vt(),Q)),new Promise(()=>{})})()}_initialize(g){const v=g._key();if(this.eventManagers[v]){const{manager:Q,promise:de}=this.eventManagers[v];return Q?Promise.resolve(Q):(Wt(de,"If manager is not set, promise should be"),de)}const R=this.initAndGetManager(g);return this.eventManagers[v]={promise:R},R.catch(()=>{delete this.eventManagers[v]}),R}initAndGetManager(g){var v=this;return(0,w.Z)(function*(){const R=yield function Qu(T){return Fl.apply(this,arguments)}(g),Q=new Nc(g);return R.register("authEvent",de=>(ze(de?.authEvent,g,"invalid-auth-event"),{status:Q.onEvent(de.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[g._key()]={manager:Q},v.iframes[g._key()]=R,Q})()}_isIframeWebStorageSupported(g,v){this.iframes[g._key()].send(Fc,{type:Fc},Q=>{var de;const qe=null===(de=Q?.[0])||void 0===de?void 0:de[Fc];void 0!==qe&&v(!!qe),Ge(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function lc(T){return uc.apply(this,arguments)}(g)),this.originValidationPromises[v]}get _shouldInitProactively(){return cn()||oe()||Oe()}};class va{constructor(g){this.factorId=g}_process(g,v,R){switch(v.type){case"enroll":return this._finalizeEnroll(g,v.credential,R);case"signin":return this._finalizeSignIn(g,v.credential);default:return Bt("unexpected MultiFactorSessionType")}}}class ra extends va{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new ra(g)}_finalizeEnroll(g,v,R){return function Sn(T,g){return mt(T,"POST","/v2/accounts/mfaEnrollment:finalize",Ve(T,g))}(g,{idToken:v,displayName:R,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,v){return function pa(T,g){return mt(T,"POST","/v2/accounts/mfaSignIn:finalize",Ve(T,g))}(g,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Sd=(()=>{class T{constructor(){}static assertion(v){return ra._fromCredential(v)}}return T.FACTOR_ID="phone",T})();var tl="@firebase/auth";class nl{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var v=this;return(0,w.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const v=this.auth.onIdTokenChanged(R=>{g(R?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,v),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const v=this.internalListeners.get(g);v&&(this.internalListeners.delete(g),v(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Rd=(0,j.Pz)("authIdTokenMaxAge")||300;let Ll=null;const Dh=T=>function(){var g=(0,w.Z)(function*(v){const R=v&&(yield v.getIdTokenResult()),Q=R&&((new Date).getTime()-Date.parse(R.issuedAtTime))/1e3;if(Q&&Q>Rd)return;const de=R?.token;Ll!==de&&(Ll=de,yield fetch(T,{method:de?"POST":"DELETE",headers:de?{Authorization:`Bearer ${de}`}:{}}))});return function(v){return g.apply(this,arguments)}}();function Th(T=(0,h.getApp)()){const g=(0,h._getProvider)(T,"auth");if(g.isInitialized())return g.getImmediate();const v=function ei(T,g){const v=(0,h._getProvider)(T,"auth");if(v.isInitialized()){const Q=v.getImmediate(),de=v.getOptions();if((0,j.vZ)(de,g??{}))return Q;Ge(Q,"already-initialized")}return v.initialize({options:g})}(T,{popupRedirectResolver:el,persistence:[ui,ha,go]}),R=(0,j.Pz)("authTokenSyncURL");if(R){const de=Dh(R);(function V(T,g,v){(0,j.m9)(T).beforeAuthStateChanged(g,v)})(v,de,()=>de(v.currentUser)),function W(T,g,v,R){(0,j.m9)(T).onIdTokenChanged(g,v,R)}(v,qe=>de(qe))}const Q=(0,j.q4)("auth");return Q&&jr(v,`http://${Q}`),v}!function Ih(T){(0,h._registerComponent)(new ne.wA("auth",(g,{options:v})=>{const R=g.getProvider("app").getImmediate(),Q=g.getProvider("heartbeat"),de=g.getProvider("app-check-internal"),{apiKey:qe,authDomain:At}=R.options;ze(qe&&!qe.includes(":"),"invalid-api-key",{appName:R.name});const sn={apiKey:qe,authDomain:At,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xr(T)},bn=new Xr(R,Q,de,sn);return function Fi(T,g){const v=g?.persistence||[],R=(Array.isArray(v)?v:[v]).map(lt);g?.errorMap&&T._updateErrorMap(g.errorMap),T._initializeWithPersistence(R,g?.popupRedirectResolver)}(bn,v),bn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,v,R)=>{g.getProvider("auth-internal").initialize()})),(0,h._registerComponent)(new ne.wA("auth-internal",g=>{const v=Lr(g.getProvider("auth").getImmediate());return new nl(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,h.registerVersion)(tl,"0.23.2",function Md(T){switch(T){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(T)),(0,h.registerVersion)(tl,"0.23.2","esm2017")}("Browser")},2810:(Qt,Ye,U)=>{"use strict";U.d(Ye,{u7:()=>$e,Jj:()=>Wu,IX:()=>yy,my:()=>Xo,xU:()=>si,Lz:()=>qu,WA:()=>Ft,F8:()=>Ap,$q:()=>ai,W:()=>Br,EK:()=>Ti,PU:()=>My,l7:()=>Dc,Ky:()=>hn,Xb:()=>gr,Cf:()=>ti,K9:()=>To,Me:()=>Yu,yq:()=>Gr,Wi:()=>n_,ET:()=>_r,Ab:()=>sv,vr:()=>Iv,Fc:()=>Qy,hJ:()=>i_,B$:()=>eu,at:()=>my,oe:()=>Yn,AK:()=>Cv,TF:()=>by,JU:()=>gy,ST:()=>Tp,fH:()=>Yy,Ix:()=>vy,Wu:()=>a,Lx:()=>c,qY:()=>Ts,GL:()=>Vo,QT:()=>As,kl:()=>Ca,Xk:()=>Mc,PL:()=>__,UQ:()=>yf,zN:()=>bd,ad:()=>Ky,nP:()=>Dv,b9:()=>iv,vh:()=>Er,Pb:()=>Xy,L$:()=>wy,cf:()=>Tr,sc:()=>xi,Xo:()=>g_,IO:()=>yh,iE:()=>al,Eo:()=>Zy,i3:()=>qm,Bt:()=>ov,pl:()=>zm,Ub:()=>Cn,qK:()=>oa,TQ:()=>xy,e0:()=>Sy,r7:()=>Gm,Mx:()=>Jy,ar:()=>rv});var me,w=U(5861),j=U(6881),h=U(4859),ye=U(1877),be=U(2090),ne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ne={},Se=Se||{},fe=ne||self;function ge(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function ve(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var nt="closure_uid_"+(1e9*Math.random()>>>0),St=0;function Ut(r,e,t){return r.call.apply(r.bind,arguments)}function tt(r,e,t){if(!r)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),r.apply(e,l)}}return function(){return r.apply(e,arguments)}}function ut(r,e,t){return(ut=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ut:tt).apply(null,arguments)}function xe(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),r.apply(this,o)}}function ot(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(o,l,m){for(var y=Array(arguments.length-2),P=2;P<arguments.length;P++)y[P-2]=arguments[P];return e.prototype[l].apply(o,y)}}function Ge(){this.s=this.s,this.o=this.o}Ge.prototype.s=!1,Ge.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function je(r){Object.prototype.hasOwnProperty.call(r,nt)&&r[nt]||(r[nt]=++St)}(this)},Ge.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Qe=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function Mt(r){const e=r.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=r[o];return t}return[]}function It(r,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(ge(o)){const l=r.length||0,m=o.length||0;r.length=l+m;for(let y=0;y<m;y++)r[l+y]=o[y]}else r.push(o)}}function ze(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}ze.prototype.h=function(){this.defaultPrevented=!0};var Bt=function(){if(!fe.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{fe.addEventListener("test",()=>{},e),fe.removeEventListener("test",()=>{},e)}catch{}return r}();function Wt(r){return/^[\s\xa0]*$/.test(r)}function Vt(){var r=fe.navigator;return r&&(r=r.userAgent)?r:""}function ln(r){return-1!=Vt().indexOf(r)}function Gt(r){return Gt[" "](r),r}Gt[" "]=function(){};var mt,r,at=ln("Opera"),Je=ln("Trident")||ln("MSIE"),ct=ln("Edge"),gt=ct||Je,rt=ln("Gecko")&&!(-1!=Vt().toLowerCase().indexOf("webkit")&&!ln("Edge"))&&!(ln("Trident")||ln("MSIE"))&&!ln("Edge"),Xe=-1!=Vt().toLowerCase().indexOf("webkit")&&!ln("Edge");function Ve(){var r=fe.document;return r?r.documentMode:void 0}e:{var En="",_t=(r=Vt(),rt?/rv:([^\);]+)(\)|;)/.exec(r):ct?/Edge\/([\d\.]+)/.exec(r):Je?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Xe?/WebKit\/(\S+)/.exec(r):at?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(_t&&(En=_t?_t[1]:""),Je){var zt=Ve();if(null!=zt&&zt>parseFloat(En)){mt=String(zt);break e}}mt=En}var er=fe.document&&Je&&(Ve()||parseInt(mt,10))||void 0;function Or(r,e){if(ze.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,o=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(rt){e:{try{Gt(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Gn[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Or.$.h.call(this)}}ot(Or,ze);var Gn={2:"touch",3:"pen",4:"mouse"};Or.prototype.h=function(){Or.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var fr="closure_listenable_"+(1e6*Math.random()|0),yr=0;function Vr(r,e,t,o,l){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.la=l,this.key=++yr,this.fa=this.ia=!1}function Nn(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function $n(r,e,t){for(const o in r)e.call(t,r[o],o,r)}function Kt(r){const e={};for(const t in r)e[t]=r[t];return e}const Pn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ir(r,e){let t,o;for(let l=1;l<arguments.length;l++){for(t in o=arguments[l],o)r[t]=o[t];for(let m=0;m<Pn.length;m++)t=Pn[m],Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}}function Ar(r){this.src=r,this.g={},this.h=0}function $r(r,e){var t=e.type;if(t in r.g){var m,o=r.g[t],l=Qe(o,e);(m=0<=l)&&Array.prototype.splice.call(o,l,1),m&&(Nn(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function mr(r,e,t,o){for(var l=0;l<r.length;++l){var m=r[l];if(!m.fa&&m.listener==e&&m.capture==!!t&&m.la==o)return l}return-1}Ar.prototype.add=function(r,e,t,o,l){var m=r.toString();(r=this.g[m])||(r=this.g[m]=[],this.h++);var y=mr(r,e,o,l);return-1<y?(e=r[y],t||(e.ia=!1)):((e=new Vr(e,this.src,m,!!o,l)).ia=t,r.push(e)),e};var Qn="closure_lm_"+(1e6*Math.random()|0),Ln={};function an(r,e,t,o,l){if(o&&o.once)return yn(r,e,t,o,l);if(Array.isArray(e)){for(var m=0;m<e.length;m++)an(r,e[m],t,o,l);return null}return t=ir(t),r&&r[fr]?r.O(e,t,ve(o)?!!o.capture:!!o,l):In(r,e,t,!1,o,l)}function In(r,e,t,o,l,m){if(!e)throw Error("Invalid event type");var y=ve(l)?!!l.capture:!!l,P=Un(r);if(P||(r[Qn]=P=new Ar(r)),(t=P.add(e,t,o,y,m)).proxy)return t;if(o=function kn(){const e=ri;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=o,o.src=r,o.listener=t,r.addEventListener)Bt||(l=y),void 0===l&&(l=!1),r.addEventListener(e.toString(),o,l);else if(r.attachEvent)r.attachEvent(pr(e.toString()),o);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(o)}return t}function yn(r,e,t,o,l){if(Array.isArray(e)){for(var m=0;m<e.length;m++)yn(r,e[m],t,o,l);return null}return t=ir(t),r&&r[fr]?r.P(e,t,ve(o)?!!o.capture:!!o,l):In(r,e,t,!0,o,l)}function Cr(r,e,t,o,l){if(Array.isArray(e))for(var m=0;m<e.length;m++)Cr(r,e[m],t,o,l);else o=ve(o)?!!o.capture:!!o,t=ir(t),r&&r[fr]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=mr(m=r.g[e],t,o,l))&&(Nn(m[t]),Array.prototype.splice.call(m,t,1),0==m.length&&(delete r.g[e],r.h--))):r&&(r=Un(r))&&(e=r.g[e.toString()],r=-1,e&&(r=mr(e,t,o,l)),(t=-1<r?e[r]:null)&&hi(t))}function hi(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[fr])$r(e.i,r);else{var t=r.type,o=r.proxy;e.removeEventListener?e.removeEventListener(t,o,r.capture):e.detachEvent?e.detachEvent(pr(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Un(e))?($r(t,r),0==t.h&&(t.src=null,e[Qn]=null)):Nn(r)}}}function pr(r){return r in Ln?Ln[r]:Ln[r]="on"+r}function ri(r,e){if(r.fa)r=!0;else{e=new Or(e,this);var t=r.listener,o=r.la||r.src;r.ia&&hi(r),r=t.call(o,e)}return r}function Un(r){return(r=r[Qn])instanceof Ar?r:null}var pi="__closure_events_fn_"+(1e9*Math.random()>>>0);function ir(r){return"function"==typeof r?r:(r[pi]||(r[pi]=function(e){return r.handleEvent(e)}),r[pi])}function vr(){Ge.call(this),this.i=new Ar(this),this.S=this,this.J=null}function vn(r,e){var t,o=r.J;if(o)for(t=[];o;o=o.J)t.push(o);if(r=r.S,o=e.type||e,"string"==typeof e)e=new ze(e,r);else if(e instanceof ze)e.target=e.target||r;else{var l=e;Ir(e=new ze(o,r),l)}if(l=!0,t)for(var m=t.length-1;0<=m;m--){var y=e.g=t[m];l=bt(y,o,!0,e)&&l}if(l=bt(y=e.g=r,o,!0,e)&&l,l=bt(y,o,!1,e)&&l,t)for(m=0;m<t.length;m++)l=bt(y=e.g=t[m],o,!1,e)&&l}function bt(r,e,t,o){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,m=0;m<e.length;++m){var y=e[m];if(y&&!y.fa&&y.capture==t){var P=y.listener,$=y.la||y.src;y.ia&&$r(r.i,y),l=!1!==P.call($,o)&&l}}return l&&!o.defaultPrevented}ot(vr,Ge),vr.prototype[fr]=!0,vr.prototype.removeEventListener=function(r,e,t,o){Cr(this,r,e,t,o)},vr.prototype.N=function(){if(vr.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],o=0;o<t.length;o++)Nn(t[o]);delete r.g[e],r.h--}}this.J=null},vr.prototype.O=function(r,e,t,o){return this.i.add(String(r),e,!1,t,o)},vr.prototype.P=function(r,e,t,o){return this.i.add(String(r),e,!0,t,o)};var re=fe.JSON.stringify;function lt(){var r=ee;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var wt=new class Ie{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Me,r=>r.reset());class Me{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function J(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function se(r){fe.setTimeout(()=>{throw r},0)}let X,oe=!1,ee=new class qt{constructor(){this.h=this.g=null}add(e,t){const o=wt.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}},ke=()=>{const r=fe.Promise.resolve(void 0);X=()=>{r.then(_e)}};var _e=()=>{for(var r;r=lt();){try{r.h.call(r.g)}catch(t){se(t)}var e=wt;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}oe=!1};function Ce(r,e){vr.call(this),this.h=r||1,this.g=e||fe,this.j=ut(this.qb,this),this.l=Date.now()}function ue(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function Oe(r,e,t){if("function"==typeof r)t&&(r=ut(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=ut(r.handleEvent,r)}return 2147483647<Number(e)?-1:fe.setTimeout(r,e||0)}function dt(r){r.g=Oe(()=>{r.g=null,r.i&&(r.i=!1,dt(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}ot(Ce,vr),(me=Ce.prototype).ga=!1,me.T=null,me.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),vn(this,"tick"),this.ga&&(ue(this),this.start()))}},me.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},me.N=function(){Ce.$.N.call(this),ue(this),delete this.g};class Rt extends Ge{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:dt(this)}N(){super.N(),this.g&&(fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zt(r){Ge.call(this),this.h=r,this.g={}}ot(Zt,Ge);var cn=[];function Wn(r,e,t,o){Array.isArray(t)||(t&&(cn[0]=t.toString()),t=cn);for(var l=0;l<t.length;l++){var m=an(e,t[l],o||r.handleEvent,!1,r.h||r);if(!m)break;r.g[m.key]=m}}function xr(r){$n(r.g,function(e,t){this.g.hasOwnProperty(t)&&hi(e)},r),r.g={}}function st(){this.g=!0}function Ht(r,e,t,o){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function dr(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var o=t[r];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var m=l[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var y=1;y<l.length;y++)l[y]=""}}}return re(t)}catch{return e}}(r,t)+(o?" "+o:"")})}Zt.prototype.N=function(){Zt.$.N.call(this),xr(this)},Zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},st.prototype.Ea=function(){this.g=!1},st.prototype.info=function(){};var wn={},Sr=null;function sr(){return Sr=Sr||new vr}function wi(r){ze.call(this,wn.Ta,r)}function mi(r){const e=sr();vn(e,new wi(e))}function us(r,e){ze.call(this,wn.STAT_EVENT,r),this.stat=e}function ki(r){const e=sr();vn(e,new us(e,r))}function wo(r,e){ze.call(this,wn.Ua,r),this.size=e}function qr(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return fe.setTimeout(function(){r()},e)}wn.Ta="serverreachability",ot(wi,ze),wn.STAT_EVENT="statevent",ot(us,ze),wn.Ua="timingevent",ot(wo,ze);var un={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ar={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Xr(){}function Eo(){}Xr.prototype.h=null;var We,ei={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Fi(){ze.call(this,"d")}function jr(){ze.call(this,"c")}function Be(){}function Ue(r,e,t,o){this.l=r,this.j=e,this.m=t,this.W=o||1,this.U=new Zt(this),this.P=jt,this.V=new Ce(r=gt?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new xt}function xt(){this.i=null,this.g="",this.h=!1}ot(Fi,ze),ot(jr,ze),ot(Be,Xr),Be.prototype.g=function(){return new XMLHttpRequest},Be.prototype.i=function(){return{}},We=new Be;var jt=45e3,Vn={},cr={};function qn(r,e,t){r.L=1,r.v=Gi(_i(e)),r.s=t,r.S=!0,Jn(r,null)}function Jn(r,e){r.G=Date.now(),Di(r),r.A=_i(r.v);var t=r.A,o=r.W;Array.isArray(o)||(o=[String(o)]),ns(t.i,"t",o),r.C=0,t=r.l.J,r.h=new xt,r.g=Ko(r.l,t?e:null,!r.s),0<r.O&&(r.M=new Rt(ut(r.Pa,r,r.g),r.O)),Wn(r.U,r.g,"readystatechange",r.nb),e=r.I?Kt(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),mi(),function it(r,e,t,o,l,m){r.info(function(){if(r.g)if(m)for(var y="",P=m.split("&"),$=0;$<P.length;$++){var K=P[$].split("=");if(1<K.length){var le=K[0];K=K[1];var Re=le.split("_");y=2<=Re.length&&"type"==Re[1]?y+(le+"=")+K+"&":y+(le+"=redacted&")}}else y=null;else y=m;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+t+"\n"+y})}(r.j,r.u,r.A,r.m,r.W,r.s)}function Ci(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function Ii(r,e,t){let l,o=!0;for(;!r.J&&r.C<t.length;){if(l=Hi(r,t),l==cr){4==e&&(r.o=4,ki(14),o=!1),Ht(r.j,r.m,null,"[Incomplete Response]");break}if(l==Vn){r.o=4,ki(15),Ht(r.j,r.m,t,"[Invalid Chunk]"),o=!1;break}Ht(r.j,r.m,l,null),ds(r,l)}Ci(r)&&l!=cr&&l!=Vn&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,ki(16),o=!1),r.i=r.i&&o,o?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),tn(e),e.M=!0,ki(11))):(Ht(r.j,r.m,t,"[Invalid Chunked Response]"),ro(r),$o(r))}function Hi(r,e){var t=r.C,o=e.indexOf("\n",t);return-1==o?cr:(t=Number(e.substring(t,o)),isNaN(t)?Vn:(o+=1)+t>e.length?cr:(e=e.slice(o,o+t),r.C=o+t,e))}function Di(r){r.Y=Date.now()+r.P,Mr(r,r.P)}function Mr(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=qr(ut(r.lb,r),e)}function Li(r){r.B&&(fe.clearTimeout(r.B),r.B=null)}function $o(r){0==r.l.H||r.J||so(r.l,r)}function ro(r){Li(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,ue(r.V),xr(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function ds(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||Co(t.i,r)))if(!r.K&&Co(t.i,r)&&3==t.H){try{var o=t.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;ni(t),Os(t)}Pt(t),ki(18)}}else t.Fa=l[1],0<t.Fa-t.V&&37500>l[2]&&t.G&&0==t.A&&!t.v&&(t.v=qr(ut(t.ib,t),6e3));if(1>=uo(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Zo(t,11)}else if((r.K||t.g==r)&&ni(t),!Wt(e))for(l=t.Ja.g.parse(e),e=0;e<l.length;e++){let K=l[e];if(t.V=K[0],K=K[1],2==t.H)if("c"==K[0]){t.K=K[1],t.pa=K[2];const le=K[3];null!=le&&(t.ra=le,t.l.info("VER="+t.ra));const Re=K[4];null!=Re&&(t.Ga=Re,t.l.info("SVER="+t.Ga));const ft=K[5];null!=ft&&"number"==typeof ft&&0<ft&&(t.L=o=1.5*ft,t.l.info("backChannelRequestTimeoutMs_="+o)),o=t;const Nt=r.g;if(Nt){const on=Nt.g?Nt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(on){var m=o.i;m.g||-1==on.indexOf("spdy")&&-1==on.indexOf("quic")&&-1==on.indexOf("h2")||(m.j=m.l,m.g=new Set,m.h&&(Wo(m,m.h),m.h=null))}if(o.F){const Mn=Nt.g?Nt.g.getResponseHeader("X-HTTP-Session-Id"):null;Mn&&(o.Da=Mn,Nr(o.I,o.F,Mn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var y=r;if((o=t).wa=mo(o,o.J?o.pa:null,o.Y),y.K){rs(o.i,y);var P=y,$=o.L;$&&P.setTimeout($),P.B&&(Li(P),Di(P)),o.g=y}else vt(o);0<t.j.length&&Dt(t)}else"stop"!=K[0]&&"close"!=K[0]||Zo(t,7);else 3==t.H&&("stop"==K[0]||"close"==K[0]?"stop"==K[0]?Zo(t,7):ua(t):"noop"!=K[0]&&t.h&&t.h.Aa(K),t.A=0)}mi()}catch{}}function Vi(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(ge(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function hs(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(ge(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const o in r)e[t++]=o;return e}}}(r),o=function Ho(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(ge(r)){for(var e=[],t=r.length,o=0;o<t;o++)e.push(r[o]);return e}for(o in e=[],t=0,r)e[t++]=r[o];return e}(r),l=o.length,m=0;m<l;m++)e.call(void 0,o[m],t&&t[m],r)}(me=Ue.prototype).setTimeout=function(r){this.P=r},me.nb=function(r){r=r.target;const e=this.M;e&&3==oo(r)?e.l():this.Pa(r)},me.Pa=function(r){try{if(r==this.g)e:{const le=oo(this.g);var e=this.g.Ia();if(this.g.da(),!(3>le)&&(3!=le||gt||this.g&&(this.h.h||this.g.ja()||jn(this.g)))){this.J||4!=le||7==e||mi(),Li(this);var t=this.g.da();this.ca=t;t:if(Ci(this)){var o=jn(this.g);r="";var l=o.length,m=4==oo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ro(this),$o(this);var y="";break t}this.h.i=new fe.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,r+=this.h.i.decode(o[e],{stream:m&&e==l-1});o.splice(0,l),this.h.g+=r,this.C=0,y=this.h.g}else y=this.g.ja();if(this.i=200==t,function $t(r,e,t,o,l,m,y){r.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+m+" "+y})}(this.j,this.u,this.A,this.m,this.W,le,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var P,$=this.g;if((P=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wt(P)){var K=P;break t}}K=null}if(!(t=K)){this.i=!1,this.o=3,ki(12),ro(this),$o(this);break e}Ht(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ds(this,t)}this.S?(Ii(this,le,y),gt&&this.i&&3==le&&(Wn(this.U,this.V,"tick",this.mb),this.V.start())):(Ht(this.j,this.m,y,null),ds(this,y)),4==le&&ro(this),this.i&&!this.J&&(4==le?so(this.l,this):(this.i=!1,Di(this)))}else(function os(r){const e={};r=(r.g&&2<=oo(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<r.length;o++){if(Wt(r[o]))continue;var t=J(r[o]);const l=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const m=e[l]||[];e[l]=m,m.push(t)}!function An(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(o){return o.join(", ")})})(this.g),400==t&&0<y.indexOf("Unknown SID")?(this.o=3,ki(12)):(this.o=0,ki(13)),ro(this),$o(this)}}}catch{}},me.mb=function(){if(this.g){var r=oo(this.g),e=this.g.ja();this.C<e.length&&(Li(this),Ii(this,r,e),this.i&&4!=r&&Di(this))}},me.cancel=function(){this.J=!0,ro(this)},me.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function Bn(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(mi(),ki(17)),ro(this),this.o=2,$o(this)):Mr(this,this.Y-r)};var xs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gi(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof gi){this.h=r.h,xo(this,r.j),this.s=r.s,this.g=r.g,Xi(this,r.m),this.l=r.l;var e=r.i,t=new aa;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),zi(this,t),this.o=r.o}else r&&(e=String(r).match(xs))?(this.h=!1,xo(this,e[1]||"",!0),this.s=Hs(e[2]||""),this.g=Hs(e[3]||"",!0),Xi(this,e[4]),this.l=Hs(e[5]||"",!0),zi(this,e[6]||"",!0),this.o=Hs(e[7]||"")):(this.h=!1,this.i=new aa(null,this.h))}function _i(r){return new gi(r)}function xo(r,e,t){r.j=t?Hs(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Xi(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function zi(r,e,t){e instanceof aa?(r.i=e,function Ro(r,e){e&&!r.j&&(io(r),r.i=null,r.g.forEach(function(t,o){var l=o.toLowerCase();o!=l&&(_c(this,o),ns(this,l,t))},r)),r.j=e}(r.i,r.h)):(t||(e=lo(e,sa)),r.i=new aa(e,r.h))}function Nr(r,e,t){r.i.set(e,t)}function Gi(r){return Nr(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Hs(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function lo(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,Ta),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Ta(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}gi.prototype.toString=function(){var r=[],e=this.j;e&&r.push(lo(e,zo,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(lo(e,zo,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(lo(t,"/"==t.charAt(0)?fs:Go,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",lo(t,zs)),r.join("")};var zo=/[#\/\?@]/g,Go=/[#\?:]/g,fs=/[#\?]/g,sa=/[#\?@]/g,zs=/#/g;function aa(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function io(r){r.g||(r.g=new Map,r.h=0,r.i&&function ji(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var o=r[t].indexOf("="),l=null;if(0<=o){var m=r[t].substring(0,o);l=r[t].substring(o+1)}else m=r[t];e(m,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function _c(r,e){io(r),e=Ms(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Mo(r,e){return io(r),e=Ms(r,e),r.g.has(e)}function ns(r,e,t){_c(r,e),0<t.length&&(r.i=null,r.g.set(Ms(r,e),Mt(t)),r.h+=t.length)}function Ms(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function ec(r){this.l=r||Ws,r=fe.PerformanceNavigationTiming?0<(r=fe.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(fe.g&&fe.g.Ka&&fe.g.Ka()&&fe.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(me=aa.prototype).add=function(r,e){io(this),this.i=null,r=Ms(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},me.forEach=function(r,e){io(this),this.g.forEach(function(t,o){t.forEach(function(l){r.call(e,l,o,this)},this)},this)},me.ta=function(){io(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const l=r[o];for(let m=0;m<l.length;m++)t.push(e[o])}return t},me.Z=function(r){io(this);let e=[];if("string"==typeof r)Mo(this,r)&&(e=e.concat(this.g.get(Ms(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},me.set=function(r,e){return io(this),this.i=null,Mo(this,r=Ms(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},me.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},me.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const m=encodeURIComponent(String(o)),y=this.Z(o);for(o=0;o<y.length;o++){var l=m;""!==y[o]&&(l+="="+encodeURIComponent(String(y[o]))),r.push(l)}}return this.i=r.join("&")};var Ws=10;function Po(r){return!!r.h||!!r.g&&r.g.size>=r.j}function uo(r){return r.h?1:r.g?r.g.size:0}function Co(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Wo(r,e){r.g?r.g.add(e):r.h=e}function rs(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function qo(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return Mt(r.i)}ec.prototype.cancel=function(){if(this.i=qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var ho=class{stringify(r){return fe.JSON.stringify(r,void 0)}parse(r){return fe.JSON.parse(r,void 0)}};function Rs(){this.g=new ho}function tc(r,e,t){const o=t||"";try{Vi(r,function(l,m){let y=l;ve(l)&&(y=re(l)),e.push(o+m+"="+encodeURIComponent(y))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function Oo(r,e,t,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch{}}function fo(r){this.l=r.fc||null,this.j=r.ob||!1}function ii(r,e){vr.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=ps,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ot(fo,Xr),fo.prototype.g=function(){return new ii(this.l,this.j)},fo.prototype.i=function(r){return function(){return r}}({}),ot(ii,vr);var ps=0;function ca(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function oi(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Ei(r)}function Ei(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(me=ii.prototype).open=function(r,e){if(this.readyState!=ps)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Ei(this)},me.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||fe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},me.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,oi(this)),this.readyState=ps},me.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof fe.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ca(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},me.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?oi(this):Ei(this),3==this.readyState&&ca(this)}},me.Za=function(r){this.g&&(this.response=this.responseText=r,oi(this))},me.Ya=function(r){this.g&&(this.response=r,oi(this))},me.ka=function(){this.g&&oi(this)},me.setRequestHeader=function(r,e){this.v.append(r,e)},me.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},me.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(ii.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var Ps=fe.JSON.parse;function tr(r){vr.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=la,this.L=this.M=!1}ot(tr,vr);var la="",Ha=/^https?$/i,eo=["POST","PUT"];function Io(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,No(r),Wi(r)}function No(r){r.F||(r.F=!0,vn(r,"complete"),vn(r,"error"))}function is(r){if(r.h&&typeof Se<"u"&&(!r.C[1]||4!=oo(r)||2!=r.da()))if(r.v&&4==oo(r))Oe(r.La,0,r);else if(vn(r,"readystatechange"),4==oo(r)){r.h=!1;try{const y=r.da();e:switch(y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===y){var l=String(r.I).match(xs)[1]||null;!l&&fe.self&&fe.self.location&&(l=fe.self.location.protocol.slice(0,-1)),o=!Ha.test(l?l.toLowerCase():"")}t=o}if(t)vn(r,"complete"),vn(r,"success");else{r.m=6;try{var m=2<oo(r)?r.g.statusText:""}catch{m=""}r.j=m+" ["+r.da()+"]",No(r)}}finally{Wi(r)}}}function Wi(r,e){if(r.g){Aa(r);const t=r.g,o=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||vn(r,"ready");try{t.onreadystatechange=o}catch{}}}function Aa(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(fe.clearTimeout(r.A),r.A=null)}function oo(r){return r.g?r.g.readyState:0}function jn(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case la:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function Sa(r){let e="";return $n(r,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function ss(r,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=Sa(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Nr(r,e,t))}function po(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function xa(r){this.Ga=0,this.j=[],this.l=new st,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=po("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=po("baseRetryDelayMs",5e3,r),this.hb=po("retryDelaySeedMs",1e4,r),this.eb=po("forwardChannelMaxRetries",2,r),this.xa=po("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new ec(r&&r.concurrentRequestLimit),this.Ja=new Rs,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ua(r){if(yc(r),3==r.H){var e=r.W++,t=_i(r.I);if(Nr(t,"SID",r.K),Nr(t,"RID",e),Nr(t,"TYPE","terminate"),Fe(r,t),(e=new Ue(r,r.l,e)).L=2,e.v=Gi(_i(t)),t=!1,fe.navigator&&fe.navigator.sendBeacon)try{t=fe.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&fe.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ko(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Di(e)}Ui(r)}function Os(r){r.g&&(tn(r),r.g.cancel(),r.g=null)}function yc(r){Os(r),r.u&&(fe.clearTimeout(r.u),r.u=null),ni(r),r.i.cancel(),r.m&&("number"==typeof r.m&&fe.clearTimeout(r.m),r.m=null)}function Dt(r){if(!Po(r.i)&&!r.m){r.m=!0;var e=r.Na;X||ke(),oe||(X(),oe=!0),ee.add(e,r),r.C=0}}function Et(r,e){var t;t=e?e.m:r.W++;const o=_i(r.I);Nr(o,"SID",r.K),Nr(o,"RID",t),Nr(o,"AID",r.V),Fe(r,o),r.o&&r.s&&ss(o,r.o,r.s),t=new Ue(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=Te(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),Wo(r.i,t),qn(t,o,e)}function Fe(r,e){r.na&&$n(r.na,function(t,o){Nr(e,o,t)}),r.h&&Vi({},function(t,o){Nr(e,o,t)})}function Te(r,e,t){t=Math.min(r.j.length,t);var o=r.h?ut(r.h.Va,r.h,r):null;e:{var l=r.j;let m=-1;for(;;){const y=["count="+t];-1==m?0<t?(m=l[0].g,y.push("ofs="+m)):m=0:y.push("ofs="+m);let P=!0;for(let $=0;$<t;$++){let K=l[$].g;const le=l[$].map;if(K-=m,0>K)m=Math.max(0,l[$].g-100),P=!1;else try{tc(le,y,"req"+K+"_")}catch{o&&o(le)}}if(P){o=y.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,o}function vt(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;X||ke(),oe||(X(),oe=!0),ee.add(e,r),r.A=0}}function Pt(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=qr(ut(r.Ma,r),qi(r,r.A)),r.A++,0))}function tn(r){null!=r.B&&(fe.clearTimeout(r.B),r.B=null)}function rr(r){r.g=new Ue(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=_i(r.wa);Nr(e,"RID","rpc"),Nr(e,"SID",r.K),Nr(e,"AID",r.V),Nr(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&Nr(e,"TO",r.qa),Nr(e,"TYPE","xmlhttp"),Fe(r,e),r.o&&r.s&&ss(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=Gi(_i(e)),t.s=null,t.S=!0,Jn(t,r)}function ni(r){null!=r.v&&(fe.clearTimeout(r.v),r.v=null)}function so(r,e){var t=null;if(r.g==e){ni(r),tn(r),r.g=null;var o=2}else{if(!Co(r.i,e))return;t=e.F,rs(r.i,e),o=1}if(0!=r.H)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.G;var l=r.C;vn(o=sr(),new wo(o,t)),Dt(r)}else vt(r);else if(3==(l=e.o)||0==l&&0<e.ca||!(1==o&&function nr(r,e){return!(uo(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=qr(ut(r.Na,r,e),qi(r,r.C)),r.C++,0)))}(r,e)||2==o&&Pt(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),l){case 1:Zo(r,5);break;case 4:Zo(r,10);break;case 3:Zo(r,6);break;default:Zo(r,2)}}function qi(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function Zo(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var o=ut(r.pb,r);t||(t=new gi("//www.google.com/images/cleardot.gif"),fe.location&&"http"==fe.location.protocol||xo(t,"https"),Gi(t)),function nc(r,e){const t=new st;if(fe.Image){const o=new Image;o.onload=xe(Oo,t,o,"TestLoadImage: loaded",!0,e),o.onerror=xe(Oo,t,o,"TestLoadImage: error",!1,e),o.onabort=xe(Oo,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=xe(Oo,t,o,"TestLoadImage: timeout",!1,e),fe.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=r}else e(!1)}(t.toString(),o)}else ki(2);r.H=0,r.h&&r.h.za(e),Ui(r),yc(r)}function Ui(r){if(r.H=0,r.ma=[],r.h){const e=qo(r.i);(0!=e.length||0!=r.j.length)&&(It(r.ma,e),It(r.ma,r.j),r.i.i.length=0,Mt(r.j),r.j.length=0),r.h.ya()}}function mo(r,e,t){var o=t instanceof gi?_i(t):new gi(t);if(""!=o.g)e&&(o.g=e+"."+o.g),Xi(o,o.m);else{var l=fe.location;o=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var m=new gi(null);o&&xo(m,o),e&&(m.g=e),l&&Xi(m,l),t&&(m.l=t),o=m}return e=r.Da,(t=r.F)&&e&&Nr(o,t,e),Nr(o,"VER",r.ra),Fe(r,o),o}function Ko(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new tr(t&&r.Ha&&!r.va?new fo({ob:!0}):r.va)).Oa(r.J),e}function Yo(){}function Zi(){if(Je&&!(10<=Number(er)))throw Error("Environmental error: no available transport.")}function $i(r,e){vr.call(this),this.g=new xa(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!Wt(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Wt(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Ga(this)}function qs(r){Fi.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function za(){jr.call(this),this.status=1}function Ga(r){this.g=r}function to(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ms(r,e,t){t||(t=0);var o=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)o[l]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(l=0;16>l;++l)o[l]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var m=r.g[3],y=(e=r.g[0])+(m^(t=r.g[1])&((l=r.g[2])^m))+o[0]+3614090360&4294967295;y=(t=(l=(m=(e=(t=(l=(m=(e=(t=(l=(m=(e=(t=(l=(m=(e=(t=(l=(m=(e=(t=(l=(m=(e=(t=(l=(m=(e=(t=(l=(m=(e=(t=(l=(m=(e=(t=(l=(m=(e=(t=(l=(m=(e=(t=(l=(m=(e=(t=(l=(m=(e=(t=(l=(m=(e=(t=(l=(m=(e=t+(y<<7&4294967295|y>>>25))+((y=m+(l^e&(t^l))+o[1]+3905402710&4294967295)<<12&4294967295|y>>>20))+((y=l+(t^m&(e^t))+o[2]+606105819&4294967295)<<17&4294967295|y>>>15))+((y=t+(e^l&(m^e))+o[3]+3250441966&4294967295)<<22&4294967295|y>>>10))+((y=e+(m^t&(l^m))+o[4]+4118548399&4294967295)<<7&4294967295|y>>>25))+((y=m+(l^e&(t^l))+o[5]+1200080426&4294967295)<<12&4294967295|y>>>20))+((y=l+(t^m&(e^t))+o[6]+2821735955&4294967295)<<17&4294967295|y>>>15))+((y=t+(e^l&(m^e))+o[7]+4249261313&4294967295)<<22&4294967295|y>>>10))+((y=e+(m^t&(l^m))+o[8]+1770035416&4294967295)<<7&4294967295|y>>>25))+((y=m+(l^e&(t^l))+o[9]+2336552879&4294967295)<<12&4294967295|y>>>20))+((y=l+(t^m&(e^t))+o[10]+4294925233&4294967295)<<17&4294967295|y>>>15))+((y=t+(e^l&(m^e))+o[11]+2304563134&4294967295)<<22&4294967295|y>>>10))+((y=e+(m^t&(l^m))+o[12]+1804603682&4294967295)<<7&4294967295|y>>>25))+((y=m+(l^e&(t^l))+o[13]+4254626195&4294967295)<<12&4294967295|y>>>20))+((y=l+(t^m&(e^t))+o[14]+2792965006&4294967295)<<17&4294967295|y>>>15))+((y=t+(e^l&(m^e))+o[15]+1236535329&4294967295)<<22&4294967295|y>>>10))+((y=e+(l^m&(t^l))+o[1]+4129170786&4294967295)<<5&4294967295|y>>>27))+((y=m+(t^l&(e^t))+o[6]+3225465664&4294967295)<<9&4294967295|y>>>23))+((y=l+(e^t&(m^e))+o[11]+643717713&4294967295)<<14&4294967295|y>>>18))+((y=t+(m^e&(l^m))+o[0]+3921069994&4294967295)<<20&4294967295|y>>>12))+((y=e+(l^m&(t^l))+o[5]+3593408605&4294967295)<<5&4294967295|y>>>27))+((y=m+(t^l&(e^t))+o[10]+38016083&4294967295)<<9&4294967295|y>>>23))+((y=l+(e^t&(m^e))+o[15]+3634488961&4294967295)<<14&4294967295|y>>>18))+((y=t+(m^e&(l^m))+o[4]+3889429448&4294967295)<<20&4294967295|y>>>12))+((y=e+(l^m&(t^l))+o[9]+568446438&4294967295)<<5&4294967295|y>>>27))+((y=m+(t^l&(e^t))+o[14]+3275163606&4294967295)<<9&4294967295|y>>>23))+((y=l+(e^t&(m^e))+o[3]+4107603335&4294967295)<<14&4294967295|y>>>18))+((y=t+(m^e&(l^m))+o[8]+1163531501&4294967295)<<20&4294967295|y>>>12))+((y=e+(l^m&(t^l))+o[13]+2850285829&4294967295)<<5&4294967295|y>>>27))+((y=m+(t^l&(e^t))+o[2]+4243563512&4294967295)<<9&4294967295|y>>>23))+((y=l+(e^t&(m^e))+o[7]+1735328473&4294967295)<<14&4294967295|y>>>18))+((y=t+(m^e&(l^m))+o[12]+2368359562&4294967295)<<20&4294967295|y>>>12))+((y=e+(t^l^m)+o[5]+4294588738&4294967295)<<4&4294967295|y>>>28))+((y=m+(e^t^l)+o[8]+2272392833&4294967295)<<11&4294967295|y>>>21))+((y=l+(m^e^t)+o[11]+1839030562&4294967295)<<16&4294967295|y>>>16))+((y=t+(l^m^e)+o[14]+4259657740&4294967295)<<23&4294967295|y>>>9))+((y=e+(t^l^m)+o[1]+2763975236&4294967295)<<4&4294967295|y>>>28))+((y=m+(e^t^l)+o[4]+1272893353&4294967295)<<11&4294967295|y>>>21))+((y=l+(m^e^t)+o[7]+4139469664&4294967295)<<16&4294967295|y>>>16))+((y=t+(l^m^e)+o[10]+3200236656&4294967295)<<23&4294967295|y>>>9))+((y=e+(t^l^m)+o[13]+681279174&4294967295)<<4&4294967295|y>>>28))+((y=m+(e^t^l)+o[0]+3936430074&4294967295)<<11&4294967295|y>>>21))+((y=l+(m^e^t)+o[3]+3572445317&4294967295)<<16&4294967295|y>>>16))+((y=t+(l^m^e)+o[6]+76029189&4294967295)<<23&4294967295|y>>>9))+((y=e+(t^l^m)+o[9]+3654602809&4294967295)<<4&4294967295|y>>>28))+((y=m+(e^t^l)+o[12]+3873151461&4294967295)<<11&4294967295|y>>>21))+((y=l+(m^e^t)+o[15]+530742520&4294967295)<<16&4294967295|y>>>16))+((y=t+(l^m^e)+o[2]+3299628645&4294967295)<<23&4294967295|y>>>9))+((y=e+(l^(t|~m))+o[0]+4096336452&4294967295)<<6&4294967295|y>>>26))+((y=m+(t^(e|~l))+o[7]+1126891415&4294967295)<<10&4294967295|y>>>22))+((y=l+(e^(m|~t))+o[14]+2878612391&4294967295)<<15&4294967295|y>>>17))+((y=t+(m^(l|~e))+o[5]+4237533241&4294967295)<<21&4294967295|y>>>11))+((y=e+(l^(t|~m))+o[12]+1700485571&4294967295)<<6&4294967295|y>>>26))+((y=m+(t^(e|~l))+o[3]+2399980690&4294967295)<<10&4294967295|y>>>22))+((y=l+(e^(m|~t))+o[10]+4293915773&4294967295)<<15&4294967295|y>>>17))+((y=t+(m^(l|~e))+o[1]+2240044497&4294967295)<<21&4294967295|y>>>11))+((y=e+(l^(t|~m))+o[8]+1873313359&4294967295)<<6&4294967295|y>>>26))+((y=m+(t^(e|~l))+o[15]+4264355552&4294967295)<<10&4294967295|y>>>22))+((y=l+(e^(m|~t))+o[6]+2734768916&4294967295)<<15&4294967295|y>>>17))+((y=t+(m^(l|~e))+o[13]+1309151649&4294967295)<<21&4294967295|y>>>11))+((m=(e=t+((y=e+(l^(t|~m))+o[4]+4149444226&4294967295)<<6&4294967295|y>>>26))+((y=m+(t^(e|~l))+o[11]+3174756917&4294967295)<<10&4294967295|y>>>22))^((l=m+((y=l+(e^(m|~t))+o[2]+718787259&4294967295)<<15&4294967295|y>>>17))|~e))+o[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(l+(y<<21&4294967295|y>>>11))&4294967295,r.g[2]=r.g[2]+l&4294967295,r.g[3]=r.g[3]+m&4294967295}function Zr(r,e){this.h=e;for(var t=[],o=!0,l=r.length-1;0<=l;l--){var m=0|r[l];o&&m==e||(t[l]=m,o=!1)}this.g=t}(me=tr.prototype).Oa=function(r){this.M=r},me.ha=function(r,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():We.g(),this.C=function Lr(r){return r.h||(r.h=r.i())}(this.u?this.u:We),this.g.onreadystatechange=ut(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(m){return void Io(this,m)}if(r=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var l in o)t.set(l,o[l]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const m of o.keys())t.set(m,o.get(m))}o=Array.from(t.keys()).find(m=>"content-type"==m.toLowerCase()),l=fe.FormData&&r instanceof fe.FormData,!(0<=Qe(eo,e))||o||l||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[m,y]of t)this.g.setRequestHeader(m,y);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Aa(this),0<this.B&&((this.L=function ci(r){return Je&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ut(this.ua,this)):this.A=Oe(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(m){Io(this,m)}},me.ua=function(){typeof Se<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vn(this,"timeout"),this.abort(8))},me.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,vn(this,"complete"),vn(this,"abort"),Wi(this))},me.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wi(this,!0)),tr.$.N.call(this)},me.La=function(){this.s||(this.G||this.v||this.l?is(this):this.kb())},me.kb=function(){is(this)},me.isActive=function(){return!!this.g},me.da=function(){try{return 2<oo(this)?this.g.status:-1}catch{return-1}},me.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},me.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),Ps(e)}},me.Ia=function(){return this.m},me.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(me=xa.prototype).ra=8,me.H=1,me.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const l=new Ue(this,this.l,r);let m=this.s;if(this.U&&(m?(m=Kt(m),Ir(m,this.U)):m=this.U),null!==this.o||this.O||(l.I=m,m=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var o=this.j[t];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Te(this,l,e),Nr(t=_i(this.I),"RID",r),Nr(t,"CVER",22),this.F&&Nr(t,"X-HTTP-Session-Id",this.F),Fe(this,t),m&&(this.O?e="headers="+encodeURIComponent(String(Sa(m)))+"&"+e:this.o&&ss(t,this.o,m)),Wo(this.i,l),this.bb&&Nr(t,"TYPE","init"),this.P?(Nr(t,"$req",e),Nr(t,"SID","null"),l.aa=!0,qn(l,t,null)):qn(l,t,e),this.H=2}}else 3==this.H&&(r?Et(this,r):0==this.j.length||Po(this.i)||Et(this))},me.Ma=function(){if(this.u=null,rr(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=qr(ut(this.jb,this),r)}},me.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ki(10),Os(this),rr(this))},me.ib=function(){null!=this.v&&(this.v=null,Os(this),Pt(this),ki(19))},me.pb=function(r){r?(this.l.info("Successfully pinged google.com"),ki(2)):(this.l.info("Failed to ping google.com"),ki(1))},me.isActive=function(){return!!this.h&&this.h.isActive(this)},(me=Yo.prototype).Ba=function(){},me.Aa=function(){},me.za=function(){},me.ya=function(){},me.isActive=function(){return!0},me.Va=function(){},Zi.prototype.g=function(r,e){return new $i(r,e)},ot($i,vr),$i.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;ki(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=mo(r,null,r.Y),Dt(r)},$i.prototype.close=function(){ua(this.g)},$i.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=re(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&Dt(e)},$i.prototype.N=function(){this.g.h=null,delete this.j,ua(this.g),delete this.g,$i.$.N.call(this)},ot(qs,Fi),ot(za,jr),ot(Ga,Yo),Ga.prototype.Ba=function(){vn(this.g,"a")},Ga.prototype.Aa=function(r){vn(this.g,new qs(r))},Ga.prototype.za=function(r){vn(this.g,new za)},Ga.prototype.ya=function(){vn(this.g,"b")},ot(to,function li(){this.blockSize=-1}),to.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},to.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,o=this.m,l=this.h,m=0;m<e;){if(0==l)for(;m<=t;)ms(this,r,m),m+=this.blockSize;if("string"==typeof r){for(;m<e;)if(o[l++]=r.charCodeAt(m++),l==this.blockSize){ms(this,o),l=0;break}}else for(;m<e;)if(o[l++]=r[m++],l==this.blockSize){ms(this,o),l=0;break}}this.h=l,this.i+=e},to.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var o=0;32>o;o+=8)r[t++]=this.g[e]>>>o&255;return r};var Ns={};function Zs(r){return-128<=r&&128>r?function Pr(r,e){var t=Ns;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new Zr([0|e],0>e?-1:0)}):new Zr([0|r],0>r?-1:0)}function ao(r){if(isNaN(r)||!isFinite(r))return ks;if(0>r)return Hr(ao(-r));for(var e=[],t=1,o=0;r>=t;o++)e[o]=r/t|0,t*=Ks;return new Zr(e,0)}var Ks=4294967296,ks=Zs(0),Jo=Zs(1),Ma=Zs(16777216);function as(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Do(r){return-1==r.h}function Hr(r){for(var e=r.g.length,t=[],o=0;o<e;o++)t[o]=~r.g[o];return new Zr(t,~r.h).add(Jo)}function ko(r,e){return r.add(Hr(e))}function fi(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function Fs(r,e){this.g=r,this.h=e}function Ls(r,e){if(as(e))throw Error("division by zero");if(as(r))return new Fs(ks,ks);if(Do(r))return e=Ls(Hr(r),e),new Fs(Hr(e.g),Hr(e.h));if(Do(e))return e=Ls(r,Hr(e)),new Fs(Hr(e.g),e.h);if(30<r.g.length){if(Do(r)||Do(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Jo,o=e;0>=o.X(r);)t=Wa(t),o=Wa(o);var l=Ra(t,1),m=Ra(o,1);for(o=Ra(o,2),t=Ra(t,2);!as(o);){var y=m.add(o);0>=y.X(r)&&(l=l.add(t),m=y),o=Ra(o,1),t=Ra(t,1)}return e=ko(r,l.R(e)),new Fs(l,e)}for(l=ks;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,o-48),y=(m=ao(t)).R(e);Do(y)||0<y.X(r);)y=(m=ao(t-=o)).R(e);as(m)&&(m=Jo),l=l.add(m),r=ko(r,y)}return new Fs(l,r)}function Wa(r){for(var e=r.g.length+1,t=[],o=0;o<e;o++)t[o]=r.D(o)<<1|r.D(o-1)>>>31;return new Zr(t,r.h)}function Ra(r,e){var t=e>>5;e%=32;for(var o=r.g.length-t,l=[],m=0;m<o;m++)l[m]=0<e?r.D(m+t)>>>e|r.D(m+t+1)<<32-e:r.D(m+t);return new Zr(l,r.h)}(me=Zr.prototype).ea=function(){if(Do(this))return-Hr(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var o=this.D(t);r+=(0<=o?o:Ks+o)*e,e*=Ks}return r},me.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(as(this))return"0";if(Do(this))return"-"+Hr(this).toString(r);for(var e=ao(Math.pow(r,6)),t=this,o="";;){var l=Ls(t,e).g,m=((0<(t=ko(t,l.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(as(t=l))return m+o;for(;6>m.length;)m="0"+m;o=m+o}},me.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},me.X=function(r){return Do(r=ko(this,r))?-1:as(r)?0:1},me.abs=function(){return Do(this)?Hr(this):this},me.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0,l=0;l<=e;l++){var m=o+(65535&this.D(l))+(65535&r.D(l)),y=(m>>>16)+(this.D(l)>>>16)+(r.D(l)>>>16);o=y>>>16,t[l]=(y&=65535)<<16|(m&=65535)}return new Zr(t,-2147483648&t[t.length-1]?-1:0)},me.R=function(r){if(as(this)||as(r))return ks;if(Do(this))return Do(r)?Hr(this).R(Hr(r)):Hr(Hr(this).R(r));if(Do(r))return Hr(this.R(Hr(r)));if(0>this.X(Ma)&&0>r.X(Ma))return ao(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],o=0;o<2*e;o++)t[o]=0;for(o=0;o<this.g.length;o++)for(var l=0;l<r.g.length;l++){var m=this.D(o)>>>16,y=65535&this.D(o),P=r.D(l)>>>16,$=65535&r.D(l);t[2*o+2*l]+=y*$,fi(t,2*o+2*l),t[2*o+2*l+1]+=m*$,fi(t,2*o+2*l+1),t[2*o+2*l+1]+=y*P,fi(t,2*o+2*l+1),t[2*o+2*l+2]+=m*P,fi(t,2*o+2*l+2)}for(o=0;o<e;o++)t[o]=t[2*o+1]<<16|t[2*o];for(o=e;o<2*e;o++)t[o]=0;return new Zr(t,0)},me.gb=function(r){return Ls(this,r).h},me.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)&r.D(o);return new Zr(t,this.h&r.h)},me.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)|r.D(o);return new Zr(t,this.h|r.h)},me.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)^r.D(o);return new Zr(t,this.h^r.h)},Zi.prototype.createWebChannel=Zi.prototype.g,$i.prototype.send=$i.prototype.u,$i.prototype.open=$i.prototype.m,$i.prototype.close=$i.prototype.close,un.NO_ERROR=0,un.TIMEOUT=8,un.HTTP_ERROR=6,ar.COMPLETE="complete",Eo.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",vr.prototype.listen=vr.prototype.O,tr.prototype.listenOnce=tr.prototype.P,tr.prototype.getLastError=tr.prototype.Sa,tr.prototype.getLastErrorCode=tr.prototype.Ia,tr.prototype.getStatus=tr.prototype.da,tr.prototype.getResponseJson=tr.prototype.Wa,tr.prototype.getResponseText=tr.prototype.ja,tr.prototype.send=tr.prototype.ha,tr.prototype.setWithCredentials=tr.prototype.Oa,to.prototype.digest=to.prototype.l,to.prototype.reset=to.prototype.reset,to.prototype.update=to.prototype.j,Zr.prototype.add=Zr.prototype.add,Zr.prototype.multiply=Zr.prototype.R,Zr.prototype.modulo=Zr.prototype.gb,Zr.prototype.compare=Zr.prototype.X,Zr.prototype.toNumber=Zr.prototype.ea,Zr.prototype.toString=Zr.prototype.toString,Zr.prototype.getBits=Zr.prototype.D,Zr.fromNumber=ao,Zr.fromString=function Qo(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return Hr(Qo(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ao(Math.pow(e,8)),o=ks,l=0;l<r.length;l+=8){var m=Math.min(8,r.length-l),y=parseInt(r.substring(l,l+m),e);8>m?(m=ao(Math.pow(e,m)),o=o.R(m).add(ao(y))):o=(o=o.R(t)).add(ao(y))}return o};var Ki=Ne.createWebChannelTransport=function(){return new Zi},Oi=Ne.getStatEventTarget=function(){return sr()},gs=Ne.ErrorCode=un,rc=Ne.EventType=ar,da=Ne.Event=wn,k=Ne.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},W=Ne.FetchXmlHttpFactory=fo,V=Ne.WebChannel=Eo,ie=Ne.XhrIo=tr,Ae=Ne.Md5=to,I=Ne.Integer=Zr;const x="@firebase/firestore";class z{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}z.UNAUTHENTICATED=new z(null),z.GOOGLE_CREDENTIALS=new z("google-credentials-uid"),z.FIRST_PARTY=new z("first-party-uid"),z.MOCK_USER=new z("mock-user");let we="9.22.1";const et=new ye.Yd("@firebase/firestore");function Xt(){return et.logLevel}function Cn(r){et.setLogLevel(r)}function Ct(r,...e){if(et.logLevel<=ye.in.DEBUG){const t=e.map(no);et.debug(`Firestore (${we}): ${r}`,...t)}}function Sn(r,...e){if(et.logLevel<=ye.in.ERROR){const t=e.map(no);et.error(`Firestore (${we}): ${r}`,...t)}}function Gr(r,...e){if(et.logLevel<=ye.in.WARN){const t=e.map(no);et.warn(`Firestore (${we}): ${r}`,...t)}}function no(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function nn(r="Unexpected state"){const e=`FIRESTORE (${we}) INTERNAL ASSERTION FAILED: `+r;throw Sn(e),new Error(e)}function Dn(r,e){r||nn()}function To(r,e){r||nn()}function en(r,e){return r}const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ft extends be.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class co{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class dl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(z.UNAUTHENTICATED))}shutdown(){}}class Rc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ha{constructor(e){this.t=e,this.currentUser=z.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let l=this.i;const m=K=>this.i!==l?(l=this.i,t(K)):Promise.resolve();let y=new co;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new co,e.enqueueRetryable(()=>m(this.currentUser))};const P=()=>{const K=y;e.enqueueRetryable((0,w.Z)(function*(){yield K.promise,yield m(o.currentUser)}))},$=K=>{Ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.auth.addAuthTokenListener(this.o),P()};this.t.onInit(K=>$(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?$(K):(Ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new co)}},0),P()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Dn("string"==typeof o.accessToken),new dl(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Dn(null===e||"string"==typeof e),new z(e)}}class Ys{constructor(e,t,o){this.h=e,this.l=t,this.m=o,this.type="FirstParty",this.user=z.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class go{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new Ys(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(z.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qa{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const o=m=>{null!=m.error&&Ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const y=m.token!==this.T;return this.T=m.token,Ct("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?t(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>o(m))};const l=m=>{Ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.I.onInit(m=>l(m)),setTimeout(()=>{if(!this.appCheck){const m=this.I.getImmediate({optional:!0});m?l(m):Ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Dn("string"==typeof t.token),this.T=t.token,new Pa(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function hl(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<r;o++)t[o]=Math.floor(256*Math.random());return t}class Kr{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const l=hl(40);for(let m=0;m<l.length;++m)o.length<20&&l[m]<t&&(o+=e.charAt(l[m]%e.length))}return o}}function or(r,e){return r<e?-1:r>e?1:0}function fa(r,e,t){return r.length===e.length&&r.every((o,l)=>t(o,e[l]))}function Rl(r){return r+"\0"}class Ti{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ft(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ft(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ft(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ft(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ti.fromMillis(Date.now())}static fromDate(e){return Ti.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Ti(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?or(this.nanoseconds,e.nanoseconds):or(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Hn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Hn(e)}static min(){return new Hn(new Ti(0,0))}static max(){return new Hn(new Ti(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class vc{constructor(e,t,o){void 0===t?t=0:t>e.length&&nn(),void 0===o?o=e.length-t:o>e.length-t&&nn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===vc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vc?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let l=0;l<o;l++){const m=e.get(l),y=t.get(l);if(m<y)return-1;if(m>y)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class lr extends vc{construct(e,t,o){return new lr(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new Ft(ht.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(l=>l.length>0))}return new lr(t)}static emptyPath(){return new lr([])}}const fl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gr extends vc{construct(e,t,o){return new gr(e,t,o)}static isValidIdentifier(e){return fl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gr(["__name__"])}static fromServerFormat(e){const t=[];let o="",l=0;const m=()=>{if(0===o.length)throw new Ft(ht.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let y=!1;for(;l<e.length;){const P=e[l];if("\\"===P){if(l+1===e.length)throw new Ft(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const $=e[l+1];if("\\"!==$&&"."!==$&&"`"!==$)throw new Ft(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=$,l+=2}else"`"===P?(y=!y,l++):"."!==P||y?(o+=P,l++):(m(),l++)}if(m(),y)throw new Ft(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gr(t)}static emptyPath(){return new gr([])}}class hn{constructor(e){this.path=e}static fromPath(e){return new hn(lr.fromString(e))}static fromName(e){return new hn(lr.fromString(e).popFirst(5))}static empty(){return new hn(lr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===lr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return lr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new hn(new lr(e.slice()))}}class Wr{constructor(e,t,o,l){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=l}}function Qs(r){return r.fields.find(e=>2===e.kind)}function Fo(r){return r.fields.filter(e=>2!==e.kind)}Wr.UNKNOWN_ID=-1;class _o{constructor(e,t){this.fieldPath=e,this.kind=t}}class ic{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ic(0,Lo.min())}}function oc(r,e){const t=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,l=Hn.fromTimestamp(1e9===o?new Ti(t+1,0):new Ti(t,o));return new Lo(l,hn.empty(),e)}function pl(r){return new Lo(r.readTime,r.key,-1)}class Lo{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Lo(Hn.min(),hn.empty(),-1)}static max(){return new Lo(Hn.max(),hn.empty(),-1)}}function Ka(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=hn.comparator(r.documentKey,e.documentKey),0!==t?t:or(r.largestBatchId,e.largestBatchId))}const yi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ui{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Js(r){return pa.apply(this,arguments)}function pa(){return pa=(0,w.Z)(function*(r){if(r.code!==ht.FAILED_PRECONDITION||r.message!==yi)throw r;Ct("LocalStore","Unexpectedly lost primary lease")}),pa.apply(this,arguments)}class pt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&nn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pt((o,l)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(o,l)},this.catchCallback=m=>{this.wrapFailure(t,m).next(o,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pt?t:pt.resolve(t)}catch(t){return pt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pt.reject(t)}static resolve(e){return new pt((t,o)=>{t(e)})}static reject(e){return new pt((t,o)=>{o(e)})}static waitFor(e){return new pt((t,o)=>{let l=0,m=0,y=!1;e.forEach(P=>{++l,P.next(()=>{++m,y&&m===l&&t()},$=>o($))}),y=!0,m===l&&t()})}static or(e){let t=pt.resolve(!1);for(const o of e)t=t.next(l=>l?pt.resolve(l):o());return t}static forEach(e,t){const o=[];return e.forEach((l,m)=>{o.push(t.call(this,l,m))}),this.waitFor(o)}static mapArray(e,t){return new pt((o,l)=>{const m=e.length,y=new Array(m);let P=0;for(let $=0;$<m;$++){const K=$;t(e[K]).next(le=>{y[K]=le,++P,P===m&&o(y)},le=>l(le))}})}static doWhile(e,t){return new pt((o,l)=>{const m=()=>{!0===e()?t().next(()=>{m()},l):o()};m()})}}class Yc{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new co,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Qc(e,t.error)):this.v.resolve()},this.transaction.onerror=o=>{const l=iu(o.target.error);this.v.reject(new Qc(e,l))}}static open(e,t,o,l){try{return new Yc(t,e.transaction(l,o))}catch(m){throw new Qc(t,m)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Ct("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new wc(t)}}class zr{constructor(e,t,o){this.name=e,this.version=t,this.V=o,12.2===zr.S((0,be.z$)())&&Sn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ct("SimpleDb","Removing database:",e),Ec(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,be.hl)())return!1;if(zr.C())return!0;const e=(0,be.z$)(),t=zr.S(e),o=0<t&&t<10,l=zr.N(e),m=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||m)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static N(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}$(e){var t=this;return(0,w.Z)(function*(){return t.db||(Ct("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,l)=>{const m=indexedDB.open(t.name,t.version);m.onsuccess=y=>{o(y.target.result)},m.onblocked=()=>{l(new Qc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=y=>{const P=y.target.error;l("VersionError"===P.name?new Ft(ht.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new Ft(ht.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new Qc(e,P))},m.onupgradeneeded=y=>{Ct("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',y.oldVersion),t.V.O(y.target.result,m.transaction,y.oldVersion,t.version).next(()=>{Ct("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=o=>t.F(o)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,l){var m=this;return(0,w.Z)(function*(){const y="readonly"===t;let P=0;for(;;){++P;try{m.db=yield m.$(e);const $=Yc.open(m.db,e,y?"readonly":"readwrite",o),K=l($).next(le=>($.P(),le)).catch(le=>($.abort(le),pt.reject(le))).toPromise();return K.catch(()=>{}),yield $.R,K}catch($){const K=$,le="FirebaseError"!==K.name&&P<3;if(Ct("SimpleDb","Transaction failed with error:",K.message,"Retrying:",le),m.close(),!le)return Promise.reject(K)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class nu{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Ec(this.L.delete())}}class Qc extends Ft{constructor(e,t){super(ht.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function sc(r){return"IndexedDbTransactionError"===r.name}class wc{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Ct("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Ct("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Ec(o)}add(e){return Ct("SimpleDb","ADD",this.store.name,e,e),Ec(this.store.add(e))}get(e){return Ec(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ct("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ct("SimpleDb","DELETE",this.store.name,e),Ec(this.store.delete(e))}count(){return Ct("SimpleDb","COUNT",this.store.name),Ec(this.store.count())}j(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const l=this.cursor(o),m=[];return this.W(l,(y,P)=>{m.push(P)}).next(()=>m)}{const l=this.store.getAll(o.range);return new pt((m,y)=>{l.onerror=P=>{y(P.target.error)},l.onsuccess=P=>{m(P.target.result)}})}}H(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new pt((l,m)=>{o.onerror=y=>{m(y.target.error)},o.onsuccess=y=>{l(y.target.result)}})}J(e,t){Ct("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.Y=!1;const l=this.cursor(o);return this.W(l,(m,y,P)=>P.delete())}X(e,t){let o;t?o=e:(o={},t=e);const l=this.cursor(o);return this.W(l,t)}Z(e){const t=this.cursor({});return new pt((o,l)=>{t.onerror=m=>{const y=iu(m.target.error);l(y)},t.onsuccess=m=>{const y=m.target.result;y?e(y.primaryKey,y.value).next(P=>{P?y.continue():o()}):o()}})}W(e,t){const o=[];return new pt((l,m)=>{e.onerror=y=>{m(y.target.error)},e.onsuccess=y=>{const P=y.target.result;if(!P)return void l();const $=new nu(P),K=t(P.primaryKey,P.value,$);if(K instanceof pt){const le=K.catch(Re=>($.done(),pt.reject(Re)));o.push(le)}$.isDone?l():null===$.K?P.continue():P.continue($.K)}}).next(()=>pt.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.Y?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ec(r){return new pt((e,t)=>{r.onsuccess=o=>{e(o.target.result)},r.onerror=o=>{const l=iu(o.target.error);t(l)}})}let ru=!1;function iu(r){const e=zr.S((0,be.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const o=new Ft("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ru||(ru=!0,setTimeout(()=>{throw o},0)),o}}return r}class ac{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Ct("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,w.Z)(function*(){t.task=null;try{Ct("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(o){sc(o)?Ct("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield Js(o)}yield t.et(6e4)}))}}class Id{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,w.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.st(o,e))})()}st(e,t){const o=new Set;let l=t,m=!0;return pt.doWhile(()=>!0===m&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(y=>{if(null!==y&&!o.has(y))return Ct("IndexBackiller",`Processing collection: ${y}`),this.it(e,y,l).next(P=>{l-=P,o.add(y)});m=!1})).next(()=>t-l)}it(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(l=>this.localStore.localDocuments.getNextDocuments(e,t,l,o).next(m=>{const y=m.changes;return this.localStore.indexManager.updateIndexEntries(e,y).next(()=>this.rt(l,m)).next(P=>(Ct("IndexBackiller",`Updating offset: ${P}`),this.localStore.indexManager.updateCollectionGroup(e,t,P))).next(()=>y.size)}))}rt(e,t){let o=e;return t.changes.forEach((l,m)=>{const y=pl(m);Ka(y,o)>0&&(o=y)}),new Lo(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}let _s=(()=>{class r{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=l=>this.ot(l),this.ut=l=>o.writeSequenceNumber(l))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function Bi(r){return null==r}function ys(r){return 0===r&&1/r==-1/0}function Cc(r){return"number"==typeof r&&Number.isInteger(r)&&!ys(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function yo(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=vs(e)),e=vo(r.get(t),e);return vs(e)}function vo(r,e){let t=e;const o=r.length;for(let l=0;l<o;l++){const m=r.charAt(l);switch(m){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=m}}return t}function vs(r){return r+"\x01\x01"}function Ai(r){const e=r.length;if(Dn(e>=2),2===e)return Dn("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),lr.emptyPath();const t=e-2,o=[];let l="";for(let m=0;m<e;){const y=r.indexOf("\x01",m);switch((y<0||y>t)&&nn(),r.charAt(y+1)){case"\x01":const P=r.substring(m,y);let $;0===l.length?$=P:(l+=P,$=l,l=""),o.push($);break;case"\x10":l+=r.substring(m,y),l+="\0";break;case"\x11":l+=r.substring(m,y+1);break;default:nn()}m=y+2}return new lr(o)}const D=["userId","batchId"];function S(r,e){return[r,yo(e)]}function E(r,e,t){return[r,yo(e),t]}const F={},H=["prefixPath","collectionGroup","readTime","documentId"],te=["prefixPath","collectionGroup","documentId"],ce=["collectionGroup","readTime","prefixPath","documentId"],Ke=["canonicalId","targetId"],kt=["targetId","path"],fn=["path","targetId"],mn=["collectionId","parent"],Rr=["indexId","uid"],Ri=["uid","sequenceNumber"],Oa=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bs=["indexId","uid","orderedDocumentKey"],Xs=["userId","collectionPath","documentId"],ea=["userId","collectionPath","largestBatchId"],ma=["userId","collectionGroup","largestBatchId"],ga=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ou=[...ga,"documentOverlays"],Pc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ku=Pc,ml=[...Ku,"indexConfiguration","indexState","indexEntries"];class Pl extends ui{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Uo(r,e){const t=en(r);return zr.M(t.ht,e)}function Yi(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Na(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function su(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class vi{constructor(e,t){this.comparator=e,this.root=t||Qi.EMPTY}insert(e,t){return new vi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qi.BLACK,null,null))}remove(e){return new vi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return t+o.left.size;l<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ol(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ol(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ol(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ol(this.root,e,this.comparator,!0)}}class Ol{constructor(e,t,o,l){this.isReverse=l,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=t?o(e.key,t):1,t&&l&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qi{constructor(e,t,o,l,m){this.key=e,this.value=t,this.color=o??Qi.RED,this.left=l??Qi.EMPTY,this.right=m??Qi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,l,m){return new Qi(e??this.key,t??this.value,o??this.color,l??this.left,m??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let l=this;const m=o(e,l.key);return l=m<0?l.copy(null,null,null,l.left.insert(e,t,o),null):0===m?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return Qi.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nn();const e=this.left.check();if(e!==this.right.check())throw nn();return e+(this.isRed()?0:1)}}Qi.EMPTY=null,Qi.RED=!0,Qi.BLACK=!1,Qi.EMPTY=new class{constructor(){this.size=0}get key(){throw nn()}get value(){throw nn()}get color(){throw nn()}get left(){throw nn()}get right(){throw nn()}copy(r,e,t,o,l){return this}insert(r,e,t){return new Qi(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Si{constructor(e){this.comparator=e,this.data=new vi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Dd(this.data.getIterator())}getIteratorFrom(e){return new Dd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof Si)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,m=o.getNext().key;if(0!==this.comparator(l,m))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Si(this.comparator);return t.data=e,t}}class Dd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function gl(r){return r.hasNext()?r.getNext():void 0}class Us{constructor(e){this.fields=e,e.sort(gr.comparator)}static empty(){return new Us([])}unionWith(e){let t=new Si(gr.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Us(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fa(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class ka extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Yu(){return typeof atob<"u"}class bo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new ka("Invalid base64 string: "+l):l}}(e);return new bo(t)}static fromUint8Array(e){const t=function(o){let l="";for(let m=0;m<o.length;++m)l+=String.fromCharCode(o[m]);return l}(e);return new bo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return or(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bo.EMPTY_BYTE_STRING=new bo("");const Eh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ic(r){if(Dn(!!r),"string"==typeof r){let e=0;const t=Eh.exec(r);if(Dn(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Ni(r.seconds),nanos:Ni(r.nanos)}}function Ni(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Ji(r){return"string"==typeof r?bo.fromBase64String(r):bo.fromUint8Array(r)}function Jc(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function _l(r){const e=r.mapValue.fields.__previous_value__;return Jc(e)?_l(e):e}function Oc(r){const e=Ic(r.mapValue.fields.__local_write_time__.timestampValue);return new Ti(e.seconds,e.nanos)}class Nl{constructor(e,t,o,l,m,y,P,$,K){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=l,this.ssl=m,this.forceLongPolling=y,this.autoDetectLongPolling=P,this.longPollingOptions=$,this.useFetchStreams=K}}class Dc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Dc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Dc&&e.projectId===this.projectId&&e.database===this.database}}const _a={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},yl={nullValue:"NULL_VALUE"};function ta(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Jc(r)?4:Ya(r)?9007199254740991:10:nn()}function Fa(r,e){if(r===e)return!0;const t=ta(r);if(t!==ta(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Oc(r).isEqual(Oc(e));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const m=Ic(o.timestampValue),y=Ic(l.timestampValue);return m.seconds===y.seconds&&m.nanos===y.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return l=e,Ji(r.bytesValue).isEqual(Ji(l.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return Ni(o.geoPointValue.latitude)===Ni(l.geoPointValue.latitude)&&Ni(o.geoPointValue.longitude)===Ni(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Ni(o.integerValue)===Ni(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const m=Ni(o.doubleValue),y=Ni(l.doubleValue);return m===y?ys(m)===ys(y):isNaN(m)&&isNaN(y)}return!1}(r,e);case 9:return fa(r.arrayValue.values||[],e.arrayValue.values||[],Fa);case 10:return function(o,l){const m=o.mapValue.fields||{},y=l.mapValue.fields||{};if(Yi(m)!==Yi(y))return!1;for(const P in m)if(m.hasOwnProperty(P)&&(void 0===y[P]||!Fa(m[P],y[P])))return!1;return!0}(r,e);default:return nn()}var l}function Nc(r,e){return void 0!==(r.values||[]).find(t=>Fa(t,e))}function ya(r,e){if(r===e)return 0;const t=ta(r),o=ta(e);if(t!==o)return or(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return or(r.booleanValue,e.booleanValue);case 2:return function(l,m){const y=Ni(l.integerValue||l.doubleValue),P=Ni(m.integerValue||m.doubleValue);return y<P?-1:y>P?1:y===P?0:isNaN(y)?isNaN(P)?0:-1:1}(r,e);case 3:return au(r.timestampValue,e.timestampValue);case 4:return au(Oc(r),Oc(e));case 5:return or(r.stringValue,e.stringValue);case 6:return function(l,m){const y=Ji(l),P=Ji(m);return y.compareTo(P)}(r.bytesValue,e.bytesValue);case 7:return function(l,m){const y=l.split("/"),P=m.split("/");for(let $=0;$<y.length&&$<P.length;$++){const K=or(y[$],P[$]);if(0!==K)return K}return or(y.length,P.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,m){const y=or(Ni(l.latitude),Ni(m.latitude));return 0!==y?y:or(Ni(l.longitude),Ni(m.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(l,m){const y=l.values||[],P=m.values||[];for(let $=0;$<y.length&&$<P.length;++$){const K=ya(y[$],P[$]);if(K)return K}return or(y.length,P.length)}(r.arrayValue,e.arrayValue);case 10:return function(l,m){if(l===_a.mapValue&&m===_a.mapValue)return 0;if(l===_a.mapValue)return 1;if(m===_a.mapValue)return-1;const y=l.fields||{},P=Object.keys(y),$=m.fields||{},K=Object.keys($);P.sort(),K.sort();for(let le=0;le<P.length&&le<K.length;++le){const Re=or(P[le],K[le]);if(0!==Re)return Re;const ft=ya(y[P[le]],$[K[le]]);if(0!==ft)return ft}return or(P.length,K.length)}(r.mapValue,e.mapValue);default:throw nn()}}function au(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return or(r,e);const t=Ic(r),o=Ic(e),l=or(t.seconds,o.seconds);return 0!==l?l:or(t.nanos,o.nanos)}function ws(r){return na(r)}function na(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(o){const l=Ic(o);return`time(${l.seconds},${l.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Ji(r.bytesValue).toBase64():"referenceValue"in r?hn.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(o){let l="[",m=!0;for(const y of o.values||[])m?m=!1:l+=",",l+=na(y);return l+"]"}(r.arrayValue):"mapValue"in r?function(o){const l=Object.keys(o.fields||{}).sort();let m="{",y=!0;for(const P of l)y?y=!1:m+=",",m+=`${P}:${na(o.fields[P])}`;return m+"}"}(r.mapValue):nn();var e}function kl(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Td(r){return!!r&&"integerValue"in r}function lc(r){return!!r&&"arrayValue"in r}function uc(r){return!!r&&"nullValue"in r}function cu(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function dc(r){return!!r&&"mapValue"in r}function Tc(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Na(r.mapValue.fields,(t,o)=>e.mapValue.fields[t]=Tc(o)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tc(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Ya(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function lu(r){return"nullValue"in r?yl:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?kl(Dc.empty(),hn.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:nn()}function Xc(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?kl(Dc.empty(),hn.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?_a:nn()}function Ad(r,e){const t=ya(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function hc(r,e){const t=ya(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class Ao{constructor(e){this.value=e}static empty(){return new Ao({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!dc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tc(t)}setAll(e){let t=gr.emptyPath(),o={},l=[];e.forEach((y,P)=>{if(!t.isImmediateParentOf(P)){const $=this.getFieldsMap(t);this.applyChanges($,o,l),o={},l=[],t=P.popLast()}y?o[P.lastSegment()]=Tc(y):l.push(P.lastSegment())});const m=this.getFieldsMap(t);this.applyChanges(m,o,l)}delete(e){const t=this.field(e.popLast());dc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=t.mapValue.fields[e.get(o)];dc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,o){Na(t,(l,m)=>e[l]=m);for(const l of o)delete e[l]}clone(){return new Ao(Tc(this.value))}}function uu(r){const e=[];return Na(r.fields,(t,o)=>{const l=new gr([t]);if(dc(o)){const m=uu(o.mapValue).fields;if(0===m.length)e.push(l);else for(const y of m)e.push(l.child(y))}else e.push(l)}),new Us(e)}class Pi{constructor(e,t,o,l,m,y,P){this.key=e,this.documentType=t,this.version=o,this.readTime=l,this.createTime=m,this.data=y,this.documentState=P}static newInvalidDocument(e){return new Pi(e,0,Hn.min(),Hn.min(),Hn.min(),Ao.empty(),0)}static newFoundDocument(e,t,o,l){return new Pi(e,1,t,Hn.min(),o,l,0)}static newNoDocument(e,t){return new Pi(e,2,t,Hn.min(),Hn.min(),Ao.empty(),0)}static newUnknownDocument(e,t){return new Pi(e,3,t,Hn.min(),Hn.min(),Ao.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Hn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ao.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ao.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Hn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Pi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class kc{constructor(e,t){this.position=e,this.inclusive=t}}function Qu(r,e,t){let o=0;for(let l=0;l<r.position.length;l++){const m=e[l],y=r.position[l];if(o=m.field.isKeyField()?hn.comparator(hn.fromName(y.referenceValue),t.key):ya(y,t.data.field(m.field)),"desc"===m.dir&&(o*=-1),0!==o)break}return o}function Fl(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Fa(r.position[t],e.position[t]))return!1;return!0}class M{constructor(e,t="asc"){this.field=e,this.dir=t}}function L(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class G{}class pe extends G{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new ls(e,t,o):"array-contains"===t?new va(e,o):"in"===t?new ra(e,o):"not-in"===t?new Sd(e,o):"array-contains-any"===t?new xd(e,o):new pe(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new Fc(e,o):new Ac(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ya(t,this.value)):null!==t&&ta(this.value)===ta(t)&&this.matchesComparison(ya(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Pe extends G{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Pe(e,t)}matches(e){return He(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function He(r){return"and"===r.op}function Tt(r){return"or"===r.op}function _n(r){return dn(r)&&He(r)}function dn(r){for(const e of r.filters)if(e instanceof Pe)return!1;return!0}function Tn(r){if(r instanceof pe)return r.field.canonicalString()+r.op.toString()+ws(r.value);if(_n(r))return r.filters.map(e=>Tn(e)).join(",");{const e=r.filters.map(t=>Tn(t)).join(",");return`${r.op}(${e})`}}function br(r,e){return r instanceof pe?(t=r,(o=e)instanceof pe&&t.op===o.op&&t.field.isEqual(o.field)&&Fa(t.value,o.value)):r instanceof Pe?function(t,o){return o instanceof Pe&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((l,m,y)=>l&&br(m,o.filters[y]),!0)}(r,e):void nn();var t,o}function wr(r,e){const t=r.filters.concat(e);return Pe.create(t,r.op)}function Es(r){return r instanceof pe?`${(e=r).field.canonicalString()} ${e.op} ${ws(e.value)}`:r instanceof Pe?function(e){return e.op.toString()+" {"+e.getFilters().map(Es).join(" ,")+"}"}(r):"Filter";var e}class ls extends pe{constructor(e,t,o){super(e,t,o),this.key=hn.fromName(o.referenceValue)}matches(e){const t=hn.comparator(e.key,this.key);return this.matchesComparison(t)}}class Fc extends pe{constructor(e,t){super(e,"in",t),this.keys=el(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ac extends pe{constructor(e,t){super(e,"not-in",t),this.keys=el(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function el(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>hn.fromName(o.referenceValue))}class va extends pe{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return lc(t)&&Nc(t.arrayValue,this.value)}}class ra extends pe{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Nc(this.value.arrayValue,t)}}class Sd extends pe{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Nc(this.value.arrayValue,t)}}class xd extends pe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!lc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Nc(this.value.arrayValue,o))}}class Ch{constructor(e,t=null,o=[],l=[],m=null,y=null,P=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=l,this.limit=m,this.startAt=y,this.endAt=P,this.dt=null}}function Ju(r,e=null,t=[],o=[],l=null,m=null,y=null){return new Ch(r,e,t,o,l,m,y)}function La(r){const e=en(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>Tn(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),Bi(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>ws(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>ws(o)).join(",")),e.dt=t}return e.dt}function tl(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!L(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!br(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Fl(r.startAt,e.startAt)&&Fl(r.endAt,e.endAt)}function du(r){return hn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function nl(r,e){return r.filters.filter(t=>t instanceof pe&&t.field.isEqual(e))}function Md(r,e,t){let o=yl,l=!0;for(const m of nl(r,e)){let y=yl,P=!0;switch(m.op){case"<":case"<=":y=lu(m.value);break;case"==":case"in":case">=":y=m.value;break;case">":y=m.value,P=!1;break;case"!=":case"not-in":y=yl}Ad({value:o,inclusive:l},{value:y,inclusive:P})<0&&(o=y,l=P)}if(null!==t)for(let m=0;m<r.orderBy.length;++m)if(r.orderBy[m].field.isEqual(e)){const y=t.position[m];Ad({value:o,inclusive:l},{value:y,inclusive:t.inclusive})<0&&(o=y,l=t.inclusive);break}return{value:o,inclusive:l}}function Ih(r,e,t){let o=_a,l=!0;for(const m of nl(r,e)){let y=_a,P=!0;switch(m.op){case">=":case">":y=Xc(m.value),P=!1;break;case"==":case"in":case"<=":y=m.value;break;case"<":y=m.value,P=!1;break;case"!=":case"not-in":y=_a}hc({value:o,inclusive:l},{value:y,inclusive:P})>0&&(o=y,l=P)}if(null!==t)for(let m=0;m<r.orderBy.length;++m)if(r.orderBy[m].field.isEqual(e)){const y=t.position[m];hc({value:o,inclusive:l},{value:y,inclusive:t.inclusive})>0&&(o=y,l=t.inclusive);break}return{value:o,inclusive:l}}class Lc{constructor(e,t=null,o=[],l=[],m=null,y="F",P=null,$=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=l,this.limit=m,this.limitType=y,this.startAt=P,this.endAt=$,this.wt=null,this._t=null}}function Rd(r,e,t,o,l,m,y,P){return new Lc(r,e,t,o,l,m,y,P)}function Ll(r){return new Lc(r)}function Dh(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Th(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function T(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function g(r){return null!==r.collectionGroup}function v(r){const e=en(r);if(null===e.wt){e.wt=[];const t=T(e),o=Th(e);if(null!==t&&null===o)t.isKeyField()||e.wt.push(new M(t)),e.wt.push(new M(gr.keyField(),"asc"));else{let l=!1;for(const m of e.explicitOrderBy)e.wt.push(m),m.field.isKeyField()&&(l=!0);if(!l){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new M(gr.keyField(),m))}}}return e.wt}function R(r){const e=en(r);if(!e._t)if("F"===e.limitType)e._t=Ju(e.path,e.collectionGroup,v(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const m of v(e))t.push(new M(m.field,"desc"===m.dir?"asc":"desc"));const o=e.endAt?new kc(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new kc(e.startAt.position,e.startAt.inclusive):null;e._t=Ju(e.path,e.collectionGroup,t,e.filters,e.limit,o,l)}return e._t}function Q(r,e){e.getFirstInequalityField(),T(r);const t=r.filters.concat([e]);return new Lc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function de(r,e,t){return new Lc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function qe(r,e){return tl(R(r),R(e))&&r.limitType===e.limitType}function At(r){return`${La(R(r))}|lt:${r.limitType}`}function sn(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>Es(o)).join(", ")}]`),Bi(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(l=o).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>ws(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>ws(o)).join(",")),`Target(${t})`}(R(r))}; limitType=${r.limitType})`}function bn(r,e){return e.isFoundDocument()&&function(t,o){const l=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):hn.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(r,e)&&function(t,o){for(const l of v(t))if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(r,e)&&function(t,o){for(const l of t.filters)if(!l.matches(o))return!1;return!0}(r,e)&&(o=e,!((t=r).startAt&&!function(l,m,y){const P=Qu(l,m,y);return l.inclusive?P<=0:P<0}(t.startAt,v(t),o)||t.endAt&&!function(l,m,y){const P=Qu(l,m,y);return l.inclusive?P>=0:P>0}(t.endAt,v(t),o)));var t,o}function Kn(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Ur(r){return(e,t)=>{let o=!1;for(const l of v(r)){const m=ba(l,e,t);if(0!==m)return m;o=o||l.field.isKeyField()}return 0}}function ba(r,e,t){const o=r.field.isKeyField()?hn.comparator(e.key,t.key):function(l,m,y){const P=m.data.field(l),$=y.data.field(l);return null!==P&&null!==$?ya(P,$):nn()}(r.field,e,t);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return nn()}}class Bs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[l,m]of o)if(this.equalsFn(l,e))return m}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0===l)return this.inner[o]=[[e,t]],void this.innerSize++;for(let m=0;m<l.length;m++)if(this.equalsFn(l[m][0],e))return void(l[m]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[t]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Na(this.inner,(t,o)=>{for(const[l,m]of o)e(l,m)})}isEmpty(){return su(this.inner)}size(){return this.innerSize}}const Pd=new vi(hn.comparator);function Ua(){return Pd}const vl=new vi(hn.comparator);function hu(...r){let e=vl;for(const t of r)e=e.insert(t.key,t);return e}function Od(r){let e=vl;return r.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Ba(){return Ul()}function Ah(){return Ul()}function Ul(){return new Bs(r=>r.toString(),(r,e)=>r.isEqual(e))}const Nd=new vi(hn.comparator),Xu=new Si(hn.comparator);function Dr(...r){let e=Xu;for(const t of r)e=e.add(t);return e}const ed=new Si(or);function fu(){return ed}function Uc(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ys(e)?"-0":e}}function Sh(r){return{integerValue:""+r}}function td(r,e){return Cc(e)?Sh(e):Uc(r,e)}class wf{constructor(){this._=void 0}}function Km(r,e,t){return r instanceof kd?function(o,l){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Jc(l)&&(l=_l(l)),l&&(m.fields.__previous_value__=l),{mapValue:m}}(t,e):r instanceof bl?Qm(r,e):r instanceof wl?xh(r,e):function(o,l){const m=Ym(o,l),y=Jm(m)+Jm(o.gt);return Td(m)&&Td(o.gt)?Sh(y):Uc(o.serializer,y)}(r,e)}function I_(r,e,t){return r instanceof bl?Qm(r,e):r instanceof wl?xh(r,e):t}function Ym(r,e){return r instanceof fc?Td(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class kd extends wf{}class bl extends wf{constructor(e){super(),this.elements=e}}function Qm(r,e){const t=Xm(e);for(const o of r.elements)t.some(l=>Fa(l,o))||t.push(o);return{arrayValue:{values:t}}}class wl extends wf{constructor(e){super(),this.elements=e}}function xh(r,e){let t=Xm(e);for(const o of r.elements)t=t.filter(l=>!Fa(l,o));return{arrayValue:{values:t}}}class fc extends wf{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Jm(r){return Ni(r.integerValue||r.doubleValue)}function Xm(r){return lc(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Ef{constructor(e,t){this.field=e,this.transform=t}}class Mh{constructor(e,t){this.version=e,this.transformResults=t}}class Bo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bo}static exists(e){return new Bo(void 0,e)}static updateTime(e){return new Bo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cf(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Fd{}function If(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Qa(r.key,Bo.none()):new Ud(r.key,r.data,Bo.none());{const t=r.data,o=Ao.empty();let l=new Si(gr.comparator);for(let m of e.fields)if(!l.has(m)){let y=t.field(m);null===y&&m.length>1&&(m=m.popLast(),y=t.field(m)),null===y?o.delete(m):o.set(m,y),l=l.add(m)}return new Bl(r.key,o,new Us(l.toArray()),Bo.none())}}function eg(r,e,t){r instanceof Ud?function(o,l,m){const y=o.value.clone(),P=ng(o.fieldTransforms,l,m.transformResults);y.setAll(P),l.convertToFoundDocument(m.version,y).setHasCommittedMutations()}(r,e,t):r instanceof Bl?function(o,l,m){if(!Cf(o.precondition,l))return void l.convertToUnknownDocument(m.version);const y=ng(o.fieldTransforms,l,m.transformResults),P=l.data;P.setAll(Lp(o)),P.setAll(y),l.convertToFoundDocument(m.version,P).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ld(r,e,t,o){return r instanceof Ud?function(l,m,y,P){if(!Cf(l.precondition,m))return y;const $=l.value.clone(),K=Rh(l.fieldTransforms,P,m);return $.setAll(K),m.convertToFoundDocument(m.version,$).setHasLocalMutations(),null}(r,e,t,o):r instanceof Bl?function(l,m,y,P){if(!Cf(l.precondition,m))return y;const $=Rh(l.fieldTransforms,P,m),K=m.data;return K.setAll(Lp(l)),K.setAll($),m.convertToFoundDocument(m.version,K).setHasLocalMutations(),null===y?null:y.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(le=>le.field))}(r,e,t,o):(y=t,Cf(r.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):y);var m,y}function tg(r,e){let t=null;for(const o of r.fieldTransforms){const l=e.data.field(o.field),m=Ym(o.transform,l||null);null!=m&&(null===t&&(t=Ao.empty()),t.set(o.field,m))}return t||null}function pu(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===o||t&&o&&fa(t,o,(l,m)=>function D_(r,e){return r.field.isEqual(e.field)&&(o=e.transform,(t=r.transform)instanceof bl&&o instanceof bl||t instanceof wl&&o instanceof wl?fa(t.elements,o.elements,Fa):t instanceof fc&&o instanceof fc?Fa(t.gt,o.gt):t instanceof kd&&o instanceof kd);var t,o}(l,m))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,o}class Ud extends Fd{constructor(e,t,o,l=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Bl extends Fd{constructor(e,t,o,l,m=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=l,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function Lp(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=r.data.field(t);e.set(t,o)}}),e}function ng(r,e,t){const o=new Map;Dn(r.length===t.length);for(let l=0;l<t.length;l++){const m=r[l],y=m.transform,P=e.data.field(m.field);o.set(m.field,I_(y,P,t[l]))}return o}function Rh(r,e,t){const o=new Map;for(const l of r){const m=l.transform,y=t.data.field(l.field);o.set(l.field,Km(m,y,e))}return o}class Qa extends Fd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mu extends Fd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rg{constructor(e,t,o,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const m=this.mutations[l];m.key.isEqual(e.key)&&eg(m,e,o[l])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Ld(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Ld(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Ah();return this.mutations.forEach(l=>{const m=e.get(l.key),y=m.overlayedDocument;let P=this.applyToLocalView(y,m.mutatedFields);P=t.has(l.key)?null:P;const $=If(y,P);null!==$&&o.set(l.key,$),y.isValidDocument()||y.convertToNoDocument(Hn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Dr())}isEqual(e){return this.batchId===e.batchId&&fa(this.mutations,e.mutations,(t,o)=>pu(t,o))&&fa(this.baseMutations,e.baseMutations,(t,o)=>pu(t,o))}}class ig{constructor(e,t,o,l){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=l}static from(e,t,o){Dn(e.mutations.length===o.length);let l=Nd;const m=e.mutations;for(let y=0;y<m.length;y++)l=l.insert(m[y].key,o[y].version);return new ig(e,t,o,l)}}class Ph{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class A_{constructor(e,t){this.count=e,this.unchangedNames=t}}var Cs,bi;function og(r){switch(r){default:return nn();case ht.CANCELLED:case ht.UNKNOWN:case ht.DEADLINE_EXCEEDED:case ht.RESOURCE_EXHAUSTED:case ht.INTERNAL:case ht.UNAVAILABLE:case ht.UNAUTHENTICATED:return!1;case ht.INVALID_ARGUMENT:case ht.NOT_FOUND:case ht.ALREADY_EXISTS:case ht.PERMISSION_DENIED:case ht.FAILED_PRECONDITION:case ht.ABORTED:case ht.OUT_OF_RANGE:case ht.UNIMPLEMENTED:case ht.DATA_LOSS:return!0}}function sg(r){if(void 0===r)return Sn("GRPC error has no .code"),ht.UNKNOWN;switch(r){case Cs.OK:return ht.OK;case Cs.CANCELLED:return ht.CANCELLED;case Cs.UNKNOWN:return ht.UNKNOWN;case Cs.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case Cs.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case Cs.INTERNAL:return ht.INTERNAL;case Cs.UNAVAILABLE:return ht.UNAVAILABLE;case Cs.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case Cs.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case Cs.NOT_FOUND:return ht.NOT_FOUND;case Cs.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case Cs.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case Cs.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case Cs.ABORTED:return ht.ABORTED;case Cs.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case Cs.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case Cs.DATA_LOSS:return ht.DATA_LOSS;default:return nn()}}(bi=Cs||(Cs={}))[bi.OK=0]="OK",bi[bi.CANCELLED=1]="CANCELLED",bi[bi.UNKNOWN=2]="UNKNOWN",bi[bi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bi[bi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bi[bi.NOT_FOUND=5]="NOT_FOUND",bi[bi.ALREADY_EXISTS=6]="ALREADY_EXISTS",bi[bi.PERMISSION_DENIED=7]="PERMISSION_DENIED",bi[bi.UNAUTHENTICATED=16]="UNAUTHENTICATED",bi[bi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bi[bi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bi[bi.ABORTED=10]="ABORTED",bi[bi.OUT_OF_RANGE=11]="OUT_OF_RANGE",bi[bi.UNIMPLEMENTED=12]="UNIMPLEMENTED",bi[bi.INTERNAL=13]="INTERNAL",bi[bi.UNAVAILABLE=14]="UNAVAILABLE",bi[bi.DATA_LOSS=15]="DATA_LOSS";class Up{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Df}static getOrCreateInstance(){return null===Df&&(Df=new Up),Df}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Df=null;function Oh(){return new TextEncoder}const Vl=new I([4294967295,4294967295],0);function Bd(r){const e=Oh().encode(r),t=new Ae;return t.update(e),new Uint8Array(t.digest())}function Tf(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),o=e.getUint32(4,!0),l=e.getUint32(8,!0),m=e.getUint32(12,!0);return[new I([t,o],0),new I([l,m],0)]}class Af{constructor(e,t,o){if(this.bitmap=e,this.padding=t,this.hashCount=o,t<0||t>=8)throw new Vd(`Invalid padding: ${t}`);if(o<0)throw new Vd(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new Vd(`Invalid hash count: ${o}`);if(0===e.length&&0!==t)throw new Vd(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=I.fromNumber(this.It)}Et(e,t,o){let l=e.add(t.multiply(I.fromNumber(o)));return 1===l.compare(Vl)&&(l=new I([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Bd(e),[o,l]=Tf(t);for(let m=0;m<this.hashCount;m++){const y=this.Et(o,l,m);if(!this.At(y))return!1}return!0}static create(e,t,o){const l=e%8==0?0:8-e%8,m=new Uint8Array(Math.ceil(e/8)),y=new Af(m,l,t);return o.forEach(P=>y.insert(P)),y}insert(e){if(0===this.It)return;const t=Bd(e),[o,l]=Tf(t);for(let m=0;m<this.hashCount;m++){const y=this.Et(o,l,m);this.Rt(y)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Vd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sf{constructor(e,t,o,l,m){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const l=new Map;return l.set(e,xf.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new Sf(Hn.min(),l,new vi(or),Ua(),Dr())}}class xf{constructor(e,t,o,l,m){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new xf(o,t,Dr(),Dr(),Dr())}}class Bp{constructor(e,t,o,l){this.Pt=e,this.removedTargetIds=t,this.key=o,this.bt=l}}class Mf{constructor(e,t){this.targetId=e,this.Vt=t}}class Rf{constructor(e,t,o=bo.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=l}}class S_{constructor(){this.St=0,this.Dt=ag(),this.Ct=bo.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Dr(),t=Dr(),o=Dr();return this.Dt.forEach((l,m)=>{switch(m){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:o=o.add(l);break;default:nn()}}),new xf(this.Ct,this.xt,e,t,o)}Ft(){this.Nt=!1,this.Dt=ag()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class ky{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ua(),this.zt=Vp(),this.Wt=new vi(or)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const o=this.Zt(t);switch(e.state){case 0:this.te(t)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(t);break;case 3:this.te(t)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),o.$t(e.resumeToken));break;default:nn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((o,l)=>{this.te(l)&&t(l)})}ne(e){var t;const o=e.targetId,l=e.Vt.count,m=this.se(o);if(m){const y=m.target;if(du(y))if(0===l){const P=new hn(y.path);this.Yt(o,P,Pi.newNoDocument(P,Hn.min()))}else Dn(1===l);else{const P=this.ie(o);if(P!==l){const $=this.re(e,P);0!==$&&(this.ee(o),this.Wt=this.Wt.insert(o,2===$?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Up.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(K,le,Re){var ft,Nt,on,Mn,Fn,Qr;const Mi={localCacheCount:le,existenceFilterCount:Re.count},di=Re.unchangedNames;return di&&(Mi.bloomFilter={applied:0===K,hashCount:null!==(ft=di?.hashCount)&&void 0!==ft?ft:0,bitmapLength:null!==(Mn=null===(on=null===(Nt=di?.bits)||void 0===Nt?void 0:Nt.bitmap)||void 0===on?void 0:on.length)&&void 0!==Mn?Mn:0,padding:null!==(Qr=null===(Fn=di?.bits)||void 0===Fn?void 0:Fn.padding)&&void 0!==Qr?Qr:0}),Mi}($,P,e.Vt))}}}}re(e,t){const{unchangedNames:o,count:l}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:m="",padding:y=0},hashCount:P=0}=o;let $,K;try{$=Ji(m).toUint8Array()}catch(le){if(le instanceof ka)return Gr("Decoding the base64 bloom filter in existence filter failed ("+le.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw le}try{K=new Af($,y,P)}catch(le){return Gr(le instanceof Vd?"BloomFilter error: ":"Applying bloom filter failed: ",le),1}return 0===K.It?1:l!==t-this.oe(e.targetId,K)?2:0}oe(e,t){const o=this.Gt.getRemoteKeysForTarget(e);let l=0;return o.forEach(m=>{const y=this.Gt.ue(),P=`projects/${y.projectId}/databases/${y.database}/documents/${m.path.canonicalString()}`;t.vt(P)||(this.Yt(e,m,null),l++)}),l}ce(e){const t=new Map;this.Qt.forEach((m,y)=>{const P=this.se(y);if(P){if(m.current&&du(P.target)){const $=new hn(P.target.path);null!==this.jt.get($)||this.ae(y,$)||this.Yt(y,$,Pi.newNoDocument($,e))}m.Mt&&(t.set(y,m.Ot()),m.Ft())}});let o=Dr();this.zt.forEach((m,y)=>{let P=!0;y.forEachWhile($=>{const K=this.se($);return!K||"TargetPurposeLimboResolution"===K.purpose||(P=!1,!1)}),P&&(o=o.add(m))}),this.jt.forEach((m,y)=>y.setReadTime(e));const l=new Sf(e,t,this.Wt,this.jt,o);return this.jt=Ua(),this.zt=Vp(),this.Wt=new vi(or),l}Jt(e,t){if(!this.te(e))return;const o=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,o),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,o){if(!this.te(e))return;const l=this.Zt(e);this.ae(e,t)?l.Bt(t,1):l.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),o&&(this.jt=this.jt.insert(t,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new S_,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Si(or),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ct("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new S_),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Vp(){return new vi(hn.comparator)}function ag(){return new vi(hn.comparator)}const x_={asc:"ASCENDING",desc:"DESCENDING"},M_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},R_={and:"AND",or:"OR"};class cg{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jd(r,e){return r.useProto3Json||Bi(e)?e:{value:e}}function nd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pf(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function P_(r,e){return nd(r,e.toTimestamp())}function Yr(r){return Dn(!!r),Hn.fromTimestamp(function(e){const t=Ic(e);return new Ti(t.seconds,t.nanos)}(r))}function jp(r,e){return(t=r,new lr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function lg(r){const e=lr.fromString(r);return Dn(yu(e)),e}function rd(r,e){return jp(r.databaseId,e.path)}function rl(r,e){const t=lg(e);if(t.get(1)!==r.databaseId.projectId)throw new Ft(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Ft(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new hn(dg(t))}function $p(r,e){return jp(r.databaseId,e)}function ug(r){const e=lg(r);return 4===e.length?lr.emptyPath():dg(e)}function Nh(r){return new lr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function dg(r){return Dn(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Hp(r,e,t){return{name:rd(r,e),fields:t.value.mapValue.fields}}function O_(r,e,t){const o=rl(r,e.name),l=Yr(e.updateTime),m=e.createTime?Yr(e.createTime):Hn.min(),y=new Ao({mapValue:{fields:e.fields}}),P=Pi.newFoundDocument(o,l,m,y);return t&&P.setHasCommittedMutations(),t?P.setHasCommittedMutations():P}function id(r,e){let t;if(e instanceof Ud)t={update:Hp(r,e.key,e.value)};else if(e instanceof Qa)t={delete:rd(r,e.key)};else if(e instanceof Bl)t={update:Hp(r,e.key,e.data),updateMask:gg(e.fieldMask)};else{if(!(e instanceof mu))return nn();t={verify:rd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(l,m){const y=m.transform;if(y instanceof kd)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof bl)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof wl)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof fc)return{fieldPath:m.field.canonicalString(),increment:y.gt};throw nn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:P_(r,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:nn()),t;var l}function Of(r,e){const t=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?Bo.updateTime(Yr(l.updateTime)):void 0!==l.exists?Bo.exists(l.exists):Bo.none():Bo.none(),o=e.updateTransforms?e.updateTransforms.map(l=>function(m,y){let P=null;"setToServerValue"in y?(Dn("REQUEST_TIME"===y.setToServerValue),P=new kd):"appendMissingElements"in y?P=new bl(y.appendMissingElements.values||[]):"removeAllFromArray"in y?P=new wl(y.removeAllFromArray.values||[]):"increment"in y?P=new fc(m,y.increment):nn();const $=gr.fromServerFormat(y.fieldPath);return new Ef($,P)}(r,l)):[];var l;if(e.update){const l=rl(r,e.update.name),m=new Ao({mapValue:{fields:e.update.fields}});if(e.updateMask){const y=new Us((e.updateMask.fieldPaths||[]).map(K=>gr.fromServerFormat(K)));return new Bl(l,m,y,t,o)}return new Ud(l,m,t,o)}if(e.delete){const l=rl(r,e.delete);return new Qa(l,t)}if(e.verify){const l=rl(r,e.verify);return new mu(l,t)}return nn()}function zp(r,e){return{documents:[$p(r,e.path)]}}function Gp(r,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=$p(r,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=$p(r,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function($){if(0!==$.length)return Kp(Pe.create($,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const m=function($){if(0!==$.length)return $.map(K=>{return{field:gu((le=K).field),direction:qp(le.dir)};var le})}(e.orderBy);m&&(t.structuredQuery.orderBy=m);const y=jd(r,e.limit);var P,$;return null!==y&&(t.structuredQuery.limit=y),e.startAt&&(t.structuredQuery.startAt={before:(P=e.startAt).inclusive,values:P.position}),e.endAt&&(t.structuredQuery.endAt={before:!($=e.endAt).inclusive,values:$.position}),t}function pg(r){let e=ug(r.parent);const t=r.structuredQuery,o=t.from?t.from.length:0;let l=null;if(o>0){Dn(1===o);const le=t.from[0];le.allDescendants?l=le.collectionId:e=e.child(le.collectionId)}let m=[];t.where&&(m=function(le){const Re=Wp(le);return Re instanceof Pe&&_n(Re)?Re.getFilters():[Re]}(t.where));let y=[];t.orderBy&&(y=t.orderBy.map(le=>{return new M(_u((Re=le).field),function(ft){switch(ft){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Re.direction));var Re}));let P=null;t.limit&&(P=function(le){let Re;return Re="object"==typeof le?le.value:le,Bi(Re)?null:Re}(t.limit));let $=null;var le;t.startAt&&($=new kc((le=t.startAt).values||[],!!le.before));let K=null;return t.endAt&&(K=function(le){return new kc(le.values||[],!le.before)}(t.endAt)),Rd(e,l,y,m,P,"F",$,K)}function Wp(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=_u(e.unaryFilter.field);return pe.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=_u(e.unaryFilter.field);return pe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=_u(e.unaryFilter.field);return pe.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=_u(e.unaryFilter.field);return pe.create(m,"!=",{nullValue:"NULL_VALUE"});default:return nn()}}(r):void 0!==r.fieldFilter?pe.create(_u((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return Pe.create(e.compositeFilter.filters.map(t=>Wp(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return nn()}}(e.compositeFilter.op))}(r):nn();var e}function qp(r){return x_[r]}function Fy(r){return M_[r]}function Zp(r){return R_[r]}function gu(r){return{fieldPath:r.canonicalString()}}function _u(r){return gr.fromServerFormat(r.fieldPath)}function Kp(r){return r instanceof pe?function(e){if("=="===e.op){if(cu(e.value))return{unaryFilter:{field:gu(e.field),op:"IS_NAN"}};if(uc(e.value))return{unaryFilter:{field:gu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(cu(e.value))return{unaryFilter:{field:gu(e.field),op:"IS_NOT_NAN"}};if(uc(e.value))return{unaryFilter:{field:gu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gu(e.field),op:Fy(e.op),value:e.value}}}(r):r instanceof Pe?function(e){const t=e.getFilters().map(o=>Kp(o));return 1===t.length?t[0]:{compositeFilter:{op:Zp(e.op),filters:t}}}(r):nn()}function gg(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function yu(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class jl{constructor(e,t,o,l,m=Hn.min(),y=Hn.min(),P=bo.EMPTY_BYTE_STRING,$=null){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=P,this.expectedCount=$}withSequenceNumber(e){return new jl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new jl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Nf{constructor(e){this.fe=e}}function _g(r,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:$d(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:rd(l=r.fe,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:nd(l,m.version.toTimestamp()),createTime:nd(l,m.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:El(e.version)};else{if(!e.isUnknownDocument())return nn();o.unknownDocument={path:t.path.toArray(),version:El(e.version)}}var l,m;return o}function $d(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function El(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Bc(r){const e=new Ti(r.seconds,r.nanoseconds);return Hn.fromTimestamp(e)}function vu(r,e){const t=(e.baseMutations||[]).map(m=>Of(r.fe,m));for(let m=0;m<e.mutations.length-1;++m)m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(e.mutations[m].updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m);const o=e.mutations.map(m=>Of(r.fe,m)),l=Ti.fromMillis(e.localWriteTimeMs);return new rg(e.batchId,l,t,o)}function od(r){const e=Bc(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?Bc(r.lastLimboFreeSnapshotVersion):Hn.min();let o;var l;return void 0!==r.query.documents?(Dn(1===(l=r.query).documents.length),o=R(Ll(ug(l.documents[0])))):o=R(pg(r.query)),new jl(o,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,bo.fromBase64String(r.resumeToken))}function Yp(r,e){const t=El(e.snapshotVersion),o=El(e.lastLimboFreeSnapshotVersion);let l;l=du(e.target)?zp(r.fe,e.target):Gp(r.fe,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:La(e.target),readTime:t,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:l}}function Qp(r){const e=pg({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?de(e,e.limit,"L"):e}function Vc(r,e){return new Ph(e.largestBatchId,Of(r.fe,e.overlayMutation))}function Hd(r,e){const t=e.path.lastSegment();return[r,yo(e.path.popLast()),t]}function N_(r,e,t,o){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:El(o.readTime),documentKey:yo(o.documentKey.path),largestBatchId:o.largestBatchId}}class Ly{getBundleMetadata(e,t){return Jp(e).get(t).next(o=>{if(o)return{id:(l=o).bundleId,createTime:Bc(l.createTime),version:l.version};var l})}saveBundleMetadata(e,t){return Jp(e).put({bundleId:(o=t).id,createTime:El(Yr(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return Fh(e).get(t).next(o=>{if(o)return{name:(l=o).name,query:Qp(l.bundledQuery),readTime:Bc(l.readTime)};var l})}saveNamedQuery(e,t){return Fh(e).put({name:(o=t).name,readTime:El(Yr(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Jp(r){return Uo(r,"bundles")}function Fh(r){return Uo(r,"namedQueries")}class Xp{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Xp(e,t.uid||"")}getOverlay(e,t){return Lh(e).get(Hd(this.userId,t)).next(o=>o?Vc(this.serializer,o):null)}getOverlays(e,t){const o=Ba();return pt.forEach(t,l=>this.getOverlay(e,l).next(m=>{null!==m&&o.set(l,m)})).next(()=>o)}saveOverlays(e,t,o){const l=[];return o.forEach((m,y)=>{const P=new Ph(t,y);l.push(this.we(e,P))}),pt.waitFor(l)}removeOverlaysForBatchId(e,t,o){const l=new Set;t.forEach(y=>l.add(yo(y.getCollectionPath())));const m=[];return l.forEach(y=>{const P=IDBKeyRange.bound([this.userId,y,o],[this.userId,y,o+1],!1,!0);m.push(Lh(e).J("collectionPathOverlayIndex",P))}),pt.waitFor(m)}getOverlaysForCollection(e,t,o){const l=Ba(),m=yo(t),y=IDBKeyRange.bound([this.userId,m,o],[this.userId,m,Number.POSITIVE_INFINITY],!0);return Lh(e).j("collectionPathOverlayIndex",y).next(P=>{for(const $ of P){const K=Vc(this.serializer,$);l.set(K.getKey(),K)}return l})}getOverlaysForCollectionGroup(e,t,o,l){const m=Ba();let y;const P=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Lh(e).X({index:"collectionGroupOverlayIndex",range:P},($,K,le)=>{const Re=Vc(this.serializer,K);m.size()<l||Re.largestBatchId===y?(m.set(Re.getKey(),Re),y=Re.largestBatchId):le.done()}).next(()=>m)}we(e,t){return Lh(e).put(function(o,l,m){const[y,P,$]=Hd(l,m.mutation.key);return{userId:l,collectionPath:P,documentId:$,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:id(o.fe,m.mutation)}}(this.serializer,this.userId,t))}}function Lh(r){return Uo(r,"documentOverlays")}class zd{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ni(e.integerValue));else if("doubleValue"in e){const o=Ni(e.doubleValue);isNaN(o)?this.ye(t,13):(this.ye(t,15),ys(o)?t.pe(0):t.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(t,20),"string"==typeof o?t.Ie(o):(t.Ie(`${o.seconds||""}`),t.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ji(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(t,45),t.pe(o.latitude||0),t.pe(o.longitude||0)}else"mapValue"in e?Ya(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):nn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const o=e.fields||{};this.ye(t,55);for(const l of Object.keys(o))this.Te(l,t),this.me(o[l],t)}Pe(e,t){const o=e.values||[];this.ye(t,50);for(const l of o)this.me(l,t)}ve(e,t){this.ye(t,37),hn.fromName(e).path.forEach(o=>{this.ye(t,60),this.be(o,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function k_(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function Uy(r){const e=64-function(t){let o=0;for(let l=0;l<8;++l){const m=k_(255&t[l]);if(o+=m,8!==m)break}return o}(r);return Math.ceil(e/8)}zd.Ve=new zd;class By{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.De(o.value),o=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ne(o.value),o=t.next();this.ke()}Me(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.De(o);else if(o<2048)this.De(960|o>>>6),this.De(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.De(480|o>>>12),this.De(128|63&o>>>6),this.De(128|63&o);else{const l=t.codePointAt(0);this.De(240|l>>>18),this.De(128|63&l>>>12),this.De(128|63&l>>>6),this.De(128|63&l)}}this.Ce()}$e(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ne(o);else if(o<2048)this.Ne(960|o>>>6),this.Ne(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o);else{const l=t.codePointAt(0);this.Ne(240|l>>>18),this.Ne(128|63&l>>>12),this.Ne(128|63&l>>>6),this.Ne(128|63&l)}}this.ke()}Oe(e){const t=this.Fe(e),o=Uy(t);this.Be(1+o),this.buffer[this.position++]=255&o;for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=255&t[l]}Le(e){const t=this.Fe(e),o=Uy(t);this.Be(1+o),this.buffer[this.position++]=~(255&o);for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=~(255&t[l])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(l){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,l,!1),new Uint8Array(m.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let l=1;l<t.length;++l)t[l]^=o?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const l=new Uint8Array(o);l.set(this.buffer),this.buffer=l}}class Ff{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Vy{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class il{constructor(){this.je=new By,this.ze=new Ff(this.je),this.We=new Vy(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Ja{constructor(e,t,o,l){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=l}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Ja(this.indexId,this.documentKey,this.arrayValue,o)}}function $l(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=Uh(r.arrayValue,e.arrayValue),0!==t?t:(t=Uh(r.directionalValue,e.directionalValue),0!==t?t:hn.comparator(r.documentKey,e.documentKey)))}function Uh(r,e){for(let t=0;t<r.length&&t<e.length;++t){const o=r[t]-e[t];if(0!==o)return o}return r.length-e.length}class jy{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const o=t;o.isInequality()?this.Ze=o:this.Xe.push(o)}}tn(e){Dn(e.collectionGroup===this.collectionId);const t=Qs(e);if(void 0!==t&&!this.en(t))return!1;const o=Fo(e);let l=0,m=0;for(;l<o.length&&this.en(o[l]);++l);if(l===o.length)return!0;if(void 0!==this.Ze){const y=o[l];if(!this.nn(this.Ze,y)||!this.sn(this.Ye[m++],y))return!1;++l}for(;l<o.length;++l)if(m>=this.Ye.length||!this.sn(this.Ye[m++],o[l]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function em(r){var e,t;if(Dn(r instanceof pe||r instanceof Pe),r instanceof pe){if(r instanceof ra){const l=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(m=>pe.create(r.field,"==",m)))||[];return Pe.create(l,"or")}return r}const o=r.filters.map(l=>em(l));return Pe.create(o,r.op)}function F_(r){if(0===r.getFilters().length)return[];const e=Bh(em(r));return Dn(Bf(e)),Lf(e)||Uf(e)?[e]:e.getFilters()}function Lf(r){return r instanceof pe}function Uf(r){return r instanceof Pe&&_n(r)}function Bf(r){return Lf(r)||Uf(r)||function(e){if(e instanceof Pe&&Tt(e)){for(const t of e.getFilters())if(!Lf(t)&&!Uf(t))return!1;return!0}return!1}(r)}function Bh(r){if(Dn(r instanceof pe||r instanceof Pe),r instanceof pe)return r;if(1===r.filters.length)return Bh(r.filters[0]);const e=r.filters.map(o=>Bh(o));let t=Pe.create(e,r.op);return t=bu(t),Bf(t)?t:(Dn(t instanceof Pe),Dn(He(t)),Dn(t.filters.length>1),t.filters.reduce((o,l)=>tm(o,l)))}function tm(r,e){let t;return Dn(r instanceof pe||r instanceof Pe),Dn(e instanceof pe||e instanceof Pe),t=r instanceof pe?e instanceof pe?Pe.create([r,e],"and"):Vf(r,e):e instanceof pe?Vf(e,r):function(o,l){if(Dn(o.filters.length>0&&l.filters.length>0),He(o)&&He(l))return wr(o,l.getFilters());const m=Tt(o)?o:l,y=Tt(o)?l:o,P=m.filters.map($=>tm($,y));return Pe.create(P,"or")}(r,e),bu(t)}function Vf(r,e){if(He(e))return wr(e,r.getFilters());{const t=e.filters.map(o=>tm(r,o));return Pe.create(t,"or")}}function bu(r){if(Dn(r instanceof pe||r instanceof Pe),r instanceof pe)return r;const e=r.getFilters();if(1===e.length)return bu(e[0]);if(dn(r))return r;const t=e.map(l=>bu(l)),o=[];return t.forEach(l=>{l instanceof pe?o.push(l):l instanceof Pe&&(l.op===r.op?o.push(...l.filters):o.push(l))}),1===o.length?o[0]:Pe.create(o,r.op)}class L_{constructor(){this.rn=new nm}addToCollectionParentIndex(e,t){return this.rn.add(t),pt.resolve()}getCollectionParents(e,t){return pt.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return pt.resolve()}deleteFieldIndex(e,t){return pt.resolve()}getDocumentsMatchingTarget(e,t){return pt.resolve(null)}getIndexType(e,t){return pt.resolve(0)}getFieldIndexes(e,t){return pt.resolve([])}getNextCollectionGroupToUpdate(e){return pt.resolve(null)}getMinOffset(e,t){return pt.resolve(Lo.min())}getMinOffsetFromCollectionGroup(e,t){return pt.resolve(Lo.min())}updateCollectionGroup(e,t,o){return pt.resolve()}updateIndexEntries(e,t){return pt.resolve()}}class nm{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t]||new Si(lr.comparator),m=!l.has(o);return this.index[t]=l.add(o),m}has(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t];return l&&l.has(o)}getEntries(e){return(this.index[e]||new Si(lr.comparator)).toArray()}}const rm=new Uint8Array(0);class U_{constructor(e,t){this.user=e,this.databaseId=t,this.on=new nm,this.un=new Bs(o=>La(o),(o,l)=>tl(o,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const o=t.lastSegment(),l=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const m={collectionId:o,parent:yo(l)};return yg(e).put(m)}return pt.resolve()}getCollectionParents(e,t){const o=[],l=IDBKeyRange.bound([t,""],[Rl(t),""],!1,!0);return yg(e).j(l).next(m=>{for(const y of m){if(y.collectionId!==t)break;o.push(Ai(y.parent))}return o})}addFieldIndex(e,t){const o=jf(e),l={indexId:(y=t).indexId,collectionGroup:y.collectionGroup,fields:y.fields.map(P=>[P.fieldPath.canonicalString(),P.kind])};var y;delete l.indexId;const m=o.add(l);if(t.indexState){const y=Cl(e);return m.next(P=>{y.put(N_(P,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return m.next()}deleteFieldIndex(e,t){const o=jf(e),l=Cl(e),m=Vh(e);return o.delete(t.indexId).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=Vh(e);let l=!0;const m=new Map;return pt.forEach(this.cn(t),y=>this.an(e,y).next(P=>{l&&(l=!!P),m.set(y,P)})).next(()=>{if(l){let y=Dr();const P=[];return pt.forEach(m,($,K)=>{var le;Ct("IndexedDbIndexManager",`Using index ${le=$,`id=${le.indexId}|cg=${le.collectionGroup}|f=${le.fields.map(di=>`${di.fieldPath}:${di.kind}`).join(",")}`} to execute ${La(t)}`);const Re=function(di,Ia){const $s=Qs(Ia);if(void 0===$s)return null;for(const jo of nl(di,$s.fieldPath))switch(jo.op){case"array-contains-any":return jo.value.arrayValue.values||[];case"array-contains":return[jo.value]}return null}(K,$),ft=function(di,Ia){const $s=new Map;for(const jo of Fo(Ia))for(const Kc of nl(di,jo.fieldPath))switch(Kc.op){case"==":case"in":$s.set(jo.fieldPath.canonicalString(),Kc.value);break;case"not-in":case"!=":return $s.set(jo.fieldPath.canonicalString(),Kc.value),Array.from($s.values())}return null}(K,$),Nt=function(di,Ia){const $s=[];let jo=!0;for(const Kc of Fo(Ia)){const vf=0===Kc.kind?Md(di,Kc.fieldPath,di.startAt):Ih(di,Kc.fieldPath,di.startAt);$s.push(vf.value),jo&&(jo=vf.inclusive)}return new kc($s,jo)}(K,$),on=function(di,Ia){const $s=[];let jo=!0;for(const Kc of Fo(Ia)){const vf=0===Kc.kind?Ih(di,Kc.fieldPath,di.endAt):Md(di,Kc.fieldPath,di.endAt);$s.push(vf.value),jo&&(jo=vf.inclusive)}return new kc($s,jo)}(K,$),Mn=this.hn($,K,Nt),Fn=this.hn($,K,on),Qr=this.ln($,K,ft),Mi=this.fn($.indexId,Re,Mn,Nt.inclusive,Fn,on.inclusive,Qr);return pt.forEach(Mi,di=>o.H(di,t.limit).next(Ia=>{Ia.forEach($s=>{const jo=hn.fromSegments($s.documentKey);y.has(jo)||(y=y.add(jo),P.push(jo))})}))}).next(()=>P)}return pt.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:F_(Pe.create(e.filters,"and")).map(o=>Ju(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,o,l,m,y,P){const $=(null!=t?t.length:1)*Math.max(o.length,m.length),K=$/(null!=t?t.length:1),le=[];for(let Re=0;Re<$;++Re){const ft=t?this.dn(t[Re/K]):rm,Nt=this.wn(e,ft,o[Re%K],l),on=this._n(e,ft,m[Re%K],y),Mn=P.map(Fn=>this.wn(e,ft,Fn,!0));le.push(...this.createRange(Nt,on,Mn))}return le}wn(e,t,o,l){const m=new Ja(e,hn.empty(),t,o);return l?m:m.Je()}_n(e,t,o,l){const m=new Ja(e,hn.empty(),t,o);return l?m.Je():m}an(e,t){const o=new jy(t),l=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,l).next(m=>{let y=null;for(const P of m)o.tn(P)&&(!y||P.fields.length>y.fields.length)&&(y=P);return y})}getIndexType(e,t){let o=2;const l=this.cn(t);return pt.forEach(l,m=>this.an(e,m).next(y=>{y?0!==o&&y.fields.length<function(P){let $=new Si(gr.comparator),K=!1;for(const le of P.filters)for(const Re of le.getFlattenedFilters())Re.field.isKeyField()||("array-contains"===Re.op||"array-contains-any"===Re.op?K=!0:$=$.add(Re.field));for(const le of P.orderBy)le.field.isKeyField()||($=$.add(le.field));return $.size+(K?1:0)}(m)&&(o=1):o=0})).next(()=>null!==t.limit&&l.length>1&&2===o?1:o)}mn(e,t){const o=new il;for(const l of Fo(e)){const m=t.data.field(l.fieldPath);if(null==m)return null;const y=o.He(l.kind);zd.Ve._e(m,y)}return o.Qe()}dn(e){const t=new il;return zd.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const o=new il;return zd.Ve._e(kl(this.databaseId,t),o.He(function(l){const m=Fo(l);return 0===m.length?0:m[m.length-1].kind}(e))),o.Qe()}ln(e,t,o){if(null===o)return[];let l=[];l.push(new il);let m=0;for(const y of Fo(e)){const P=o[m++];for(const $ of l)if(this.yn(t,y.fieldPath)&&lc(P))l=this.pn(l,y,P);else{const K=$.He(y.kind);zd.Ve._e(P,K)}}return this.In(l)}hn(e,t,o){return this.ln(e,t,o.position)}In(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Qe();return t}pn(e,t,o){const l=[...e],m=[];for(const y of o.arrayValue.values||[])for(const P of l){const $=new il;$.seed(P.Qe()),zd.Ve._e(y,$.He(t.kind)),m.push($)}return m}yn(e,t){return!!e.filters.find(o=>o instanceof pe&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=jf(e),l=Cl(e);return(t?o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.j()).next(m=>{const y=[];return pt.forEach(m,P=>l.get([P.indexId,this.uid]).next($=>{y.push(function(K,le){const Re=le?new ic(le.sequenceNumber,new Lo(Bc(le.readTime),new hn(Ai(le.documentKey)),le.largestBatchId)):ic.empty(),ft=K.fields.map(([Nt,on])=>new _o(gr.fromServerFormat(Nt),on));return new Wr(K.indexId,K.collectionGroup,ft,Re)}(P,$))})).next(()=>y)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,l)=>{const m=o.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==m?m:or(o.collectionGroup,l.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const l=jf(e),m=Cl(e);return this.Tn(e).next(y=>l.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(P=>pt.forEach(P,$=>m.put(N_($.indexId,this.user,y,o)))))}updateIndexEntries(e,t){const o=new Map;return pt.forEach(t,(l,m)=>{const y=o.get(l.collectionGroup);return(y?pt.resolve(y):this.getFieldIndexes(e,l.collectionGroup)).next(P=>(o.set(l.collectionGroup,P),pt.forEach(P,$=>this.En(e,l,$).next(K=>{const le=this.An(m,$);return K.isEqual(le)?pt.resolve():this.vn(e,m,$,K,le)}))))})}Rn(e,t,o,l){return Vh(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.gn(o,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,o,l){return Vh(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.gn(o,t.key),t.key.path.toArray()])}En(e,t,o){const l=Vh(e);let m=new Si($l);return l.X({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.gn(o,t)])},(y,P)=>{m=m.add(new Ja(o.indexId,t,P.arrayValue,P.directionalValue))}).next(()=>m)}An(e,t){let o=new Si($l);const l=this.mn(t,e);if(null==l)return o;const m=Qs(t);if(null!=m){const y=e.data.field(m.fieldPath);if(lc(y))for(const P of y.arrayValue.values||[])o=o.add(new Ja(t.indexId,e.key,this.dn(P),l))}else o=o.add(new Ja(t.indexId,e.key,rm,l));return o}vn(e,t,o,l,m){Ct("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const y=[];return function(P,$,K,le,Re){const ft=P.getIterator(),Nt=$.getIterator();let on=gl(ft),Mn=gl(Nt);for(;on||Mn;){let Fn=!1,Qr=!1;if(on&&Mn){const Mi=K(on,Mn);Mi<0?Qr=!0:Mi>0&&(Fn=!0)}else null!=on?Qr=!0:Fn=!0;Fn?(le(Mn),Mn=gl(Nt)):Qr?(Re(on),on=gl(ft)):(on=gl(ft),Mn=gl(Nt))}}(l,m,$l,P=>{y.push(this.Rn(e,t,o,P))},P=>{y.push(this.Pn(e,t,o,P))}),pt.waitFor(y)}Tn(e){let t=1;return Cl(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,l,m)=>{m.done(),t=l.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((y,P)=>$l(y,P)).filter((y,P,$)=>!P||0!==$l(y,$[P-1]));const l=[];l.push(e);for(const y of o){const P=$l(y,e),$=$l(y,t);if(0===P)l[0]=e.Je();else if(P>0&&$<0)l.push(y),l.push(y.Je());else if($>0)break}l.push(t);const m=[];for(let y=0;y<l.length;y+=2){if(this.bn(l[y],l[y+1]))return[];m.push(IDBKeyRange.bound([l[y].indexId,this.uid,l[y].arrayValue,l[y].directionalValue,rm,[]],[l[y+1].indexId,this.uid,l[y+1].arrayValue,l[y+1].directionalValue,rm,[]]))}return m}bn(e,t){return $l(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Il)}getMinOffset(e,t){return pt.mapArray(this.cn(t),o=>this.an(e,o).next(l=>l||nn())).next(Il)}}function yg(r){return Uo(r,"collectionParents")}function Vh(r){return Uo(r,"indexEntries")}function jf(r){return Uo(r,"indexConfiguration")}function Cl(r){return Uo(r,"indexState")}function Il(r){Dn(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<r.length;o++){const l=r[o].indexState.offset;Ka(l,e)<0&&(e=l),t<l.largestBatchId&&(t=l.largestBatchId)}return new Lo(e.readTime,e.documentKey,t)}const vg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Va{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Va(e,Va.DEFAULT_COLLECTION_PERCENTILE,Va.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function B_(r,e,t){const o=r.store("mutations"),l=r.store("documentMutations"),m=[],y=IDBKeyRange.only(t.batchId);let P=0;const $=o.X({range:y},(le,Re,ft)=>(P++,ft.delete()));m.push($.next(()=>{Dn(1===P)}));const K=[];for(const le of t.mutations){const Re=E(e,le.key.path,t.batchId);m.push(l.delete(Re)),K.push(le.key)}return pt.waitFor(m).next(()=>K)}function im(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw nn();e=r.noDocument}return JSON.stringify(e).length}Va.DEFAULT_COLLECTION_PERCENTILE=10,Va.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Va.DEFAULT=new Va(41943040,Va.DEFAULT_COLLECTION_PERCENTILE,Va.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Va.DISABLED=new Va(-1,0,0);class jh{constructor(e,t,o,l){this.userId=e,this.serializer=t,this.indexManager=o,this.referenceDelegate=l,this.Vn={}}static de(e,t,o,l){Dn(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new jh(m,t,o,l)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Hl(e).X({index:"userMutationsIndex",range:o},(l,m,y)=>{t=!1,y.done()}).next(()=>t)}addMutationBatch(e,t,o,l){const m=sd(e),y=Hl(e);return y.add({}).next(P=>{Dn("number"==typeof P);const $=new rg(P,t,o,l),K=function(ft,Nt,on){const Mn=on.baseMutations.map(Qr=>id(ft.fe,Qr)),Fn=on.mutations.map(Qr=>id(ft.fe,Qr));return{userId:Nt,batchId:on.batchId,localWriteTimeMs:on.localWriteTime.toMillis(),baseMutations:Mn,mutations:Fn}}(this.serializer,this.userId,$),le=[];let Re=new Si((ft,Nt)=>or(ft.canonicalString(),Nt.canonicalString()));for(const ft of l){const Nt=E(this.userId,ft.key.path,P);Re=Re.add(ft.key.path.popLast()),le.push(y.put(K)),le.push(m.put(Nt,F))}return Re.forEach(ft=>{le.push(this.indexManager.addToCollectionParentIndex(e,ft))}),e.addOnCommittedListener(()=>{this.Vn[P]=$.keys()}),pt.waitFor(le).next(()=>$)})}lookupMutationBatch(e,t){return Hl(e).get(t).next(o=>o?(Dn(o.userId===this.userId),vu(this.serializer,o)):null)}Sn(e,t){return this.Vn[t]?pt.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const l=o.keys();return this.Vn[t]=l,l}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,l=IDBKeyRange.lowerBound([this.userId,o]);let m=null;return Hl(e).X({index:"userMutationsIndex",range:l},(y,P,$)=>{P.userId===this.userId&&(Dn(P.batchId>=o),m=vu(this.serializer,P)),$.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Hl(e).X({index:"userMutationsIndex",range:t,reverse:!0},(l,m,y)=>{o=m.batchId,y.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Hl(e).j("userMutationsIndex",t).next(o=>o.map(l=>vu(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=S(this.userId,t.path),l=IDBKeyRange.lowerBound(o),m=[];return sd(e).X({range:l},(y,P,$)=>{const[K,le,Re]=y,ft=Ai(le);if(K===this.userId&&t.path.isEqual(ft))return Hl(e).get(Re).next(Nt=>{if(!Nt)throw nn();Dn(Nt.userId===this.userId),m.push(vu(this.serializer,Nt))});$.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Si(or);const l=[];return t.forEach(m=>{const y=S(this.userId,m.path),P=IDBKeyRange.lowerBound(y),$=sd(e).X({range:P},(K,le,Re)=>{const[ft,Nt,on]=K,Mn=Ai(Nt);ft===this.userId&&m.path.isEqual(Mn)?o=o.add(on):Re.done()});l.push($)}),pt.waitFor(l).next(()=>this.Dn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1,m=S(this.userId,o),y=IDBKeyRange.lowerBound(m);let P=new Si(or);return sd(e).X({range:y},($,K,le)=>{const[Re,ft,Nt]=$,on=Ai(ft);Re===this.userId&&o.isPrefixOf(on)?on.length===l&&(P=P.add(Nt)):le.done()}).next(()=>this.Dn(e,P))}Dn(e,t){const o=[],l=[];return t.forEach(m=>{l.push(Hl(e).get(m).next(y=>{if(null===y)throw nn();Dn(y.userId===this.userId),o.push(vu(this.serializer,y))}))}),pt.waitFor(l).next(()=>o)}removeMutationBatch(e,t){return B_(e.ht,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),pt.forEach(o,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return pt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),l=[];return sd(e).X({range:o},(m,y,P)=>{if(m[0]===this.userId){const $=Ai(m[1]);l.push($)}else P.done()}).next(()=>{Dn(0===l.length)})})}containsKey(e,t){return V_(e,this.userId,t)}xn(e){return bg(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function V_(r,e,t){const o=S(e,t.path),l=o[1],m=IDBKeyRange.lowerBound(o);let y=!1;return sd(r).X({range:m,Y:!0},(P,$,K)=>{const[le,Re,ft]=P;le===e&&Re===l&&(y=!0),K.done()}).next(()=>y)}function Hl(r){return Uo(r,"mutations")}function sd(r){return Uo(r,"documentMutations")}function bg(r){return Uo(r,"mutationQueues")}class wu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new wu(0)}static Mn(){return new wu(-1)}}class j_{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const o=new wu(t.highestTargetId);return t.highestTargetId=o.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Hn.fromTimestamp(new Ti(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.$n(e).next(l=>(l.highestListenSequenceNumber=t,o&&(l.lastRemoteSnapshotVersion=o.toTimestamp()),t>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=t),this.On(e,l)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(o=>(o.targetCount+=1,this.Bn(t,o),this.On(e,o))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Gd(e).delete(t.targetId)).next(()=>this.$n(e)).next(o=>(Dn(o.targetCount>0),o.targetCount-=1,this.On(e,o)))}removeTargets(e,t,o){let l=0;const m=[];return Gd(e).X((y,P)=>{const $=od(P);$.sequenceNumber<=t&&null===o.get($.targetId)&&(l++,m.push(this.removeTargetData(e,$)))}).next(()=>pt.waitFor(m)).next(()=>l)}forEachTarget(e,t){return Gd(e).X((o,l)=>{const m=od(l);t(m)})}$n(e){return jc(e).get("targetGlobalKey").next(t=>(Dn(null!==t),t))}On(e,t){return jc(e).put("targetGlobalKey",t)}Fn(e,t){return Gd(e).put(Yp(this.serializer,t))}Bn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const o=La(t),l=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let m=null;return Gd(e).X({range:l,index:"queryTargetsIndex"},(y,P,$)=>{const K=od(P);tl(t,K.target)&&(m=K,$.done())}).next(()=>m)}addMatchingKeys(e,t,o){const l=[],m=Eu(e);return t.forEach(y=>{const P=yo(y.path);l.push(m.put({targetId:o,path:P})),l.push(this.referenceDelegate.addReference(e,o,y))}),pt.waitFor(l)}removeMatchingKeys(e,t,o){const l=Eu(e);return pt.forEach(t,m=>{const y=yo(m.path);return pt.waitFor([l.delete([o,y]),this.referenceDelegate.removeReference(e,o,m)])})}removeMatchingKeysForTargetId(e,t){const o=Eu(e),l=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(l)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),l=Eu(e);let m=Dr();return l.X({range:o,Y:!0},(y,P,$)=>{const K=Ai(y[1]),le=new hn(K);m=m.add(le)}).next(()=>m)}containsKey(e,t){const o=yo(t.path),l=IDBKeyRange.bound([o],[Rl(o)],!1,!0);let m=0;return Eu(e).X({index:"documentTargetsIndex",Y:!0,range:l},([y,P],$,K)=>{0!==y&&(m++,K.done())}).next(()=>m>0)}le(e,t){return Gd(e).get(t).next(o=>o?od(o):null)}}function Gd(r){return Uo(r,"targets")}function jc(r){return Uo(r,"targetGlobal")}function Eu(r){return Uo(r,"targetDocuments")}function om([r,e],[t,o]){const l=or(r,t);return 0===l?or(e,o):l}class $_{constructor(e){this.Ln=e,this.buffer=new Si(om),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();om(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class H_{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Ct("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,w.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){sc(o)?Ct("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Js(o)}yield t.Qn(3e5)}))}}class z_{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return pt.resolve(_s.ct);const o=new $_(t);return this.jn.forEachTarget(e,l=>o.Kn(l.sequenceNumber)).next(()=>this.jn.Wn(e,l=>o.Kn(l))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.jn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ct("LruGarbageCollector","Garbage collection skipped; disabled"),pt.resolve(vg)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vg):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let o,l,m,y,P,$,K;const le=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Re=>(Re>this.params.maximumSequenceNumbersToCollect?(Ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Re}`),l=this.params.maximumSequenceNumbersToCollect):l=Re,y=Date.now(),this.nthSequenceNumber(e,l))).next(Re=>(o=Re,P=Date.now(),this.removeTargets(e,o,t))).next(Re=>(m=Re,$=Date.now(),this.removeOrphanedDocuments(e,o))).next(Re=>(K=Date.now(),Xt()<=ye.in.DEBUG&&Ct("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${y-le}ms\n\tDetermined least recently used ${l} in `+(P-y)+`ms\n\tRemoved ${m} targets in `+($-P)+`ms\n\tRemoved ${Re} documents in `+(K-$)+`ms\nTotal Duration: ${K-le}ms`),pt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:m,documentsRemoved:Re})))}}class Eg{constructor(e,t){this.db=e,this.garbageCollector=function wg(r,e){return new z_(r,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(l=>o+l))}Jn(e){let t=0;return this.Wn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(o,l)=>t(l))}addReference(e,t,o){return Wd(e,o)}removeReference(e,t,o){return Wd(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return Wd(e,t)}Xn(e,t){return function(o,l){let m=!1;return bg(o).Z(y=>V_(o,y,l).next(P=>(P&&(m=!0),pt.resolve(!P)))).next(()=>m)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let m=0;return this.Yn(e,(y,P)=>{if(P<=t){const $=this.Xn(e,y).next(K=>{if(!K)return m++,o.getEntry(e,y).next(()=>(o.removeEntry(y,Hn.min()),Eu(e).delete([0,yo(y.path)])))});l.push($)}}).next(()=>pt.waitFor(l)).next(()=>o.apply(e)).next(()=>m)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return Wd(e,t)}Yn(e,t){const o=Eu(e);let l,m=_s.ct;return o.X({index:"documentTargetsIndex"},([y,P],{path:$,sequenceNumber:K})=>{0===y?(m!==_s.ct&&t(new hn(Ai(l)),m),m=K,l=$):m=_s.ct}).next(()=>{m!==_s.ct&&t(new hn(Ai(l)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Wd(r,e){return Eu(r).put((o=r.currentSequenceNumber,{targetId:0,path:yo(e.path),sequenceNumber:o}));var o}class zl{constructor(){this.changes=new Bs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?pt.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Cg{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Is(e).put(o)}removeEntry(e,t,o){return Is(e).delete(function(l,m){const y=l.path.toArray();return[y.slice(0,y.length-2),y[y.length-2],$d(m),y[y.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Zn(e,o)))}getEntry(e,t){let o=Pi.newInvalidDocument(t);return Is(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(qd(t))},(l,m)=>{o=this.ts(t,m)}).next(()=>o)}es(e,t){let o={size:0,document:Pi.newInvalidDocument(t)};return Is(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(qd(t))},(l,m)=>{o={document:this.ts(t,m),size:im(m)}}).next(()=>o)}getEntries(e,t){let o=Ua();return this.ns(e,t,(l,m)=>{const y=this.ts(l,m);o=o.insert(l,y)}).next(()=>o)}ss(e,t){let o=Ua(),l=new vi(hn.comparator);return this.ns(e,t,(m,y)=>{const P=this.ts(m,y);o=o.insert(m,P),l=l.insert(m,im(y))}).next(()=>({documents:o,rs:l}))}ns(e,t,o){if(t.isEmpty())return pt.resolve();let l=new Si(zf);t.forEach($=>l=l.add($));const m=IDBKeyRange.bound(qd(l.first()),qd(l.last())),y=l.getIterator();let P=y.getNext();return Is(e).X({index:"documentKeyIndex",range:m},($,K,le)=>{const Re=hn.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;P&&zf(P,Re)<0;)o(P,null),P=y.getNext();P&&P.isEqual(Re)&&(o(P,K),P=y.hasNext()?y.getNext():null),P?le.G(qd(P)):le.done()}).next(()=>{for(;P;)o(P,null),P=y.hasNext()?y.getNext():null})}getDocumentsMatchingQuery(e,t,o,l){const m=t.path,y=[m.popLast().toArray(),m.lastSegment(),$d(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],P=[m.popLast().toArray(),m.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Is(e).j(IDBKeyRange.bound(y,P,!0)).next($=>{let K=Ua();for(const le of $){const Re=this.ts(hn.fromSegments(le.prefixPath.concat(le.collectionGroup,le.documentId)),le);Re.isFoundDocument()&&(bn(t,Re)||l.has(Re.key))&&(K=K.insert(Re.key,Re))}return K})}getAllFromCollectionGroup(e,t,o,l){let m=Ua();const y=Hf(t,o),P=Hf(t,Lo.max());return Is(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(y,P,!0)},($,K,le)=>{const Re=this.ts(hn.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);m=m.insert(Re.key,Re),m.size===l&&le.done()}).next(()=>m)}newChangeBuffer(e){return new $f(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return $h(e).get("remoteDocumentGlobalKey").next(t=>(Dn(!!t),t))}Zn(e,t){return $h(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const o=function kf(r,e){let t;if(e.document)t=O_(r.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=hn.fromSegments(e.noDocument.path),l=Bc(e.noDocument.readTime);t=Pi.newNoDocument(o,l),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return nn();{const o=hn.fromSegments(e.unknownDocument.path),l=Bc(e.unknownDocument.version);t=Pi.newUnknownDocument(o,l)}}return e.readTime&&t.setReadTime(function(o){const l=new Ti(o[0],o[1]);return Hn.fromTimestamp(l)}(e.readTime)),t}(this.serializer,t);if(!o.isNoDocument()||!o.version.isEqual(Hn.min()))return o}return Pi.newInvalidDocument(e)}}function kr(r){return new Cg(r)}class $f extends zl{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Bs(o=>o.toString(),(o,l)=>o.isEqual(l))}applyChanges(e){const t=[];let o=0,l=new Si((m,y)=>or(m.canonicalString(),y.canonicalString()));return this.changes.forEach((m,y)=>{const P=this.us.get(m);if(t.push(this.os.removeEntry(e,m,P.readTime)),y.isValidDocument()){const $=_g(this.os.serializer,y);l=l.add(m.path.popLast());const K=im($);o+=K-P.size,t.push(this.os.addEntry(e,m,$))}else if(o-=P.size,this.trackRemovals){const $=_g(this.os.serializer,y.convertToNoDocument(Hn.min()));t.push(this.os.addEntry(e,m,$))}}),l.forEach(m=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,m))}),t.push(this.os.updateMetadata(e,o)),pt.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(o=>(this.us.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:o,rs:l})=>(l.forEach((m,y)=>{this.us.set(m,{size:y,readTime:o.get(m).readTime})}),o))}}function $h(r){return Uo(r,"remoteDocumentGlobal")}function Is(r){return Uo(r,"remoteDocumentsV14")}function qd(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Hf(r,e){const t=e.documentKey.path.toArray();return[r,$d(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function zf(r,e){const t=r.path.toArray(),o=e.path.toArray();let l=0;for(let m=0;m<t.length-2&&m<o.length-2;++m)if(l=or(t[m],o[m]),l)return l;return l=or(t.length,o.length),l||(l=or(t[t.length-2],o[o.length-2]),l||or(t[t.length-1],o[o.length-1]))}class Ig{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Hh{constructor(e,t,o,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=l}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(o=l,this.remoteDocumentCache.getEntry(e,t))).next(l=>(null!==o&&Ld(o.mutation,l,Us.empty(),Ti.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Dr()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Dr()){const l=Ba();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,o).next(m=>{let y=hu();return m.forEach((P,$)=>{y=y.insert(P,$.overlayedDocument)}),y}))}getOverlayedDocuments(e,t){const o=Ba();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Dr()))}populateOverlays(e,t,o){const l=[];return o.forEach(m=>{t.has(m)||l.push(m)}),this.documentOverlayCache.getOverlays(e,l).next(m=>{m.forEach((y,P)=>{t.set(y,P)})})}computeViews(e,t,o,l){let m=Ua();const y=Ul(),P=Ul();return t.forEach(($,K)=>{const le=o.get(K.key);l.has(K.key)&&(void 0===le||le.mutation instanceof Bl)?m=m.insert(K.key,K):void 0!==le?(y.set(K.key,le.mutation.getFieldMask()),Ld(le.mutation,K,le.mutation.getFieldMask(),Ti.now())):y.set(K.key,Us.empty())}),this.recalculateAndSaveOverlays(e,m).next($=>($.forEach((K,le)=>y.set(K,le)),t.forEach((K,le)=>{var Re;return P.set(K,new Ig(le,null!==(Re=y.get(K))&&void 0!==Re?Re:null))}),P))}recalculateAndSaveOverlays(e,t){const o=Ul();let l=new vi((y,P)=>y-P),m=Dr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(y=>{for(const P of y)P.keys().forEach($=>{const K=t.get($);if(null===K)return;let le=o.get($)||Us.empty();le=P.applyToLocalView(K,le),o.set($,le);const Re=(l.get(P.batchId)||Dr()).add($);l=l.insert(P.batchId,Re)})}).next(()=>{const y=[],P=l.getReverseIterator();for(;P.hasNext();){const $=P.getNext(),K=$.key,le=$.value,Re=Ah();le.forEach(ft=>{if(!m.has(ft)){const Nt=If(t.get(ft),o.get(ft));null!==Nt&&Re.set(ft,Nt),m=m.add(ft)}}),y.push(this.documentOverlayCache.saveOverlays(e,K,Re))}return pt.waitFor(y)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return hn.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):g(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var l}getNextDocuments(e,t,o,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,l).next(m=>{const y=l-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,l-m.size):pt.resolve(Ba());let P=-1,$=m;return y.next(K=>pt.forEach(K,(le,Re)=>(P<Re.largestBatchId&&(P=Re.largestBatchId),m.get(le)?pt.resolve():this.remoteDocumentCache.getEntry(e,le).next(ft=>{$=$.insert(le,ft)}))).next(()=>this.populateOverlays(e,K,m)).next(()=>this.computeViews(e,$,K,Dr())).next(le=>({batchId:P,changes:Od(le)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new hn(t)).next(o=>{let l=hu();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const l=t.collectionGroup;let m=hu();return this.indexManager.getCollectionParents(e,l).next(y=>pt.forEach(y,P=>{const $=(K=t,le=P.child(l),new Lc(le,null,K.explicitOrderBy.slice(),K.filters.slice(),K.limit,K.limitType,K.startAt,K.endAt));var K,le;return this.getDocumentsMatchingCollectionQuery(e,$,o).next(K=>{K.forEach((le,Re)=>{m=m.insert(le,Re)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,t,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(m=>(l=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,l))).next(m=>{l.forEach((P,$)=>{const K=$.getKey();null===m.get(K)&&(m=m.insert(K,Pi.newInvalidDocument(K)))});let y=hu();return m.forEach((P,$)=>{const K=l.get(P);void 0!==K&&Ld(K.mutation,$,Us.empty(),Ti.now()),bn(t,$)&&(y=y.insert(P,$))}),y})}}class $y{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return pt.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var o;return this.cs.set(t.id,{id:(o=t).id,version:o.version,createTime:Yr(o.createTime)}),pt.resolve()}getNamedQuery(e,t){return pt.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(o=t).name,query:Qp(o.bundledQuery),readTime:Yr(o.readTime)}),pt.resolve();var o}}class G_{constructor(){this.overlays=new vi(hn.comparator),this.ls=new Map}getOverlay(e,t){return pt.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Ba();return pt.forEach(t,l=>this.getOverlay(e,l).next(m=>{null!==m&&o.set(l,m)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((l,m)=>{this.we(e,t,m)}),pt.resolve()}removeOverlaysForBatchId(e,t,o){const l=this.ls.get(o);return void 0!==l&&(l.forEach(m=>this.overlays=this.overlays.remove(m)),this.ls.delete(o)),pt.resolve()}getOverlaysForCollection(e,t,o){const l=Ba(),m=t.length+1,y=new hn(t.child("")),P=this.overlays.getIteratorFrom(y);for(;P.hasNext();){const $=P.getNext().value,K=$.getKey();if(!t.isPrefixOf(K.path))break;K.path.length===m&&$.largestBatchId>o&&l.set($.getKey(),$)}return pt.resolve(l)}getOverlaysForCollectionGroup(e,t,o,l){let m=new vi((K,le)=>K-le);const y=this.overlays.getIterator();for(;y.hasNext();){const K=y.getNext().value;if(K.getKey().getCollectionGroup()===t&&K.largestBatchId>o){let le=m.get(K.largestBatchId);null===le&&(le=Ba(),m=m.insert(K.largestBatchId,le)),le.set(K.getKey(),K)}}const P=Ba(),$=m.getIterator();for(;$.hasNext()&&($.getNext().value.forEach((K,le)=>P.set(K,le)),!(P.size()>=l)););return pt.resolve(P)}we(e,t,o){const l=this.overlays.get(o.key);if(null!==l){const y=this.ls.get(l.largestBatchId).delete(o.key);this.ls.set(l.largestBatchId,y)}this.overlays=this.overlays.insert(o.key,new Ph(t,o));let m=this.ls.get(t);void 0===m&&(m=Dr(),this.ls.set(t,m)),this.ls.set(t,m.add(o.key))}}class Cu{constructor(){this.fs=new Si(Ds.ds),this.ws=new Si(Ds._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const o=new Ds(e,t);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.ys(new Ds(e,t))}ps(e,t){e.forEach(o=>this.removeReference(o,t))}Is(e){const t=new hn(new lr([])),o=new Ds(t,e),l=new Ds(t,e+1),m=[];return this.ws.forEachInRange([o,l],y=>{this.ys(y),m.push(y.key)}),m}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new hn(new lr([])),o=new Ds(t,e),l=new Ds(t,e+1);let m=Dr();return this.ws.forEachInRange([o,l],y=>{m=m.add(y.key)}),m}containsKey(e){const t=new Ds(e,0),o=this.fs.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Ds{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return hn.comparator(e.key,t.key)||or(e.As,t.As)}static _s(e,t){return or(e.As,t.As)||hn.comparator(e.key,t.key)}}class Dg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Si(Ds.ds)}checkEmpty(e){return pt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,l){const m=this.vs;this.vs++;const y=new rg(m,t,o,l);this.mutationQueue.push(y);for(const P of l)this.Rs=this.Rs.add(new Ds(P.key,m)),this.indexManager.addToCollectionParentIndex(e,P.key.path.popLast());return pt.resolve(y)}lookupMutationBatch(e,t){return pt.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.bs(t+1),m=l<0?0:l;return pt.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return pt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return pt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Ds(t,0),l=new Ds(t,Number.POSITIVE_INFINITY),m=[];return this.Rs.forEachInRange([o,l],y=>{const P=this.Ps(y.As);m.push(P)}),pt.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Si(or);return t.forEach(l=>{const m=new Ds(l,0),y=new Ds(l,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([m,y],P=>{o=o.add(P.As)})}),pt.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1;let m=o;hn.isDocumentKey(m)||(m=m.child(""));const y=new Ds(new hn(m),0);let P=new Si(or);return this.Rs.forEachWhile($=>{const K=$.key.path;return!!o.isPrefixOf(K)&&(K.length===l&&(P=P.add($.As)),!0)},y),pt.resolve(this.Vs(P))}Vs(e){const t=[];return e.forEach(o=>{const l=this.Ps(o);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){Dn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return pt.forEach(t.mutations,l=>{const m=new Ds(l.key,t.batchId);return o=o.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,t){const o=new Ds(t,0),l=this.Rs.firstAfterOrEqual(o);return pt.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return pt.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Zd{constructor(e){this.Ds=e,this.docs=new vi(hn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,l=this.docs.get(o),m=l?l.size:0,y=this.Ds(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:y}),this.size+=y-m,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return pt.resolve(o?o.document.mutableCopy():Pi.newInvalidDocument(t))}getEntries(e,t){let o=Ua();return t.forEach(l=>{const m=this.docs.get(l);o=o.insert(l,m?m.document.mutableCopy():Pi.newInvalidDocument(l))}),pt.resolve(o)}getDocumentsMatchingQuery(e,t,o,l){let m=Ua();const y=t.path,P=new hn(y.child("")),$=this.docs.getIteratorFrom(P);for(;$.hasNext();){const{key:K,value:{document:le}}=$.getNext();if(!y.isPrefixOf(K.path))break;K.path.length>y.length+1||Ka(pl(le),o)<=0||(l.has(le.key)||bn(t,le))&&(m=m.insert(le.key,le.mutableCopy()))}return pt.resolve(m)}getAllFromCollectionGroup(e,t,o,l){nn()}Cs(e,t){return pt.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new W_(this)}getSize(e){return pt.resolve(this.size)}}class W_ extends zl{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?t.push(this.os.addEntry(e,l)):this.os.removeEntry(o)}),pt.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Gf{constructor(e){this.persistence=e,this.xs=new Bs(t=>La(t),tl),this.lastRemoteSnapshotVersion=Hn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Cu,this.targetCount=0,this.Ms=wu.kn()}forEachTarget(e,t){return this.xs.forEach((o,l)=>t(l)),pt.resolve()}getLastRemoteSnapshotVersion(e){return pt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pt.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),pt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Ns&&(this.Ns=t),pt.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new wu(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,pt.resolve()}updateTargetData(e,t){return this.Fn(t),pt.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,pt.resolve()}removeTargets(e,t,o){let l=0;const m=[];return this.xs.forEach((y,P)=>{P.sequenceNumber<=t&&null===o.get(P.targetId)&&(this.xs.delete(y),m.push(this.removeMatchingKeysForTargetId(e,P.targetId)),l++)}),pt.waitFor(m).next(()=>l)}getTargetCount(e){return pt.resolve(this.targetCount)}getTargetData(e,t){const o=this.xs.get(t)||null;return pt.resolve(o)}addMatchingKeys(e,t,o){return this.ks.gs(t,o),pt.resolve()}removeMatchingKeys(e,t,o){this.ks.ps(t,o);const l=this.persistence.referenceDelegate,m=[];return l&&t.forEach(y=>{m.push(l.markPotentiallyOrphaned(e,y))}),pt.waitFor(m)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),pt.resolve()}getMatchingKeysForTargetId(e,t){const o=this.ks.Es(t);return pt.resolve(o)}containsKey(e,t){return pt.resolve(this.ks.containsKey(t))}}class Kd{constructor(e,t){this.$s={},this.overlays={},this.Os=new _s(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Gf(this),this.indexManager=new L_,this.remoteDocumentCache=new Zd(o=>this.referenceDelegate.Ls(o)),this.serializer=new Nf(t),this.qs=new $y(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new G_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.$s[e.toKey()];return o||(o=new Dg(t,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,o){Ct("MemoryPersistence","Starting transaction:",e);const l=new Hy(this.Os.next());return this.referenceDelegate.Us(),o(l).next(m=>this.referenceDelegate.Ks(l).next(()=>m)).toPromise().then(m=>(l.raiseOnCommittedEvent(),m))}Gs(e,t){return pt.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,t)))}}class Hy extends ui{constructor(e){super(),this.currentSequenceNumber=e}}class Wf{constructor(e){this.persistence=e,this.Qs=new Cu,this.js=null}static zs(e){return new Wf(e)}get Ws(){if(this.js)return this.js;throw nn()}addReference(e,t,o){return this.Qs.addReference(o,t),this.Ws.delete(o.toString()),pt.resolve()}removeReference(e,t,o){return this.Qs.removeReference(o,t),this.Ws.add(o.toString()),pt.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),pt.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(l=>this.Ws.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(m=>this.Ws.add(m.toString()))}).next(()=>o.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pt.forEach(this.Ws,o=>{const l=hn.fromPath(o);return this.Hs(e,l).next(m=>{m||t.removeEntry(l,Hn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(o=>{o?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return pt.or([()=>pt.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class zy{constructor(e){this.serializer=e}O(e,t,o,l){const m=new Yc("createOrUpgrade",t);var P;o<1&&l>=1&&(e.createObjectStore("owner"),(P=e).createObjectStore("mutationQueues",{keyPath:"userId"}),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",D,{unique:!0}),P.createObjectStore("documentMutations"),sm(e),function(P){P.createObjectStore("remoteDocuments")}(e));let y=pt.resolve();return o<3&&l>=3&&(0!==o&&(function(P){P.deleteObjectStore("targetDocuments"),P.deleteObjectStore("targets"),P.deleteObjectStore("targetGlobal")}(e),sm(e)),y=y.next(()=>function(P){const $=P.store("targetGlobal"),K={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Hn.min().toTimestamp(),targetCount:0};return $.put("targetGlobalKey",K)}(m))),o<4&&l>=4&&(0!==o&&(y=y.next(()=>function(P,$){return $.store("mutations").j().next(K=>{P.deleteObjectStore("mutations"),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",D,{unique:!0});const le=$.store("mutations"),Re=K.map(ft=>le.put(ft));return pt.waitFor(Re)})}(e,m))),y=y.next(()=>{!function(P){P.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&l>=5&&(y=y.next(()=>this.Ys(m))),o<6&&l>=6&&(y=y.next(()=>(function(P){P.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(m)))),o<7&&l>=7&&(y=y.next(()=>this.Zs(m))),o<8&&l>=8&&(y=y.next(()=>this.ti(e,m))),o<9&&l>=9&&(y=y.next(()=>{!function(P){P.objectStoreNames.contains("remoteDocumentChanges")&&P.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&l>=10&&(y=y.next(()=>this.ei(m))),o<11&&l>=11&&(y=y.next(()=>{(function(P){P.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(P){P.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&l>=12&&(y=y.next(()=>{!function(P){const $=P.createObjectStore("documentOverlays",{keyPath:Xs});$.createIndex("collectionPathOverlayIndex",ea,{unique:!1}),$.createIndex("collectionGroupOverlayIndex",ma,{unique:!1})}(e)})),o<13&&l>=13&&(y=y.next(()=>function(P){const $=P.createObjectStore("remoteDocumentsV14",{keyPath:H});$.createIndex("documentKeyIndex",te),$.createIndex("collectionGroupIndex",ce)}(e)).next(()=>this.ni(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&l>=14&&(y=y.next(()=>this.si(e,m))),o<15&&l>=15&&(y=y.next(()=>function(P){P.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),P.createObjectStore("indexState",{keyPath:Rr}).createIndex("sequenceNumberIndex",Ri,{unique:!1}),P.createObjectStore("indexEntries",{keyPath:Oa}).createIndex("documentKeyIndex",bs,{unique:!1})}(e))),y}Xs(e){let t=0;return e.store("remoteDocuments").X((o,l)=>{t+=im(l)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Ys(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.j().next(l=>pt.forEach(l,m=>{const y=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return o.j("userMutationsIndex",y).next(P=>pt.forEach(P,$=>{Dn($.userId===m.userId);const K=vu(this.serializer,$);return B_(e,m.userId,K).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const m=[];return o.X((y,P)=>{const $=new lr(y),K=[0,yo($)];m.push(t.get(K).next(le=>le?pt.resolve():t.put({targetId:0,path:yo($),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>pt.waitFor(m))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:mn});const o=t.store("collectionParents"),l=new nm,m=y=>{if(l.add(y)){const P=y.lastSegment(),$=y.popLast();return o.put({collectionId:P,parent:yo($)})}};return t.store("remoteDocuments").X({Y:!0},(y,P)=>{const $=new lr(y);return m($.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([y,P,$],K)=>{const le=Ai(P);return m(le.popLast())}))}ei(e){const t=e.store("targets");return t.X((o,l)=>{const m=od(l),y=Yp(this.serializer,m);return t.put(y)})}ni(e,t){const o=t.store("remoteDocuments"),l=[];return o.X((m,y)=>{const P=t.store("remoteDocumentsV14"),$=(K=y,K.document?new hn(lr.fromString(K.document.name).popFirst(5)):K.noDocument?hn.fromSegments(K.noDocument.path):K.unknownDocument?hn.fromSegments(K.unknownDocument.path):nn()).path.toArray();var K;const le={prefixPath:$.slice(0,$.length-2),collectionGroup:$[$.length-2],documentId:$[$.length-1],readTime:y.readTime||[0,0],unknownDocument:y.unknownDocument,noDocument:y.noDocument,document:y.document,hasCommittedMutations:!!y.hasCommittedMutations};l.push(P.put(le))}).next(()=>pt.waitFor(l))}si(e,t){const o=t.store("mutations"),l=kr(this.serializer),m=new Kd(Wf.zs,this.serializer.fe);return o.j().next(y=>{const P=new Map;return y.forEach($=>{var K;let le=null!==(K=P.get($.userId))&&void 0!==K?K:Dr();vu(this.serializer,$).keys().forEach(Re=>le=le.add(Re)),P.set($.userId,le)}),pt.forEach(P,($,K)=>{const le=new z(K),Re=Xp.de(this.serializer,le),ft=m.getIndexManager(le),Nt=jh.de(le,this.serializer,ft,m.referenceDelegate);return new Hh(l,Nt,Re,ft).recalculateAndSaveOverlaysForDocumentKeys(new Pl(t,_s.ct),$).next()})})}}function sm(r){r.createObjectStore("targetDocuments",{keyPath:kt}).createIndex("documentTargetsIndex",fn,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ke,{unique:!0}),r.createObjectStore("targetGlobal")}const qf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Zf{constructor(e,t,o,l,m,y,P,$,K,le,Re=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.ii=m,this.window=y,this.document=P,this.ri=K,this.oi=le,this.ui=Re,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=ft=>Promise.resolve(),!Zf.D())throw new Ft(ht.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Eg(this,l),this.di=t+"main",this.serializer=new Nf($),this.wi=new zr(this.di,this.ui,new zy(this.serializer)),this.Bs=new j_(this.referenceDelegate,this.serializer),this.remoteDocumentCache=kr(this.serializer),this.qs=new Ly,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===le&&Sn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ft(ht.FAILED_PRECONDITION,qf);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new _s(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var o=(0,w.Z)(function*(l){if(t.started)return e(l)});return function(l){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,w.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,w.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>$c(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(sc(e))return Ct("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ct("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Iu(e).get("owner").next(t=>pt.resolve(this.Ri(t)))}Pi(e){return $c(e).delete(this.clientId)}bi(){var e=this;return(0,w.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const l=Uo(o,"clientMetadata");return l.j().next(m=>{const y=e.Si(m,18e5),P=m.filter($=>-1===y.indexOf($));return pt.forEach(P,$=>l.delete($.clientId)).next(()=>P)})}).catch(()=>[]);if(e._i)for(const o of t)e._i.removeItem(e.Di(o.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?pt.resolve(!0):Iu(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Ft(ht.FAILED_PRECONDITION,qf);return!1}}return!(!this.networkEnabled||!this.inForeground)||$c(e).j().next(o=>void 0===this.Si(o,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ct("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,w.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Pl(t,_s.ct);return e.Ai(o).next(()=>e.Pi(o))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(o=>this.Vi(o.updateTimeMs,t)&&!this.Ci(o.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>$c(e).j().next(t=>this.Si(t,18e5).map(o=>o.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return jh.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new U_(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Xp.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,o){Ct("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===t?"readonly":"readwrite",m=15===(y=this.ui)?ml:14===y?Ku:13===y?Pc:12===y?ou:11===y?ga:void nn();var y;let P;return this.wi.runTransaction(e,l,m,$=>(P=new Pl($,this.Os?this.Os.next():_s.ct),"readwrite-primary"===t?this.Ti(P).next(K=>!!K||this.Ei(P)).next(K=>{if(!K)throw Sn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Ft(ht.FAILED_PRECONDITION,yi);return o(P)}).next(K=>this.vi(P).next(()=>K)):this.Oi(P).next(()=>o(P)))).then($=>(P.raiseOnCommittedEvent(),$))}Oi(e){return Iu(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ft(ht.FAILED_PRECONDITION,qf)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Iu(e).put("owner",t)}static D(){return zr.D()}Ai(e){const t=Iu(e);return t.get("owner").next(o=>this.Ri(o)?(Ct("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):pt.resolve())}Vi(e,t){const o=Date.now();return!(e<o-t||e>o&&(Sn(`Detected an update time that is in the future: ${e} > ${o}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,be.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const o=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Ct("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Sn("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Sn("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Iu(r){return Uo(r,"owner")}function $c(r){return Uo(r,"clientMetadata")}function Yd(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class Gh{constructor(e,t,o,l){this.targetId=e,this.fromCache=t,this.Fi=o,this.Bi=l}static Li(e,t){let o=Dr(),l=Dr();for(const m of t.docChanges)switch(m.type){case 0:o=o.add(m.doc.key);break;case 1:l=l.add(m.doc.key)}return new Gh(e,t.fromCache,o,l)}}class ad{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,o,l){return this.Ki(e,t).next(m=>m||this.Gi(e,t,l,o)).next(m=>m||this.Qi(e,t))}Ki(e,t){if(Dh(t))return pt.resolve(null);let o=R(t);return this.indexManager.getIndexType(e,o).next(l=>0===l?null:(null!==t.limit&&1===l&&(t=de(t,null,"F"),o=R(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(m=>{const y=Dr(...m);return this.Ui.getDocuments(e,y).next(P=>this.indexManager.getMinOffset(e,o).next($=>{const K=this.ji(t,P);return this.zi(t,K,y,$.readTime)?this.Ki(e,de(t,null,"F")):this.Wi(e,K,t,$)}))})))}Gi(e,t,o,l){return Dh(t)||l.isEqual(Hn.min())?this.Qi(e,t):this.Ui.getDocuments(e,o).next(m=>{const y=this.ji(t,m);return this.zi(t,y,o,l)?this.Qi(e,t):(Xt()<=ye.in.DEBUG&&Ct("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),sn(t)),this.Wi(e,y,t,oc(l,-1)))})}ji(e,t){let o=new Si(Ur(e));return t.forEach((l,m)=>{bn(e,m)&&(o=o.add(m))}),o}zi(e,t,o,l){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const m="F"===e.limitType?t.last():t.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(l)>0)}Qi(e,t){return Xt()<=ye.in.DEBUG&&Ct("QueryEngine","Using full collection scan to execute query:",sn(t)),this.Ui.getDocumentsMatchingQuery(e,t,Lo.min())}Wi(e,t,o,l){return this.Ui.getDocumentsMatchingQuery(e,o,l).next(m=>(t.forEach(y=>{m=m.insert(y.key,y)}),m))}}class Gl{constructor(e,t,o,l){this.persistence=e,this.Hi=t,this.serializer=l,this.Ji=new vi(or),this.Yi=new Bs(m=>La(m),tl),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hh(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Wh(r,e,t,o){return new Gl(r,e,t,o)}function qh(r,e){return am.apply(this,arguments)}function am(){return am=(0,w.Z)(function*(r,e){const t=en(r);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let l;return t.mutationQueue.getAllMutationBatches(o).next(m=>(l=m,t.tr(e),t.mutationQueue.getAllMutationBatches(o))).next(m=>{const y=[],P=[];let $=Dr();for(const K of l){y.push(K.batchId);for(const le of K.mutations)$=$.add(le.key)}for(const K of m){P.push(K.batchId);for(const le of K.mutations)$=$.add(le.key)}return t.localDocuments.getDocuments(o,$).next(K=>({er:K,removedBatchIds:y,addedBatchIds:P}))})})}),am.apply(this,arguments)}function cm(r){const e=en(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Kf(r,e,t){let o=Dr(),l=Dr();return t.forEach(m=>o=o.add(m)),e.getEntries(r,o).next(m=>{let y=Ua();return t.forEach((P,$)=>{const K=m.get(P);$.isFoundDocument()!==K.isFoundDocument()&&(l=l.add(P)),$.isNoDocument()&&$.version.isEqual(Hn.min())?(e.removeEntry(P,$.readTime),y=y.insert(P,$)):!K.isValidDocument()||$.version.compareTo(K.version)>0||0===$.version.compareTo(K.version)&&K.hasPendingWrites?(e.addEntry($),y=y.insert(P,$)):Ct("LocalStore","Ignoring outdated watch update for ",P,". Current version:",K.version," Watch version:",$.version)}),{nr:y,sr:l}})}function Du(r,e){const t=en(r);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Tu(r,e){const t=en(r);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return t.Bs.getTargetData(o,e).next(m=>m?(l=m,pt.resolve(l)):t.Bs.allocateTargetId(o).next(y=>(l=new jl(e,y,"TargetPurposeListen",o.currentSequenceNumber),t.Bs.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=t.Ji.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(o.targetId,o),t.Yi.set(e,o.targetId)),o})}function Au(r,e,t){return pc.apply(this,arguments)}function pc(){return pc=(0,w.Z)(function*(r,e,t){const o=en(r),l=o.Ji.get(e),m=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",m,y=>o.persistence.referenceDelegate.removeTarget(y,l)))}catch(y){if(!sc(y))throw y;Ct("LocalStore",`Failed to update sequence numbers for target ${e}: ${y}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(l.target)}),pc.apply(this,arguments)}function Wl(r,e,t){const o=en(r);let l=Hn.min(),m=Dr();return o.persistence.runTransaction("Execute query","readonly",y=>function(P,$,K){const le=en(P),Re=le.Yi.get(K);return void 0!==Re?pt.resolve(le.Ji.get(Re)):le.Bs.getTargetData($,K)}(o,y,R(e)).next(P=>{if(P)return l=P.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(y,P.targetId).next($=>{m=$})}).next(()=>o.Hi.getDocumentsMatchingQuery(y,e,t?l:Hn.min(),t?m:Dr())).next(P=>(lm(o,Kn(e),P),{documents:P,ir:m})))}function Su(r,e){const t=en(r),o=en(t.Bs),l=t.Ji.get(e);return l?Promise.resolve(l.target):t.persistence.runTransaction("Get target data","readonly",m=>o.le(m,e).next(y=>y?y.target:null))}function Tg(r,e){const t=en(r),o=t.Xi.get(e)||Hn.min();return t.persistence.runTransaction("Get new document changes","readonly",l=>t.Zi.getAllFromCollectionGroup(l,e,oc(o,-1),Number.MAX_SAFE_INTEGER)).then(l=>(lm(t,e,l),l))}function lm(r,e,t){let o=r.Xi.get(e)||Hn.min();t.forEach((l,m)=>{m.readTime.compareTo(o)>0&&(o=m.readTime)}),r.Xi.set(e,o)}function xu(){return xu=(0,w.Z)(function*(r,e,t,o){const l=en(r);let m=Dr(),y=Ua();for(const K of t){const le=e.rr(K.metadata.name);K.document&&(m=m.add(le));const Re=e.ur(K);Re.setReadTime(e.cr(K.metadata.readTime)),y=y.insert(le,Re)}const P=l.Zi.newChangeBuffer({trackRemovals:!0}),$=yield Tu(l,(K=o,R(Ll(lr.fromString(`__bundle__/docs/${K}`)))));var K;return l.persistence.runTransaction("Apply bundle documents","readwrite",K=>Kf(K,P,y).next(le=>(P.apply(K),le)).next(le=>l.Bs.removeMatchingKeysForTargetId(K,$.targetId).next(()=>l.Bs.addMatchingKeys(K,m,$.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(K,le.nr,le.sr)).next(()=>le.nr)))}),xu.apply(this,arguments)}function Yf(r,e){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,w.Z)(function*(r,e,t=Dr()){const o=yield Tu(r,R(Qp(e.bundledQuery))),l=en(r);return l.persistence.runTransaction("Save named query","readwrite",m=>{const y=Yr(e.readTime);if(o.snapshotVersion.compareTo(y)>=0)return l.qs.saveNamedQuery(m,e);const P=o.withResumeToken(bo.EMPTY_BYTE_STRING,y);return l.Ji=l.Ji.insert(P.targetId,P),l.Bs.updateTargetData(m,P).next(()=>l.Bs.removeMatchingKeysForTargetId(m,o.targetId)).next(()=>l.Bs.addMatchingKeys(m,t,o.targetId)).next(()=>l.qs.saveNamedQuery(m,e))})}),Qf.apply(this,arguments)}function Jf(r,e){return`firestore_clients_${r}_${e}`}function Ag(r,e,t){let o=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Qd(r,e){return`firestore_targets_${r}_${e}`}class ql{constructor(e,t,o,l){this.user=e,this.batchId=t,this.state=o,this.error=l}static ar(e,t,o){const l=JSON.parse(o);let m,y="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return y&&l.error&&(y="string"==typeof l.error.message&&"string"==typeof l.error.code,y&&(m=new Ft(l.error.code,l.error.message))),y?new ql(e,t,l.state,m):(Sn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vs{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static ar(e,t){const o=JSON.parse(t);let l,m="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return m&&o.error&&(m="string"==typeof o.error.message&&"string"==typeof o.error.code,m&&(l=new Ft(o.error.code,o.error.message))),m?new Vs(e,o.state,l):(Sn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zl{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const o=JSON.parse(t);let l="object"==typeof o&&o.activeTargetIds instanceof Array,m=fu();for(let y=0;l&&y<o.activeTargetIds.length;++y)l=Cc(o.activeTargetIds[y]),m=m.add(o.activeTargetIds[y]);return l?new Zl(e,m):(Sn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Mu{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Mu(t.clientId,t.onlineState):(Sn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Kl{constructor(){this.activeTargetIds=fu()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xf{constructor(e,t,o,l,m){this.window=e,this.ii=t,this.persistenceKey=o,this.wr=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new vi(or),this.started=!1,this.yr=[];const y=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.pr=Jf(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Kl),this.Tr=new RegExp(`^firestore_clients_${y}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${y}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${y}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(P){return`firestore_bundle_loaded_v2_${P}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,w.Z)(function*(){const t=yield e.syncEngine.$i();for(const l of t){if(l===e.wr)continue;const m=e.getItem(Jf(e.persistenceKey,l));if(m){const y=Zl.ar(l,m);y&&(e.gr=e.gr.insert(y.clientId,y))}}e.Pr();const o=e.storage.getItem(e.vr);if(o){const l=e.br(o);l&&e.Vr(l)}for(const l of e.yr)e.mr(l);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((o,l)=>{l.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,o){this.Dr(e,t,o),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Qd(this.persistenceKey,e));if(o){const l=Vs.ar(e,o);l&&(t=l.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Qd(this.persistenceKey,e))}updateQueryState(e,t,o){this.kr(e,t,o)}handleUserChange(e,t,o){t.forEach(l=>{this.Cr(l)}),this.currentUser=e,o.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ct("SharedClientState","READ",e,t),t}setItem(e,t){Ct("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ct("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(Ct("SharedClientState","EVENT",o.key,o.newValue),o.key===this.pr)return void Sn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,w.Z)(function*(){if(t.started){if(null!==o.key)if(t.Tr.test(o.key)){if(null==o.newValue){const l=t.Or(o.key);return t.Fr(l,null)}{const l=t.Br(o.key,o.newValue);if(l)return t.Fr(l.clientId,l)}}else if(t.Er.test(o.key)){if(null!==o.newValue){const l=t.Lr(o.key,o.newValue);if(l)return t.qr(l)}}else if(t.Ar.test(o.key)){if(null!==o.newValue){const l=t.Ur(o.key,o.newValue);if(l)return t.Kr(l)}}else if(o.key===t.vr){if(null!==o.newValue){const l=t.br(o.newValue);if(l)return t.Vr(l)}}else if(o.key===t.Ir){const l=function(m){let y=_s.ct;if(null!=m)try{const P=JSON.parse(m);Dn("number"==typeof P),y=P}catch(P){Sn("SharedClientState","Failed to read sequence number from WebStorage",P)}return y}(o.newValue);l!==_s.ct&&t.sequenceNumberHandler(l)}else if(o.key===t.Rr){const l=t.Gr(o.newValue);yield Promise.all(l.map(m=>t.syncEngine.Qr(m)))}}else t.yr.push(o)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,o){const l=new ql(this.currentUser,e,t,o),m=Ag(this.persistenceKey,this.currentUser,e);this.setItem(m,l.hr())}Cr(e){const t=Ag(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,o){const l=Qd(this.persistenceKey,e),m=new Vs(e,t,o);this.setItem(l,m.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const o=this.Or(e);return Zl.ar(o,t)}Lr(e,t){const o=this.Er.exec(e),l=Number(o[1]);return ql.ar(new z(void 0!==o[2]?o[2]:null),l,t)}Ur(e,t){const o=this.Ar.exec(e),l=Number(o[1]);return Vs.ar(l,t)}br(e){return Mu.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,w.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Ct("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const o=t?this.gr.insert(e,t):this.gr.remove(e),l=this.Sr(this.gr),m=this.Sr(o),y=[],P=[];return m.forEach($=>{l.has($)||y.push($)}),l.forEach($=>{m.has($)||P.push($)}),this.syncEngine.Wr(y,P).then(()=>{this.gr=o})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=fu();return e.forEach((o,l)=>{t=t.unionWith(l.activeTargetIds)}),t}}class ep{constructor(){this.Hr=new Kl,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,o){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Kl,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class um{Yr(e){}shutdown(){}}class dm{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ct("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ct("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let tp=null;function Ru(){return null===tp?tp=268435456+Math.round(2147483648*Math.random()):tp++,"0x"+tp.toString(16)}const Z_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class K_{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const wa="WebChannelConnection";class np extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,o,l,m){const y=Ru(),P=this.To(e,t);Ct("RestConnection",`Sending RPC '${e}' ${y}:`,P,o);const $={};return this.Eo($,l,m),this.Ao(e,P,$,o).then(K=>(Ct("RestConnection",`Received RPC '${e}' ${y}: `,K),K),K=>{throw Gr("RestConnection",`RPC '${e}' ${y} failed with error: `,K,"url: ",P,"request:",o),K})}vo(e,t,o,l,m,y){return this.Io(e,t,o,l,m)}Eo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+we,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,m)=>e[m]=l),o&&o.headers.forEach((l,m)=>e[m]=l)}To(e,t){return`${this.mo}/v1/${t}:${Z_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,o,l){const m=Ru();return new Promise((y,P)=>{const $=new ie;$.setWithCredentials(!0),$.listenOnce(rc.COMPLETE,()=>{try{switch($.getLastErrorCode()){case gs.NO_ERROR:const le=$.getResponseJson();Ct(wa,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(le)),y(le);break;case gs.TIMEOUT:Ct(wa,`RPC '${e}' ${m} timed out`),P(new Ft(ht.DEADLINE_EXCEEDED,"Request time out"));break;case gs.HTTP_ERROR:const Re=$.getStatus();if(Ct(wa,`RPC '${e}' ${m} failed with status:`,Re,"response text:",$.getResponseText()),Re>0){let ft=$.getResponseJson();Array.isArray(ft)&&(ft=ft[0]);const Nt=ft?.error;if(Nt&&Nt.status&&Nt.message){const on=function(Mn){const Fn=Mn.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(Fn)>=0?Fn:ht.UNKNOWN}(Nt.status);P(new Ft(on,Nt.message))}else P(new Ft(ht.UNKNOWN,"Server responded with status "+$.getStatus()))}else P(new Ft(ht.UNAVAILABLE,"Connection failed."));break;default:nn()}}finally{Ct(wa,`RPC '${e}' ${m} completed.`)}});const K=JSON.stringify(l);Ct(wa,`RPC '${e}' ${m} sending request:`,l),$.send(t,"POST",K,o,15)})}Ro(e,t,o){const l=Ru(),m=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],y=Ki(),P=Oi(),$={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},K=this.longPollingOptions.timeoutSeconds;void 0!==K&&($.longPollingTimeout=Math.round(1e3*K)),this.useFetchStreams&&($.xmlHttpFactory=new W({})),this.Eo($.initMessageHeaders,t,o),$.encodeInitMessageHeaders=!0;const le=m.join("");Ct(wa,`Creating RPC '${e}' stream ${l}: ${le}`,$);const Re=y.createWebChannel(le,$);let ft=!1,Nt=!1;const on=new K_({ro:Fn=>{Nt?Ct(wa,`Not sending because RPC '${e}' stream ${l} is closed:`,Fn):(ft||(Ct(wa,`Opening RPC '${e}' stream ${l} transport.`),Re.open(),ft=!0),Ct(wa,`RPC '${e}' stream ${l} sending:`,Fn),Re.send(Fn))},oo:()=>Re.close()}),Mn=(Fn,Qr,Mi)=>{Fn.listen(Qr,di=>{try{Mi(di)}catch(Ia){setTimeout(()=>{throw Ia},0)}})};return Mn(Re,V.EventType.OPEN,()=>{Nt||Ct(wa,`RPC '${e}' stream ${l} transport opened.`)}),Mn(Re,V.EventType.CLOSE,()=>{Nt||(Nt=!0,Ct(wa,`RPC '${e}' stream ${l} transport closed`),on.wo())}),Mn(Re,V.EventType.ERROR,Fn=>{Nt||(Nt=!0,Gr(wa,`RPC '${e}' stream ${l} transport errored:`,Fn),on.wo(new Ft(ht.UNAVAILABLE,"The operation could not be completed")))}),Mn(Re,V.EventType.MESSAGE,Fn=>{var Qr;if(!Nt){const Mi=Fn.data[0];Dn(!!Mi);const Ia=Mi.error||(null===(Qr=Mi[0])||void 0===Qr?void 0:Qr.error);if(Ia){Ct(wa,`RPC '${e}' stream ${l} received error:`,Ia);const $s=Ia.status;let jo=function(vf){const b_=Cs[vf];if(void 0!==b_)return sg(b_)}($s),Kc=Ia.message;void 0===jo&&(jo=ht.INTERNAL,Kc="Unknown error status: "+$s+" with message "+Ia.message),Nt=!0,on.wo(new Ft(jo,Kc)),Re.close()}else Ct(wa,`RPC '${e}' stream ${l} received:`,Mi),on._o(Mi)}}),Mn(P,da.STAT_EVENT,Fn=>{Fn.stat===k.PROXY?Ct(wa,`RPC '${e}' stream ${l} detected buffering proxy`):Fn.stat===k.NOPROXY&&Ct(wa,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{on.fo()},0),on}}function Jd(){return typeof window<"u"?window:null}function Xd(){return typeof document<"u"?document:null}function eh(r){return new cg(r,!0)}class hm{constructor(e,t,o=1e3,l=1.5,m=6e4){this.ii=e,this.timerId=t,this.Po=o,this.bo=l,this.Vo=m,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),l=Math.max(0,t-o);l>0&&Ct("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,l,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class ja{constructor(e,t,o,l,m,y,P,$){this.ii=e,this.$o=o,this.Oo=l,this.connection=m,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=P,this.listener=$,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new hm(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,w.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,w.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var o=this;return(0,w.Z)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():t&&t.code===ht.RESOURCE_EXHAUSTED?(Sn(t.toString()),Sn("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):t&&t.code===ht.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.Fo===t&&this.Zo(o,l)},o=>{e(()=>{const l=new Ft(ht.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(l)})})}Zo(e,t){const o=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(l=>{o(()=>this.tu(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}Go(){var e=this;this.state=5,this.qo.No((0,w.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ct("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ct("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Sg extends ja{constructor(e,t,o,l,m,y){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,l,y),this.serializer=m}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function kh(r,e){let t;if("targetChange"in e){const o="NO_CHANGE"===($=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===$?1:"REMOVE"===$?2:"CURRENT"===$?3:"RESET"===$?4:nn(),l=e.targetChange.targetIds||[],m=function($,K){return $.useProto3Json?(Dn(void 0===K||"string"==typeof K),bo.fromBase64String(K||"")):(Dn(void 0===K||K instanceof Uint8Array),bo.fromUint8Array(K||new Uint8Array))}(r,e.targetChange.resumeToken),y=e.targetChange.cause,P=y&&function($){const K=void 0===$.code?ht.UNKNOWN:sg($.code);return new Ft(K,$.message||"")}(y);t=new Rf(o,l,m,P||null)}else if("documentChange"in e){const o=e.documentChange,l=rl(r,o.document.name),m=Yr(o.document.updateTime),y=o.document.createTime?Yr(o.document.createTime):Hn.min(),P=new Ao({mapValue:{fields:o.document.fields}}),$=Pi.newFoundDocument(l,m,y,P);t=new Bp(o.targetIds||[],o.removedTargetIds||[],$.key,$)}else if("documentDelete"in e){const o=e.documentDelete,l=rl(r,o.document),m=o.readTime?Yr(o.readTime):Hn.min(),y=Pi.newNoDocument(l,m);t=new Bp([],o.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){const o=e.documentRemove,l=rl(r,o.document);t=new Bp([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return nn();{const o=e.filter,{count:l=0,unchangedNames:m}=o,y=new A_(l,m);t=new Mf(o.targetId,y)}}var $;return t}(this.serializer,e),o=function(l){if(!("targetChange"in l))return Hn.min();const m=l.targetChange;return m.targetIds&&m.targetIds.length?Hn.min():m.readTime?Yr(m.readTime):Hn.min()}(e);return this.listener.nu(t,o)}su(e){const t={};t.database=Nh(this.serializer),t.addTarget=function(l,m){let y;const P=m.target;if(y=du(P)?{documents:zp(l,P)}:{query:Gp(l,P)},y.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){y.resumeToken=Pf(l,m.resumeToken);const $=jd(l,m.expectedCount);null!==$&&(y.expectedCount=$)}else if(m.snapshotVersion.compareTo(Hn.min())>0){y.readTime=nd(l,m.snapshotVersion.toTimestamp());const $=jd(l,m.expectedCount);null!==$&&(y.expectedCount=$)}return y}(this.serializer,e);const o=function mg(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Wo(t)}iu(e){const t={};t.database=Nh(this.serializer),t.removeTarget=e,this.Wo(t)}}class Y_ extends ja{constructor(e,t,o,l,m,y){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,l,y),this.serializer=m,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Dn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function fg(r,e){return r&&r.length>0?(Dn(void 0!==e),r.map(t=>function(o,l){let m=Yr(o.updateTime?o.updateTime:l);return m.isEqual(Hn.min())&&(m=Yr(l)),new Mh(m,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Yr(e.commitTime);return this.listener.cu(o,t)}return Dn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Nh(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>id(this.serializer,o))};this.Wo(t)}}class Gy extends class{}{constructor(e,t,o,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=l,this.lu=!1}fu(){if(this.lu)throw new Ft(ht.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,m])=>this.connection.Io(e,t,o,l,m)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ft(ht.UNKNOWN,l.toString())})}vo(e,t,o,l){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,y])=>this.connection.vo(e,t,o,m,y,l)).catch(m=>{throw"FirebaseError"===m.name?(m.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new Ft(ht.UNKNOWN,m.toString())})}terminate(){this.lu=!0}}class Q_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Sn(t),this.mu=!1):Ct("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class J_{constructor(e,t,o,l,m){var y=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=m,this.Pu.Yr(P=>{o.enqueueAndForget((0,w.Z)(function*(){var $;Ea(y)&&(Ct("RemoteStore","Restarting streams for network reachability change."),yield($=(0,w.Z)(function*(K){const le=en(K);le.vu.add(4),yield Pu(le),le.bu.set("Unknown"),le.vu.delete(4),yield ol(le)}),function(K){return $.apply(this,arguments)})(y))}))}),this.bu=new Q_(o,l)}}function ol(r){return th.apply(this,arguments)}function th(){return th=(0,w.Z)(function*(r){if(Ea(r))for(const e of r.Ru)yield e(!0)}),th.apply(this,arguments)}function Pu(r){return nh.apply(this,arguments)}function nh(){return nh=(0,w.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),nh.apply(this,arguments)}function rh(r,e){const t=en(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Yh(t)?mm(t):ch(t).Ko()&&pm(t,e))}function Kh(r,e){const t=en(r),o=ch(t);t.Au.delete(e),o.Ko()&&xg(t,e),0===t.Au.size&&(o.Ko()?o.jo():Ea(t)&&t.bu.set("Unknown"))}function pm(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Hn.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ch(r).su(e)}function xg(r,e){r.Vu.qt(e),ch(r).iu(e)}function mm(r){r.Vu=new ky({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),ch(r).start(),r.bu.gu()}function Yh(r){return Ea(r)&&!ch(r).Uo()&&r.Au.size>0}function Ea(r){return 0===en(r).vu.size}function ld(r){r.Vu=void 0}function gm(r){return ih.apply(this,arguments)}function ih(){return ih=(0,w.Z)(function*(r){r.Au.forEach((e,t)=>{pm(r,e)})}),ih.apply(this,arguments)}function Mg(r,e){return ip.apply(this,arguments)}function ip(){return ip=(0,w.Z)(function*(r,e){ld(r),Yh(r)?(r.bu.Iu(e),mm(r)):r.bu.set("Unknown")}),ip.apply(this,arguments)}function X_(r,e,t){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,w.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof Rf&&2===e.state&&e.cause)try{yield(o=(0,w.Z)(function*(l,m){const y=m.cause;for(const P of m.targetIds)l.Au.has(P)&&(yield l.remoteSyncer.rejectListen(P,y),l.Au.delete(P),l.Vu.removeTarget(P))}),function(l,m){return o.apply(this,arguments)})(r,e)}catch(o){Ct("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Ou(r,o)}else if(e instanceof Bp?r.Vu.Ht(e):e instanceof Mf?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(Hn.min()))try{const o=yield cm(r.localStore);t.compareTo(o)>=0&&(yield function(l,m){const y=l.Vu.ce(m);return y.targetChanges.forEach((P,$)=>{if(P.resumeToken.approximateByteSize()>0){const K=l.Au.get($);K&&l.Au.set($,K.withResumeToken(P.resumeToken,m))}}),y.targetMismatches.forEach((P,$)=>{const K=l.Au.get(P);if(!K)return;l.Au.set(P,K.withResumeToken(bo.EMPTY_BYTE_STRING,K.snapshotVersion)),xg(l,P);const le=new jl(K.target,P,$,K.sequenceNumber);pm(l,le)}),l.remoteSyncer.applyRemoteEvent(y)}(r,t))}catch(o){Ct("RemoteStore","Failed to raise snapshot:",o),yield Ou(r,o)}var o}),Rg.apply(this,arguments)}function Ou(r,e,t){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,w.Z)(function*(r,e,t){if(!sc(e))throw e;r.vu.add(1),yield Pu(r),r.bu.set("Offline"),t||(t=()=>cm(r.localStore)),r.asyncQueue.enqueueRetryable((0,w.Z)(function*(){Ct("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield ol(r)}))}),Pg.apply(this,arguments)}function Og(r,e){return e().catch(t=>Ou(r,t,e))}function Yl(r){return ud.apply(this,arguments)}function ud(){return ud=(0,w.Z)(function*(r){const e=en(r),t=Nu(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;oh(e);)try{const l=yield Du(e.localStore,o);if(null===l){0===e.Eu.length&&t.jo();break}o=l.batchId,ey(e,l)}catch(l){yield Ou(e,l)}_m(e)&&ty(e)}),ud.apply(this,arguments)}function oh(r){return Ea(r)&&r.Eu.length<10}function ey(r,e){r.Eu.push(e);const t=Nu(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function _m(r){return Ea(r)&&!Nu(r).Uo()&&r.Eu.length>0}function ty(r){Nu(r).start()}function Ng(r){return op.apply(this,arguments)}function op(){return op=(0,w.Z)(function*(r){Nu(r).hu()}),op.apply(this,arguments)}function kg(r){return sp.apply(this,arguments)}function sp(){return sp=(0,w.Z)(function*(r){const e=Nu(r);for(const t of r.Eu)e.uu(t.mutations)}),sp.apply(this,arguments)}function ym(r,e,t){return Hc.apply(this,arguments)}function Hc(){return Hc=(0,w.Z)(function*(r,e,t){const o=r.Eu.shift(),l=ig.from(o,e,t);yield Og(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),yield Yl(r)}),Hc.apply(this,arguments)}function ap(r,e){return sh.apply(this,arguments)}function sh(){return sh=(0,w.Z)(function*(r,e){var t;e&&Nu(r).ou&&(yield(t=(0,w.Z)(function*(o,l){if(og(m=l.code)&&m!==ht.ABORTED){const y=o.Eu.shift();Nu(o).Qo(),yield Og(o,()=>o.remoteSyncer.rejectFailedWrite(y.batchId,l)),yield Yl(o)}var m}),function(o,l){return t.apply(this,arguments)})(r,e)),_m(r)&&ty(r)}),sh.apply(this,arguments)}function dd(r,e){return vm.apply(this,arguments)}function vm(){return vm=(0,w.Z)(function*(r,e){const t=en(r);t.asyncQueue.verifyOperationInProgress(),Ct("RemoteStore","RemoteStore received new credentials");const o=Ea(t);t.vu.add(3),yield Pu(t),o&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield ol(t)}),vm.apply(this,arguments)}function ah(r,e){return cp.apply(this,arguments)}function cp(){return cp=(0,w.Z)(function*(r,e){const t=en(r);e?(t.vu.delete(2),yield ol(t)):e||(t.vu.add(2),yield Pu(t),t.bu.set("Unknown"))}),cp.apply(this,arguments)}function ch(r){return r.Su||(r.Su=function(e,t,o){const l=en(e);return l.fu(),new Sg(t,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{uo:gm.bind(null,r),ao:Mg.bind(null,r),nu:X_.bind(null,r)}),r.Ru.push(function(){var e=(0,w.Z)(function*(t){t?(r.Su.Qo(),Yh(r)?mm(r):r.bu.set("Unknown")):(yield r.Su.stop(),ld(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function Nu(r){return r.Du||(r.Du=function(e,t,o){const l=en(e);return l.fu(),new Y_(t,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{uo:Ng.bind(null,r),ao:ap.bind(null,r),au:kg.bind(null,r),cu:ym.bind(null,r)}),r.Ru.push(function(){var e=(0,w.Z)(function*(t){t?(r.Du.Qo(),yield Yl(r)):(yield r.Du.stop(),r.Eu.length>0&&(Ct("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class hd{constructor(e,t,o,l,m){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=l,this.removalCallback=m,this.deferred=new co,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}static createAndSchedule(e,t,o,l,m){const y=Date.now()+o,P=new hd(e,t,y,l,m);return P.start(o),P}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ft(ht.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fd(r,e){if(Sn("AsyncQueue",`${e}: ${r}`),sc(r))return new Ft(ht.UNAVAILABLE,`${e}: ${r}`);throw r}class Qh{constructor(e){this.comparator=e?(t,o)=>e(t,o)||hn.comparator(t.key,o.key):(t,o)=>hn.comparator(t.key,o.key),this.keyedMap=hu(),this.sortedSet=new vi(this.comparator)}static emptySet(e){return new Qh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,m=o.getNext().key;if(!l.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Qh;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class Sc{constructor(){this.Cu=new vi(hn.comparator)}track(e){const t=e.doc.key,o=this.Cu.get(t);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(t):1===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):nn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,o)=>{e.push(o)}),e}}class ku{constructor(e,t,o,l,m,y,P,$,K){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=m,this.fromCache=y,this.syncStateChanged=P,this.excludesMetadataChanges=$,this.hasCachedResults=K}static fromInitialDocuments(e,t,o,l,m){const y=[];return t.forEach(P=>{y.push({type:0,doc:P})}),new ku(e,t,Qh.emptySet(t),y,o,l,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qe(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==o[l].type||!t[l].doc.isEqual(o[l].doc))return!1;return!0}}class Jh{constructor(){this.Nu=void 0,this.listeners=[]}}class bm{constructor(){this.queries=new Bs(e=>At(e),qe),this.onlineState="Unknown",this.ku=new Set}}function wm(r,e){return Em.apply(this,arguments)}function Em(){return Em=(0,w.Z)(function*(r,e){const t=en(r),o=e.query;let l=!1,m=t.queries.get(o);if(m||(l=!0,m=new Jh),l)try{m.Nu=yield t.onListen(o)}catch(y){const P=fd(y,`Initialization of query '${sn(e.query)}' failed`);return void e.onError(P)}t.queries.set(o,m),m.listeners.push(e),e.Mu(t.onlineState),m.Nu&&e.$u(m.Nu)&&ef(t)}),Em.apply(this,arguments)}function Xh(r,e){return lp.apply(this,arguments)}function lp(){return lp=(0,w.Z)(function*(r,e){const t=en(r),o=e.query;let l=!1;const m=t.queries.get(o);if(m){const y=m.listeners.indexOf(e);y>=0&&(m.listeners.splice(y,1),l=0===m.listeners.length)}if(l)return t.queries.delete(o),t.onUnlisten(o)}),lp.apply(this,arguments)}function Cm(r,e){const t=en(r);let o=!1;for(const l of e){const y=t.queries.get(l.query);if(y){for(const P of y.listeners)P.$u(l)&&(o=!0);y.Nu=l}}o&&ef(t)}function up(r,e,t){const o=en(r),l=o.queries.get(e);if(l)for(const m of l.listeners)m.onError(t);o.queries.delete(e)}function ef(r){r.ku.forEach(e=>{e.next()})}class dp{constructor(e,t,o){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new ku(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=ku.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Fg{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Im{constructor(e){this.serializer=e}rr(e){return rl(this.serializer,e)}ur(e){return e.metadata.exists?O_(this.serializer,e.document,!1):Pi.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Yr(e)}}class zc{constructor(e,t,o){this.ju=e,this.localStore=t,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=pd(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const o=lr.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,o=new Im(this.serializer);for(const l of e)if(l.metadata.queries){const m=o.rr(l.metadata.name);for(const y of l.metadata.queries){const P=(t.get(y)||Dr()).add(m);t.set(y,P)}}return t}complete(){var e=this;return(0,w.Z)(function*(){const t=yield function cd(r,e,t,o){return xu.apply(this,arguments)}(e.localStore,new Im(e.serializer),e.documents,e.ju.id),o=e.Wu(e.documents);for(const l of e.queries)yield Yf(e.localStore,l,o.get(l.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function pd(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class Lg{constructor(e){this.key=e}}class Ug{constructor(e){this.key=e}}class hp{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Dr(),this.mutatedKeys=Dr(),this.tc=Ur(e),this.ec=new Qh(this.tc)}get nc(){return this.Yu}sc(e,t){const o=t?t.ic:new Sc,l=t?t.ec:this.ec;let m=t?t.mutatedKeys:this.mutatedKeys,y=l,P=!1;const $="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,K="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((le,Re)=>{const ft=l.get(le),Nt=bn(this.query,Re)?Re:null,on=!!ft&&this.mutatedKeys.has(ft.key),Mn=!!Nt&&(Nt.hasLocalMutations||this.mutatedKeys.has(Nt.key)&&Nt.hasCommittedMutations);let Fn=!1;ft&&Nt?ft.data.isEqual(Nt.data)?on!==Mn&&(o.track({type:3,doc:Nt}),Fn=!0):this.rc(ft,Nt)||(o.track({type:2,doc:Nt}),Fn=!0,($&&this.tc(Nt,$)>0||K&&this.tc(Nt,K)<0)&&(P=!0)):!ft&&Nt?(o.track({type:0,doc:Nt}),Fn=!0):ft&&!Nt&&(o.track({type:1,doc:ft}),Fn=!0,($||K)&&(P=!0)),Fn&&(Nt?(y=y.add(Nt),m=Mn?m.add(le):m.delete(le)):(y=y.delete(le),m=m.delete(le)))}),null!==this.query.limit)for(;y.size>this.query.limit;){const le="F"===this.query.limitType?y.last():y.first();y=y.delete(le.key),m=m.delete(le.key),o.track({type:1,doc:le})}return{ec:y,ic:o,zi:P,mutatedKeys:m}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const l=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const m=e.ic.xu();m.sort((K,le)=>function(Re,ft){const Nt=on=>{switch(on){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nn()}};return Nt(Re)-Nt(ft)}(K.type,le.type)||this.tc(K.doc,le.doc)),this.oc(o);const y=t?this.uc():[],P=0===this.Zu.size&&this.current?1:0,$=P!==this.Xu;return this.Xu=P,0!==m.length||$?{snapshot:new ku(this.query,e.ec,l,m,e.mutatedKeys,0===P,$,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:y}:{cc:y}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Sc,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Dr(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const t=[];return e.forEach(o=>{this.Zu.has(o)||t.push(new Ug(o))}),this.Zu.forEach(o=>{e.has(o)||t.push(new Lg(o))}),t}hc(e){this.Yu=e.ir,this.Zu=Dr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return ku.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Bg{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class Vg{constructor(e){this.key=e,this.fc=!1}}class Dm{constructor(e,t,o,l,m,y){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=l,this.currentUser=m,this.maxConcurrentLimboResolutions=y,this.dc={},this.wc=new Bs(P=>At(P),qe),this._c=new Map,this.mc=new Set,this.gc=new vi(hn.comparator),this.yc=new Map,this.Ic=new Cu,this.Tc={},this.Ec=new Map,this.Ac=wu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function jg(r,e){return $g.apply(this,arguments)}function $g(){return $g=(0,w.Z)(function*(r,e){const t=$u(r);let o,l;const m=t.wc.get(e);if(m)o=m.targetId,t.sharedClientState.addLocalQueryTarget(o),l=m.view.lc();else{const y=yield Tu(t.localStore,R(e)),P=t.sharedClientState.addLocalQueryTarget(y.targetId);o=y.targetId,l=yield Fu(t,e,o,"current"===P,y.resumeToken),t.isPrimaryClient&&rh(t.remoteStore,y)}return l}),$g.apply(this,arguments)}function Fu(r,e,t,o,l){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,w.Z)(function*(r,e,t,o,l){r.Rc=(Re,ft,Nt)=>{return(on=(0,w.Z)(function*(Mn,Fn,Qr,Mi){let di=Fn.view.sc(Qr);di.zi&&(di=yield Wl(Mn.localStore,Fn.query,!1).then(({documents:jo})=>Fn.view.sc(jo,di)));const Ia=Mi&&Mi.targetChanges.get(Fn.targetId),$s=Fn.view.applyChanges(di,Mn.isPrimaryClient,Ia);return pp(Mn,Fn.targetId,$s.cc),$s.snapshot}),function(Mn,Fn,Qr,Mi){return on.apply(this,arguments)})(r,Re,ft,Nt);var on};const m=yield Wl(r.localStore,e,!0),y=new hp(e,m.ir),P=y.sc(m.documents),$=xf.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==r.onlineState,l),K=y.applyChanges(P,r.isPrimaryClient,$);pp(r,t,K.cc);const le=new Bg(e,t,y);return r.wc.set(e,le),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),K.snapshot}),Tm.apply(this,arguments)}function Hg(r,e){return tf.apply(this,arguments)}function tf(){return tf=(0,w.Z)(function*(r,e){const t=en(r),o=t.wc.get(e),l=t._c.get(o.targetId);if(l.length>1)return t._c.set(o.targetId,l.filter(m=>!qe(m,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Au(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Kh(t.remoteStore,o.targetId),xc(t,o.targetId)}).catch(Js))):(xc(t,o.targetId),yield Au(t.localStore,o.targetId,!0))}),tf.apply(this,arguments)}function Gc(){return Gc=(0,w.Z)(function*(r,e,t){const o=ph(r);try{const l=yield function(m,y){const P=en(m),$=Ti.now(),K=y.reduce((ft,Nt)=>ft.add(Nt.key),Dr());let le,Re;return P.persistence.runTransaction("Locally write mutations","readwrite",ft=>{let Nt=Ua(),on=Dr();return P.Zi.getEntries(ft,K).next(Mn=>{Nt=Mn,Nt.forEach((Fn,Qr)=>{Qr.isValidDocument()||(on=on.add(Fn))})}).next(()=>P.localDocuments.getOverlayedDocuments(ft,Nt)).next(Mn=>{le=Mn;const Fn=[];for(const Qr of y){const Mi=tg(Qr,le.get(Qr.key).overlayedDocument);null!=Mi&&Fn.push(new Bl(Qr.key,Mi,uu(Mi.value.mapValue),Bo.exists(!0)))}return P.mutationQueue.addMutationBatch(ft,$,Fn,y)}).next(Mn=>{Re=Mn;const Fn=Mn.applyToLocalDocumentSet(le,on);return P.documentOverlayCache.saveOverlays(ft,Mn.batchId,Fn)})}).then(()=>({batchId:Re.batchId,changes:Od(le)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(m,y,P){let $=m.Tc[m.currentUser.toKey()];$||($=new vi(or)),$=$.insert(y,P),m.Tc[m.currentUser.toKey()]=$}(o,l.batchId,t),yield Jl(o,l.changes),yield Yl(o.remoteStore)}catch(l){const m=fd(l,"Failed to persist write");t.reject(m)}}),Gc.apply(this,arguments)}function lh(r,e){return js.apply(this,arguments)}function js(){return js=(0,w.Z)(function*(r,e){const t=en(r);try{const o=yield function q_(r,e){const t=en(r),o=e.snapshotVersion;let l=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const y=t.Zi.newChangeBuffer({trackRemovals:!0});l=t.Ji;const P=[];e.targetChanges.forEach((le,Re)=>{const ft=l.get(Re);if(!ft)return;P.push(t.Bs.removeMatchingKeys(m,le.removedDocuments,Re).next(()=>t.Bs.addMatchingKeys(m,le.addedDocuments,Re)));let Nt=ft.withSequenceNumber(m.currentSequenceNumber);var on,Mn,Fn;null!==e.targetMismatches.get(Re)?Nt=Nt.withResumeToken(bo.EMPTY_BYTE_STRING,Hn.min()).withLastLimboFreeSnapshotVersion(Hn.min()):le.resumeToken.approximateByteSize()>0&&(Nt=Nt.withResumeToken(le.resumeToken,o)),l=l.insert(Re,Nt),Mn=Nt,Fn=le,(0===(on=ft).resumeToken.approximateByteSize()||Mn.snapshotVersion.toMicroseconds()-on.snapshotVersion.toMicroseconds()>=3e8||Fn.addedDocuments.size+Fn.modifiedDocuments.size+Fn.removedDocuments.size>0)&&P.push(t.Bs.updateTargetData(m,Nt))});let $=Ua(),K=Dr();if(e.documentUpdates.forEach(le=>{e.resolvedLimboDocuments.has(le)&&P.push(t.persistence.referenceDelegate.updateLimboDocument(m,le))}),P.push(Kf(m,y,e.documentUpdates).next(le=>{$=le.nr,K=le.sr})),!o.isEqual(Hn.min())){const le=t.Bs.getLastRemoteSnapshotVersion(m).next(Re=>t.Bs.setTargetsMetadata(m,m.currentSequenceNumber,o));P.push(le)}return pt.waitFor(P).next(()=>y.apply(m)).next(()=>t.localDocuments.getLocalViewOfDocuments(m,$,K)).next(()=>$)}).then(m=>(t.Ji=l,m))}(t.localStore,e);e.targetChanges.forEach((l,m)=>{const y=t.yc.get(m);y&&(Dn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?y.fc=!0:l.modifiedDocuments.size>0?Dn(y.fc):l.removedDocuments.size>0&&(Dn(y.fc),y.fc=!1))}),yield Jl(t,o,e)}catch(o){yield Js(o)}}),js.apply(this,arguments)}function sl(r,e,t){const o=en(r);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const l=[];o.wc.forEach((m,y)=>{const P=y.view.Mu(e);P.snapshot&&l.push(P.snapshot)}),function(m,y){const P=en(m);P.onlineState=y;let $=!1;P.queries.forEach((K,le)=>{for(const Re of le.listeners)Re.Mu(y)&&($=!0)}),$&&ef(P)}(o.eventManager,e),l.length&&o.dc.nu(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function nf(r,e,t){return mc.apply(this,arguments)}function mc(){return mc=(0,w.Z)(function*(r,e,t){const o=en(r);o.sharedClientState.updateQueryState(e,"rejected",t);const l=o.yc.get(e),m=l&&l.key;if(m){let y=new vi(hn.comparator);y=y.insert(m,Pi.newNoDocument(m,Hn.min()));const P=Dr().add(m),$=new Sf(Hn.min(),new Map,new vi(or),y,P);yield lh(o,$),o.gc=o.gc.remove(m),o.yc.delete(e),Am(o)}else yield Au(o.localStore,e,!1).then(()=>xc(o,e,t)).catch(Js)}),mc.apply(this,arguments)}function fp(r,e){return Lu.apply(this,arguments)}function Lu(){return Lu=(0,w.Z)(function*(r,e){const t=en(r),o=e.batch.batchId;try{const l=yield function Zh(r,e){const t=en(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),m=t.Zi.newChangeBuffer({trackRemovals:!0});return function(y,P,$,K){const le=$.batch,Re=le.keys();let ft=pt.resolve();return Re.forEach(Nt=>{ft=ft.next(()=>K.getEntry(P,Nt)).next(on=>{const Mn=$.docVersions.get(Nt);Dn(null!==Mn),on.version.compareTo(Mn)<0&&(le.applyToRemoteDocument(on,$),on.isValidDocument()&&(on.setReadTime($.commitVersion),K.addEntry(on)))})}),ft.next(()=>y.mutationQueue.removeMutationBatch(P,le))}(t,o,e,m).next(()=>m.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(y){let P=Dr();for(let $=0;$<y.mutationResults.length;++$)y.mutationResults[$].transformResults.length>0&&(P=P.add(y.batch.mutations[$].key));return P}(e))).next(()=>t.localDocuments.getDocuments(o,l))})}(t.localStore,e);Ql(t,o,null),Vu(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Jl(t,l)}catch(l){yield Js(l)}}),Lu.apply(this,arguments)}function uh(r,e,t){return Uu.apply(this,arguments)}function Uu(){return Uu=(0,w.Z)(function*(r,e,t){const o=en(r);try{const l=yield function(m,y){const P=en(m);return P.persistence.runTransaction("Reject batch","readwrite-primary",$=>{let K;return P.mutationQueue.lookupMutationBatch($,y).next(le=>(Dn(null!==le),K=le.keys(),P.mutationQueue.removeMutationBatch($,le))).next(()=>P.mutationQueue.performConsistencyCheck($)).next(()=>P.documentOverlayCache.removeOverlaysForBatchId($,K,y)).next(()=>P.localDocuments.recalculateAndSaveOverlaysForDocumentKeys($,K)).next(()=>P.localDocuments.getDocuments($,K))})}(o.localStore,e);Ql(o,e,t),Vu(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Jl(o,l)}catch(l){yield Js(l)}}),Uu.apply(this,arguments)}function Bu(){return Bu=(0,w.Z)(function*(r,e){const t=en(r);Ea(t.remoteStore)||Ct("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(m){const y=en(m);return y.persistence.runTransaction("Get highest unacknowledged batch id","readonly",P=>y.mutationQueue.getHighestUnacknowledgedBatchId(P))}(t.localStore);if(-1===o)return void e.resolve();const l=t.Ec.get(o)||[];l.push(e),t.Ec.set(o,l)}catch(o){const l=fd(o,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),Bu.apply(this,arguments)}function Vu(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function Ql(r,e,t){const o=en(r);let l=o.Tc[o.currentUser.toKey()];if(l){const m=l.get(e);m&&(t?m.reject(t):m.resolve(),l=l.remove(e)),o.Tc[o.currentUser.toKey()]=l}}function xc(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const o of r._c.get(e))r.wc.delete(o),t&&r.dc.Pc(o,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(o=>{r.Ic.containsKey(o)||ju(r,o)})}function ju(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(Kh(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),Am(r))}function pp(r,e,t){for(const o of t)o instanceof Lg?(r.Ic.addReference(o.key,e),ry(r,o)):o instanceof Ug?(Ct("SyncEngine","Document no longer in limbo: "+o.key),r.Ic.removeReference(o.key,e),r.Ic.containsKey(o.key)||ju(r,o.key)):nn()}function ry(r,e){const t=e.key,o=t.path.canonicalString();r.gc.get(t)||r.mc.has(o)||(Ct("SyncEngine","New document in limbo: "+t),r.mc.add(o),Am(r))}function Am(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new hn(lr.fromString(e)),o=r.Ac.next();r.yc.set(o,new Vg(t)),r.gc=r.gc.insert(t,o),rh(r.remoteStore,new jl(R(Ll(t.path)),o,"TargetPurposeLimboResolution",_s.ct))}}function Jl(r,e,t){return Xl.apply(this,arguments)}function Xl(){return Xl=(0,w.Z)(function*(r,e,t){const o=en(r),l=[],m=[],y=[];var P;o.wc.isEmpty()||(o.wc.forEach((P,$)=>{y.push(o.Rc($,e,t).then(K=>{if((K||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState($.targetId,K?.fromCache?"not-current":"current"),K){l.push(K);const le=Gh.Li($.targetId,K);m.push(le)}}))}),yield Promise.all(y),o.dc.nu(l),yield(P=(0,w.Z)(function*($,K){const le=en($);try{yield le.persistence.runTransaction("notifyLocalViewChanges","readwrite",Re=>pt.forEach(K,ft=>pt.forEach(ft.Fi,Nt=>le.persistence.referenceDelegate.addReference(Re,ft.targetId,Nt)).next(()=>pt.forEach(ft.Bi,Nt=>le.persistence.referenceDelegate.removeReference(Re,ft.targetId,Nt)))))}catch(Re){if(!sc(Re))throw Re;Ct("LocalStore","Failed to update sequence numbers: "+Re)}for(const Re of K){const ft=Re.targetId;if(!Re.fromCache){const Nt=le.Ji.get(ft),Mn=Nt.withLastLimboFreeSnapshotVersion(Nt.snapshotVersion);le.Ji=le.Ji.insert(ft,Mn)}}}),function($,K){return P.apply(this,arguments)})(o.localStore,m))}),Xl.apply(this,arguments)}function zg(r,e){return mp.apply(this,arguments)}function mp(){return mp=(0,w.Z)(function*(r,e){const t=en(r);if(!t.currentUser.isEqual(e)){Ct("SyncEngine","User change. New user:",e.toKey());const o=yield qh(t.localStore,e);t.currentUser=e,(l=t).Ec.forEach(y=>{y.forEach(P=>{P.reject(new Ft(ht.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Ec.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Jl(t,o.er)}var l}),mp.apply(this,arguments)}function Gg(r,e){const t=en(r),o=t.yc.get(e);if(o&&o.fc)return Dr().add(o.key);{let l=Dr();const m=t._c.get(e);if(!m)return l;for(const y of m){const P=t.wc.get(y);l=l.unionWith(P.view.nc)}return l}}function Wg(r,e){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,w.Z)(function*(r,e){const t=en(r),o=yield Wl(t.localStore,e.query,!0),l=e.view.hc(o);return t.isPrimaryClient&&pp(t,e.targetId,l.cc),l}),Sm.apply(this,arguments)}function iy(r,e){return xm.apply(this,arguments)}function xm(){return xm=(0,w.Z)(function*(r,e){const t=en(r);return Tg(t.localStore,e).then(o=>Jl(t,o))}),xm.apply(this,arguments)}function oy(r,e,t,o){return gp.apply(this,arguments)}function gp(){return gp=(0,w.Z)(function*(r,e,t,o){const l=en(r),m=yield function(y,P){const $=en(y),K=en($.mutationQueue);return $.persistence.runTransaction("Lookup mutation documents","readonly",le=>K.Sn(le,P).next(Re=>Re?$.localDocuments.getDocuments(le,Re):pt.resolve(null)))}(l.localStore,e);var P;null!==m?("pending"===t?yield Yl(l.remoteStore):"acknowledged"===t||"rejected"===t?(Ql(l,e,o||null),Vu(l,e),P=e,en(en(l.localStore).mutationQueue).Cn(P)):nn(),yield Jl(l,m)):Ct("SyncEngine","Cannot apply mutation batch with id: "+e)}),gp.apply(this,arguments)}function rf(){return rf=(0,w.Z)(function*(r,e){const t=en(r);if($u(t),ph(t),!0===e&&!0!==t.vc){const o=t.sharedClientState.getAllActiveQueryTargets(),l=yield _p(t,o.toArray());t.vc=!0,yield ah(t.remoteStore,!0);for(const m of l)rh(t.remoteStore,m)}else if(!1===e&&!1!==t.vc){const o=[];let l=Promise.resolve();t._c.forEach((m,y)=>{t.sharedClientState.isLocalQueryTarget(y)?o.push(y):l=l.then(()=>(xc(t,y),Au(t.localStore,y,!0))),Kh(t.remoteStore,y)}),yield l,yield _p(t,o),function(m){const y=en(m);y.yc.forEach((P,$)=>{Kh(y.remoteStore,$)}),y.Ic.Ts(),y.yc=new Map,y.gc=new vi(hn.comparator)}(t),t.vc=!1,yield ah(t.remoteStore,!1)}}),rf.apply(this,arguments)}function _p(r,e,t){return hh.apply(this,arguments)}function hh(){return hh=(0,w.Z)(function*(r,e,t){const o=en(r),l=[],m=[];for(const y of e){let P;const $=o._c.get(y);if($&&0!==$.length){P=yield Tu(o.localStore,R($[0]));for(const K of $){const le=o.wc.get(K),Re=yield Wg(o,le);Re.snapshot&&m.push(Re.snapshot)}}else{const K=yield Su(o.localStore,y);P=yield Tu(o.localStore,K),yield Fu(o,sf(K),y,!1,P.resumeToken)}l.push(P)}return o.dc.nu(m),l}),hh.apply(this,arguments)}function sf(r){return Rd(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Rm(r){const e=en(r);return en(en(e.localStore).persistence).$i()}function sy(r,e,t,o){return fh.apply(this,arguments)}function fh(){return fh=(0,w.Z)(function*(r,e,t,o){const l=en(r);if(l.vc)return void Ct("SyncEngine","Ignoring unexpected query state notification.");const m=l._c.get(e);if(m&&m.length>0)switch(t){case"current":case"not-current":{const y=yield Tg(l.localStore,Kn(m[0])),P=Sf.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,bo.EMPTY_BYTE_STRING);yield Jl(l,y,P);break}case"rejected":yield Au(l.localStore,e,!0),xc(l,e,o);break;default:nn()}}),fh.apply(this,arguments)}function md(r,e,t){return yp.apply(this,arguments)}function yp(){return yp=(0,w.Z)(function*(r,e,t){const o=$u(r);if(o.vc){for(const l of e){if(o._c.has(l)){Ct("SyncEngine","Adding an already active target "+l);continue}const m=yield Su(o.localStore,l),y=yield Tu(o.localStore,m);yield Fu(o,sf(m),y.targetId,!1,y.resumeToken),rh(o.remoteStore,y)}for(const l of t)o._c.has(l)&&(yield Au(o.localStore,l,!1).then(()=>{Kh(o.remoteStore,l),xc(o,l)}).catch(Js))}}),yp.apply(this,arguments)}function $u(r){const e=en(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=lh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nf.bind(null,e),e.dc.nu=Cm.bind(null,e.eventManager),e.dc.Pc=up.bind(null,e.eventManager),e}function ph(r){const e=en(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uh.bind(null,e),e}class gd{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,w.Z)(function*(){t.serializer=eh(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Wh(this.persistence,new ad,e.initialUser,this.serializer)}createPersistence(e){return new Kd(Wf.zs,this.serializer)}createSharedClientState(e){return new ep}terminate(){var e=this;return(0,w.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Dl extends gd{constructor(e,t,o){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,w.Z)(function*(){yield t().call(o,e),yield o.Vc.initialize(o,e),yield ph(o.Vc.syncEngine),yield Yl(o.Vc.remoteStore),yield o.persistence.Ii(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Wh(this.persistence,new ad,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new H_(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const o=new Id(t,this.persistence);return new ac(e.asyncQueue,o)}createPersistence(e){const t=Yd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Va.withCacheSize(this.cacheSizeBytes):Va.DEFAULT;return new Zf(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,Jd(),Xd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new ep}}class af extends Dl{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,w.Z)(function*(){yield t().call(o,e);const l=o.Vc.syncEngine;o.sharedClientState instanceof Xf&&(o.sharedClientState.syncEngine={jr:oy.bind(null,l),zr:sy.bind(null,l),Wr:md.bind(null,l),$i:Rm.bind(null,l),Qr:iy.bind(null,l)},yield o.sharedClientState.start()),yield o.persistence.Ii(function(){var m=(0,w.Z)(function*(y){yield function Mm(r,e){return rf.apply(this,arguments)}(o.Vc.syncEngine,y),o.gcScheduler&&(y&&!o.gcScheduler.started?o.gcScheduler.start():y||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(y&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():y||o.indexBackfillerScheduler.stop())});return function(y){return m.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Jd();if(!Xf.D(t))throw new Ft(ht.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Yd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Xf(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class _d{initialize(e,t){var o=this;return(0,w.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>sl(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=zg.bind(null,o.syncEngine),yield ah(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new bm}createDatastore(e){const t=eh(e.databaseInfo.databaseId),o=new np(e.databaseInfo);return new Gy(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,l=e.asyncQueue,m=P=>sl(this.syncEngine,P,0),y=dm.D()?new dm:new um,new J_(t,o,l,m,y);var t,o,l,m,y}createSyncEngine(e,t){return function(o,l,m,y,P,$,K){const le=new Dm(o,l,m,y,P,$);return K&&(le.vc=!0),le}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,w.Z)(function*(t){const o=en(t);Ct("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield Pu(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Zg(r,e=10240){let t=0;return{read:()=>(0,w.Z)(function*(){if(t<r.byteLength){const o={value:r.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,w.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Hu{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Sn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Pm{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new co,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(o=>{o&&o.Qu()?this.metadata.resolve(o.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.Gu)}`))},o=>this.metadata.reject(o))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,w.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,w.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,w.Z)(function*(){const t=yield e.kc();if(null===t)return null;const o=e.xc.decode(t),l=Number(o);isNaN(l)&&e.Mc(`length string (${o}) is not valid number`);const m=yield e.$c(l);return new Fg(JSON.parse(m),t.length+l)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,w.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}$c(e){var t=this;return(0,w.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const o=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,w.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class ay{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,w.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ft(ht.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(l=(0,w.Z)(function*(m,y){const P=en(m),$=Nh(P.serializer)+"/documents",K={documents:y.map(Nt=>rd(P.serializer,Nt))},le=yield P.vo("BatchGetDocuments",$,K,y.length),Re=new Map;le.forEach(Nt=>{const on=function hg(r,e){return"found"in e?function(t,o){Dn(!!o.found);const l=rl(t,o.found.name),m=Yr(o.found.updateTime),y=o.found.createTime?Yr(o.found.createTime):Hn.min(),P=new Ao({mapValue:{fields:o.found.fields}});return Pi.newFoundDocument(l,m,y,P)}(r,e):"missing"in e?function(t,o){Dn(!!o.missing),Dn(!!o.readTime);const l=rl(t,o.missing),m=Yr(o.readTime);return Pi.newNoDocument(l,m)}(r,e):nn()}(P.serializer,Nt);Re.set(on.key.toString(),on)});const ft=[];return y.forEach(Nt=>{const on=Re.get(Nt.toString());Dn(!!on),ft.push(on)}),ft}),function(m,y){return l.apply(this,arguments)})(t.datastore,e);var l;return o.forEach(l=>t.recordVersion(l)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Qa(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,w.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,l)=>{const m=hn.fromPath(l);e.mutations.push(new mu(m,e.precondition(m)))}),yield(o=(0,w.Z)(function*(l,m){const y=en(l),P=Nh(y.serializer)+"/documents",$={writes:m.map(K=>id(y.serializer,K))};yield y.Io("Commit",P,$)}),function(l,m){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw nn();t=Hn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new Ft(ht.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Hn.min())?Bo.exists(!1):Bo.updateTime(t):Bo.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Hn.min()))throw new Ft(ht.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Bo.updateTime(t)}return Bo.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Kg{constructor(e,t,o,l,m){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=l,this.deferred=m,this.Bc=o.maxAttempts,this.qo=new hm(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,w.Z)(function*(){const t=new ay(e.datastore),o=e.qc(t);o&&o.then(l=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(l)}).catch(m=>{e.Uc(m)}))}).catch(l=>{e.Uc(l)})}))}qc(e){try{const t=this.updateFunction(e);return!Bi(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!og(t)}return!1}}class Yg{constructor(e,t,o,l){var m=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=l,this.user=z.UNAUTHENTICATED,this.clientId=Kr.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var y=(0,w.Z)(function*(P){Ct("FirestoreClient","Received user=",P.uid),yield m.authCredentialListener(P),m.user=P});return function(P){return y.apply(this,arguments)}}()),this.appCheckCredentials.start(o,y=>(Ct("FirestoreClient","Received new app check token=",y),this.appCheckCredentialListener(y,this.user)))}getConfiguration(){var e=this;return(0,w.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ft(ht.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new co;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,w.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const l=fd(o,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function mh(r,e){return cf.apply(this,arguments)}function cf(){return cf=(0,w.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Ct("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let o=t.initialUser;r.setCredentialChangeListener(function(){var l=(0,w.Z)(function*(m){o.isEqual(m)||(yield qh(e.localStore,m),o=m)});return function(m){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),cf.apply(this,arguments)}function lf(r,e){return bp.apply(this,arguments)}function bp(){return bp=(0,w.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield wp(r);Ct("FirestoreClient","Initializing OnlineComponentProvider");const o=yield r.getConfiguration();yield e.initialize(t,o),r.setCredentialChangeListener(l=>dd(e.remoteStore,l)),r.setAppCheckTokenChangeListener((l,m)=>dd(e.remoteStore,m)),r._onlineComponents=e}),bp.apply(this,arguments)}function Om(r){return"FirebaseError"===r.name?r.code===ht.FAILED_PRECONDITION||r.code===ht.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function wp(r){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,w.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ct("FirestoreClient","Using user provided OfflineComponentProvider");try{yield mh(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Om(t))throw t;Gr("Error using user provided cache. Falling back to memory cache: "+t),yield mh(r,new gd)}}else Ct("FirestoreClient","Using default OfflineComponentProvider"),yield mh(r,new gd);return r._offlineComponents}),Ep.apply(this,arguments)}function uf(r){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,w.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ct("FirestoreClient","Using user provided OnlineComponentProvider"),yield lf(r,r._uninitializedComponentsProvider._online)):(Ct("FirestoreClient","Using default OnlineComponentProvider"),yield lf(r,new _d))),r._onlineComponents}),Cp.apply(this,arguments)}function zu(r){return wp(r).then(e=>e.persistence)}function Gu(r){return wp(r).then(e=>e.localStore)}function Wc(r){return uf(r).then(e=>e.remoteStore)}function Ip(r){return uf(r).then(e=>e.syncEngine)}function Tl(r){return Al.apply(this,arguments)}function Al(){return Al=(0,w.Z)(function*(r){const e=yield uf(r),t=e.eventManager;return t.onListen=jg.bind(null,e.syncEngine),t.onUnlisten=Hg.bind(null,e.syncEngine),t}),Al.apply(this,arguments)}function cy(r,e,t={}){const o=new co;return r.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return function(l,m,y,P,$){const K=new Hu({next:Re=>{m.enqueueAndForget(()=>Xh(l,le));const ft=Re.docs.has(y);!ft&&Re.fromCache?$.reject(new Ft(ht.UNAVAILABLE,"Failed to get document because the client is offline.")):ft&&Re.fromCache&&P&&"server"===P.source?$.reject(new Ft(ht.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):$.resolve(Re)},error:Re=>$.reject(Re)}),le=new dp(Ll(y.path),K,{includeMetadataChanges:!0,Ku:!0});return wm(l,le)}(yield Tl(r),r.asyncQueue,e,t,o)})),o.promise}function Jg(r,e,t={}){const o=new co;return r.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return function(l,m,y,P,$){const K=new Hu({next:Re=>{m.enqueueAndForget(()=>Xh(l,le)),Re.fromCache&&"server"===P.source?$.reject(new Ft(ht.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):$.resolve(Re)},error:Re=>$.reject(Re)}),le=new dp(y,K,{includeMetadataChanges:!0,Ku:!0});return wm(l,le)}(yield Tl(r),r.asyncQueue,e,t,o)})),o.promise}function e_(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const dy=new Map;function t_(r,e,t){if(!t)throw new Ft(ht.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function n_(r,e,t,o){if(!0===e&&!0===o)throw new Ft(ht.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function hy(r){if(!hn.isDocumentKey(r))throw new Ft(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function r_(r){if(hn.isDocumentKey(r))throw new Ft(ht.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Dp(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":nn()}function ti(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ft(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Dp(r);throw new Ft(ht.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function fy(r,e){if(e<=0)throw new Ft(ht.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class py{constructor(e){var t,o;if(void 0===e.host){if(void 0!==e.ssl)throw new Ft(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ft(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=e_(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new Ft(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ft(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ft(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hf{constructor(e,t,o,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new py({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ft(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ft(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new py(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new tu;switch(t.type){case"firstParty":return new go(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ft(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=dy.get(e);t&&(Ct("ComponentProvider","Removing Datastore"),dy.delete(e),t.terminate())}(this),Promise.resolve()}}function my(r,e,t,o={}){var l;const m=(r=ti(r,hf))._getSettings();if("firestore.googleapis.com"!==m.host&&m.host!==e&&Gr("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},m),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let y,P;if("string"==typeof o.mockUserToken)y=o.mockUserToken,P=z.MOCK_USER;else{y=(0,be.Sg)(o.mockUserToken,null===(l=r._app)||void 0===l?void 0:l.options.projectId);const $=o.mockUserToken.sub||o.mockUserToken.user_id;if(!$)throw new Ft(ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");P=new z($)}r._authCredentials=new Rc(new dl(y,P))}}class Xo{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xo(this.firestore,e,this._key)}}class Xa{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Xa(this.firestore,e,this._query)}}class Sl extends Xa{constructor(e,t,o){super(e,t,Ll(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xo(this.firestore,null,new hn(e))}withConverter(e){return new Sl(this.firestore,e,this._path)}}function i_(r,e,...t){if(r=(0,be.m9)(r),t_("collection","path",e),r instanceof hf){const o=lr.fromString(e,...t);return r_(o),new Sl(r,null,o)}{if(!(r instanceof Xo||r instanceof Sl))throw new Ft(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(lr.fromString(e,...t));return r_(o),new Sl(r.firestore,null,o)}}function eu(r,e){if(r=ti(r,hf),t_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ft(ht.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xa(r,null,(t=e,new Lc(lr.emptyPath(),t)));var t}function gy(r,e,...t){if(r=(0,be.m9)(r),1===arguments.length&&(e=Kr.A()),t_("doc","path",e),r instanceof hf){const o=lr.fromString(e,...t);return hy(o),new Xo(r,null,new hn(o))}{if(!(r instanceof Xo||r instanceof Sl))throw new Ft(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(lr.fromString(e,...t));return hy(o),new Xo(r.firestore,r instanceof Sl?r.converter:null,new hn(o))}}function Zy(r,e){return r=(0,be.m9)(r),e=(0,be.m9)(e),(r instanceof Xo||r instanceof Sl)&&(e instanceof Xo||e instanceof Sl)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function al(r,e){return r=(0,be.m9)(r),e=(0,be.m9)(e),r instanceof Xa&&e instanceof Xa&&r.firestore===e.firestore&&qe(r._query,e._query)&&r.converter===e.converter}class xl{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new hm(this,"async_queue_retry"),this.Xc=()=>{const t=Xd();t&&Ct("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Xd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Xd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new co;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,w.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!sc(t))throw t;Ct("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,Sn("INTERNAL UNHANDLED ERROR: ",function(m){let y=m.message||"";return m.stack&&(y=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),y}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=t,t}enqueueAfterDelay(e,t,o){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const l=hd.createAndSchedule(this,e,t,o,m=>this.na(m));return this.zc.push(l),l}Zc(){this.Wc&&nn()}verifyOperationInProgress(){}sa(){var e=this;return(0,w.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function qc(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const l of["next","error","complete"])if(l in o&&"function"==typeof o[l])return!0;return!1}(r)}class _y{constructor(){this._progressObserver={},this._taskCompletionResolver=new co,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const yy=-1;class So extends hf{constructor(e,t,o,l){super(e,t,o,l),this.type="firestore",this._queue=new xl,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||km(this),this._firestoreClient.terminate()}}function Ky(r,e){const t="object"==typeof r?r:(0,j.getApp)(),o="string"==typeof r?r:e||"(default)",l=(0,j._getProvider)(t,"firestore").getImmediate({identifier:o});if(!l._initialized){const m=(0,be.P0)("firestore");m&&my(l,...m)}return l}function Ts(r){return r._firestoreClient||km(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function km(r){var e,t,o;const l=r._freezeSettings(),m=(P=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Nl(r._databaseId,P,r._persistenceKey,(K=l).host,K.ssl,K.experimentalForceLongPolling,K.experimentalAutoDetectLongPolling,e_(K.experimentalLongPollingOptions),K.useFetchStreams));var P,K;r._firestoreClient=new Yg(r._authCredentials,r._appCheckCredentials,r._queue,m),null!==(t=l.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(o=l.cache)&&void 0!==o&&o._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.cache.kind,_offline:l.cache._offlineComponentProvider,_online:l.cache._onlineComponentProvider})}function Tp(r,e){s_(r=ti(r,So));const t=Ts(r);if(t._uninitializedComponentsProvider)throw new Ft(ht.FAILED_PRECONDITION,"SDK cache is already specified.");Gr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=r._freezeSettings(),l=new _d;return Fm(t,l,new Dl(l,o.cacheSizeBytes,e?.forceOwnership))}function Yy(r){s_(r=ti(r,So));const e=Ts(r);if(e._uninitializedComponentsProvider)throw new Ft(ht.FAILED_PRECONDITION,"SDK cache is already specified.");Gr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings(),o=new _d;return Fm(e,o,new af(o,t.cacheSizeBytes))}function Fm(r,e,t){const o=new co;return r.asyncQueue.enqueue((0,w.Z)(function*(){try{yield mh(r,t),yield lf(r,e),o.resolve()}catch(l){const m=l;if(!Om(m))throw m;Gr("Error enabling indexeddb cache. Falling back to memory cache: "+m),o.reject(m)}})).then(()=>o.promise)}function Qy(r){if(r._initialized&&!r._terminated)throw new Ft(ht.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new co;return r._queue.enqueueAndForgetEvenWhileRestricted((0,w.Z)(function*(){try{yield(t=(0,w.Z)(function*(o){if(!zr.D())return Promise.resolve();const l=o+"main";yield zr.delete(l)}),function(o){return t.apply(this,arguments)})(Yd(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function Jy(r){return function(e){const t=new co;return e.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return function dh(r,e){return Bu.apply(this,arguments)}(yield Ip(e),t)})),t.promise}(Ts(r=ti(r,So)))}function vy(r){return function Nm(r){return r.asyncQueue.enqueue((0,w.Z)(function*(){const e=yield zu(r),t=yield Wc(r);return e.setNetworkEnabled(!0),function(o){const l=en(o);return l.vu.delete(0),ol(l)}(t)}))}(Ts(r=ti(r,So)))}function by(r){return function Wy(r){return r.asyncQueue.enqueue((0,w.Z)(function*(){const e=yield zu(r),t=yield Wc(r);return e.setNetworkEnabled(!1),(o=(0,w.Z)(function*(l){const m=en(l);m.vu.add(0),yield Pu(m),m.bu.set("Offline")}),function(l){return o.apply(this,arguments)})(t);var o}))}(Ts(r=ti(r,So)))}function Xy(r,e){const t=Ts(r=ti(r,So)),o=new _y;return function Xg(r,e,t,o){const l=function(m,y){let P;return P="string"==typeof m?Oh().encode(m):m,$=function($,K){if($ instanceof Uint8Array)return Zg($,K);if($ instanceof ArrayBuffer)return Zg(new Uint8Array($),K);if($ instanceof ReadableStream)return $.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(P),new Pm($,y);var $}(t,eh(e));r.asyncQueue.enqueueAndForget((0,w.Z)(function*(){!function qg(r,e,t){const o=en(r);var l;(l=(0,w.Z)(function*(m,y,P){try{const $=yield y.getMetadata();if(yield function(ft,Nt){const on=en(ft),Mn=Yr(Nt.createTime);return on.persistence.runTransaction("hasNewerBundle","readonly",Fn=>on.qs.getBundleMetadata(Fn,Nt.id)).then(Fn=>!!Fn&&Fn.createTime.compareTo(Mn)>=0)}(m.localStore,$))return yield y.close(),P._completeWith({taskState:"Success",documentsLoaded:(ft=$).totalDocuments,bytesLoaded:ft.totalBytes,totalDocuments:ft.totalDocuments,totalBytes:ft.totalBytes}),Promise.resolve(new Set);P._updateProgress(pd($));const K=new zc($,m.localStore,y.serializer);let le=yield y.bc();for(;le;){const ft=yield K.zu(le);ft&&P._updateProgress(ft),le=yield y.bc()}const Re=yield K.complete();return yield Jl(m,Re.Ju,void 0),yield function(ft,Nt){const on=en(ft);return on.persistence.runTransaction("Save bundle","readwrite",Mn=>on.qs.saveBundleMetadata(Mn,Nt))}(m.localStore,$),P._completeWith(Re.progress),Promise.resolve(Re.Hu)}catch($){return Gr("SyncEngine",`Loading bundle failed with ${$}`),P._failWith($),Promise.resolve(new Set)}var ft}),function(m,y,P){return l.apply(this,arguments)})(o,e,t).then(l=>{o.sharedClientState.notifyBundleLoaded(l)})}(yield Ip(r),l,o)}))}(t,r._databaseId,e,o),o}function wy(r,e){return function uy(r,e){return r.asyncQueue.enqueue((0,w.Z)(function*(){return function(t,o){const l=en(t);return l.persistence.runTransaction("Get named query","readonly",m=>l.qs.getNamedQuery(m,o))}(yield Gu(r),e)}))}(Ts(r=ti(r,So)),e).then(t=>t?new Xa(r,null,t.query):null)}function s_(r){if(r._initialized||r._terminated)throw new Ft(ht.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Wu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wu(bo.fromBase64String(e))}catch(t){throw new Ft(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wu(bo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class qu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ft(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yd{constructor(e){this._methodName=e}}class Ap{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ft(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ft(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return or(this._lat,e._lat)||or(this._long,e._long)}}const Ey=/^__.*__$/;class Cy{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Bl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ud(e,this.data,t,this.fieldTransforms)}}class a_{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Bl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Iy(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nn()}}class Um{constructor(e,t,o,l,m,y){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=l,void 0===m&&this.ua(),this.fieldTransforms=m||[],this.fieldMask=y||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Um(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.aa({path:o,la:!1});return l.fa(e),l}da(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.aa({path:o,la:!1});return l.ua(),l}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Pp(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Iy(this.ca)&&Ey.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class tv{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||eh(e)}ya(e,t,o,l=!1){return new Um({ca:e,methodName:t,ga:o,path:gr.emptyPath(),la:!1,ma:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _h(r){const e=r._freezeSettings(),t=eh(r._databaseId);return new tv(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Bm(r,e,t,o,l,m={}){const y=r.ya(m.merge||m.mergeFields?2:0,e,t,l);d_("Data must be an object, but it was:",y,o);const P=l_(o,y);let $,K;if(m.merge)$=new Us(y.fieldMask),K=y.fieldTransforms;else if(m.mergeFields){const le=[];for(const Re of m.mergeFields){const ft=ff(e,Re,t);if(!y.contains(ft))throw new Ft(ht.INVALID_ARGUMENT,`Field '${ft}' is specified in your field mask but missing from your input data.`);h_(le,ft)||le.push(ft)}$=new Us(le),K=y.fieldTransforms.filter(Re=>$.covers(Re.field))}else $=null,K=y.fieldTransforms;return new Cy(new Ao(P),$,K)}class Sp extends yd{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sp}}function xp(r,e,t){return new Um({ca:3,ga:e.settings.ga,methodName:r._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Mp extends yd{_toFieldTransform(e){return new Ef(e.path,new kd)}isEqual(e){return e instanceof Mp}}class Dy extends yd{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=xp(this,e,!0),o=this.pa.map(m=>vd(m,t)),l=new bl(o);return new Ef(e.path,l)}isEqual(e){return this===e}}class nv extends yd{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=xp(this,e,!0),o=this.pa.map(m=>vd(m,t)),l=new wl(o);return new Ef(e.path,l)}isEqual(e){return this===e}}class Vm extends yd{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new fc(e.serializer,td(e.serializer,this.Ia));return new Ef(e.path,t)}isEqual(e){return this===e}}function jm(r,e,t,o){const l=r.ya(1,e,t);d_("Data must be an object, but it was:",l,o);const m=[],y=Ao.empty();Na(o,($,K)=>{const le=Rp(e,$,t);K=(0,be.m9)(K);const Re=l.da(le);if(K instanceof Sp)m.push(le);else{const ft=vd(K,Re);null!=ft&&(m.push(le),y.set(le,ft))}});const P=new Us(m);return new a_(y,P,l.fieldTransforms)}function $m(r,e,t,o,l,m){const y=r.ya(1,e,t),P=[ff(e,o,t)],$=[l];if(m.length%2!=0)throw new Ft(ht.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ft=0;ft<m.length;ft+=2)P.push(ff(e,m[ft])),$.push(m[ft+1]);const K=[],le=Ao.empty();for(let ft=P.length-1;ft>=0;--ft)if(!h_(K,P[ft])){const Nt=P[ft];let on=$[ft];on=(0,be.m9)(on);const Mn=y.da(Nt);if(on instanceof Sp)K.push(Nt);else{const Fn=vd(on,Mn);null!=Fn&&(K.push(Nt),le.set(Nt,Fn))}}const Re=new Us(K);return new a_(le,Re,y.fieldTransforms)}function c_(r,e,t,o=!1){return vd(t,r.ya(o?4:3,e))}function vd(r,e){if(u_(r=(0,be.m9)(r)))return d_("Unsupported field value:",e,r),l_(r,e);if(r instanceof yd)return function(t,o){if(!Iy(o.ca))throw o._a(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,o){const l=[];let m=0;for(const y of t){let P=vd(y,o.wa(m));null==P&&(P={nullValue:"NULL_VALUE"}),l.push(P),m++}return{arrayValue:{values:l}}}(r,e)}return function(t,o){if(null===(t=(0,be.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return td(o.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=Ti.fromDate(t);return{timestampValue:nd(o.serializer,l)}}if(t instanceof Ti){const l=new Ti(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:nd(o.serializer,l)}}if(t instanceof Ap)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Wu)return{bytesValue:Pf(o.serializer,t._byteString)};if(t instanceof Xo){const l=o.databaseId,m=t.firestore._databaseId;if(!m.isEqual(l))throw o._a(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:jp(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o._a(`Unsupported field value: ${Dp(t)}`)}(r,e)}function l_(r,e){const t={};return su(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Na(r,(o,l)=>{const m=vd(l,e.ha(o));null!=m&&(t[o]=m)}),{mapValue:{fields:t}}}function u_(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Ti||r instanceof Ap||r instanceof Wu||r instanceof Xo||r instanceof yd)}function d_(r,e,t){if(!u_(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Dp(t);throw e._a("an object"===o?r+" a custom object":r+" "+o)}var o}function ff(r,e,t){if((e=(0,be.m9)(e))instanceof qu)return e._internalPath;if("string"==typeof e)return Rp(r,e);throw Pp("Field path arguments must be of type string or ",r,!1,void 0,t)}const Ty=new RegExp("[~\\*/\\[\\]]");function Rp(r,e,t){if(e.search(Ty)>=0)throw Pp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new qu(...e.split("."))._internalPath}catch{throw Pp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Pp(r,e,t,o,l){const m=o&&!o.isEmpty(),y=void 0!==l;let P=`Function ${e}() called with invalid data`;t&&(P+=" (via `toFirestore()`)"),P+=". ";let $="";return(m||y)&&($+=" (found",m&&($+=` in field ${o}`),y&&($+=` in document ${l}`),$+=")"),new Ft(ht.INVALID_ARGUMENT,P+r+$)}function h_(r,e){return r.some(t=>t.isEqual(e))}class pf{constructor(e,t,o,l,m){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=l,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new Xo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ay(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ay extends pf{data(){return super.data()}}function mf(r,e){return"string"==typeof e?Rp(r,e):e instanceof qu?e._internalPath:e._delegate._internalPath}function f_(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Ft(ht.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hm{}class gf extends Hm{}function yh(r,e,...t){let o=[];e instanceof Hm&&o.push(e),o=o.concat(t),function(l){const m=l.filter(P=>P instanceof Ml).length,y=l.filter(P=>P instanceof Op).length;if(m>1||m>0&&y>0)throw new Ft(ht.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const l of o)r=l._apply(r);return r}class Op extends gf{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new Op(e,t,o)}_apply(e){const t=this._parse(e);return Y(e._query,t),new Xa(e.firestore,e.converter,Q(e._query,t))}_parse(e){const t=_h(e.firestore);return function(l,m,y,P,$,K,le){let Re;if($.isKeyField()){if("array-contains"===K||"array-contains-any"===K)throw new Ft(ht.INVALID_ARGUMENT,`Invalid Query. You can't perform '${K}' queries on documentId().`);if("in"===K||"not-in"===K){N(le,K);const ft=[];for(const Nt of le)ft.push(b(P,l,Nt));Re={arrayValue:{values:ft}}}else Re=b(P,l,le)}else"in"!==K&&"not-in"!==K&&"array-contains-any"!==K||N(le,K),Re=c_(y,"where",le,"in"===K||"not-in"===K);return pe.create($,K,Re)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function rv(r,e,t){const o=e,l=mf("where",r);return Op._create(l,o,t)}class Ml extends Hm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ml(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:Pe.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,l){let m=o;const y=l.getFlattenedFilters();for(const P of y)Y(m,P),m=Q(m,P)}(e._query,t),new Xa(e.firestore,e.converter,Q(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class m_ extends gf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new m_(e,t)}_apply(e){const t=function(o,l,m){if(null!==o.startAt)throw new Ft(ht.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Ft(ht.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const y=new M(l,m);return function(P,$){if(null===Th(P)){const K=T(P);null!==K&&he(0,K,$.field)}}(o,y),y}(e._query,this._field,this._direction);return new Xa(e.firestore,e.converter,function(o,l){const m=o.explicitOrderBy.concat([l]);return new Lc(o.path,o.collectionGroup,m,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function g_(r,e="asc"){const t=e,o=mf("orderBy",r);return m_._create(o,t)}class _f extends gf{constructor(e,t,o){super(),this.type=e,this._limit=t,this._limitType=o}static _create(e,t,o){return new _f(e,t,o)}_apply(e){return new Xa(e.firestore,e.converter,de(e._query,this._limit,this._limitType))}}function iv(r){return fy("limit",r),_f._create("limit",r,"F")}function Er(r){return fy("limitToLast",r),_f._create("limitToLast",r,"L")}class Np extends gf{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new Np(e,t,o)}_apply(e){const t=f(e,this.type,this._docOrFields,this._inclusive);return new Xa(e.firestore,e.converter,(l=t,new Lc((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)));var o,l}}function Sy(...r){return Np._create("startAt",r,!0)}function xy(...r){return Np._create("startAfter",r,!1)}class u extends gf{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new u(e,t,o)}_apply(e){const t=f(e,this.type,this._docOrFields,this._inclusive);return new Xa(e.firestore,e.converter,(l=t,new Lc((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)));var o,l}}function c(...r){return u._create("endBefore",r,!1)}function a(...r){return u._create("endAt",r,!0)}function f(r,e,t,o){if(t[0]=(0,be.m9)(t[0]),t[0]instanceof pf)return function(l,m,y,P,$){if(!P)throw new Ft(ht.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${y}().`);const K=[];for(const le of v(l))if(le.field.isKeyField())K.push(kl(m,P.key));else{const Re=P.data.field(le.field);if(Jc(Re))throw new Ft(ht.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+le.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Re){const ft=le.field.canonicalString();throw new Ft(ht.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ft}' (used as the orderBy) does not exist.`)}K.push(Re)}return new kc(K,$)}(r._query,r.firestore._databaseId,e,t[0]._document,o);{const l=_h(r.firestore);return function(m,y,P,$,K,le){const Re=m.explicitOrderBy;if(K.length>Re.length)throw new Ft(ht.INVALID_ARGUMENT,`Too many arguments provided to ${$}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ft=[];for(let Nt=0;Nt<K.length;Nt++){const on=K[Nt];if(Re[Nt].field.isKeyField()){if("string"!=typeof on)throw new Ft(ht.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${$}(), but got a ${typeof on}`);if(!g(m)&&-1!==on.indexOf("/"))throw new Ft(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${$}() must be a plain document ID, but '${on}' contains a slash.`);const Mn=m.path.child(lr.fromString(on));if(!hn.isDocumentKey(Mn))throw new Ft(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${$}() must result in a valid document path, but '${Mn}' is not because it contains an odd number of segments.`);const Fn=new hn(Mn);ft.push(kl(y,Fn))}else{const Mn=c_(P,$,on);ft.push(Mn)}}return new kc(ft,le)}(r._query,r.firestore._databaseId,l,e,t,o)}}function b(r,e,t){if("string"==typeof(t=(0,be.m9)(t))){if(""===t)throw new Ft(ht.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!g(e)&&-1!==t.indexOf("/"))throw new Ft(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(lr.fromString(t));if(!hn.isDocumentKey(o))throw new Ft(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return kl(r,new hn(o))}if(t instanceof Xo)return kl(r,t._key);throw new Ft(ht.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dp(t)}.`)}function N(r,e){if(!Array.isArray(r)||0===r.length)throw new Ft(ht.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Y(r,e){if(e.isInequality()){const o=T(r),l=e.field;if(null!==o&&!o.isEqual(l))throw new Ft(ht.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${l.toString()}'`);const m=Th(r);null!==m&&he(0,l,m)}const t=function(o,l){for(const m of o)for(const y of m.getFlattenedFilters())if(l.indexOf(y.op)>=0)return y.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ft(ht.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function he(r,e,t){if(!t.isEqual(e))throw new Ft(ht.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class $e{convertValue(e,t="none"){switch(ta(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ni(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw nn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const o={};return Na(e,(l,m)=>{o[l]=this.convertValue(m,t)}),o}convertGeoPoint(e){return new Ap(Ni(e.latitude),Ni(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=_l(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Oc(e));default:return null}}convertTimestamp(e){const t=Ic(e);return new Ti(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=lr.fromString(e);Dn(yu(o));const l=new Dc(o.get(1),o.get(3)),m=new hn(o.popFirst(5));return l.isEqual(t)||Sn(`Document ${m} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),m}}function Ot(r,e,t){let o;return o=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,o}class Yt extends $e{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xo(this.firestore,null,t)}}class ur{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class si extends pf{constructor(e,t,o,l,m,y){super(e,t,o,l,y),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ai(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(mf("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class ai extends si{data(e={}){return super.data(e)}}class Br{constructor(e,t,o,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new ur(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new ai(this._firestore,this._userDataWriter,o.key,o,new ur(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ft(ht.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let m=0;return o._snapshot.docChanges.map(y=>({type:"added",doc:new ai(o._firestore,o._userDataWriter,y.doc.key,y.doc,new ur(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:m++}))}{let m=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(y=>l||3!==y.type).map(y=>{const P=new ai(o._firestore,o._userDataWriter,y.doc.key,y.doc,new ur(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let $=-1,K=-1;return 0!==y.type&&($=m.indexOf(y.doc.key),m=m.delete(y.doc.key)),1!==y.type&&(m=m.add(y.doc),K=m.indexOf(y.doc.key)),{type:gc(y.type),doc:P,oldIndex:$,newIndex:K}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function gc(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nn()}}function oa(r,e){return r instanceof si&&e instanceof si?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Br&&e instanceof Br&&r._firestore===e._firestore&&al(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}function As(r){r=ti(r,Xo);const e=ti(r.firestore,So);return cy(Ts(e),r._key).then(t=>cl(e,r,t))}class es extends $e{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xo(this.firestore,null,t)}}function Ca(r){r=ti(r,Xo);const e=ti(r.firestore,So),t=Ts(e),o=new es(e);return function df(r,e){const t=new co;return r.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return(o=(0,w.Z)(function*(l,m,y){try{const P=yield function($,K){const le=en($);return le.persistence.runTransaction("read document","readonly",Re=>le.localDocuments.getDocument(Re,K))}(l,m);P.isFoundDocument()?y.resolve(P):P.isNoDocument()?y.resolve(null):y.reject(new Ft(ht.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(P){const $=fd(P,`Failed to get document '${m} from cache`);y.reject($)}}),function(l,m,y){return o.apply(this,arguments)})(yield Gu(r),e,t);var o})),t.promise}(t,r._key).then(l=>new si(e,o,r._key,l,new ur(null!==l&&l.hasLocalMutations,!0),r.converter))}function Mc(r){r=ti(r,Xo);const e=ti(r.firestore,So);return cy(Ts(e),r._key,{source:"server"}).then(t=>cl(e,r,t))}function __(r){r=ti(r,Xa);const e=ti(r.firestore,So),t=Ts(e),o=new es(e);return f_(r._query),Jg(t,r._query).then(l=>new Br(e,o,r,l))}function yf(r){r=ti(r,Xa);const e=ti(r.firestore,So),t=Ts(e),o=new es(e);return function qy(r,e){const t=new co;return r.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return(o=(0,w.Z)(function*(l,m,y){try{const P=yield Wl(l,m,!0),$=new hp(m,P.ir),K=$.sc(P.documents),le=$.applyChanges(K,!1);y.resolve(le.snapshot)}catch(P){const $=fd(P,`Failed to execute query '${m} against cache`);y.reject($)}}),function(l,m,y){return o.apply(this,arguments)})(yield Gu(r),e,t);var o})),t.promise}(t,r._query).then(l=>new Br(e,o,r,l))}function bd(r){r=ti(r,Xa);const e=ti(r.firestore,So),t=Ts(e),o=new es(e);return Jg(t,r._query,{source:"server"}).then(l=>new Br(e,o,r,l))}function zm(r,e,t){r=ti(r,Xo);const o=ti(r.firestore,So),l=Ot(r.converter,e,t);return Vo(o,[Bm(_h(o),"setDoc",r._key,l,null!==r.converter,t).toMutation(r._key,Bo.none())])}function Gm(r,e,t,...o){r=ti(r,Xo);const l=ti(r.firestore,So),m=_h(l);let y;return y="string"==typeof(e=(0,be.m9)(e))||e instanceof qu?$m(m,"updateDoc",r._key,e,t,o):jm(m,"updateDoc",r._key,e),Vo(l,[y.toMutation(r._key,Bo.exists(!0))])}function Yn(r){return Vo(ti(r.firestore,So),[new Qa(r._key,Bo.none())])}function _r(r,e){const t=ti(r.firestore,So),o=gy(r),l=Ot(r.converter,e);return Vo(t,[Bm(_h(r.firestore),"addDoc",o._key,l,null!==r.converter,{}).toMutation(o._key,Bo.exists(!1))]).then(()=>o)}function Tr(r,...e){var t,o,l;r=(0,be.m9)(r);let m={includeMetadataChanges:!1},y=0;"object"!=typeof e[y]||qc(e[y])||(m=e[y],y++);const P={includeMetadataChanges:m.includeMetadataChanges};if(qc(e[y])){const Re=e[y];e[y]=null===(t=Re.next)||void 0===t?void 0:t.bind(Re),e[y+1]=null===(o=Re.error)||void 0===o?void 0:o.bind(Re),e[y+2]=null===(l=Re.complete)||void 0===l?void 0:l.bind(Re)}let $,K,le;if(r instanceof Xo)K=ti(r.firestore,So),le=Ll(r._key.path),$={next:Re=>{e[y]&&e[y](cl(K,r,Re))},error:e[y+1],complete:e[y+2]};else{const Re=ti(r,Xa);K=ti(Re.firestore,So),le=Re._query;const ft=new es(K);$={next:Nt=>{e[y]&&e[y](new Br(K,ft,Re,Nt))},error:e[y+1],complete:e[y+2]},f_(r._query)}return function(Re,ft,Nt,on){const Mn=new Hu(on),Fn=new dp(ft,Mn,Nt);return Re.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return wm(yield Tl(Re),Fn)})),()=>{Mn.Dc(),Re.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return Xh(yield Tl(Re),Fn)}))}}(Ts(K),le,P,$)}function xi(r,e){return function ly(r,e){const t=new Hu(e);return r.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return o=yield Tl(r),l=t,en(o).ku.add(l),void l.next();var o,l})),()=>{t.Dc(),r.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return o=yield Tl(r),l=t,void en(o).ku.delete(l);var o,l}))}}(Ts(r=ti(r,So)),qc(e)?e:{next:e})}function Vo(r,e){return function(t,o){const l=new co;return t.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return function ny(r,e,t){return Gc.apply(this,arguments)}(yield Ip(t),o,l)})),l.promise}(Ts(r),e)}function cl(r,e,t){const o=t.docs.get(e._key),l=new es(r);return new si(r,l,e._key,o,new ur(t.hasPendingWrites,t.fromCache),e.converter)}const wv={maxAttempts:5};class My{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=_h(e)}set(e,t,o){this._verifyNotCommitted();const l=bh(e,this._firestore),m=Ot(l.converter,t,o),y=Bm(this._dataReader,"WriteBatch.set",l._key,m,null!==l.converter,o);return this._mutations.push(y.toMutation(l._key,Bo.none())),this}update(e,t,o,...l){this._verifyNotCommitted();const m=bh(e,this._firestore);let y;return y="string"==typeof(t=(0,be.m9)(t))||t instanceof qu?$m(this._dataReader,"WriteBatch.update",m._key,t,o,l):jm(this._dataReader,"WriteBatch.update",m._key,t),this._mutations.push(y.toMutation(m._key,Bo.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=bh(e,this._firestore);return this._mutations=this._mutations.concat(new Qa(t._key,Bo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ft(ht.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bh(r,e){if((r=(0,be.m9)(r)).firestore!==e)throw new Ft(ht.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class Ev extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=_h(e)}get(e){const t=bh(e,this._firestore),o=new Yt(this._firestore);return this._transaction.lookup([t._key]).then(l=>{if(!l||1!==l.length)return nn();const m=l[0];if(m.isFoundDocument())return new pf(this._firestore,o,m.key,m,t.converter);if(m.isNoDocument())return new pf(this._firestore,o,t._key,null,t.converter);throw nn()})}set(e,t,o){const l=bh(e,this._firestore),m=Ot(l.converter,t,o),y=Bm(this._dataReader,"Transaction.set",l._key,m,null!==l.converter,o);return this._transaction.set(l._key,y),this}update(e,t,o,...l){const m=bh(e,this._firestore);let y;return y="string"==typeof(t=(0,be.m9)(t))||t instanceof qu?$m(this._dataReader,"Transaction.update",m._key,t,o,l):jm(this._dataReader,"Transaction.update",m._key,t),this._transaction.update(m._key,y),this}delete(e){const t=bh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=bh(e,this._firestore),o=new es(this._firestore);return super.get(e).then(l=>new si(this._firestore,o,t._key,l._document,new ur(!1,!1),t.converter))}}function qm(r,e,t){r=ti(r,So);const o=Object.assign(Object.assign({},wv),t);return function(l){if(l.maxAttempts<1)throw new Ft(ht.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(l,m,y){const P=new co;return l.asyncQueue.enqueueAndForget((0,w.Z)(function*(){const $=yield function Qg(r){return uf(r).then(e=>e.datastore)}(l);new Kg(l.asyncQueue,$,y,m,P).run()})),P.promise}(Ts(r),l=>e(new Ev(r,l)),o)}function Cv(){return new Sp("deleteField")}function ov(){return new Mp("serverTimestamp")}function Iv(...r){return new Dy("arrayUnion",r)}function sv(...r){return new nv("arrayRemove",r)}function Dv(r){return new Vm("increment",r)}!function(r,e=!0){we=j.SDK_VERSION,(0,j._registerComponent)(new h.wA("firestore",(t,{instanceIdentifier:o,options:l})=>{const m=t.getProvider("app").getImmediate(),y=new So(new ha(t.getProvider("auth-internal")),new qa(t.getProvider("app-check-internal")),function(P,$){if(!Object.prototype.hasOwnProperty.apply(P.options,["projectId"]))throw new Ft(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dc(P.options.projectId,$)}(m,o),m);return l=Object.assign({useFetchStreams:e},l),y._setSettings(l),y},"PUBLIC").setMultipleInstances(!0)),(0,j.registerVersion)(x,"3.12.1",r),(0,j.registerVersion)(x,"3.12.1","esm2017")}()},2090:(Qt,Ye,U)=>{"use strict";U.d(Ye,{$s:()=>lt,BH:()=>Qe,G6:()=>ct,L:()=>Se,LL:()=>En,P0:()=>ot,Pz:()=>Le,Sg:()=>Mt,UG:()=>Bt,US:()=>ne,ZB:()=>ve,ZR:()=>mt,aH:()=>Ge,b$:()=>ln,eu:()=>rt,hl:()=>gt,jU:()=>Wt,m9:()=>Me,ne:()=>Ln,pd:()=>mr,q4:()=>xe,r3:()=>Vr,ru:()=>Vt,tV:()=>fe,uI:()=>ze,vZ:()=>Kt,w1:()=>Pr,xO:()=>Ar,xb:()=>$n,z$:()=>It,zI:()=>Xe,zd:()=>$r});const ye=function(J){const se=[];let X=0;for(let oe=0;oe<J.length;oe++){let ee=J.charCodeAt(oe);ee<128?se[X++]=ee:ee<2048?(se[X++]=ee>>6|192,se[X++]=63&ee|128):55296==(64512&ee)&&oe+1<J.length&&56320==(64512&J.charCodeAt(oe+1))?(ee=65536+((1023&ee)<<10)+(1023&J.charCodeAt(++oe)),se[X++]=ee>>18|240,se[X++]=ee>>12&63|128,se[X++]=ee>>6&63|128,se[X++]=63&ee|128):(se[X++]=ee>>12|224,se[X++]=ee>>6&63|128,se[X++]=63&ee|128)}return se},ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(J,se){if(!Array.isArray(J))throw Error("encodeByteArray takes an array as a parameter");this.init_();const X=se?this.byteToCharMapWebSafe_:this.byteToCharMap_,oe=[];for(let ee=0;ee<J.length;ee+=3){const ke=J[ee],_e=ee+1<J.length,Ce=_e?J[ee+1]:0,ue=ee+2<J.length,Oe=ue?J[ee+2]:0;let Zt=(15&Ce)<<2|Oe>>6,cn=63&Oe;ue||(cn=64,_e||(Zt=64)),oe.push(X[ke>>2],X[(3&ke)<<4|Ce>>4],X[Zt],X[cn])}return oe.join("")},encodeString(J,se){return this.HAS_NATIVE_SUPPORT&&!se?btoa(J):this.encodeByteArray(ye(J),se)},decodeString(J,se){return this.HAS_NATIVE_SUPPORT&&!se?atob(J):function(J){const se=[];let X=0,oe=0;for(;X<J.length;){const ee=J[X++];if(ee<128)se[oe++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const ke=J[X++];se[oe++]=String.fromCharCode((31&ee)<<6|63&ke)}else if(ee>239&&ee<365){const ue=((7&ee)<<18|(63&J[X++])<<12|(63&J[X++])<<6|63&J[X++])-65536;se[oe++]=String.fromCharCode(55296+(ue>>10)),se[oe++]=String.fromCharCode(56320+(1023&ue))}else{const ke=J[X++],_e=J[X++];se[oe++]=String.fromCharCode((15&ee)<<12|(63&ke)<<6|63&_e)}}return se.join("")}(this.decodeStringToByteArray(J,se))},decodeStringToByteArray(J,se){this.init_();const X=se?this.charToByteMapWebSafe_:this.charToByteMap_,oe=[];for(let ee=0;ee<J.length;){const ke=X[J.charAt(ee++)],Ce=ee<J.length?X[J.charAt(ee)]:0;++ee;const Oe=ee<J.length?X[J.charAt(ee)]:64;++ee;const Rt=ee<J.length?X[J.charAt(ee)]:64;if(++ee,null==ke||null==Ce||null==Oe||null==Rt)throw new Ne;oe.push(ke<<2|Ce>>4),64!==Oe&&(oe.push(Ce<<4&240|Oe>>2),64!==Rt&&oe.push(Oe<<6&192|Rt))}return oe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let J=0;J<this.ENCODED_VALS.length;J++)this.byteToCharMap_[J]=this.ENCODED_VALS.charAt(J),this.charToByteMap_[this.byteToCharMap_[J]]=J,this.byteToCharMapWebSafe_[J]=this.ENCODED_VALS_WEBSAFE.charAt(J),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[J]]=J,J>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(J)]=J,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(J)]=J)}}};class Ne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Se=function(J){return function(J){const se=ye(J);return ne.encodeByteArray(se,!0)}(J).replace(/\./g,"")},fe=function(J){try{return ne.decodeString(J,!0)}catch(se){console.error("base64Decode failed: ",se)}return null};function ve(J,se){if(!(se instanceof Object))return se;switch(se.constructor){case Date:return new Date(se.getTime());case Object:void 0===J&&(J={});break;case Array:J=[];break;default:return se}for(const X in se)!se.hasOwnProperty(X)||!je(X)||(J[X]=ve(J[X],se[X]));return J}function je(J){return"__proto__"!==J}const ut=()=>{try{return function nt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const J=process.env.__FIREBASE_DEFAULTS__;return J?JSON.parse(J):void 0})()||(()=>{if(typeof document>"u")return;let J;try{J=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const se=J&&fe(J[1]);return se&&JSON.parse(se)})()}catch(J){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${J}`)}},xe=J=>{var se,X;return null===(X=null===(se=ut())||void 0===se?void 0:se.emulatorHosts)||void 0===X?void 0:X[J]},ot=J=>{const se=xe(J);if(!se)return;const X=se.lastIndexOf(":");if(X<=0||X+1===se.length)throw new Error(`Invalid host ${se} with no separate hostname and port!`);const oe=parseInt(se.substring(X+1),10);return"["===se[0]?[se.substring(1,X-1),oe]:[se.substring(0,X),oe]},Ge=()=>{var J;return null===(J=ut())||void 0===J?void 0:J.config},Le=J=>{var se;return null===(se=ut())||void 0===se?void 0:se[`_${J}`]};class Qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((se,X)=>{this.resolve=se,this.reject=X})}wrapCallback(se){return(X,oe)=>{X?this.reject(X):this.resolve(oe),"function"==typeof se&&(this.promise.catch(()=>{}),1===se.length?se(X):se(X,oe))}}}function Mt(J,se){if(J.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const oe=se||"demo-project",ee=J.iat||0,ke=J.sub||J.user_id;if(!ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const _e=Object.assign({iss:`https://securetoken.google.com/${oe}`,aud:oe,iat:ee,exp:ee+3600,auth_time:ee,sub:ke,user_id:ke,firebase:{sign_in_provider:"custom",identities:{}}},J);return[Se(JSON.stringify({alg:"none",type:"JWT"})),Se(JSON.stringify(_e)),""].join(".")}function It(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ze(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function Bt(){var J;const se=null===(J=ut())||void 0===J?void 0:J.forceEnvironment;if("node"===se)return!0;if("browser"===se)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Wt(){return"object"==typeof self&&self.self===self}function Vt(){const J="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof J&&void 0!==J.id}function ln(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pr(){const J=It();return J.indexOf("MSIE ")>=0||J.indexOf("Trident/")>=0}function ct(){return!Bt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gt(){try{return"object"==typeof indexedDB}catch{return!1}}function rt(){return new Promise((J,se)=>{try{let X=!0;const oe="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(oe);ee.onsuccess=()=>{ee.result.close(),X||self.indexedDB.deleteDatabase(oe),J(!0)},ee.onupgradeneeded=()=>{X=!1},ee.onerror=()=>{var ke;se((null===(ke=ee.error)||void 0===ke?void 0:ke.message)||"")}}catch(X){se(X)}})}function Xe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class mt extends Error{constructor(se,X,oe){super(X),this.code=se,this.customData=oe,this.name="FirebaseError",Object.setPrototypeOf(this,mt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,En.prototype.create)}}class En{constructor(se,X,oe){this.service=se,this.serviceName=X,this.errors=oe}create(se,...X){const oe=X[0]||{},ee=`${this.service}/${se}`,ke=this.errors[se],_e=ke?function _t(J,se){return J.replace(zt,(X,oe)=>{const ee=se[oe];return null!=ee?String(ee):`<${oe}?>`})}(ke,oe):"Error";return new mt(ee,`${this.serviceName}: ${_e} (${ee}).`,oe)}}const zt=/\{\$([^}]+)}/g;function Vr(J,se){return Object.prototype.hasOwnProperty.call(J,se)}function $n(J){for(const se in J)if(Object.prototype.hasOwnProperty.call(J,se))return!1;return!0}function Kt(J,se){if(J===se)return!0;const X=Object.keys(J),oe=Object.keys(se);for(const ee of X){if(!oe.includes(ee))return!1;const ke=J[ee],_e=se[ee];if(Pn(ke)&&Pn(_e)){if(!Kt(ke,_e))return!1}else if(ke!==_e)return!1}for(const ee of oe)if(!X.includes(ee))return!1;return!0}function Pn(J){return null!==J&&"object"==typeof J}function Ar(J){const se=[];for(const[X,oe]of Object.entries(J))Array.isArray(oe)?oe.forEach(ee=>{se.push(encodeURIComponent(X)+"="+encodeURIComponent(ee))}):se.push(encodeURIComponent(X)+"="+encodeURIComponent(oe));return se.length?"&"+se.join("&"):""}function $r(J){const se={};return J.replace(/^\?/,"").split("&").forEach(oe=>{if(oe){const[ee,ke]=oe.split("=");se[decodeURIComponent(ee)]=decodeURIComponent(ke)}}),se}function mr(J){const se=J.indexOf("?");if(!se)return"";const X=J.indexOf("#",se);return J.substring(se,X>0?X:void 0)}function Ln(J,se){const X=new an(J,se);return X.subscribe.bind(X)}class an{constructor(se,X){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then(()=>{se(this)}).catch(oe=>{this.error(oe)})}next(se){this.forEachObserver(X=>{X.next(se)})}error(se){this.forEachObserver(X=>{X.error(se)}),this.close(se)}complete(){this.forEachObserver(se=>{se.complete()}),this.close()}subscribe(se,X,oe){let ee;if(void 0===se&&void 0===X&&void 0===oe)throw new Error("Missing Observer.");ee=function kn(J,se){if("object"!=typeof J||null===J)return!1;for(const X of se)if(X in J&&"function"==typeof J[X])return!0;return!1}(se,["next","error","complete"])?se:{next:se,error:X,complete:oe},void 0===ee.next&&(ee.next=yn),void 0===ee.error&&(ee.error=yn),void 0===ee.complete&&(ee.complete=yn);const ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch{}}),this.observers.push(ee),ke}unsubscribeOne(se){void 0===this.observers||void 0===this.observers[se]||(delete this.observers[se],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(se){if(!this.finalized)for(let X=0;X<this.observers.length;X++)this.sendOne(X,se)}sendOne(se,X){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[se])try{X(this.observers[se])}catch(oe){typeof console<"u"&&console.error&&console.error(oe)}})}close(se){this.finalized||(this.finalized=!0,void 0!==se&&(this.finalError=se),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yn(){}const vn=1e3,bt=2,re=144e5,Ie=.5;function lt(J,se=vn,X=bt){const oe=se*Math.pow(X,J),ee=Math.round(Ie*oe*(Math.random()-.5)*2);return Math.min(re,oe+ee)}function Me(J){return J&&J._delegate?J._delegate:J}},4846:(Qt,Ye,U)=>{"use strict";U.d(Ye,{b:()=>w});class w{constructor(){this.dias=[!1,!0,!0,!0,!0,!0,!0],this.id=0,this.perfil="",this.nombre="",this.apellido="",this.edad=0,this.dni=0,this.obraSocial="",this.especialidad="",this.email="",this.clave="",this.imagen1="",this.imagen2="",this.aprobado=!1}}},2668:(Qt,Ye,U)=>{"use strict";U.d(Ye,{T:()=>ne});var w=U(4650),j=U(9724),h=U(1205),ye=U(9626),be=U(7977);let ne=(()=>{class Ne{constructor(Se,fe,ge,ve){this.swal=Se,this.authFire=fe,this.router=ge,this.af=ve}getCollection(Se){return this.af.collection(Se).valueChanges()}setSpecialtyData(Se,fe){return this.af.collection(fe).add(Se)}updateSpecialty(Se){this.af.doc(`turnos/${Se.id}`).update(Se).then(()=>{}).catch(fe=>{this.swal.showToast("Error","error")})}createSpecialty(Se){null!=Se&&this.af.collection("especialidades").add({id:"",img:"https://firebasestorage.googleapis.com/v0/b/clinicaonlinelaboiv.appspot.com/o/_1f096942-b653-41a2-bb3e-1ae8b0a665f0.jpg?alt=media&token=cb0104ba-439e-4bfb-a99f-7b9b42760d2e",nombre:Se.nombre}).then(fe=>{const ge=fe.id;return console.log("Nuevo ID:",ge),fe.update({id:ge})}).then(()=>{this.swal.showToast("Especialidad a\xf1adida!")}).catch(fe=>{console.log(Se),this.swal.swalert("Error",fe.code,"error")})}}return Ne.\u0275fac=function(Se){return new(Se||Ne)(w.LFG(j.J),w.LFG(h.zQ),w.LFG(ye.F0),w.LFG(be.ST))},Ne.\u0275prov=w.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"}),Ne})()},9724:(Qt,Ye,U)=>{"use strict";U.d(Ye,{J:()=>ye});var w=U(5226),j=U.n(w),h=U(4650);let ye=(()=>{class be{constructor(){}swalert(Ne,me,Se,fe="Ok"){j().fire({title:Ne,text:me,icon:Se,confirmButtonText:fe})}showToast(Ne,me="success",Se="white",fe=2e3){j().fire({title:Ne,icon:me,toast:!0,position:"top-end",showConfirmButton:!1,background:Se,timer:fe})}showModal(Ne,me,Se,fe,ge,ve="warning",je="success"){j().fire({title:Ne,text:me,icon:ve,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed",cancelButtonText:"No"}).then(nt=>{nt.isConfirmed&&j().fire({title:Se,text:fe,icon:je}).then(()=>{ge()})})}showModalText(Ne,me,Se,fe,ge="warning"){j().fire({title:Ne,text:me,icon:ge,input:"textarea",inputPlaceholder:Se,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"}).then(ve=>{if(ve.isConfirmed){const je=ve.value.trim();fe(je)}})}}return be.\u0275fac=function(Ne){return new(Ne||be)},be.\u0275prov=h.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})()},3071:(Qt,Ye,U)=>{"use strict";U.d(Ye,{K:()=>Se});var w=U(5861),j=U(7246),h=U(4846),ye=U(4650),be=U(9724),ne=U(1205),Ne=U(9626),me=U(7977);let Se=(()=>{class fe{constructor(ve,je,nt,St,Ut){var tt=this;this.swal=ve,this.auth=je,this.authFire=nt,this.router=St,this.af=Ut,this.isLoggedIn=!1,this.userName="",this.userProfile="",this.isApproved=!1,this.isAdmin=!1,this.usuarioActual=new h.b,this.user$=this.authFire.authState.subscribe(function(){var ut=(0,w.Z)(function*(xe){if(null!=xe&&null!=xe&&xe.emailVerified){const ot=yield tt.getUserProfile(xe.uid).toPromise();if(ot.exists){const Le=ot.data();tt.usuarioActual=Le,tt.userProfile=tt.usuarioActual.perfil,console.log("Perfil del usuario: "+tt.userProfile),"especialista"==tt.userProfile&&tt.isApproved?(console.log("hola, if especialista. Estoy aprobado? "+tt.isApproved),tt.isLoggedIn=xe):tt.isLoggedIn="especialista"!=tt.userProfile&&xe}let Ge=xe.email?.split("@");tt.userName=Ge[0],console.log("Hola, soy el usuario: "+tt.userName)}console.log("Hola, soy el usuario con el mail: "+xe?.email)});return function(xe){return ut.apply(this,arguments)}}())}createUser(ve){return(0,j.Xb)(this.auth,ve.email,ve.clave).then(je=>{null!=je&&(console.log("hola, estoy en create user"),(0,j.w$)(je.user),this.af.collection("usuarios").doc(je.user?.uid).set({id:je.user?.uid,perfil:ve.perfil,nombre:ve.nombre,apellido:ve.apellido,edad:ve.edad,dni:ve.dni,obraSocial:ve.obraSocial,especialidad:ve.especialidad,email:ve.email,clave:ve.clave,imagen1:ve.imagen1,imagen2:ve.imagen2,aprobado:ve.aprobado}).then(()=>{this.swal.swalert("Registro exitoso!","Revisa tu correo","success")}).catch(nt=>{this.swal.swalert("Error",nt.code,"error")}))})}login({email:ve,password:je}){var nt=this;return(0,w.Z)(function*(){try{if(yield(0,j.e5)(nt.auth,ve,je),!nt.auth.currentUser.emailVerified)throw nt.isLoggedIn=!1,new Error("El usuario no ha verificado su correo electr\xf3nico.");"especialista"==nt.userProfile&&nt.isApproved||"paciente"==nt.userProfile?nt.isLoggedIn=!0:(nt.isLoggedIn=!0,nt.userProfile="admin")}catch(St){throw St}})()}checkEmail(ve){return!!/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(ve)}logout(){this.auth.signOut(),this.router.navigateByUrl("/login"),this.swal.showToast("Sesi\xf3n cerrada","success"),this.isLoggedIn=!1,this.userProfile="",console.log("Sesi\xf3n cerrada")}setUserData(ve,je){return this.af.collection(je).add(ve)}getUserName(){return this.userName}crearMensaje(ve){let je="";switch(ve){case"auth/operation-not-allowed":je="La operaci\xf3n no est\xe1 permitida.";break;case"auth/email-already-in-use":je="El email ya est\xe1 registrado.";break;case"auth/weak-password":je="La contrase\xf1a debe tener al menos 6 caracteres";break;case"auth/invalid-email":je="El email no es valido.";break;case"auth/internal-error":je="Los campos estan vacios";break;case"auth/user-not-found":je="El email y/o la contrase\xf1a son incorrectas";break;default:je="Error al crear el usuario."}return je}updateUser(ve){this.af.doc(`usuarios/${ve.id}`).update(ve).then(()=>{}).catch(je=>{this.swal.showToast("Error","error")})}getCollection(ve){return this.af.collection(ve).valueChanges()}getUserProfile(ve){return this.af.collection("usuarios").doc(ve).get()}getCurrentProfile(){return this.usuarioActual.perfil}getCurrentDNI(){return this.usuarioActual.dni}getCurrentFullName(){return this.usuarioActual.apellido+" "+this.usuarioActual.nombre}getCurrentUser(){return this.usuarioActual}}return fe.\u0275fac=function(ve){return new(ve||fe)(ye.LFG(be.J),ye.LFG(j.gx),ye.LFG(ne.zQ),ye.LFG(Ne.F0),ye.LFG(me.ST))},fe.\u0275prov=ye.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})()},1405:(Qt,Ye,U)=>{"use strict";var w=U(1481),j=U(6895),h=U(4650),ye=U(9646),be=U(9751),ne=U(4351),Ne=U(9300),me=U(4004);class Se{}class fe{}class ge{constructor(c){this.normalizedNames=new Map,this.lazyUpdate=null,c?this.lazyInit="string"==typeof c?()=>{this.headers=new Map,c.split("\n").forEach(a=>{const f=a.indexOf(":");if(f>0){const b=a.slice(0,f),N=b.toLowerCase(),Y=a.slice(f+1).trim();this.maybeSetNormalizedName(b,N),this.headers.has(N)?this.headers.get(N).push(Y):this.headers.set(N,[Y])}})}:()=>{this.headers=new Map,Object.entries(c).forEach(([a,f])=>{let b;if(b="string"==typeof f?[f]:"number"==typeof f?[f.toString()]:f.map(N=>N.toString()),b.length>0){const N=a.toLowerCase();this.headers.set(N,b),this.maybeSetNormalizedName(a,N)}})}:this.headers=new Map}has(c){return this.init(),this.headers.has(c.toLowerCase())}get(c){this.init();const a=this.headers.get(c.toLowerCase());return a&&a.length>0?a[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(c){return this.init(),this.headers.get(c.toLowerCase())||null}append(c,a){return this.clone({name:c,value:a,op:"a"})}set(c,a){return this.clone({name:c,value:a,op:"s"})}delete(c,a){return this.clone({name:c,value:a,op:"d"})}maybeSetNormalizedName(c,a){this.normalizedNames.has(a)||this.normalizedNames.set(a,c)}init(){this.lazyInit&&(this.lazyInit instanceof ge?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(c=>this.applyUpdate(c)),this.lazyUpdate=null))}copyFrom(c){c.init(),Array.from(c.headers.keys()).forEach(a=>{this.headers.set(a,c.headers.get(a)),this.normalizedNames.set(a,c.normalizedNames.get(a))})}clone(c){const a=new ge;return a.lazyInit=this.lazyInit&&this.lazyInit instanceof ge?this.lazyInit:this,a.lazyUpdate=(this.lazyUpdate||[]).concat([c]),a}applyUpdate(c){const a=c.name.toLowerCase();switch(c.op){case"a":case"s":let f=c.value;if("string"==typeof f&&(f=[f]),0===f.length)return;this.maybeSetNormalizedName(c.name,a);const b=("a"===c.op?this.headers.get(a):void 0)||[];b.push(...f),this.headers.set(a,b);break;case"d":const N=c.value;if(N){let Y=this.headers.get(a);if(!Y)return;Y=Y.filter(he=>-1===N.indexOf(he)),0===Y.length?(this.headers.delete(a),this.normalizedNames.delete(a)):this.headers.set(a,Y)}else this.headers.delete(a),this.normalizedNames.delete(a)}}forEach(c){this.init(),Array.from(this.normalizedNames.keys()).forEach(a=>c(this.normalizedNames.get(a),this.headers.get(a)))}}class je{encodeKey(c){return tt(c)}encodeValue(c){return tt(c)}decodeKey(c){return decodeURIComponent(c)}decodeValue(c){return decodeURIComponent(c)}}const St=/%(\d[a-f0-9])/gi,Ut={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function tt(u){return encodeURIComponent(u).replace(St,(c,a)=>Ut[a]??c)}function ut(u){return`${u}`}class xe{constructor(c={}){if(this.updates=null,this.cloneFrom=null,this.encoder=c.encoder||new je,c.fromString){if(c.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function nt(u,c){const a=new Map;return u.length>0&&u.replace(/^\?/,"").split("&").forEach(b=>{const N=b.indexOf("="),[Y,he]=-1==N?[c.decodeKey(b),""]:[c.decodeKey(b.slice(0,N)),c.decodeValue(b.slice(N+1))],Ee=a.get(Y)||[];Ee.push(he),a.set(Y,Ee)}),a}(c.fromString,this.encoder)}else c.fromObject?(this.map=new Map,Object.keys(c.fromObject).forEach(a=>{const f=c.fromObject[a],b=Array.isArray(f)?f.map(ut):[ut(f)];this.map.set(a,b)})):this.map=null}has(c){return this.init(),this.map.has(c)}get(c){this.init();const a=this.map.get(c);return a?a[0]:null}getAll(c){return this.init(),this.map.get(c)||null}keys(){return this.init(),Array.from(this.map.keys())}append(c,a){return this.clone({param:c,value:a,op:"a"})}appendAll(c){const a=[];return Object.keys(c).forEach(f=>{const b=c[f];Array.isArray(b)?b.forEach(N=>{a.push({param:f,value:N,op:"a"})}):a.push({param:f,value:b,op:"a"})}),this.clone(a)}set(c,a){return this.clone({param:c,value:a,op:"s"})}delete(c,a){return this.clone({param:c,value:a,op:"d"})}toString(){return this.init(),this.keys().map(c=>{const a=this.encoder.encodeKey(c);return this.map.get(c).map(f=>a+"="+this.encoder.encodeValue(f)).join("&")}).filter(c=>""!==c).join("&")}clone(c){const a=new xe({encoder:this.encoder});return a.cloneFrom=this.cloneFrom||this,a.updates=(this.updates||[]).concat(c),a}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(c=>this.map.set(c,this.cloneFrom.map.get(c))),this.updates.forEach(c=>{switch(c.op){case"a":case"s":const a=("a"===c.op?this.map.get(c.param):void 0)||[];a.push(ut(c.value)),this.map.set(c.param,a);break;case"d":if(void 0===c.value){this.map.delete(c.param);break}{let f=this.map.get(c.param)||[];const b=f.indexOf(ut(c.value));-1!==b&&f.splice(b,1),f.length>0?this.map.set(c.param,f):this.map.delete(c.param)}}}),this.cloneFrom=this.updates=null)}}class Ge{constructor(){this.map=new Map}set(c,a){return this.map.set(c,a),this}get(c){return this.map.has(c)||this.map.set(c,c.defaultValue()),this.map.get(c)}delete(c){return this.map.delete(c),this}has(c){return this.map.has(c)}keys(){return this.map.keys()}}function Qe(u){return typeof ArrayBuffer<"u"&&u instanceof ArrayBuffer}function Mt(u){return typeof Blob<"u"&&u instanceof Blob}function It(u){return typeof FormData<"u"&&u instanceof FormData}class Bt{constructor(c,a,f,b){let N;if(this.url=a,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=c.toUpperCase(),function Le(u){switch(u){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||b?(this.body=void 0!==f?f:null,N=b):N=f,N&&(this.reportProgress=!!N.reportProgress,this.withCredentials=!!N.withCredentials,N.responseType&&(this.responseType=N.responseType),N.headers&&(this.headers=N.headers),N.context&&(this.context=N.context),N.params&&(this.params=N.params)),this.headers||(this.headers=new ge),this.context||(this.context=new Ge),this.params){const Y=this.params.toString();if(0===Y.length)this.urlWithParams=a;else{const he=a.indexOf("?");this.urlWithParams=a+(-1===he?"?":he<a.length-1?"&":"")+Y}}else this.params=new xe,this.urlWithParams=a}serializeBody(){return null===this.body?null:Qe(this.body)||Mt(this.body)||It(this.body)||function ze(u){return typeof URLSearchParams<"u"&&u instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof xe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||It(this.body)?null:Mt(this.body)?this.body.type||null:Qe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof xe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(c={}){const a=c.method||this.method,f=c.url||this.url,b=c.responseType||this.responseType,N=void 0!==c.body?c.body:this.body,Y=void 0!==c.withCredentials?c.withCredentials:this.withCredentials,he=void 0!==c.reportProgress?c.reportProgress:this.reportProgress;let Ee=c.headers||this.headers,$e=c.params||this.params;const Ot=c.context??this.context;return void 0!==c.setHeaders&&(Ee=Object.keys(c.setHeaders).reduce((Yt,xn)=>Yt.set(xn,c.setHeaders[xn]),Ee)),c.setParams&&($e=Object.keys(c.setParams).reduce((Yt,xn)=>Yt.set(xn,c.setParams[xn]),$e)),new Bt(a,f,N,{params:$e,headers:Ee,context:Ot,reportProgress:he,responseType:b,withCredentials:Y})}}var Wt=(()=>((Wt=Wt||{})[Wt.Sent=0]="Sent",Wt[Wt.UploadProgress=1]="UploadProgress",Wt[Wt.ResponseHeader=2]="ResponseHeader",Wt[Wt.DownloadProgress=3]="DownloadProgress",Wt[Wt.Response=4]="Response",Wt[Wt.User=5]="User",Wt))();class Vt{constructor(c,a=200,f="OK"){this.headers=c.headers||new ge,this.status=void 0!==c.status?c.status:a,this.statusText=c.statusText||f,this.url=c.url||null,this.ok=this.status>=200&&this.status<300}}class ln extends Vt{constructor(c={}){super(c),this.type=Wt.ResponseHeader}clone(c={}){return new ln({headers:c.headers||this.headers,status:void 0!==c.status?c.status:this.status,statusText:c.statusText||this.statusText,url:c.url||this.url||void 0})}}class Gt extends Vt{constructor(c={}){super(c),this.type=Wt.Response,this.body=void 0!==c.body?c.body:null}clone(c={}){return new Gt({body:void 0!==c.body?c.body:this.body,headers:c.headers||this.headers,status:void 0!==c.status?c.status:this.status,statusText:c.statusText||this.statusText,url:c.url||this.url||void 0})}}class Pr extends Vt{constructor(c){super(c,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${c.url||"(unknown url)"}`:`Http failure response for ${c.url||"(unknown url)"}: ${c.status} ${c.statusText}`,this.error=c.error||null}}function at(u,c){return{body:c,headers:u.headers,context:u.context,observe:u.observe,params:u.params,reportProgress:u.reportProgress,responseType:u.responseType,withCredentials:u.withCredentials}}let Je=(()=>{class u{constructor(a){this.handler=a}request(a,f,b={}){let N;if(a instanceof Bt)N=a;else{let Ee,$e;Ee=b.headers instanceof ge?b.headers:new ge(b.headers),b.params&&($e=b.params instanceof xe?b.params:new xe({fromObject:b.params})),N=new Bt(a,f,void 0!==b.body?b.body:null,{headers:Ee,context:b.context,params:$e,reportProgress:b.reportProgress,responseType:b.responseType||"json",withCredentials:b.withCredentials})}const Y=(0,ye.of)(N).pipe((0,ne.b)(Ee=>this.handler.handle(Ee)));if(a instanceof Bt||"events"===b.observe)return Y;const he=Y.pipe((0,Ne.h)(Ee=>Ee instanceof Gt));switch(b.observe||"body"){case"body":switch(N.responseType){case"arraybuffer":return he.pipe((0,me.U)(Ee=>{if(null!==Ee.body&&!(Ee.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Ee.body}));case"blob":return he.pipe((0,me.U)(Ee=>{if(null!==Ee.body&&!(Ee.body instanceof Blob))throw new Error("Response is not a Blob.");return Ee.body}));case"text":return he.pipe((0,me.U)(Ee=>{if(null!==Ee.body&&"string"!=typeof Ee.body)throw new Error("Response is not a string.");return Ee.body}));default:return he.pipe((0,me.U)(Ee=>Ee.body))}case"response":return he;default:throw new Error(`Unreachable: unhandled observe type ${b.observe}}`)}}delete(a,f={}){return this.request("DELETE",a,f)}get(a,f={}){return this.request("GET",a,f)}head(a,f={}){return this.request("HEAD",a,f)}jsonp(a,f){return this.request("JSONP",a,{params:(new xe).append(f,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(a,f={}){return this.request("OPTIONS",a,f)}patch(a,f,b={}){return this.request("PATCH",a,at(b,f))}post(a,f,b={}){return this.request("POST",a,at(b,f))}put(a,f,b={}){return this.request("PUT",a,at(b,f))}}return u.\u0275fac=function(a){return new(a||u)(h.LFG(Se))},u.\u0275prov=h.Yz7({token:u,factory:u.\u0275fac}),u})();function ct(u,c){return c(u)}function gt(u,c){return(a,f)=>c.intercept(a,{handle:b=>u(b,f)})}const Xe=new h.OlP("HTTP_INTERCEPTORS"),Ve=new h.OlP("HTTP_INTERCEPTOR_FNS");function mt(){let u=null;return(c,a)=>(null===u&&(u=((0,h.f3M)(Xe,{optional:!0})??[]).reduceRight(gt,ct)),u(c,a))}let En=(()=>{class u extends Se{constructor(a,f){super(),this.backend=a,this.injector=f,this.chain=null}handle(a){if(null===this.chain){const f=Array.from(new Set(this.injector.get(Ve)));this.chain=f.reduceRight((b,N)=>function rt(u,c,a){return(f,b)=>a.runInContext(()=>c(f,N=>u(N,b)))}(b,N,this.injector),ct)}return this.chain(a,f=>this.backend.handle(f))}}return u.\u0275fac=function(a){return new(a||u)(h.LFG(fe),h.LFG(h.lqb))},u.\u0275prov=h.Yz7({token:u,factory:u.\u0275fac}),u})();const $n=/^\)\]\}',?\n/;let Kt=(()=>{class u{constructor(a){this.xhrFactory=a}handle(a){if("JSONP"===a.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new be.y(f=>{const b=this.xhrFactory.build();if(b.open(a.method,a.urlWithParams),a.withCredentials&&(b.withCredentials=!0),a.headers.forEach((gn,rn)=>b.setRequestHeader(gn,rn.join(","))),a.headers.has("Accept")||b.setRequestHeader("Accept","application/json, text/plain, */*"),!a.headers.has("Content-Type")){const gn=a.detectContentTypeHeader();null!==gn&&b.setRequestHeader("Content-Type",gn)}if(a.responseType){const gn=a.responseType.toLowerCase();b.responseType="json"!==gn?gn:"text"}const N=a.serializeBody();let Y=null;const he=()=>{if(null!==Y)return Y;const gn=b.statusText||"OK",rn=new ge(b.getAllResponseHeaders()),Zn=function An(u){return"responseURL"in u&&u.responseURL?u.responseURL:/^X-Request-URL:/m.test(u.getAllResponseHeaders())?u.getResponseHeader("X-Request-URL"):null}(b)||a.url;return Y=new ln({headers:rn,status:b.status,statusText:gn,url:Zn}),Y},Ee=()=>{let{headers:gn,status:rn,statusText:Zn,url:hr}=he(),ur=null;204!==rn&&(ur=typeof b.response>"u"?b.responseText:b.response),0===rn&&(rn=ur?200:0);let si=rn>=200&&rn<300;if("json"===a.responseType&&"string"==typeof ur){const ai=ur;ur=ur.replace($n,"");try{ur=""!==ur?JSON.parse(ur):null}catch(Br){ur=ai,si&&(si=!1,ur={error:Br,text:ur})}}si?(f.next(new Gt({body:ur,headers:gn,status:rn,statusText:Zn,url:hr||void 0})),f.complete()):f.error(new Pr({error:ur,headers:gn,status:rn,statusText:Zn,url:hr||void 0}))},$e=gn=>{const{url:rn}=he(),Zn=new Pr({error:gn,status:b.status||0,statusText:b.statusText||"Unknown Error",url:rn||void 0});f.error(Zn)};let Ot=!1;const Yt=gn=>{Ot||(f.next(he()),Ot=!0);let rn={type:Wt.DownloadProgress,loaded:gn.loaded};gn.lengthComputable&&(rn.total=gn.total),"text"===a.responseType&&b.responseText&&(rn.partialText=b.responseText),f.next(rn)},xn=gn=>{let rn={type:Wt.UploadProgress,loaded:gn.loaded};gn.lengthComputable&&(rn.total=gn.total),f.next(rn)};return b.addEventListener("load",Ee),b.addEventListener("error",$e),b.addEventListener("timeout",$e),b.addEventListener("abort",$e),a.reportProgress&&(b.addEventListener("progress",Yt),null!==N&&b.upload&&b.upload.addEventListener("progress",xn)),b.send(N),f.next({type:Wt.Sent}),()=>{b.removeEventListener("error",$e),b.removeEventListener("abort",$e),b.removeEventListener("load",Ee),b.removeEventListener("timeout",$e),a.reportProgress&&(b.removeEventListener("progress",Yt),null!==N&&b.upload&&b.upload.removeEventListener("progress",xn)),b.readyState!==b.DONE&&b.abort()}})}}return u.\u0275fac=function(a){return new(a||u)(h.LFG(j.JF))},u.\u0275prov=h.Yz7({token:u,factory:u.\u0275fac}),u})();const Pn=new h.OlP("XSRF_ENABLED"),Ar=new h.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),mr=new h.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Qn{}let Ln=(()=>{class u{constructor(a,f,b){this.doc=a,this.platform=f,this.cookieName=b,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const a=this.doc.cookie||"";return a!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,j.Mx)(a,this.cookieName),this.lastCookieString=a),this.lastToken}}return u.\u0275fac=function(a){return new(a||u)(h.LFG(j.K0),h.LFG(h.Lbi),h.LFG(Ar))},u.\u0275prov=h.Yz7({token:u,factory:u.\u0275fac}),u})();function an(u,c){const a=u.url.toLowerCase();if(!(0,h.f3M)(Pn)||"GET"===u.method||"HEAD"===u.method||a.startsWith("http://")||a.startsWith("https://"))return c(u);const f=(0,h.f3M)(Qn).getToken(),b=(0,h.f3M)(mr);return null!=f&&!u.headers.has(b)&&(u=u.clone({headers:u.headers.set(b,f)})),c(u)}var kn=(()=>((kn=kn||{})[kn.Interceptors=0]="Interceptors",kn[kn.LegacyInterceptors=1]="LegacyInterceptors",kn[kn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",kn[kn.NoXsrfProtection=3]="NoXsrfProtection",kn[kn.JsonpSupport=4]="JsonpSupport",kn[kn.RequestsMadeViaParent=5]="RequestsMadeViaParent",kn))();function yn(u,c){return{\u0275kind:u,\u0275providers:c}}function Cr(...u){const c=[Je,Kt,En,{provide:Se,useExisting:En},{provide:fe,useExisting:Kt},{provide:Ve,useValue:an,multi:!0},{provide:Pn,useValue:!0},{provide:Qn,useClass:Ln}];for(const a of u)c.push(...a.\u0275providers);return(0,h.MR2)(c)}const pr=new h.OlP("LEGACY_INTERCEPTOR_FN");let bt=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=h.oAB({type:u}),u.\u0275inj=h.cJS({providers:[Cr(yn(kn.LegacyInterceptors,[{provide:pr,useFactory:mt},{provide:Ve,useExisting:pr,multi:!0}]))]}),u})();var lt=U(8996),qt=U(4742),wt=U(8421),Me=U(7669),J=U(5403),se=U(3268),X=U(1810);function oe(...u){const c=(0,Me.jO)(u),{args:a,keys:f}=(0,qt.D)(u),b=new be.y(N=>{const{length:Y}=a;if(!Y)return void N.complete();const he=new Array(Y);let Ee=Y,$e=Y;for(let Ot=0;Ot<Y;Ot++){let Yt=!1;(0,wt.Xf)(a[Ot]).subscribe((0,J.x)(N,xn=>{Yt||(Yt=!0,$e--),he[Ot]=xn},()=>Ee--,void 0,()=>{(!Ee||!Yt)&&($e||N.next(f?(0,X.n)(f,he):he),N.complete())}))}});return c?b.pipe((0,se.Z)(c)):b}let ee=(()=>{class u{constructor(a,f){this._renderer=a,this._elementRef=f,this.onChange=b=>{},this.onTouched=()=>{}}setProperty(a,f){this._renderer.setProperty(this._elementRef.nativeElement,a,f)}registerOnTouched(a){this.onTouched=a}registerOnChange(a){this.onChange=a}setDisabledState(a){this.setProperty("disabled",a)}}return u.\u0275fac=function(a){return new(a||u)(h.Y36(h.Qsj),h.Y36(h.SBq))},u.\u0275dir=h.lG2({type:u}),u})(),ke=(()=>{class u extends ee{}return u.\u0275fac=function(){let c;return function(f){return(c||(c=h.n5z(u)))(f||u)}}(),u.\u0275dir=h.lG2({type:u,features:[h.qOj]}),u})();const _e=new h.OlP("NgValueAccessor"),Oe={provide:_e,useExisting:(0,h.Gpc)(()=>Zt),multi:!0},Rt=new h.OlP("CompositionEventMode");let Zt=(()=>{class u extends ee{constructor(a,f,b){super(a,f),this._compositionMode=b,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function dt(){const u=(0,j.q)()?(0,j.q)().getUserAgent():"";return/android (\d+)/.test(u.toLowerCase())}())}writeValue(a){this.setProperty("value",a??"")}_handleInput(a){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(a)}_compositionStart(){this._composing=!0}_compositionEnd(a){this._composing=!1,this._compositionMode&&this.onChange(a)}}return u.\u0275fac=function(a){return new(a||u)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Rt,8))},u.\u0275dir=h.lG2({type:u,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(a,f){1&a&&h.NdJ("input",function(N){return f._handleInput(N.target.value)})("blur",function(){return f.onTouched()})("compositionstart",function(){return f._compositionStart()})("compositionend",function(N){return f._compositionEnd(N.target.value)})},features:[h._Bn([Oe]),h.qOj]}),u})();const cn=!1;function Wn(u){return null==u||("string"==typeof u||Array.isArray(u))&&0===u.length}function xr(u){return null!=u&&"number"==typeof u.length}const st=new h.OlP("NgValidators"),it=new h.OlP("NgAsyncValidators"),$t=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ht{static min(c){return Bn(c)}static max(c){return dr(c)}static required(c){return function wn(u){return Wn(u.value)?{required:!0}:null}(c)}static requiredTrue(c){return function Sr(u){return!0===u.value?null:{required:!0}}(c)}static email(c){return function sr(u){return Wn(u.value)||$t.test(u.value)?null:{email:!0}}(c)}static minLength(c){return function wi(u){return c=>Wn(c.value)||!xr(c.value)?null:c.value.length<u?{minlength:{requiredLength:u,actualLength:c.value.length}}:null}(c)}static maxLength(c){return function mi(u){return c=>xr(c.value)&&c.value.length>u?{maxlength:{requiredLength:u,actualLength:c.value.length}}:null}(c)}static pattern(c){return function us(u){if(!u)return ki;let c,a;return"string"==typeof u?(a="","^"!==u.charAt(0)&&(a+="^"),a+=u,"$"!==u.charAt(u.length-1)&&(a+="$"),c=new RegExp(a)):(a=u.toString(),c=u),f=>{if(Wn(f.value))return null;const b=f.value;return c.test(b)?null:{pattern:{requiredPattern:a,actualValue:b}}}}(c)}static nullValidator(c){return null}static compose(c){return Eo(c)}static composeAsync(c){return Fi(c)}}function Bn(u){return c=>{if(Wn(c.value)||Wn(u))return null;const a=parseFloat(c.value);return!isNaN(a)&&a<u?{min:{min:u,actual:c.value}}:null}}function dr(u){return c=>{if(Wn(c.value)||Wn(u))return null;const a=parseFloat(c.value);return!isNaN(a)&&a>u?{max:{max:u,actual:c.value}}:null}}function ki(u){return null}function wo(u){return null!=u}function qr(u){const c=(0,h.QGY)(u)?(0,lt.D)(u):u;if(cn&&!(0,h.CqO)(c)){let a="Expected async validator to return Promise or Observable.";throw"object"==typeof u&&(a+=" Are you using a synchronous validator where an async validator is expected?"),new h.vHH(-1101,a)}return c}function un(u){let c={};return u.forEach(a=>{c=null!=a?{...c,...a}:c}),0===Object.keys(c).length?null:c}function ar(u,c){return c.map(a=>a(u))}function Lr(u){return u.map(c=>function Xr(u){return!u.validate}(c)?c:a=>c.validate(a))}function Eo(u){if(!u)return null;const c=u.filter(wo);return 0==c.length?null:function(a){return un(ar(a,c))}}function ei(u){return null!=u?Eo(Lr(u)):null}function Fi(u){if(!u)return null;const c=u.filter(wo);return 0==c.length?null:function(a){return oe(ar(a,c).map(qr)).pipe((0,me.U)(un))}}function jr(u){return null!=u?Fi(Lr(u)):null}function We(u,c){return null===u?[c]:Array.isArray(u)?[...u,c]:[u,c]}function Be(u){return u._rawValidators}function Ue(u){return u._rawAsyncValidators}function xt(u){return u?Array.isArray(u)?u:[u]:[]}function jt(u,c){return Array.isArray(u)?u.includes(c):u===c}function Vn(u,c){const a=xt(c);return xt(u).forEach(b=>{jt(a,b)||a.push(b)}),a}function cr(u,c){return xt(c).filter(a=>!jt(u,a))}class qn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(c){this._rawValidators=c||[],this._composedValidatorFn=ei(this._rawValidators)}_setAsyncValidators(c){this._rawAsyncValidators=c||[],this._composedAsyncValidatorFn=jr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(c){this._onDestroyCallbacks.push(c)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(c=>c()),this._onDestroyCallbacks=[]}reset(c){this.control&&this.control.reset(c)}hasError(c,a){return!!this.control&&this.control.hasError(c,a)}getError(c,a){return this.control?this.control.getError(c,a):null}}class Jn extends qn{get formDirective(){return null}get path(){return null}}class Ci extends qn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ii{constructor(c){this._cd=c}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Mr=(()=>{class u extends Ii{constructor(a){super(a)}}return u.\u0275fac=function(a){return new(a||u)(h.Y36(Ci,2))},u.\u0275dir=h.lG2({type:u,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(a,f){2&a&&h.ekj("ng-untouched",f.isUntouched)("ng-touched",f.isTouched)("ng-pristine",f.isPristine)("ng-dirty",f.isDirty)("ng-valid",f.isValid)("ng-invalid",f.isInvalid)("ng-pending",f.isPending)},features:[h.qOj]}),u})(),Li=(()=>{class u extends Ii{constructor(a){super(a)}}return u.\u0275fac=function(a){return new(a||u)(h.Y36(Jn,10))},u.\u0275dir=h.lG2({type:u,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(a,f){2&a&&h.ekj("ng-untouched",f.isUntouched)("ng-touched",f.isTouched)("ng-pristine",f.isPristine)("ng-dirty",f.isDirty)("ng-valid",f.isValid)("ng-invalid",f.isInvalid)("ng-pending",f.isPending)("ng-submitted",f.isSubmitted)},features:[h.qOj]}),u})();function Nr(u,c){return u?`with name: '${c}'`:`at index: ${c}`}const Ta=!1,zo="VALID",Go="INVALID",fs="PENDING",sa="DISABLED";function zs(u){return(Mo(u)?u.validators:u)||null}function io(u,c){return(Mo(c)?c.asyncValidators:u)||null}function Mo(u){return null!=u&&!Array.isArray(u)&&"object"==typeof u}function ns(u,c,a){const f=u.controls;if(!(c?Object.keys(f):f).length)throw new h.vHH(1e3,Ta?function Gi(u){return`\n    There are no form controls registered with this ${u?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(c):"");if(!f[a])throw new h.vHH(1001,Ta?function Hs(u,c){return`Cannot find form control ${Nr(u,c)}`}(c,a):"")}function Ms(u,c,a){u._forEachChild((f,b)=>{if(void 0===a[b])throw new h.vHH(1002,Ta?function lo(u,c){return`Must supply a value for form control ${Nr(u,c)}`}(c,b):"")})}class Ro{constructor(c,a){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(c),this._assignAsyncValidators(a)}get validator(){return this._composedValidatorFn}set validator(c){this._rawValidators=this._composedValidatorFn=c}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(c){this._rawAsyncValidators=this._composedAsyncValidatorFn=c}get parent(){return this._parent}get valid(){return this.status===zo}get invalid(){return this.status===Go}get pending(){return this.status==fs}get disabled(){return this.status===sa}get enabled(){return this.status!==sa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(c){this._assignValidators(c)}setAsyncValidators(c){this._assignAsyncValidators(c)}addValidators(c){this.setValidators(Vn(c,this._rawValidators))}addAsyncValidators(c){this.setAsyncValidators(Vn(c,this._rawAsyncValidators))}removeValidators(c){this.setValidators(cr(c,this._rawValidators))}removeAsyncValidators(c){this.setAsyncValidators(cr(c,this._rawAsyncValidators))}hasValidator(c){return jt(this._rawValidators,c)}hasAsyncValidator(c){return jt(this._rawAsyncValidators,c)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(c={}){this.touched=!0,this._parent&&!c.onlySelf&&this._parent.markAsTouched(c)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(c=>c.markAllAsTouched())}markAsUntouched(c={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(a=>{a.markAsUntouched({onlySelf:!0})}),this._parent&&!c.onlySelf&&this._parent._updateTouched(c)}markAsDirty(c={}){this.pristine=!1,this._parent&&!c.onlySelf&&this._parent.markAsDirty(c)}markAsPristine(c={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(a=>{a.markAsPristine({onlySelf:!0})}),this._parent&&!c.onlySelf&&this._parent._updatePristine(c)}markAsPending(c={}){this.status=fs,!1!==c.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!c.onlySelf&&this._parent.markAsPending(c)}disable(c={}){const a=this._parentMarkedDirty(c.onlySelf);this.status=sa,this.errors=null,this._forEachChild(f=>{f.disable({...c,onlySelf:!0})}),this._updateValue(),!1!==c.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...c,skipPristineCheck:a}),this._onDisabledChange.forEach(f=>f(!0))}enable(c={}){const a=this._parentMarkedDirty(c.onlySelf);this.status=zo,this._forEachChild(f=>{f.enable({...c,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:c.emitEvent}),this._updateAncestors({...c,skipPristineCheck:a}),this._onDisabledChange.forEach(f=>f(!1))}_updateAncestors(c){this._parent&&!c.onlySelf&&(this._parent.updateValueAndValidity(c),c.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(c){this._parent=c}getRawValue(){return this.value}updateValueAndValidity(c={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zo||this.status===fs)&&this._runAsyncValidator(c.emitEvent)),!1!==c.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!c.onlySelf&&this._parent.updateValueAndValidity(c)}_updateTreeValidity(c={emitEvent:!0}){this._forEachChild(a=>a._updateTreeValidity(c)),this.updateValueAndValidity({onlySelf:!0,emitEvent:c.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sa:zo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(c){if(this.asyncValidator){this.status=fs,this._hasOwnPendingAsyncValidator=!0;const a=qr(this.asyncValidator(this));this._asyncValidationSubscription=a.subscribe(f=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(f,{emitEvent:c})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(c,a={}){this.errors=c,this._updateControlsErrors(!1!==a.emitEvent)}get(c){let a=c;return null==a||(Array.isArray(a)||(a=a.split(".")),0===a.length)?null:a.reduce((f,b)=>f&&f._find(b),this)}getError(c,a){const f=a?this.get(a):this;return f&&f.errors?f.errors[c]:null}hasError(c,a){return!!this.getError(c,a)}get root(){let c=this;for(;c._parent;)c=c._parent;return c}_updateControlsErrors(c){this.status=this._calculateStatus(),c&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(c)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?sa:this.errors?Go:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fs)?fs:this._anyControlsHaveStatus(Go)?Go:zo}_anyControlsHaveStatus(c){return this._anyControls(a=>a.status===c)}_anyControlsDirty(){return this._anyControls(c=>c.dirty)}_anyControlsTouched(){return this._anyControls(c=>c.touched)}_updatePristine(c={}){this.pristine=!this._anyControlsDirty(),this._parent&&!c.onlySelf&&this._parent._updatePristine(c)}_updateTouched(c={}){this.touched=this._anyControlsTouched(),this._parent&&!c.onlySelf&&this._parent._updateTouched(c)}_registerOnCollectionChange(c){this._onCollectionChange=c}_setUpdateStrategy(c){Mo(c)&&null!=c.updateOn&&(this._updateOn=c.updateOn)}_parentMarkedDirty(c){return!c&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(c){return null}_assignValidators(c){this._rawValidators=Array.isArray(c)?c.slice():c,this._composedValidatorFn=function aa(u){return Array.isArray(u)?ei(u):u||null}(this._rawValidators)}_assignAsyncValidators(c){this._rawAsyncValidators=Array.isArray(c)?c.slice():c,this._composedAsyncValidatorFn=function _c(u){return Array.isArray(u)?jr(u):u||null}(this._rawAsyncValidators)}}class Gs extends Ro{constructor(c,a,f){super(zs(a),io(f,a)),this.controls=c,this._initObservables(),this._setUpdateStrategy(a),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(c,a){return this.controls[c]?this.controls[c]:(this.controls[c]=a,a.setParent(this),a._registerOnCollectionChange(this._onCollectionChange),a)}addControl(c,a,f={}){this.registerControl(c,a),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}removeControl(c,a={}){this.controls[c]&&this.controls[c]._registerOnCollectionChange(()=>{}),delete this.controls[c],this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}setControl(c,a,f={}){this.controls[c]&&this.controls[c]._registerOnCollectionChange(()=>{}),delete this.controls[c],a&&this.registerControl(c,a),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}contains(c){return this.controls.hasOwnProperty(c)&&this.controls[c].enabled}setValue(c,a={}){Ms(this,!0,c),Object.keys(c).forEach(f=>{ns(this,!0,f),this.controls[f].setValue(c[f],{onlySelf:!0,emitEvent:a.emitEvent})}),this.updateValueAndValidity(a)}patchValue(c,a={}){null!=c&&(Object.keys(c).forEach(f=>{const b=this.controls[f];b&&b.patchValue(c[f],{onlySelf:!0,emitEvent:a.emitEvent})}),this.updateValueAndValidity(a))}reset(c={},a={}){this._forEachChild((f,b)=>{f.reset(c[b],{onlySelf:!0,emitEvent:a.emitEvent})}),this._updatePristine(a),this._updateTouched(a),this.updateValueAndValidity(a)}getRawValue(){return this._reduceChildren({},(c,a,f)=>(c[f]=a.getRawValue(),c))}_syncPendingControls(){let c=this._reduceChildren(!1,(a,f)=>!!f._syncPendingControls()||a);return c&&this.updateValueAndValidity({onlySelf:!0}),c}_forEachChild(c){Object.keys(this.controls).forEach(a=>{const f=this.controls[a];f&&c(f,a)})}_setUpControls(){this._forEachChild(c=>{c.setParent(this),c._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(c){for(const[a,f]of Object.entries(this.controls))if(this.contains(a)&&c(f))return!0;return!1}_reduceValue(){return this._reduceChildren({},(a,f,b)=>((f.enabled||this.disabled)&&(a[b]=f.value),a))}_reduceChildren(c,a){let f=c;return this._forEachChild((b,N)=>{f=a(f,b,N)}),f}_allControlsDisabled(){for(const c of Object.keys(this.controls))if(this.controls[c].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(c){return this.controls.hasOwnProperty(c)?this.controls[c]:null}}class Po extends Gs{}const Co=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Wo}),Wo="always";function rs(u,c){return[...c.path,u]}function qo(u,c,a=Wo){nc(u,c),c.valueAccessor.writeValue(u.value),(u.disabled||"always"===a)&&c.valueAccessor.setDisabledState?.(u.disabled),function fo(u,c){c.valueAccessor.registerOnChange(a=>{u._pendingValue=a,u._pendingChange=!0,u._pendingDirty=!0,"change"===u.updateOn&&ps(u,c)})}(u,c),function ca(u,c){const a=(f,b)=>{c.valueAccessor.writeValue(f),b&&c.viewToModelUpdate(f)};u.registerOnChange(a),c._registerOnDestroy(()=>{u._unregisterOnChange(a)})}(u,c),function ii(u,c){c.valueAccessor.registerOnTouched(()=>{u._pendingTouched=!0,"blur"===u.updateOn&&u._pendingChange&&ps(u,c),"submit"!==u.updateOn&&u.markAsTouched()})}(u,c),function tc(u,c){if(c.valueAccessor.setDisabledState){const a=f=>{c.valueAccessor.setDisabledState(f)};u.registerOnDisabledChange(a),c._registerOnDestroy(()=>{u._unregisterOnDisabledChange(a)})}}(u,c)}function ho(u,c,a=!0){const f=()=>{};c.valueAccessor&&(c.valueAccessor.registerOnChange(f),c.valueAccessor.registerOnTouched(f)),Oo(u,c),u&&(c._invokeOnDestroyCallbacks(),u._registerOnCollectionChange(()=>{}))}function Rs(u,c){u.forEach(a=>{a.registerOnValidatorChange&&a.registerOnValidatorChange(c)})}function nc(u,c){const a=Be(u);null!==c.validator?u.setValidators(We(a,c.validator)):"function"==typeof a&&u.setValidators([a]);const f=Ue(u);null!==c.asyncValidator?u.setAsyncValidators(We(f,c.asyncValidator)):"function"==typeof f&&u.setAsyncValidators([f]);const b=()=>u.updateValueAndValidity();Rs(c._rawValidators,b),Rs(c._rawAsyncValidators,b)}function Oo(u,c){let a=!1;if(null!==u){if(null!==c.validator){const b=Be(u);if(Array.isArray(b)&&b.length>0){const N=b.filter(Y=>Y!==c.validator);N.length!==b.length&&(a=!0,u.setValidators(N))}}if(null!==c.asyncValidator){const b=Ue(u);if(Array.isArray(b)&&b.length>0){const N=b.filter(Y=>Y!==c.asyncValidator);N.length!==b.length&&(a=!0,u.setAsyncValidators(N))}}}const f=()=>{};return Rs(c._rawValidators,f),Rs(c._rawAsyncValidators,f),a}function ps(u,c){u._pendingDirty&&u.markAsDirty(),u.setValue(u._pendingValue,{emitModelToViewChange:!1}),c.viewToModelUpdate(u._pendingValue),u._pendingChange=!1}function ci(u,c){if(!u.hasOwnProperty("model"))return!1;const a=u.model;return!!a.isFirstChange()||!Object.is(c,a.currentValue)}function is(u,c){if(!c)return null;let a,f,b;return Array.isArray(c),c.forEach(N=>{N.constructor===Zt?a=N:function Io(u){return Object.getPrototypeOf(u.constructor)===ke}(N)?f=N:b=N}),b||f||a||null}function Sa(u,c){const a=u.indexOf(c);a>-1&&u.splice(a,1)}function ss(u){return"object"==typeof u&&null!==u&&2===Object.keys(u).length&&"value"in u&&"disabled"in u}const po=class extends Ro{constructor(c=null,a,f){super(zs(a),io(f,a)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(c),this._setUpdateStrategy(a),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mo(a)&&(a.nonNullable||a.initialValueIsDefault)&&(this.defaultValue=ss(c)?c.value:c)}setValue(c,a={}){this.value=this._pendingValue=c,this._onChange.length&&!1!==a.emitModelToViewChange&&this._onChange.forEach(f=>f(this.value,!1!==a.emitViewToModelChange)),this.updateValueAndValidity(a)}patchValue(c,a={}){this.setValue(c,a)}reset(c=this.defaultValue,a={}){this._applyFormState(c),this.markAsPristine(a),this.markAsUntouched(a),this.setValue(this.value,a),this._pendingChange=!1}_updateValue(){}_anyControls(c){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(c){this._onChange.push(c)}_unregisterOnChange(c){Sa(this._onChange,c)}registerOnDisabledChange(c){this._onDisabledChange.push(c)}_unregisterOnDisabledChange(c){Sa(this._onDisabledChange,c)}_forEachChild(c){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(c){ss(c)?(this.value=this._pendingValue=c.value,c.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=c}},vt={provide:Ci,useExisting:(0,h.Gpc)(()=>tn)},Pt=(()=>Promise.resolve())();let tn=(()=>{class u extends Ci{constructor(a,f,b,N,Y,he){super(),this._changeDetectorRef=Y,this.callSetDisabledState=he,this.control=new po,this._registered=!1,this.update=new h.vpe,this._parent=a,this._setValidators(f),this._setAsyncValidators(b),this.valueAccessor=is(0,N)}ngOnChanges(a){if(this._checkForErrors(),!this._registered||"name"in a){if(this._registered&&(this._checkName(),this.formDirective)){const f=a.name.previousValue;this.formDirective.removeControl({name:f,path:this._getPath(f)})}this._setUpControl()}"isDisabled"in a&&this._updateDisabled(a),ci(a,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(a){this.viewModel=a,this.update.emit(a)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){qo(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(a){Pt.then(()=>{this.control.setValue(a,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(a){const f=a.isDisabled.currentValue,b=0!==f&&(0,h.D6c)(f);Pt.then(()=>{b&&!this.control.disabled?this.control.disable():!b&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(a){return this._parent?rs(a,this._parent):[a]}}return u.\u0275fac=function(a){return new(a||u)(h.Y36(Jn,9),h.Y36(st,10),h.Y36(it,10),h.Y36(_e,10),h.Y36(h.sBO,8),h.Y36(Co,8))},u.\u0275dir=h.lG2({type:u,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([vt]),h.qOj,h.TTD]}),u})(),rr=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275dir=h.lG2({type:u,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),u})();const ni={provide:_e,useExisting:(0,h.Gpc)(()=>so),multi:!0};let so=(()=>{class u extends ke{writeValue(a){this.setProperty("value",a??"")}registerOnChange(a){this.onChange=f=>{a(""==f?null:parseFloat(f))}}}return u.\u0275fac=function(){let c;return function(f){return(c||(c=h.n5z(u)))(f||u)}}(),u.\u0275dir=h.lG2({type:u,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(a,f){1&a&&h.NdJ("input",function(N){return f.onChange(N.target.value)})("blur",function(){return f.onTouched()})},features:[h._Bn([ni]),h.qOj]}),u})(),Ui=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=h.oAB({type:u}),u.\u0275inj=h.cJS({}),u})();const $i=new h.OlP("NgModelWithFormControlWarning"),qs={provide:Ci,useExisting:(0,h.Gpc)(()=>za)};let za=(()=>{class u extends Ci{set isDisabled(a){}constructor(a,f,b,N,Y){super(),this._ngModelWarningConfig=N,this.callSetDisabledState=Y,this.update=new h.vpe,this._ngModelWarningSent=!1,this._setValidators(a),this._setAsyncValidators(f),this.valueAccessor=is(0,b)}ngOnChanges(a){if(this._isControlChanged(a)){const f=a.form.previousValue;f&&ho(f,this,!1),qo(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}ci(a,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&ho(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(a){this.viewModel=a,this.update.emit(a)}_isControlChanged(a){return a.hasOwnProperty("form")}}return u._ngModelWarningSentOnce=!1,u.\u0275fac=function(a){return new(a||u)(h.Y36(st,10),h.Y36(it,10),h.Y36(_e,10),h.Y36($i,8),h.Y36(Co,8))},u.\u0275dir=h.lG2({type:u,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[h._Bn([qs]),h.qOj,h.TTD]}),u})();const Ga={provide:Jn,useExisting:(0,h.Gpc)(()=>li)};let li=(()=>{class u extends Jn{constructor(a,f,b){super(),this.callSetDisabledState=b,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(a),this._setAsyncValidators(f)}ngOnChanges(a){this._checkFormPresent(),a.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Oo(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(a){const f=this.form.get(a.path);return qo(f,a,this.callSetDisabledState),f.updateValueAndValidity({emitEvent:!1}),this.directives.push(a),f}getControl(a){return this.form.get(a.path)}removeControl(a){ho(a.control||null,a,!1),function Wi(u,c){const a=u.indexOf(c);a>-1&&u.splice(a,1)}(this.directives,a)}addFormGroup(a){this._setUpFormContainer(a)}removeFormGroup(a){this._cleanUpFormContainer(a)}getFormGroup(a){return this.form.get(a.path)}addFormArray(a){this._setUpFormContainer(a)}removeFormArray(a){this._cleanUpFormContainer(a)}getFormArray(a){return this.form.get(a.path)}updateModel(a,f){this.form.get(a.path).setValue(f)}onSubmit(a){return this.submitted=!0,function No(u,c){u._syncPendingControls(),c.forEach(a=>{const f=a.control;"submit"===f.updateOn&&f._pendingChange&&(a.viewToModelUpdate(f._pendingValue),f._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(a),"dialog"===a?.target?.method}onReset(){this.resetForm()}resetForm(a){this.form.reset(a),this.submitted=!1}_updateDomValue(){this.directives.forEach(a=>{const f=a.control,b=this.form.get(a.path);f!==b&&(ho(f||null,a),(u=>u instanceof po)(b)&&(qo(b,a,this.callSetDisabledState),a.control=b))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(a){const f=this.form.get(a.path);(function oi(u,c){nc(u,c)})(f,a),f.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(a){if(this.form){const f=this.form.get(a.path);f&&function Ei(u,c){return Oo(u,c)}(f,a)&&f.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){nc(this.form,this),this._oldForm&&Oo(this._oldForm,this)}_checkFormPresent(){}}return u.\u0275fac=function(a){return new(a||u)(h.Y36(st,10),h.Y36(it,10),h.Y36(Co,8))},u.\u0275dir=h.lG2({type:u,selectors:[["","formGroup",""]],hostBindings:function(a,f){1&a&&h.NdJ("submit",function(N){return f.onSubmit(N)})("reset",function(){return f.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([Ga]),h.qOj,h.TTD]}),u})();const ao={provide:Ci,useExisting:(0,h.Gpc)(()=>Qo)};let Qo=(()=>{class u extends Ci{set isDisabled(a){}constructor(a,f,b,N,Y){super(),this._ngModelWarningConfig=Y,this._added=!1,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=a,this._setValidators(f),this._setAsyncValidators(b),this.valueAccessor=is(0,N)}ngOnChanges(a){this._added||this._setUpControl(),ci(a,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(a){this.viewModel=a,this.update.emit(a)}get path(){return rs(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return u._ngModelWarningSentOnce=!1,u.\u0275fac=function(a){return new(a||u)(h.Y36(Jn,13),h.Y36(st,10),h.Y36(it,10),h.Y36(_e,10),h.Y36($i,8))},u.\u0275dir=h.lG2({type:u,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([ao]),h.qOj,h.TTD]}),u})();function Ra(u){return"number"==typeof u?u:parseFloat(u)}let Ki=(()=>{class u{constructor(){this._validator=ki}ngOnChanges(a){if(this.inputName in a){const f=this.normalizeInput(a[this.inputName].currentValue);this._enabled=this.enabled(f),this._validator=this._enabled?this.createValidator(f):ki,this._onChange&&this._onChange()}}validate(a){return this._validator(a)}registerOnValidatorChange(a){this._onChange=a}enabled(a){return null!=a}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275dir=h.lG2({type:u,features:[h.TTD]}),u})();const Oi={provide:st,useExisting:(0,h.Gpc)(()=>gs),multi:!0};let gs=(()=>{class u extends Ki{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=a=>Ra(a),this.createValidator=a=>dr(a)}}return u.\u0275fac=function(){let c;return function(f){return(c||(c=h.n5z(u)))(f||u)}}(),u.\u0275dir=h.lG2({type:u,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(a,f){2&a&&h.uIk("max",f._enabled?f.max:null)},inputs:{max:"max"},features:[h._Bn([Oi]),h.qOj]}),u})();const rc={provide:st,useExisting:(0,h.Gpc)(()=>da),multi:!0};let da=(()=>{class u extends Ki{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=a=>Ra(a),this.createValidator=a=>Bn(a)}}return u.\u0275fac=function(){let c;return function(f){return(c||(c=h.n5z(u)))(f||u)}}(),u.\u0275dir=h.lG2({type:u,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(a,f){2&a&&h.uIk("min",f._enabled?f.min:null)},inputs:{min:"min"},features:[h._Bn([rc]),h.qOj]}),u})(),no=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=h.oAB({type:u}),u.\u0275inj=h.cJS({imports:[Ui]}),u})();class nn extends Ro{constructor(c,a,f){super(zs(a),io(f,a)),this.controls=c,this._initObservables(),this._setUpdateStrategy(a),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(c){return this.controls[this._adjustIndex(c)]}push(c,a={}){this.controls.push(c),this._registerControl(c),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}insert(c,a,f={}){this.controls.splice(c,0,a),this._registerControl(a),this.updateValueAndValidity({emitEvent:f.emitEvent})}removeAt(c,a={}){let f=this._adjustIndex(c);f<0&&(f=0),this.controls[f]&&this.controls[f]._registerOnCollectionChange(()=>{}),this.controls.splice(f,1),this.updateValueAndValidity({emitEvent:a.emitEvent})}setControl(c,a,f={}){let b=this._adjustIndex(c);b<0&&(b=0),this.controls[b]&&this.controls[b]._registerOnCollectionChange(()=>{}),this.controls.splice(b,1),a&&(this.controls.splice(b,0,a),this._registerControl(a)),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(c,a={}){Ms(this,!1,c),c.forEach((f,b)=>{ns(this,!1,b),this.at(b).setValue(f,{onlySelf:!0,emitEvent:a.emitEvent})}),this.updateValueAndValidity(a)}patchValue(c,a={}){null!=c&&(c.forEach((f,b)=>{this.at(b)&&this.at(b).patchValue(f,{onlySelf:!0,emitEvent:a.emitEvent})}),this.updateValueAndValidity(a))}reset(c=[],a={}){this._forEachChild((f,b)=>{f.reset(c[b],{onlySelf:!0,emitEvent:a.emitEvent})}),this._updatePristine(a),this._updateTouched(a),this.updateValueAndValidity(a)}getRawValue(){return this.controls.map(c=>c.getRawValue())}clear(c={}){this.controls.length<1||(this._forEachChild(a=>a._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:c.emitEvent}))}_adjustIndex(c){return c<0?c+this.length:c}_syncPendingControls(){let c=this.controls.reduce((a,f)=>!!f._syncPendingControls()||a,!1);return c&&this.updateValueAndValidity({onlySelf:!0}),c}_forEachChild(c){this.controls.forEach((a,f)=>{c(a,f)})}_updateValue(){this.value=this.controls.filter(c=>c.enabled||this.disabled).map(c=>c.value)}_anyControls(c){return this.controls.some(a=>a.enabled&&c(a))}_setUpControls(){this._forEachChild(c=>this._registerControl(c))}_allControlsDisabled(){for(const c of this.controls)if(c.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(c){c.setParent(this),c._registerOnCollectionChange(this._onCollectionChange)}_find(c){return this.at(c)??null}}function en(u){return!!u&&(void 0!==u.asyncValidators||void 0!==u.validators||void 0!==u.updateOn)}let ht=(()=>{class u{constructor(){this.useNonNullable=!1}get nonNullable(){const a=new u;return a.useNonNullable=!0,a}group(a,f=null){const b=this._reduceControls(a);let N={};return en(f)?N=f:null!==f&&(N.validators=f.validator,N.asyncValidators=f.asyncValidator),new Gs(b,N)}record(a,f=null){const b=this._reduceControls(a);return new Po(b,f)}control(a,f,b){let N={};return this.useNonNullable?(en(f)?N=f:(N.validators=f,N.asyncValidators=b),new po(a,{...N,nonNullable:!0})):new po(a,f,b)}array(a,f,b){const N=a.map(Y=>this._createControl(Y));return new nn(N,f,b)}_reduceControls(a){const f={};return Object.keys(a).forEach(b=>{f[b]=this._createControl(a[b])}),f}_createControl(a){return a instanceof po||a instanceof Ro?a:Array.isArray(a)?this.control(a[0],a.length>1?a[1]:null,a.length>2?a[2]:null):this.control(a)}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275prov=h.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})(),tu=(()=>{class u{static withConfig(a){return{ngModule:u,providers:[{provide:Co,useValue:a.callSetDisabledState??Wo}]}}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=h.oAB({type:u}),u.\u0275inj=h.cJS({imports:[no]}),u})(),Rc=(()=>{class u{static withConfig(a){return{ngModule:u,providers:[{provide:$i,useValue:a.warnOnNgModelWithFormControl??"always"},{provide:Co,useValue:a.callSetDisabledState??Wo}]}}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=h.oAB({type:u}),u.\u0275inj=h.cJS({imports:[no]}),u})();var ha=U(9626),Ys=U(5861),go=U(4846),Pa=U(3071),qa=U(9724),Za=U(1135);let hl=(()=>{class u{constructor(){this.spinnerSubject=new Za.X(!1),this.spinnerState=this.spinnerSubject.asObservable()}show(){this.spinnerSubject.next(!0)}hide(){this.spinnerSubject.next(!1)}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275prov=h.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();function Kr(u,c){1&u&&(h.TgZ(0,"div",1),h._UZ(1,"div",2),h.qZA())}let or=(()=>{class u{constructor(a){this.spinnerService=a,this.showSpinner=!1,this.subscription=a.spinnerState.subscribe(f=>{this.showSpinner=f})}ngOnDestroy(){this.subscription.unsubscribe()}}return u.\u0275fac=function(a){return new(a||u)(h.Y36(hl))},u.\u0275cmp=h.Xpm({type:u,selectors:[["app-spinner"]],decls:1,vars:1,consts:[["class","spinner-overlay",4,"ngIf"],[1,"spinner-overlay"],[1,"spinner"]],template:function(a,f){1&a&&h.YNc(0,Kr,2,0,"div",0),2&a&&h.Q6J("ngIf",f.showSpinner)},dependencies:[j.O5],styles:[".spinner-overlay[_ngcontent-%COMP%]{margin-top:18%;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;z-index:9999}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;border:4px solid #ffffff;border-top-color:#29b4ad;animation:_ngcontent-%COMP%_spinner-rotate 1s infinite linear}@keyframes _ngcontent-%COMP%_spinner-rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),u})();function fa(u,c){1&u&&(h.TgZ(0,"div",13),h._UZ(1,"app-spinner"),h.qZA())}function Rl(u,c){if(1&u){const a=h.EpF();h.TgZ(0,"div",16)(1,"h6"),h._uU(2,"Paciente"),h.qZA(),h.TgZ(3,"img",17),h.NdJ("click",function(){const N=h.CHM(a).$implicit,Y=h.oxw(2);return h.KtG(Y.cargarUsuario(N.email,N.clave))}),h.qZA()()}if(2&u){const a=c.$implicit;h.xp6(3),h.Q6J("src",a.imagen1,h.LSH)}}function Ti(u,c){if(1&u){const a=h.EpF();h.TgZ(0,"div",16)(1,"h6"),h._uU(2,"Especialista"),h.qZA(),h.TgZ(3,"img",18),h.NdJ("click",function(){const N=h.CHM(a).$implicit,Y=h.oxw(2);return h.KtG(Y.cargarUsuario(N.email,N.clave))}),h.qZA()()}if(2&u){const a=c.$implicit;h.xp6(3),h.Q6J("src",a.imagen1,h.LSH)}}function Hn(u,c){if(1&u){const a=h.EpF();h.TgZ(0,"div",16)(1,"h6"),h._uU(2,"Admin"),h.qZA(),h.TgZ(3,"img",19),h.NdJ("click",function(){const N=h.CHM(a).$implicit,Y=h.oxw(2);return h.KtG(Y.cargarUsuario(N.email,N.clave))}),h.qZA()()}if(2&u){const a=c.$implicit;h.xp6(3),h.Q6J("src",a.imagen1,h.LSH)}}function vc(u,c){if(1&u&&(h.TgZ(0,"div",14),h.YNc(1,Rl,4,1,"div",15),h.YNc(2,Ti,4,1,"div",15),h.YNc(3,Hn,4,1,"div",15),h.qZA()),2&u){const a=h.oxw();h.xp6(1),h.Q6J("ngForOf",a.pacientes.slice(0,3)),h.xp6(1),h.Q6J("ngForOf",a.especialistas.slice(0,2)),h.xp6(1),h.Q6J("ngForOf",a.admins.slice(0,1))}}let lr=(()=>{class u{constructor(a,f,b,N){var Y=this;this.userService=a,this.router=f,this.swal=b,this.spinner=N,this.isLoading=!0,this.listaDeUsuarios=[],this.pacientes=[],this.especialistas=[],this.admins=[],this.user=new go.b,this.spinner.show(),this.userService.getCollection("usuarios").subscribe(function(){var he=(0,Ys.Z)(function*(Ee){Y.listaDeUsuarios=Ee,Y.listaDeUsuarios.forEach($e=>{"paciente"==$e.perfil?Y.pacientes.push($e):"especialista"==$e.perfil?Y.especialistas.push($e):"admin"==$e.perfil&&Y.admins.push($e)}),Y.spinner.hide(),Y.isLoading=!1});return function(Ee){return he.apply(this,arguments)}}())}ngOnInit(){}loginUser(){""==this.user.email||""==this.user.clave?this.swal.swalert("Error","Campos vac\xedos","error"):this.userService.login({email:this.user.email,password:this.user.clave}).then(()=>{this.userService.setUserData({Fecha:this.getDateFormat(new Date),Usuario:this.user.email},"datos de ingresos"),this.swal.swalert("Bienvenido","Bienvenido a la Cl\xednica Online","success"),this.router.navigateByUrl("/home")}).catch(a=>{this.swal.swalert("Error",this.userService.crearMensaje(a.code),"error"),console.log(a.code)})}getDateFormat(a){return`${a.getFullYear()}-${a.getMonth()+1}-${a.getDate()}`}fastLogin(){this.user.email="invitado@invitado.com",this.user.clave="123456"}cargarUsuario(a,f){this.user.email=a,this.user.clave=f,this.swal.showToast("Se carg\xf3 el usuario!","info")}}return u.\u0275fac=function(a){return new(a||u)(h.Y36(Pa.K),h.Y36(ha.F0),h.Y36(qa.J),h.Y36(hl))},u.\u0275cmp=h.Xpm({type:u,selectors:[["app-login"]],decls:18,vars:4,consts:[[1,"container"],[1,"screen"],[1,"screen__content"],[1,"login"],[1,"login__field"],["type","text","placeholder","Email",1,"login__input",3,"ngModel","ngModelChange"],[1,"login__icon","fas","fa-lock"],["type","password","placeholder","Clave",1,"login__input",3,"ngModel","ngModelChange"],[1,"button","login__submit",3,"click"],[1,"button__text"],[1,"button__icon","fas","fa-chevron-right"],["class","cargando",4,"ngIf","ngIfElse"],["mostrar",""],[1,"cargando"],[1,"row","align-items-end","justify-content-start"],["class","col",4,"ngFor","ngForOf"],[1,"col"],["alt","paciente",1,"rounded-image",3,"src","click"],["alt","Especialista",1,"rounded-image",3,"src","click"],["alt","Admin",1,"rounded-image",3,"src","click"]],template:function(a,f){if(1&a&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),h._uU(5,"Log in"),h.qZA(),h.TgZ(6,"div",4)(7,"input",5),h.NdJ("ngModelChange",function(N){return f.user.email=N}),h.qZA()(),h.TgZ(8,"div",4),h._UZ(9,"i",6),h.TgZ(10,"input",7),h.NdJ("ngModelChange",function(N){return f.user.clave=N}),h.qZA()(),h.TgZ(11,"button",8),h.NdJ("click",function(){return f.loginUser()}),h.TgZ(12,"span",9),h._uU(13,"Ingresar"),h.qZA(),h._UZ(14,"i",10),h.qZA(),h.YNc(15,fa,2,0,"div",11),h.YNc(16,vc,4,3,"ng-template",null,12,h.W1O),h.qZA()()()()),2&a){const b=h.MAs(17);h.xp6(7),h.Q6J("ngModel",f.user.email),h.xp6(3),h.Q6J("ngModel",f.user.clave),h.xp6(5),h.Q6J("ngIf",f.isLoading)("ngIfElse",b)}},dependencies:[j.sg,j.O5,Zt,Mr,tn,or],styles:['@import"https://fonts.googleapis.com/css?family=Raleway:400,700";*[_ngcontent-%COMP%]{box-sizing:border-box;margin:1;padding:0;font-family:Raleway,sans-serif}.rounded-image[_ngcontent-%COMP%]{border-radius:50%;width:80px;height:80px;cursor:pointer;object-fit:cover}.row[_ngcontent-%COMP%]{margin-top:15%}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{color:#57a39f;font-weight:700}body[_ngcontent-%COMP%]{background:linear-gradient(90deg,#C7C5F4,#776BCC)}img[_ngcontent-%COMP%]{width:50%;height:50%}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative;top:8%}.screen[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f1fcfb,#dafffd);position:relative;height:700px;width:950px;box-shadow:0 0 24px #8dcac7;border-radius:15px}.screen__content[_ngcontent-%COMP%]{z-index:1;position:relative;height:100%;display:flex}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#5e8b89}.login[_ngcontent-%COMP%]{width:820px;padding:100px 30px 30px}.login__field[_ngcontent-%COMP%]{padding:20px 0;position:relative}.login__icon[_ngcontent-%COMP%]{position:absolute;top:30px;color:#7875b5}.login__input[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #D1D1D4;background:none;padding:10px 10px 10px 24px;font-weight:700;width:75%;transition:.2s}.login__input[_ngcontent-%COMP%]:active, .login__input[_ngcontent-%COMP%]:focus, .login__input[_ngcontent-%COMP%]:hover{outline:none;border-bottom-color:#6a679e}.login__submit[_ngcontent-%COMP%]{background:#fff;font-size:14px;margin-top:30px;padding:16px 20px;border-radius:26px;border:1px solid #ddfffd;text-transform:uppercase;font-weight:700;display:flex;align-items:center;width:100%;color:#57a39f;box-shadow:0 2px 2px #57a39f;cursor:pointer;transition:.2s}.login__submit[_ngcontent-%COMP%]:active, .login__submit[_ngcontent-%COMP%]:focus, .login__submit[_ngcontent-%COMP%]:hover{border-color:#99dfdc;outline:none}.button__icon[_ngcontent-%COMP%]{font-size:24px;margin-left:auto;color:#7875b5}.social-login[_ngcontent-%COMP%]{position:absolute;height:140px;width:160px;text-align:center;bottom:0;right:0;color:#fff}.social-icons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.social-login__icon[_ngcontent-%COMP%]{padding:20px 10px;color:#fff;text-decoration:none;text-shadow:0px 0px 8px #7875B5}.social-login__icon[_ngcontent-%COMP%]:hover{transform:scale(1.5)}']}),u})(),fl=(()=>{class u{constructor(a){this.router=a}irALogIn(){try{this.router.navigateByUrl("/login")}catch(a){console.log(a)}}irARegistro(){try{this.router.navigateByUrl("/registro")}catch(a){console.log(a)}}}return u.\u0275fac=function(a){return new(a||u)(h.Y36(ha.F0))},u.\u0275cmp=h.Xpm({type:u,selectors:[["app-bienvenido"]],decls:16,vars:0,consts:[[1,"container"],[1,"screen"],[1,"screen__content"],[1,"text-center"],["src","../../../assets/logo.png","alt","logo",1,"img-logo"],[1,"home"],[1,"home__field"],[1,"button","home__submit",3,"click"],[1,"button__text"],[1,"button__icon","fas","fa-chevron-right"]],template:function(a,f){1&a&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),h._uU(4,"Bienvenido a la Cl\xednica OnLine"),h.qZA(),h._UZ(5,"img",4),h.TgZ(6,"div",5)(7,"div",6)(8,"button",7),h.NdJ("click",function(){return f.irALogIn()}),h.TgZ(9,"span",8),h._uU(10,"Iniciar sesi\xf3n"),h.qZA(),h._UZ(11,"i",9),h.qZA(),h.TgZ(12,"button",7),h.NdJ("click",function(){return f.irARegistro()}),h.TgZ(13,"span",8),h._uU(14,"Registrarse"),h.qZA(),h._UZ(15,"i",9),h.qZA()()()()()())},styles:["body[_ngcontent-%COMP%]{background:linear-gradient(90deg,#C7C5F4,#776BCC)}.img-logo[_ngcontent-%COMP%]{width:36%;height:44%}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative;top:11%}.screen[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ffffff,#dafffd);position:relative;height:600px;width:750px;box-shadow:0 0 24px #8dcac7;border-radius:15px;display:flex;flex-direction:column;align-content:center;text-align:center}.screen__content[_ngcontent-%COMP%]{top:5%;z-index:1;position:relative;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#5e8b89}.text-center[_ngcontent-%COMP%]{text-align:center}.home[_ngcontent-%COMP%]{width:320px;padding:10px 30px 30px}.home__field[_ngcontent-%COMP%]{padding:20px 0;position:relative}.home__icon[_ngcontent-%COMP%]{position:absolute;top:30px;color:#7875b5}.home__input[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #D1D1D4;background:none;padding:10px 10px 10px 24px;font-weight:700;width:75%;transition:.2s}.home__input[_ngcontent-%COMP%]:active, .home__input[_ngcontent-%COMP%]:focus, .home__input[_ngcontent-%COMP%]:hover{outline:none;border-bottom-color:#6a679e}.home__submit[_ngcontent-%COMP%]{background:#fff;font-size:14px;margin-top:30px;padding:16px 20px;border-radius:26px;border:1px solid #ddfffd;text-transform:uppercase;font-weight:700;display:flex;align-items:center;width:100%;color:#57a39f;box-shadow:0 2px 2px #57a39f;cursor:pointer;transition:.2s}.home__submit[_ngcontent-%COMP%]:active, .home__submit[_ngcontent-%COMP%]:focus, .home__submit[_ngcontent-%COMP%]:hover{border-color:#99dfdc;outline:none}.button__icon[_ngcontent-%COMP%]{font-size:24px;margin-left:auto;color:#7875b5}"]}),u})();var gr=U(8372),hn=U(3900),Wr=U(4976),Qs=U(2011),Fo=U(3942),bc=U(6881),_o=U(2090),cs=U(4859);const ic="firebasestorage.googleapis.com",oc="storageBucket";class yi extends _o.ZR{constructor(c,a,f=0){super(Js(c),`Firebase Storage: ${a} (${Js(c)})`),this.status_=f,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yi.prototype)}get status(){return this.status_}set status(c){this.status_=c}_codeEquals(c){return Js(c)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(c){this.customData.serverResponse=c,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ui=(()=>{return(u=ui||(ui={})).UNKNOWN="unknown",u.OBJECT_NOT_FOUND="object-not-found",u.BUCKET_NOT_FOUND="bucket-not-found",u.PROJECT_NOT_FOUND="project-not-found",u.QUOTA_EXCEEDED="quota-exceeded",u.UNAUTHENTICATED="unauthenticated",u.UNAUTHORIZED="unauthorized",u.UNAUTHORIZED_APP="unauthorized-app",u.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",u.INVALID_CHECKSUM="invalid-checksum",u.CANCELED="canceled",u.INVALID_EVENT_NAME="invalid-event-name",u.INVALID_URL="invalid-url",u.INVALID_DEFAULT_BUCKET="invalid-default-bucket",u.NO_DEFAULT_BUCKET="no-default-bucket",u.CANNOT_SLICE_BLOB="cannot-slice-blob",u.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",u.NO_DOWNLOAD_URL="no-download-url",u.INVALID_ARGUMENT="invalid-argument",u.INVALID_ARGUMENT_COUNT="invalid-argument-count",u.APP_DELETED="app-deleted",u.INVALID_ROOT_OPERATION="invalid-root-operation",u.INVALID_FORMAT="invalid-format",u.INTERNAL_ERROR="internal-error",u.UNSUPPORTED_ENVIRONMENT="unsupported-environment",ui;var u})();function Js(u){return"storage/"+u}function pa(){return new yi(ui.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function sc(){return new yi(ui.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wc(){return new yi(ui.CANCELED,"User canceled the upload/download.")}function ac(){return new yi(ui.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ys(u){return new yi(ui.INVALID_ARGUMENT,u)}function Cc(){return new yi(ui.APP_DELETED,"The Firebase app was deleted.")}function yo(u){return new yi(ui.INVALID_ROOT_OPERATION,"The operation '"+u+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vo(u,c){return new yi(ui.INVALID_FORMAT,"String does not match format '"+u+"': "+c)}function vs(u){throw new yi(ui.INTERNAL_ERROR,"Internal error: "+u)}class Ai{constructor(c,a){this.bucket=c,this.path_=a}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const c=encodeURIComponent;return"/b/"+c(this.bucket)+"/o/"+c(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(c,a){let f;try{f=Ai.makeFromUrl(c,a)}catch{return new Ai(c,"")}if(""===f.path)return f;throw function ru(u){return new yi(ui.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+u+"'.")}(c)}static makeFromUrl(c,a){let f=null;const b="([A-Za-z0-9.\\-_]+)",he=new RegExp("^gs://"+b+"(/(.*))?$","i");function $e(Br){Br.path_=decodeURIComponent(Br.path)}const Yt=a.replace(/[.]/g,"\\."),ai=[{regex:he,indices:{bucket:1,path:3},postModify:function N(Br){"/"===Br.path.charAt(Br.path.length-1)&&(Br.path_=Br.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Yt}/v[A-Za-z0-9_]+/b/${b}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:$e},{regex:new RegExp(`^https?://${a===ic?"(?:storage.googleapis.com|storage.cloud.google.com)":a}/${b}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:$e}];for(let Br=0;Br<ai.length;Br++){const gc=ai[Br],oa=gc.regex.exec(c);if(oa){let es=oa[gc.indices.path];es||(es=""),f=new Ai(oa[gc.indices.bucket],es),gc.postModify(f);break}}if(null==f)throw function Ec(u){return new yi(ui.INVALID_URL,"Invalid URL '"+u+"'.")}(c);return f}}class D{constructor(c){this.promise_=Promise.reject(c)}getPromise(){return this.promise_}cancel(c=!1){}}function ce(u){return"string"==typeof u||u instanceof String}function Ke(u){return kt()&&u instanceof Blob}function kt(){return typeof Blob<"u"&&!(0,_o.UG)()}function fn(u,c,a,f){if(f<c)throw ys(`Invalid value for '${u}'. Expected ${c} or greater.`);if(f>a)throw ys(`Invalid value for '${u}'. Expected ${a} or less.`)}function mn(u,c,a){let f=c;return null==a&&(f=`https://${c}`),`${a}://${f}/v0${u}`}function Rr(u){const c=encodeURIComponent;let a="?";for(const f in u)u.hasOwnProperty(f)&&(a=a+(c(f)+"=")+c(u[f])+"&");return a=a.slice(0,-1),a}var Ri=(()=>{return(u=Ri||(Ri={}))[u.NO_ERROR=0]="NO_ERROR",u[u.NETWORK_ERROR=1]="NETWORK_ERROR",u[u.ABORT=2]="ABORT",Ri;var u})();function Oa(u,c){const a=u>=500&&u<600,b=-1!==[408,429].indexOf(u),N=-1!==c.indexOf(u);return a||b||N}class bs{constructor(c,a,f,b,N,Y,he,Ee,$e,Ot,Yt,xn=!0){this.url_=c,this.method_=a,this.headers_=f,this.body_=b,this.successCodes_=N,this.additionalRetryCodes_=Y,this.callback_=he,this.errorCallback_=Ee,this.timeout_=$e,this.progressCallback_=Ot,this.connectionFactory_=Yt,this.retry=xn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((gn,rn)=>{this.resolve_=gn,this.reject_=rn,this.start_()})}start_(){const a=(f,b)=>{const N=this.resolve_,Y=this.reject_,he=b.connection;if(b.wasSuccessCode)try{const Ee=this.callback_(he,he.getResponse());!function F(u){return void 0!==u}(Ee)?N():N(Ee)}catch(Ee){Y(Ee)}else if(null!==he){const Ee=pa();Ee.serverResponse=he.getErrorText(),Y(this.errorCallback_?this.errorCallback_(he,Ee):Ee)}else Y(b.canceled?this.appDelete_?Cc():wc():sc())};this.canceled_?a(0,new Xs(!1,null,!0)):this.backoffId_=function S(u,c,a){let f=1,b=null,N=null,Y=!1,he=0;function Ee(){return 2===he}let $e=!1;function Ot(...hr){$e||($e=!0,c.apply(null,hr))}function Yt(hr){b=setTimeout(()=>{b=null,u(gn,Ee())},hr)}function xn(){N&&clearTimeout(N)}function gn(hr,...ur){if($e)return void xn();if(hr)return xn(),void Ot.call(null,hr,...ur);if(Ee()||Y)return xn(),void Ot.call(null,hr,...ur);let ai;f<64&&(f*=2),1===he?(he=2,ai=0):ai=1e3*(f+Math.random()),Yt(ai)}let rn=!1;function Zn(hr){rn||(rn=!0,xn(),!$e&&(null!==b?(hr||(he=2),clearTimeout(b),Yt(0)):hr||(he=1)))}return Yt(0),N=setTimeout(()=>{Y=!0,Zn(!0)},a),Zn}((f,b)=>{if(b)return void f(!1,new Xs(!1,null,!0));const N=this.connectionFactory_();this.pendingConnection_=N;const Y=he=>{null!==this.progressCallback_&&this.progressCallback_(he.loaded,he.lengthComputable?he.total:-1)};null!==this.progressCallback_&&N.addUploadProgressListener(Y),N.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&N.removeUploadProgressListener(Y),this.pendingConnection_=null;const he=N.getErrorCode()===Ri.NO_ERROR,Ee=N.getStatus();if(!he||Oa(Ee,this.additionalRetryCodes_)&&this.retry){const Ot=N.getErrorCode()===Ri.ABORT;return void f(!1,new Xs(!1,null,Ot))}const $e=-1!==this.successCodes_.indexOf(Ee);f(!0,new Xs($e,N))})},a,this.timeout_)}getPromise(){return this.promise_}cancel(c){this.canceled_=!0,this.appDelete_=c||!1,null!==this.backoffId_&&function E(u){u(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Xs{constructor(c,a,f){this.wasSuccessCode=c,this.connection=a,this.canceled=!!f}}function ml(...u){const c=function Ku(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==c){const a=new c;for(let f=0;f<u.length;f++)a.append(u[f]);return a.getBlob()}if(kt())return new Blob(u);throw new yi(ui.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Yi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Na{constructor(c,a){this.data=c,this.contentType=a||null}}function su(u,c){switch(u){case Yi.RAW:return new Na(vi(c));case Yi.BASE64:case Yi.BASE64URL:return new Na(Qi(u,c));case Yi.DATA_URL:return new Na(function Dd(u){const c=new Si(u);return c.base64?Qi(Yi.BASE64,c.rest):function Ol(u){let c;try{c=decodeURIComponent(u)}catch{throw vo(Yi.DATA_URL,"Malformed data URL.")}return vi(c)}(c.rest)}(c),function gl(u){return new Si(u).contentType}(c))}throw pa()}function vi(u){const c=[];for(let a=0;a<u.length;a++){let f=u.charCodeAt(a);f<=127?c.push(f):f<=2047?c.push(192|f>>6,128|63&f):55296==(64512&f)?a<u.length-1&&56320==(64512&u.charCodeAt(a+1))?(f=65536|(1023&f)<<10|1023&u.charCodeAt(++a),c.push(240|f>>18,128|f>>12&63,128|f>>6&63,128|63&f)):c.push(239,191,189):56320==(64512&f)?c.push(239,191,189):c.push(224|f>>12,128|f>>6&63,128|63&f)}return new Uint8Array(c)}function Qi(u,c){switch(u){case Yi.BASE64:{const b=-1!==c.indexOf("-"),N=-1!==c.indexOf("_");if(b||N)throw vo(u,"Invalid character '"+(b?"-":"_")+"' found: is it base64url encoded?");break}case Yi.BASE64URL:{const b=-1!==c.indexOf("+"),N=-1!==c.indexOf("/");if(b||N)throw vo(u,"Invalid character '"+(b?"+":"/")+"' found: is it base64 encoded?");c=c.replace(/-/g,"+").replace(/_/g,"/");break}}let a;try{a=function Uo(u){if(typeof atob>"u")throw function Bi(u){return new yi(ui.UNSUPPORTED_ENVIRONMENT,`${u} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(u)}(c)}catch(b){throw b.message.includes("polyfill")?b:vo(u,"Invalid character found")}const f=new Uint8Array(a.length);for(let b=0;b<a.length;b++)f[b]=a.charCodeAt(b);return f}class Si{constructor(c){this.base64=!1,this.contentType=null;const a=c.match(/^data:([^,]+)?,/);if(null===a)throw vo(Yi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const f=a[1]||null;null!=f&&(this.base64=function Us(u,c){return u.length>=c.length&&u.substring(u.length-c.length)===c}(f,";base64"),this.contentType=this.base64?f.substring(0,f.length-7):f),this.rest=c.substring(c.indexOf(",")+1)}}class ka{constructor(c,a){let f=0,b="";Ke(c)?(this.data_=c,f=c.size,b=c.type):c instanceof ArrayBuffer?(a?this.data_=new Uint8Array(c):(this.data_=new Uint8Array(c.byteLength),this.data_.set(new Uint8Array(c))),f=this.data_.length):c instanceof Uint8Array&&(a?this.data_=c:(this.data_=new Uint8Array(c.length),this.data_.set(c)),f=c.length),this.size_=f,this.type_=b}size(){return this.size_}type(){return this.type_}slice(c,a){if(Ke(this.data_)){const b=function Pl(u,c,a){return u.webkitSlice?u.webkitSlice(c,a):u.mozSlice?u.mozSlice(c,a):u.slice?u.slice(c,a):null}(this.data_,c,a);return null===b?null:new ka(b)}{const f=new Uint8Array(this.data_.buffer,c,a-c);return new ka(f,!0)}}static getBlob(...c){if(kt()){const a=c.map(f=>f instanceof ka?f.data_:f);return new ka(ml.apply(null,a))}{const a=c.map(Y=>ce(Y)?su(Yi.RAW,Y).data:Y.data_);let f=0;a.forEach(Y=>{f+=Y.byteLength});const b=new Uint8Array(f);let N=0;return a.forEach(Y=>{for(let he=0;he<Y.length;he++)b[N++]=Y[he]}),new ka(b,!0)}}uploadData(){return this.data_}}function Yu(u){let c;try{c=JSON.parse(u)}catch{return null}return function te(u){return"object"==typeof u&&!Array.isArray(u)}(c)?c:null}function Ic(u){const c=u.lastIndexOf("/",u.length-2);return-1===c?u:u.slice(c+1)}function Ni(u,c){return c}class Ji{constructor(c,a,f,b){this.server=c,this.local=a||c,this.writable=!!f,this.xform=b||Ni}}let Jc=null;function Oc(){if(Jc)return Jc;const u=[];u.push(new Ji("bucket")),u.push(new Ji("generation")),u.push(new Ji("metageneration")),u.push(new Ji("name","fullPath",!0));const a=new Ji("name");a.xform=function c(N,Y){return function _l(u){return!ce(u)||u.length<2?u:Ic(u)}(Y)},u.push(a);const b=new Ji("size");return b.xform=function f(N,Y){return void 0!==Y?Number(Y):Y},u.push(b),u.push(new Ji("timeCreated")),u.push(new Ji("updated")),u.push(new Ji("md5Hash",null,!0)),u.push(new Ji("cacheControl",null,!0)),u.push(new Ji("contentDisposition",null,!0)),u.push(new Ji("contentEncoding",null,!0)),u.push(new Ji("contentLanguage",null,!0)),u.push(new Ji("contentType",null,!0)),u.push(new Ji("metadata","customMetadata",!0)),Jc=u,Jc}function _a(u,c,a){const f=Yu(c);return null===f?null:function Dc(u,c,a){const f={type:"file"},b=a.length;for(let N=0;N<b;N++){const Y=a[N];f[Y.local]=Y.xform(f,c[Y.server])}return function Nl(u,c){Object.defineProperty(u,"ref",{get:function a(){const N=new Ai(u.bucket,u.fullPath);return c._makeStorageReference(N)}})}(f,u),f}(u,f,a)}function ta(u,c){const a={},f=c.length;for(let b=0;b<f;b++){const N=c[b];N.writable&&(a[N.server]=u[N.local])}return JSON.stringify(a)}const Fa="prefixes",Nc="items";class ws{constructor(c,a,f,b){this.url=c,this.method=a,this.handler=f,this.timeout=b,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function na(u){if(!u)throw pa()}function cc(u,c){return function a(f,b){const N=_a(u,b,c);return na(null!==N),N}}function lc(u){return function c(a,f){let b;return b=401===a.getStatus()?a.getErrorText().includes("Firebase App Check token is invalid")?function nu(){return new yi(ui.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function zr(){return new yi(ui.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===a.getStatus()?function Yc(u){return new yi(ui.QUOTA_EXCEEDED,"Quota for bucket '"+u+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(u.bucket):403===a.getStatus()?function Qc(u){return new yi(ui.UNAUTHORIZED,"User does not have permission to access '"+u+"'.")}(u.path):f,b.status=a.getStatus(),b.serverResponse=f.serverResponse,b}}function uc(u){const c=lc(u);return function a(f,b){let N=c(f,b);return 404===f.getStatus()&&(N=function pt(u){return new yi(ui.OBJECT_NOT_FOUND,"Object '"+u+"' does not exist.")}(u.path)),N.serverResponse=b.serverResponse,N}}function cu(u,c,a){const b=mn(c.fullServerUrl(),u.host,u._protocol),Y=u.maxOperationRetryTime,he=new ws(b,"GET",cc(u,a),Y);return he.errorHandler=uc(c),he}function dc(u,c,a,f,b){const N={};N.prefix=c.isRoot?"":c.path+"/",a&&a.length>0&&(N.delimiter=a),f&&(N.pageToken=f),b&&(N.maxResults=b);const he=mn(c.bucketOnlyServerUrl(),u.host,u._protocol),$e=u.maxOperationRetryTime,Ot=new ws(he,"GET",function kl(u,c){return function a(f,b){const N=function au(u,c,a){const f=Yu(a);return null===f?null:function ya(u,c,a){const f={prefixes:[],items:[],nextPageToken:a.nextPageToken};if(a[Fa])for(const b of a[Fa]){const N=b.replace(/\/$/,""),Y=u._makeStorageReference(new Ai(c,N));f.prefixes.push(Y)}if(a[Nc])for(const b of a[Nc]){const N=u._makeStorageReference(new Ai(c,b.name));f.items.push(N)}return f}(u,c,f)}(u,c,b);return na(null!==N),N}}(u,c.bucket),$e);return Ot.urlParams=N,Ot.errorHandler=lc(c),Ot}function hc(u,c,a){const f=Object.assign({},a);return f.fullPath=u.path,f.size=c.size(),f.contentType||(f.contentType=function Ad(u,c){return u&&u.contentType||c&&c.type()||"application/octet-stream"}(null,c)),f}class uu{constructor(c,a,f,b){this.current=c,this.total=a,this.finalized=!!f,this.metadata=b||null}}function Pi(u,c){let a=null;try{a=u.getResponseHeader("X-Goog-Upload-Status")}catch{na(!1)}return na(!!a&&-1!==(c||["active"]).indexOf(a)),a}const L={STATE_CHANGED:"state_changed"},G={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function pe(u){switch(u){case"running":case"pausing":case"canceling":return G.RUNNING;case"paused":return G.PAUSED;case"success":return G.SUCCESS;case"canceled":return G.CANCELED;default:return G.ERROR}}class Pe{constructor(c,a,f){if(function H(u){return"function"==typeof u}(c)||null!=a||null!=f)this.next=c,this.error=a??void 0,this.complete=f??void 0;else{const N=c;this.next=N.next,this.error=N.error,this.complete=N.complete}}}function He(u){return(...c)=>{Promise.resolve().then(()=>u(...c))}}let Tt=null;class _n{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ri.NO_ERROR,this.sendPromise_=new Promise(c=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ri.ABORT,c()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ri.NETWORK_ERROR,c()}),this.xhr_.addEventListener("load",()=>{c()})})}send(c,a,f,b){if(this.sent_)throw vs("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(a,c,!0),void 0!==b)for(const N in b)b.hasOwnProperty(N)&&this.xhr_.setRequestHeader(N,b[N].toString());return void 0!==f?this.xhr_.send(f):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vs("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vs("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vs("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vs("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(c){return this.xhr_.getResponseHeader(c)}addUploadProgressListener(c){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",c)}removeUploadProgressListener(c){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",c)}}class dn extends _n{initXhr(){this.xhr_.responseType="text"}}function Tn(){return Tt?Tt():new dn}class Fc{constructor(c,a,f=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=c,this._blob=a,this._metadata=f,this._mappings=Oc(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=b=>{if(this._request=void 0,this._chunkMultiplier=1,b._codeEquals(ui.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const N=this.isExponentialBackoffExpired();if(Oa(b.status,[])){if(!N)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();b=sc()}this._error=b,this._transition("error")}},this._metadataErrorHandler=b=>{this._request=void 0,b._codeEquals(ui.CANCELED)?this.completeTransitions_():(this._error=b,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((b,N)=>{this._resolve=b,this._reject=N,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const c=this._transferred;return a=>this._updateProgress(c+a)}_shouldDoResumable(c){return c.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(c){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([a,f])=>{switch(this._state){case"running":c(a,f);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((c,a)=>{const f=function kc(u,c,a,f,b){const N=c.bucketOnlyServerUrl(),Y=hc(c,f,b),he={name:Y.fullPath},Ee=mn(N,u.host,u._protocol),Ot={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${f.size()}`,"X-Goog-Upload-Header-Content-Type":Y.contentType,"Content-Type":"application/json; charset=utf-8"},Yt=ta(Y,a),rn=new ws(Ee,"POST",function gn(Zn){let hr;Pi(Zn);try{hr=Zn.getResponseHeader("X-Goog-Upload-URL")}catch{na(!1)}return na(ce(hr)),hr},u.maxUploadRetryTime);return rn.urlParams=he,rn.headers=Ot,rn.body=Yt,rn.errorHandler=lc(c),rn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),b=this._ref.storage._makeRequest(f,Tn,c,a);this._request=b,b.getPromise().then(N=>{this._request=void 0,this._uploadUrl=N,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const c=this._uploadUrl;this._resolveToken((a,f)=>{const b=function Qu(u,c,a,f){const Ee=new ws(a,"POST",function N($e){const Ot=Pi($e,["active","final"]);let Yt=null;try{Yt=$e.getResponseHeader("X-Goog-Upload-Size-Received")}catch{na(!1)}Yt||na(!1);const xn=Number(Yt);return na(!isNaN(xn)),new uu(xn,f.size(),"final"===Ot)},u.maxUploadRetryTime);return Ee.headers={"X-Goog-Upload-Command":"query"},Ee.errorHandler=lc(c),Ee}(this._ref.storage,this._ref._location,c,this._blob),N=this._ref.storage._makeRequest(b,Tn,a,f);this._request=N,N.getPromise().then(Y=>{this._request=void 0,this._updateProgress(Y.current),this._needToFetchStatus=!1,Y.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const c=262144*this._chunkMultiplier,a=new uu(this._transferred,this._blob.size()),f=this._uploadUrl;this._resolveToken((b,N)=>{let Y;try{Y=function M(u,c,a,f,b,N,Y,he){const Ee=new uu(0,0);if(Y?(Ee.current=Y.current,Ee.total=Y.total):(Ee.current=0,Ee.total=f.size()),f.size()!==Ee.total)throw function Id(){return new yi(ui.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const $e=Ee.total-Ee.current;let Ot=$e;b>0&&(Ot=Math.min(Ot,b));const Yt=Ee.current;let gn="";gn=0===Ot?"finalize":$e===Ot?"upload, finalize":"upload";const rn={"X-Goog-Upload-Command":gn,"X-Goog-Upload-Offset":`${Ee.current}`},Zn=f.slice(Yt,Yt+Ot);if(null===Zn)throw ac();const ai=new ws(a,"POST",function hr(Br,gc){const oa=Pi(Br,["active","final"]),As=Ee.current+Ot,es=f.size();let Ca;return Ca="final"===oa?cc(c,N)(Br,gc):null,new uu(As,es,"final"===oa,Ca)},c.maxUploadRetryTime);return ai.headers=rn,ai.body=Zn.uploadData(),ai.progressCallback=he||null,ai.errorHandler=lc(u),ai}(this._ref._location,this._ref.storage,f,this._blob,c,this._mappings,a,this._makeProgressCallback())}catch(Ee){return this._error=Ee,void this._transition("error")}const he=this._ref.storage._makeRequest(Y,Tn,b,N,!1);this._request=he,he.getPromise().then(Ee=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Ee.current),Ee.finalized?(this._metadata=Ee.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((c,a)=>{const f=cu(this._ref.storage,this._ref._location,this._mappings),b=this._ref.storage._makeRequest(f,Tn,c,a);this._request=b,b.getPromise().then(N=>{this._request=void 0,this._metadata=N,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((c,a)=>{const f=function Ao(u,c,a,f,b){const N=c.bucketOnlyServerUrl(),Y={"X-Goog-Upload-Protocol":"multipart"},Ee=function he(){let ai="";for(let Br=0;Br<2;Br++)ai+=Math.random().toString().slice(2);return ai}();Y["Content-Type"]="multipart/related; boundary="+Ee;const $e=hc(c,f,b),Ot=ta($e,a),gn=ka.getBlob("--"+Ee+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Ot+"\r\n--"+Ee+"\r\nContent-Type: "+$e.contentType+"\r\n\r\n",f,"\r\n--"+Ee+"--");if(null===gn)throw ac();const rn={name:$e.fullPath},Zn=mn(N,u.host,u._protocol),ur=u.maxUploadRetryTime,si=new ws(Zn,"POST",cc(u,a),ur);return si.urlParams=rn,si.headers=Y,si.body=gn.uploadData(),si.errorHandler=lc(c),si}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),b=this._ref.storage._makeRequest(f,Tn,c,a);this._request=b,b.getPromise().then(N=>{this._request=void 0,this._metadata=N,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(c){const a=this._transferred;this._transferred=c,this._transferred!==a&&this._notifyObservers()}_transition(c){if(this._state!==c)switch(c){case"canceling":case"pausing":this._state=c,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const a="paused"===this._state;this._state=c,a&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=c,this._notifyObservers();break;case"canceled":this._error=wc(),this._state=c,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const c=pe(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:c,metadata:this._metadata,task:this,ref:this._ref}}on(c,a,f,b){const N=new Pe(a||void 0,f||void 0,b||void 0);return this._addObserver(N),()=>{this._removeObserver(N)}}then(c,a){return this._promise.then(c,a)}catch(c){return this.then(null,c)}_addObserver(c){this._observers.push(c),this._notifyObserver(c)}_removeObserver(c){const a=this._observers.indexOf(c);-1!==a&&this._observers.splice(a,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(a=>{this._notifyObserver(a)})}_finishPromise(){if(void 0!==this._resolve){let c=!0;switch(pe(this._state)){case G.SUCCESS:He(this._resolve.bind(null,this.snapshot))();break;case G.CANCELED:case G.ERROR:He(this._reject.bind(null,this._error))();break;default:c=!1}c&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(c){switch(pe(this._state)){case G.RUNNING:case G.PAUSED:c.next&&He(c.next.bind(c,this.snapshot))();break;case G.SUCCESS:c.complete&&He(c.complete.bind(c))();break;default:c.error&&He(c.error.bind(c,this._error))()}}resume(){const c="paused"===this._state||"pausing"===this._state;return c&&this._transition("running"),c}pause(){const c="running"===this._state;return c&&this._transition("pausing"),c}cancel(){const c="running"===this._state||"pausing"===this._state;return c&&this._transition("canceling"),c}}class Ac{constructor(c,a){this._service=c,this._location=a instanceof Ai?a:Ai.makeFromUrl(a,c.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(c,a){return new Ac(c,a)}get root(){const c=new Ai(this._location.bucket,"");return this._newRef(this._service,c)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ic(this._location.path)}get storage(){return this._service}get parent(){const c=function bo(u){if(0===u.length)return null;const c=u.lastIndexOf("/");return-1===c?"":u.slice(0,c)}(this._location.path);if(null===c)return null;const a=new Ai(this._location.bucket,c);return new Ac(this._service,a)}_throwIfRoot(c){if(""===this._location.path)throw yo(c)}}function Ju(u,c,a){return La.apply(this,arguments)}function La(){return(La=(0,Ys.Z)(function*(u,c,a){const b=yield tl(u,{pageToken:a});c.prefixes.push(...b.prefixes),c.items.push(...b.items),null!=b.nextPageToken&&(yield Ju(u,c,b.nextPageToken))})).apply(this,arguments)}function tl(u,c){null!=c&&"number"==typeof c.maxResults&&fn("options.maxResults",1,1e3,c.maxResults);const a=c||{},f=dc(u.storage,u._location,"/",a.pageToken,a.maxResults);return u.storage.makeRequestWithTokens(f,Tn)}function Md(u){u._throwIfRoot("getDownloadURL");const c=function Ya(u,c,a){const b=mn(c.fullServerUrl(),u.host,u._protocol),Y=u.maxOperationRetryTime,he=new ws(b,"GET",function Td(u,c){return function a(f,b){const N=_a(u,b,c);return na(null!==N),function yl(u,c,a,f){const b=Yu(c);if(null===b||!ce(b.downloadTokens))return null;const N=b.downloadTokens;if(0===N.length)return null;const Y=encodeURIComponent;return N.split(",").map($e=>{const Yt=u.fullPath;return mn("/b/"+Y(u.bucket)+"/o/"+Y(Yt),a,f)+Rr({alt:"media",token:$e})})[0]}(N,b,u.host,u._protocol)}}(u,a),Y);return he.errorHandler=uc(c),he}(u.storage,u._location,Oc());return u.storage.makeRequestWithTokens(c,Tn).then(a=>{if(null===a)throw function _s(){return new yi(ui.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return a})}function Lc(u,c){const a=function Eh(u,c){const a=c.split("/").filter(f=>f.length>0).join("/");return 0===u.length?a:u+"/"+a}(u._location.path,c),f=new Ai(u._location.bucket,a);return new Ac(u.storage,f)}function Dh(u,c){if(u instanceof v){const a=u;if(null==a._bucket)throw function iu(){return new yi(ui.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+oc+"' property when initializing the app?")}();const f=new Ac(a,a._bucket);return null!=c?Dh(f,c):f}return void 0!==c?Lc(u,c):u}function Th(u,c){if(c&&function Rd(u){return/^[A-Za-z]+:\/\//.test(u)}(c)){if(u instanceof v)return function Ll(u,c){return new Ac(u,c)}(u,c);throw ys("To use ref(service, url), the first argument must be a Storage instance.")}return Dh(u,c)}function T(u,c){const a=c?.[oc];return null==a?null:Ai.makeFromBucketSpec(a,u)}class v{constructor(c,a,f,b,N){this.app=c,this._authProvider=a,this._appCheckProvider=f,this._url=b,this._firebaseVersion=N,this._bucket=null,this._host=ic,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=b?Ai.makeFromBucketSpec(b,this._host):T(this._host,this.app.options)}get host(){return this._host}set host(c){this._host=c,this._bucket=null!=this._url?Ai.makeFromBucketSpec(this._url,c):T(c,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(c){fn("time",0,Number.POSITIVE_INFINITY,c),this._maxUploadRetryTime=c}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(c){fn("time",0,Number.POSITIVE_INFINITY,c),this._maxOperationRetryTime=c}_getAuthToken(){var c=this;return(0,Ys.Z)(function*(){if(c._overrideAuthToken)return c._overrideAuthToken;const a=c._authProvider.getImmediate({optional:!0});if(a){const f=yield a.getToken();if(null!==f)return f.accessToken}return null})()}_getAppCheckToken(){var c=this;return(0,Ys.Z)(function*(){const a=c._appCheckProvider.getImmediate({optional:!0});return a?(yield a.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(c=>c.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(c){return new Ac(this,c)}_makeRequest(c,a,f,b,N=!0){if(this._deleted)return new D(Cc());{const Y=function Pc(u,c,a,f,b,N,Y=!0){const he=Rr(u.urlParams),Ee=u.url+he,$e=Object.assign({},u.headers);return function ga(u,c){c&&(u["X-Firebase-GMPID"]=c)}($e,c),function ea(u,c){null!==c&&c.length>0&&(u.Authorization="Firebase "+c)}($e,a),function ma(u,c){u["X-Firebase-Storage-Version"]="webjs/"+(c??"AppManager")}($e,N),function ou(u,c){null!==c&&(u["X-Firebase-AppCheck"]=c)}($e,f),new bs(Ee,u.method,$e,u.body,u.successCodes,u.additionalRetryCodes,u.handler,u.errorHandler,u.timeout,u.progressCallback,b,Y)}(c,this._appId,f,b,a,this._firebaseVersion,N);return this._requests.add(Y),Y.getPromise().then(()=>this._requests.delete(Y),()=>this._requests.delete(Y)),Y}}makeRequestWithTokens(c,a){var f=this;return(0,Ys.Z)(function*(){const[b,N]=yield Promise.all([f._getAuthToken(),f._getAppCheckToken()]);return f._makeRequest(c,a,b,N).getPromise()})()}}const R="@firebase/storage",Q="0.11.2",de="storage";function vl(u,c){return Th(u=(0,_o.m9)(u),c)}function Od(u=(0,bc.getApp)(),c){u=(0,_o.m9)(u);const f=(0,bc._getProvider)(u,de).getImmediate({identifier:c}),b=(0,_o.P0)("storage");return b&&Ba(f,...b),f}function Ba(u,c,a,f={}){!function g(u,c,a,f={}){u.host=`${c}:${a}`,u._protocol="http";const{mockUserToken:b}=f;b&&(u._overrideAuthToken="string"==typeof b?b:(0,_o.Sg)(b,u.app.options.projectId))}(u,c,a,f)}function Nd(u,{instanceIdentifier:c}){const a=u.getProvider("app").getImmediate(),f=u.getProvider("auth-internal"),b=u.getProvider("app-check-internal");return new v(a,f,b,c,bc.SDK_VERSION)}!function Xu(){(0,bc._registerComponent)(new cs.wA(de,Nd,"PUBLIC").setMultipleInstances(!0)),(0,bc.registerVersion)(R,Q,""),(0,bc.registerVersion)(R,Q,"esm2017")}();class Dr{constructor(c,a,f){this._delegate=c,this.task=a,this.ref=f}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class ed{constructor(c,a){this._delegate=c,this._ref=a,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Dr(this._delegate.snapshot,this,this._ref)}then(c,a){return this._delegate.then(f=>{if(c)return c(new Dr(f,this,this._ref))},a)}on(c,a,f,b){let N;return a&&(N="function"==typeof a?Y=>a(new Dr(Y,this,this._ref)):{next:a.next?Y=>a.next(new Dr(Y,this,this._ref)):void 0,complete:a.complete||void 0,error:a.error||void 0}),this._delegate.on(c,N,f||void 0,b||void 0)}}class fu{constructor(c,a){this._delegate=c,this._service=a}get prefixes(){return this._delegate.prefixes.map(c=>new Uc(c,this._service))}get items(){return this._delegate.items.map(c=>new Uc(c,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Uc{constructor(c,a){this._delegate=c,this.storage=a}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(c){const a=function hu(u,c){return Lc(u,c)}(this._delegate,c);return new Uc(a,this.storage)}get root(){return new Uc(this._delegate.root,this.storage)}get parent(){const c=this._delegate.parent;return null==c?null:new Uc(c,this.storage)}put(c,a){return this._throwIfRoot("put"),new ed(function bn(u,c,a){return function Sd(u,c,a){return u._throwIfRoot("uploadBytesResumable"),new Fc(u,new ka(c),a)}(u=(0,_o.m9)(u),c,a)}(this._delegate,c,a),this)}putString(c,a=Yi.RAW,f){this._throwIfRoot("putString");const b=su(a,c),N=Object.assign({},f);return null==N.contentType&&null!=b.contentType&&(N.contentType=b.contentType),new ed(new Fc(this._delegate,new ka(b.data,!0),N),this)}listAll(){return function Bs(u){return function Ch(u){const c={prefixes:[],items:[]};return Ju(u,c).then(()=>c)}(u=(0,_o.m9)(u))}(this._delegate).then(c=>new fu(c,this.storage))}list(c){return function ba(u,c){return tl(u=(0,_o.m9)(u),c)}(this._delegate,c||void 0).then(a=>new fu(a,this.storage))}getMetadata(){return function Kn(u){return function du(u){u._throwIfRoot("getMetadata");const c=cu(u.storage,u._location,Oc());return u.storage.makeRequestWithTokens(c,Tn)}(u=(0,_o.m9)(u))}(this._delegate)}updateMetadata(c){return function Ur(u,c){return function nl(u,c){u._throwIfRoot("updateMetadata");const a=function lu(u,c,a,f){const N=mn(c.fullServerUrl(),u.host,u._protocol),he=ta(a,f),$e=u.maxOperationRetryTime,Ot=new ws(N,"PATCH",cc(u,f),$e);return Ot.headers={"Content-Type":"application/json; charset=utf-8"},Ot.body=he,Ot.errorHandler=uc(c),Ot}(u.storage,u._location,c,Oc());return u.storage.makeRequestWithTokens(a,Tn)}(u=(0,_o.m9)(u),c)}(this._delegate,c)}getDownloadURL(){return function Pd(u){return Md(u=(0,_o.m9)(u))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Ua(u){return function Ih(u){u._throwIfRoot("deleteObject");const c=function Xc(u,c){const f=mn(c.fullServerUrl(),u.host,u._protocol),he=new ws(f,"DELETE",function Y(Ee,$e){},u.maxOperationRetryTime);return he.successCodes=[200,204],he.errorHandler=uc(c),he}(u.storage,u._location);return u.storage.makeRequestWithTokens(c,Tn)}(u=(0,_o.m9)(u))}(this._delegate)}_throwIfRoot(c){if(""===this._delegate._location.path)throw yo(c)}}class Sh{constructor(c,a){this.app=c,this._delegate=a}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(c){if(td(c))throw ys("ref() expected a child path but got a URL, use refFromURL instead.");return new Uc(vl(this._delegate,c),this)}refFromURL(c){if(!td(c))throw ys("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ai.makeFromUrl(c,this._delegate.host)}catch{throw ys("refFromUrl() expected a valid full URL but got an invalid one.")}return new Uc(vl(this._delegate,c),this)}setMaxUploadRetryTime(c){this._delegate.maxUploadRetryTime=c}setMaxOperationRetryTime(c){this._delegate.maxOperationRetryTime=c}useEmulator(c,a,f={}){Ba(this._delegate,c,a,f)}}function td(u){return/^[A-Za-z]+:\/\//.test(u)}function Ym(u,{instanceIdentifier:c}){const a=u.getProvider("app-compat").getImmediate(),f=u.getProvider("storage").getImmediate({identifier:c});return new Sh(a,f)}!function kd(u){const c={TaskState:G,TaskEvent:L,StringFormat:Yi,Storage:Sh,Reference:Uc};u.INTERNAL.registerComponent(new cs.wA("storage-compat",Ym,"PUBLIC").setServiceProps(c).setMultipleInstances(!0)),u.registerVersion("@firebase/storage-compat","0.3.2")}(Fo.Z);var bl=U(2313);function xh(u){const c=function wl(u){return new be.y(c=>{const a=Y=>c.next(Y);a(u.snapshot);const N=u.on("state_changed",a);return u.then(Y=>{a(Y),c.complete()},Y=>{a(u.snapshot),(Y=>{c.error(Y)})(Y)}),function(){N()}}).pipe((0,gr.b)(0))}(u);return{task:u,then:u.then.bind(u),catch:u.catch.bind(u),pause:u.pause.bind(u),cancel:u.cancel.bind(u),resume:u.resume.bind(u),snapshotChanges:()=>c,percentageChanges:()=>c.pipe((0,me.U)(a=>a.bytesTransferred/a.totalBytes*100))}}function fc(u){return{getDownloadURL:()=>(0,ye.of)(void 0).pipe(Wr.fc,(0,hn.w)(()=>u.getDownloadURL()),Wr.iC),getMetadata:()=>(0,ye.of)(void 0).pipe(Wr.fc,(0,hn.w)(()=>u.getMetadata()),Wr.iC),delete:()=>(0,lt.D)(u.delete()),child:c=>fc(u.child(c)),updateMetadata:c=>(0,lt.D)(u.updateMetadata(c)),put:(c,a)=>xh(u.put(c,a)),putString:(c,a,f)=>xh(u.putString(c,a,f)),list:c=>(0,lt.D)(u.list(c)),listAll:()=>(0,lt.D)(u.listAll())}}U(9260);const Jm=new h.OlP("angularfire2.storageBucket"),Xm=new h.OlP("angularfire2.storage.maxUploadRetryTime"),Ef=new h.OlP("angularfire2.storage.maxOperationRetryTime"),D_=new h.OlP("angularfire2.storage.use-emulator");let Mh=(()=>{class u{constructor(a,f,b,N,Y,he,Ee,$e,Ot,Yt){const xn=(0,Qs.on)(a,Y,f);this.storage=(0,Qs.cc)(`${xn.name}.storage.${b}`,"AngularFireStorage",xn.name,()=>{const gn=Y.runOutsideAngular(()=>xn.storage(b||void 0)),rn=Ot;return rn&&gn.useEmulator(...rn),Ee&&gn.setMaxUploadRetryTime(Ee),$e&&gn.setMaxOperationRetryTime($e),gn},[Ee,$e])}ref(a){return fc(this.storage.ref(a))}refFromURL(a){return fc(this.storage.refFromURL(a))}upload(a,f,b){return fc(this.storage.ref(a)).put(f,b)}}return u.\u0275fac=function(a){return new(a||u)(h.LFG(Qs.Dh),h.LFG(Qs.xv,8),h.LFG(Jm,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Wr.HU),h.LFG(Xm,8),h.LFG(Ef,8),h.LFG(D_,8),h.LFG(bl.nm,8))},u.\u0275prov=h.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})();const If=new h.OlP("recaptcha-language"),eg=new h.OlP("recaptcha-base-url"),Ld=new h.OlP("recaptcha-nonce-tag"),tg=new h.OlP("recaptcha-settings"),pu=new h.OlP("recaptcha-v3-site-key"),Bl_loadScript=function Ud(u,c,a,f,b){window.ng2recaptchaloaded=()=>{c(grecaptcha)};const N=document.createElement("script");N.innerHTML="",N.src=`${f||"https://www.google.com/recaptcha/api.js"}?render=${u}&onload=ng2recaptchaloaded${a}`,b&&(N.nonce=b),N.async=!0,N.defer=!0,document.head.appendChild(N)};let Lp=(()=>{class u{constructor(a,f,b,N,Y){this.platformId=a,this.language=f,this.baseUrl=b,this.nonce=N,this.v3SiteKey=Y,this.init(),this.ready=(0,j.NF)(this.platformId)?u.ready.asObservable():(0,ye.of)()}init(){if(!u.ready&&(0,j.NF)(this.platformId)){const a=new Za.X(null);u.ready=a,Bl_loadScript(this.v3SiteKey||"explicit",N=>a.next(N),this.language?"&hl="+this.language:"",this.baseUrl,this.nonce)}}}return u.ready=null,u.\u0275fac=function(a){return new(a||u)(h.LFG(h.Lbi),h.LFG(If,8),h.LFG(eg,8),h.LFG(Ld,8),h.LFG(pu,8))},u.\u0275prov=h.Yz7({token:u,factory:u.\u0275fac}),u})(),ng=0,Rh=(()=>{class u{constructor(a,f,b,N){this.elementRef=a,this.loader=f,this.zone=b,this.id="ngrecaptcha-"+ng++,this.errorMode="default",this.resolved=new h.vpe,this.error=new h.vpe,this.errored=new h.vpe,N&&(this.siteKey=N.siteKey,this.theme=N.theme,this.type=N.type,this.size=N.size,this.badge=N.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(a=>{null!=a&&a.render instanceof Function&&(this.grecaptcha=a,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){"invisible"===this.size&&(null!=this.widget?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){null!=this.widget&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}get __unsafe_widgetValue(){return null!=this.widget?this.grecaptcha.getResponse(this.widget):null}expired(){this.resolved.emit(null)}onError(a){this.error.emit(a),this.errored.emit(a)}captchaResponseCallback(a){this.resolved.emit(a)}grecaptchaReset(){null!=this.widget&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){const a={badge:this.badge,callback:f=>{this.zone.run(()=>this.captchaResponseCallback(f))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};"handled"===this.errorMode&&(a["error-callback"]=(...f)=>{this.zone.run(()=>this.onError(f))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,a),!0===this.executeRequested&&(this.executeRequested=!1,this.execute())}}return u.\u0275fac=function(a){return new(a||u)(h.Y36(h.SBq),h.Y36(Lp),h.Y36(h.R0b),h.Y36(tg,8))},u.\u0275cmp=h.Xpm({type:u,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(a,f){2&a&&h.uIk("id",f.id)},inputs:{id:"id",siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabIndex:"tabIndex",badge:"badge",errorMode:"errorMode"},outputs:{resolved:"resolved",error:"error",errored:"errored"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(a,f){},encapsulation:2}),u})(),Qa=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=h.oAB({type:u}),u.\u0275inj=h.cJS({}),u})(),mu=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=h.oAB({type:u}),u.\u0275inj=h.cJS({providers:[Lp],imports:[Qa]}),u})(),Ph=(()=>{class u{constructor(a){this.host=a,this.requiresControllerReset=!1}writeValue(a){a?this.host.__unsafe_widgetValue!==a&&!1===Boolean(this.host.__unsafe_widgetValue)&&(this.requiresControllerReset=!0):this.host.reset()}registerOnChange(a){this.onChange=a,this.requiresControllerReset&&(this.requiresControllerReset=!1,this.onChange(null))}registerOnTouched(a){this.onTouched=a}onResolve(a){this.onChange&&this.onChange(a),this.onTouched&&this.onTouched()}}return u.\u0275fac=function(a){return new(a||u)(h.Y36(Rh))},u.\u0275dir=h.lG2({type:u,selectors:[["re-captcha","formControlName",""],["re-captcha","formControl",""],["re-captcha","ngModel",""]],hostBindings:function(a,f){1&a&&h.NdJ("resolved",function(N){return f.onResolve(N)})},features:[h._Bn([{multi:!0,provide:_e,useExisting:(0,h.Gpc)(()=>u)}])]}),u})(),T_=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=h.oAB({type:u}),u.\u0275inj=h.cJS({imports:[tu,Qa]}),u})();function A_(u,c){1&u&&(h.TgZ(0,"small",18),h._uU(1," El nombre es requerido "),h.qZA())}function Cs(u,c){1&u&&(h.TgZ(0,"small",18),h._uU(1," El apellido es requerido "),h.qZA())}function bi(u,c){1&u&&(h.TgZ(0,"small",18),h._uU(1," La edad es requerida "),h.qZA())}function og(u,c){1&u&&(h.TgZ(0,"small",18),h._uU(1," La edad debe ser de 18 a 99 a\xf1os "),h.qZA())}function sg(u,c){1&u&&(h.TgZ(0,"small",18),h._uU(1," El DNI es requerido "),h.qZA())}function Up(u,c){1&u&&(h.TgZ(0,"small",18),h._uU(1," El DNI debe ser de 1 a 99999999 "),h.qZA())}function Df(u,c){1&u&&(h.TgZ(0,"small",18),h._uU(1," El Email es requerido "),h.qZA())}function Oh(u,c){1&u&&(h.TgZ(0,"small",18),h._uU(1," La contrase\xf1a es requerida "),h.qZA())}function Vl(u,c){1&u&&(h.TgZ(0,"small",18),h._uU(1," La Obra Social es requerida "),h.qZA())}let Bd=(()=>{class u{resolved(a){}constructor(a,f,b,N){this.fb=a,this.userService=f,this.swal=b,this.afstorage=N,this.paciente=new go.b,this.mostrar=!1,this.titulo="Mostrar listado",this.recaptchaResponse="",this.forma=this.fb.group({nombre:["",[Ht.required]],apellido:["",Ht.required],edad:["",[Ht.required,Ht.min(0),Ht.max(120)]],dni:["",[Ht.required,Ht.min(1),Ht.max(99999999)]],obraSocial:["",Ht.required],email:["",Ht.required],clave:["",Ht.required]})}registrarPaciente(a){a.preventDefault(),this.paciente.perfil="paciente",this.paciente.email=this.forma.getRawValue().email,this.paciente.clave=this.forma.getRawValue().clave,this.paciente.nombre=this.forma.getRawValue().nombre,this.paciente.apellido=this.forma.getRawValue().apellido,this.paciente.edad=this.forma.getRawValue().edad,this.paciente.dni=this.forma.getRawValue().dni,this.paciente.obraSocial=this.forma.getRawValue().obraSocial,this.paciente.especialidad=null,this.validar()&&""!==this.recaptchaResponse&&this.userService.createUser(this.paciente).then(()=>{console.log("paciente registrado"),this.forma.reset()}).catch(f=>{this.swal.swalert("Error",f.code,"error"),console.log(f.message)})}validar(){let a=!0;return(""===this.paciente.nombre||""===this.paciente.apellido||0===this.paciente.edad||0===this.paciente.dni||""===this.paciente.obraSocial||""===this.paciente.email||""===this.paciente.clave||""===this.paciente.imagen1||""===this.paciente.imagen2)&&(a=!1,this.swal.swalert("Error","Complete todos los campos para registrar","error")),console.log(this.paciente),a}uploadImage(a,f){var b=this;return(0,Ys.Z)(function*(){console.log("hola soy una imagen");const N=a.target.files[0],Y="img "+Date.now()+10*Math.random(),he=b.afstorage.ref(Y);yield he.put(N).then((0,Ys.Z)(function*(){yield he.getDownloadURL().subscribe(Ee=>{1==f?b.paciente.imagen1=Ee:2==f&&(b.paciente.imagen2=Ee)})}))})()}}return u.\u0275fac=function(a){return new(a||u)(h.Y36(ht),h.Y36(Pa.K),h.Y36(qa.J),h.Y36(Mh))},u.\u0275cmp=h.Xpm({type:u,selectors:[["app-form-alta-paciente"]],decls:46,vars:11,consts:[[1,"container-form"],[1,"text-focus-in",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm","mb-3"],["formControlName","nombre","type","text","id","nombre","placeholder","Nombre",1,"form-control"],["style","color:rgb(255, 0, 0);",4,"ngIf"],["formControlName","apellido","type","text","id","apellido","placeholder","Apellido",1,"form-control"],["formControlName","edad","type","number","placeholder","Edad","min","18","max","99",1,"form-control"],["formControlName","dni","type","number","placeholder","N\xb0 DNI",1,"form-control"],["formControlName","email","type","email","placeholder","Email",1,"form-control"],["formControlName","clave","type","password","placeholder","Contrase\xf1a",1,"form-control"],["formControlName","obraSocial","type","text","placeholder","Obra Social",1,"form-control"],["for","imagen1",1,"form-label"],["type","file","placeholder","Imagen Perfil",1,"form-control",3,"change"],["for","imagen2",1,"form-label"],["type","file","placeholder","Imagen Perfil 2",1,"form-control",3,"change"],["type","submit",1,"btn","btn-primary"],["siteKey","6LdgXogmAAAAAAdh2uwnfttNUNNv7fYi0rpb_CHI",3,"ngModel","resolved","ngModelChange"],[2,"color","rgb(255, 0, 0)"]],template:function(a,f){1&a&&(h.TgZ(0,"div",0)(1,"form",1),h.NdJ("ngSubmit",function(N){return f.registrarPaciente(N)}),h.TgZ(2,"h2"),h._uU(3,"REGISTRO DE PACIENTE"),h.qZA(),h.TgZ(4,"p"),h._uU(5,"Ingres\xe1 los datos para crear tu cuenta"),h.qZA(),h.TgZ(6,"div",2)(7,"div",3),h._UZ(8,"input",4),h.YNc(9,A_,2,0,"small",5),h.qZA(),h.TgZ(10,"div",3),h._UZ(11,"input",6),h.YNc(12,Cs,2,0,"small",5),h.qZA()(),h.TgZ(13,"div",2)(14,"div",3),h._UZ(15,"input",7),h.YNc(16,bi,2,0,"small",5),h.YNc(17,og,2,0,"small",5),h.qZA(),h.TgZ(18,"div",3),h._UZ(19,"input",8),h.YNc(20,sg,2,0,"small",5),h.YNc(21,Up,2,0,"small",5),h.qZA()(),h.TgZ(22,"div",2)(23,"div",3),h._UZ(24,"input",9),h.YNc(25,Df,2,0,"small",5),h.qZA(),h.TgZ(26,"div",3),h._UZ(27,"input",10),h.YNc(28,Oh,2,0,"small",5),h.qZA()(),h.TgZ(29,"div",2)(30,"div",3),h._UZ(31,"input",11),h.YNc(32,Vl,2,0,"small",5),h.qZA()(),h.TgZ(33,"div",2)(34,"div",3)(35,"label",12),h._uU(36,"Foto de perfil 1"),h.qZA(),h.TgZ(37,"input",13),h.NdJ("change",function(N){return f.uploadImage(N,1)}),h.qZA()(),h.TgZ(38,"div",3)(39,"label",14),h._uU(40,"Foto de perfil 2"),h.qZA(),h.TgZ(41,"input",15),h.NdJ("change",function(N){return f.uploadImage(N,2)}),h.qZA()()(),h.TgZ(42,"button",16),h._uU(43,"Registrar Paciente"),h.qZA()(),h._UZ(44,"br"),h.TgZ(45,"re-captcha",17),h.NdJ("resolved",function(N){return f.resolved(N)})("ngModelChange",function(N){return f.recaptchaResponse=N}),h.qZA()()),2&a&&(h.xp6(1),h.Q6J("formGroup",f.forma),h.xp6(8),h.Q6J("ngIf",(null==f.forma.controls.nombre.errors?null:f.forma.controls.nombre.errors.required)&&f.forma.controls.nombre.touched),h.xp6(3),h.Q6J("ngIf",(null==f.forma.controls.apellido.errors?null:f.forma.controls.apellido.errors.required)&&f.forma.controls.apellido.touched),h.xp6(4),h.Q6J("ngIf",(null==f.forma.controls.edad.errors?null:f.forma.controls.edad.errors.required)&&f.forma.controls.edad.touched),h.xp6(1),h.Q6J("ngIf",(null==f.forma.controls.edad.errors?null:f.forma.controls.edad.errors.min)||(null==f.forma.controls.edad.errors?null:f.forma.controls.edad.errors.max)&&f.forma.controls.edad.touched),h.xp6(3),h.Q6J("ngIf",(null==f.forma.controls.dni.errors?null:f.forma.controls.dni.errors.required)&&f.forma.controls.dni.touched),h.xp6(1),h.Q6J("ngIf",(null==f.forma.controls.dni.errors?null:f.forma.controls.dni.errors.min)||(null==f.forma.controls.dni.errors?null:f.forma.controls.dni.errors.max)&&f.forma.controls.dni.touched),h.xp6(4),h.Q6J("ngIf",(null==f.forma.controls.email.errors?null:f.forma.controls.email.errors.required)&&f.forma.controls.email.touched),h.xp6(3),h.Q6J("ngIf",(null==f.forma.controls.clave.errors?null:f.forma.controls.clave.errors.required)&&f.forma.controls.clave.touched),h.xp6(4),h.Q6J("ngIf",(null==f.forma.controls.obraSocial.errors?null:f.forma.controls.obraSocial.errors.required)&&f.forma.controls.obraSocial.touched),h.xp6(13),h.Q6J("ngModel",f.recaptchaResponse))},dependencies:[j.O5,rr,Zt,so,Mr,Li,da,gs,tn,li,Qo,Rh,Ph],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{color:#5e8b89}.container-form[_ngcontent-%COMP%]{margin:7% 7% 30%;width:85%}.btn-primary[_ngcontent-%COMP%]{background-color:#6ed9d3;border-color:#6dbfbb;color:#fff}"]}),u})();var Tf=U(2668);function Af(u,c){if(1&u){const a=h.EpF();h.TgZ(0,"div",2),h.NdJ("click",function(){const N=h.CHM(a).$implicit,Y=h.oxw();return h.KtG(Y.pasarEspecialidad(N))}),h.TgZ(1,"div",3),h._uU(2),h.qZA()()}if(2&u){const a=c.$implicit;h.xp6(2),h.Oqu(a.nombre)}}let Vd=(()=>{class u{constructor(a){this.especialidadService=a,this.listaRecibida=[],this.pasamosUnaEsp=new h.vpe}pasarEspecialidad(a){this.pasamosUnaEsp.emit(a)}}return u.\u0275fac=function(a){return new(a||u)(h.Y36(Tf.T))},u.\u0275cmp=h.Xpm({type:u,selectors:[["app-listado-especialidades"]],inputs:{listaRecibida:"listaRecibida"},outputs:{pasamosUnaEsp:"pasamosUnaEsp"},decls:2,vars:1,consts:[[1,"contenedor"],["class","row especialidad",3,"click",4,"ngFor","ngForOf"],[1,"row","especialidad",3,"click"],[1,"col"]],template:function(a,f){1&a&&(h.TgZ(0,"div",0),h.YNc(1,Af,3,1,"div",1),h.qZA()),2&a&&(h.xp6(1),h.Q6J("ngForOf",f.listaRecibida))},dependencies:[j.sg],styles:[".contenedor[_ngcontent-%COMP%]{height:6rem;overflow:scroll;text-align:start}.especialidad[_ngcontent-%COMP%]{font-weight:700;padding:10px}.especialidad[_ngcontent-%COMP%]:hover{background:#666;color:#fff;transition:background .5s;cursor:pointer}"]}),u})();function Sf(u,c){1&u&&(h.TgZ(0,"small",20),h._uU(1," El nombre es requerido "),h.qZA())}function xf(u,c){1&u&&(h.TgZ(0,"small",20),h._uU(1," El apellido es requerido "),h.qZA())}function Bp(u,c){1&u&&(h.TgZ(0,"small",20),h._uU(1," La edad es requerida "),h.qZA())}function Mf(u,c){1&u&&(h.TgZ(0,"small",20),h._uU(1," La edad debe ser de 18 a 99 a\xf1os "),h.qZA())}function Rf(u,c){1&u&&(h.TgZ(0,"small",20),h._uU(1," El DNI es requerido "),h.qZA())}function S_(u,c){1&u&&(h.TgZ(0,"small",20),h._uU(1," El DNI debe ser de 1 a 99999999 "),h.qZA())}function ky(u,c){1&u&&(h.TgZ(0,"small",20),h._uU(1," El Email es requerido "),h.qZA())}function Vp(u,c){1&u&&(h.TgZ(0,"small",20),h._uU(1," La contrase\xf1a es requerida "),h.qZA())}function ag(u,c){1&u&&(h.TgZ(0,"small",20),h._uU(1," La especialidad es requerida "),h.qZA())}let x_=(()=>{class u{resolved(a){}constructor(a,f,b,N,Y){this.fb=a,this.userService=f,this.swal=b,this.afstorage=N,this.especialidadService=Y,this.nuevaEspecialidadForm=new po,this.especialista=new go.b,this.mostrar=!1,this.titulo="Mostrar listado",this.recaptchaResponse="",this.listaEspecialidades=[],this.forma=this.fb.group({nombre:["",[Ht.required]],apellido:["",Ht.required],edad:["",[Ht.required,Ht.min(0),Ht.max(120)]],dni:["",[Ht.required,Ht.min(1),Ht.max(99999999)]],especialidad:["",Ht.required],email:["",Ht.required],clave:["",Ht.required]}),this.especialidadService.getCollection("especialidades").subscribe(he=>{this.listaEspecialidades=he})}registrarEspecialista(a){a.preventDefault(),this.especialista.perfil="especialista",this.especialista.email=this.forma.getRawValue().email,this.especialista.clave=this.forma.getRawValue().clave,this.especialista.nombre=this.forma.getRawValue().nombre,this.especialista.apellido=this.forma.getRawValue().apellido,this.especialista.edad=this.forma.getRawValue().edad,this.especialista.dni=this.forma.getRawValue().dni,this.especialista.especialidad=this.forma.getRawValue().especialidad,this.especialista.obraSocial=null,this.validar()&&""!==this.recaptchaResponse&&this.userService.createUser(this.especialista).then(()=>{console.log("especialista registrado"),this.forma.reset()}).catch(f=>{this.swal.swalert("Error",f.code,"error"),console.log(f.message)})}validar(){let a=!0;return(""===this.especialista.nombre||""===this.especialista.apellido||0===this.especialista.edad||0===this.especialista.dni||""===this.especialista.especialidad||""===this.especialista.email||""===this.especialista.clave||""===this.especialista.imagen1)&&(a=!1,this.swal.swalert("Error","Complete todos los campos para registrar","error")),console.log(this.especialista),a}uploadImage(a,f){var b=this;return(0,Ys.Z)(function*(){console.log("hola soy una imagen");const N=a.target.files[0],Y="img "+Date.now()+10*Math.random(),he=b.afstorage.ref(Y);yield he.put(N).then((0,Ys.Z)(function*(){yield he.getDownloadURL().subscribe(Ee=>{1==f?b.especialista.imagen1=Ee:2==f&&(b.especialista.imagen2=Ee)})}))})()}elegirEspecialidad(a){let f=!0;this.listaEspecialidades?.forEach(b=>{b.nombre==a.nombre&&(f=!1)}),f&&this.listaEspecialidades?.push(a)}obtenerEspecialidadSeleccionada(a){this.especialista.especialidad?this.especialista.especialidad+=", "+a.nombre:this.especialista.especialidad=a.nombre}agregarEspecialidad(){this.especialidadService.createSpecialty({id:"",img:"",nombre:this.nuevaEspecialidadForm.value}),this.nuevaEspecialidadForm.reset()}vaciarSeleccion(){this.especialista.especialidad=""}}return u.\u0275fac=function(a){return new(a||u)(h.Y36(ht),h.Y36(Pa.K),h.Y36(qa.J),h.Y36(Mh),h.Y36(Tf.T))},u.\u0275cmp=h.Xpm({type:u,selectors:[["app-form-alta-especialista"]],decls:52,vars:14,consts:[[1,"container-form"],[1,"text-focus-in",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm","mb-3"],["formControlName","nombre","type","text","id","nombre","placeholder","Nombre",1,"form-control"],["style","color:rgb(255, 0, 0);",4,"ngIf"],["formControlName","apellido","type","text","id","apellido","placeholder","Apellido",1,"form-control"],["formControlName","edad","type","number","placeholder","Edad","min","18","max","99",1,"form-control"],["formControlName","dni","type","number","placeholder","N\xb0 DNI",1,"form-control"],["formControlName","email","type","email","placeholder","Email",1,"form-control"],["formControlName","clave","type","password","placeholder","Contrase\xf1a",1,"form-control"],["for","especialidad"],[3,"listaRecibida","pasamosUnaEsp"],["formControlName","especialidad","type","text","readonly","","placeholder","Especialidad",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"click"],["for","imagen1",1,"form-label"],["type","file","placeholder","Imagen Perfil",1,"form-control",3,"change"],["type","text","placeholder","Agregue especialidad (opcional)",1,"form-control",3,"formControl"],["type","submit",1,"btn","btn-primary"],["siteKey","6LdgXogmAAAAAAdh2uwnfttNUNNv7fYi0rpb_CHI",3,"ngModel","resolved","ngModelChange"],[2,"color","rgb(255, 0, 0)"]],template:function(a,f){1&a&&(h.TgZ(0,"div",0)(1,"form",1),h.NdJ("ngSubmit",function(N){return f.registrarEspecialista(N)}),h.TgZ(2,"h2"),h._uU(3,"REGISTRO DE ESPECIALISTA"),h.qZA(),h.TgZ(4,"p"),h._uU(5,"Ingres\xe1 los datos para crear tu cuenta"),h.qZA(),h.TgZ(6,"div",2)(7,"div",3),h._UZ(8,"input",4),h.YNc(9,Sf,2,0,"small",5),h.qZA(),h.TgZ(10,"div",3),h._UZ(11,"input",6),h.YNc(12,xf,2,0,"small",5),h.qZA()(),h.TgZ(13,"div",2)(14,"div",3),h._UZ(15,"input",7),h.YNc(16,Bp,2,0,"small",5),h.YNc(17,Mf,2,0,"small",5),h.qZA(),h.TgZ(18,"div",3),h._UZ(19,"input",8),h.YNc(20,Rf,2,0,"small",5),h.YNc(21,S_,2,0,"small",5),h.qZA()(),h.TgZ(22,"div",2)(23,"div",3),h._UZ(24,"input",9),h.YNc(25,ky,2,0,"small",5),h.qZA(),h.TgZ(26,"div",3),h._UZ(27,"input",10),h.YNc(28,Vp,2,0,"small",5),h.qZA()(),h.TgZ(29,"div",2)(30,"div",3)(31,"label",11),h._uU(32,"Elige tu especialidad: "),h.qZA(),h.TgZ(33,"app-listado-especialidades",12),h.NdJ("pasamosUnaEsp",function(N){return f.obtenerEspecialidadSeleccionada(N)}),h.qZA()(),h.TgZ(34,"div",3)(35,"input",13),h.NdJ("ngModelChange",function(N){return f.especialista.especialidad=N}),h.qZA(),h.YNc(36,ag,2,0,"small",5),h.TgZ(37,"button",14),h.NdJ("click",function(){return f.vaciarSeleccion()}),h._uU(38,"Limpiar"),h.qZA()()(),h.TgZ(39,"div",2)(40,"div",3)(41,"label",15),h._uU(42,"Foto de perfil"),h.qZA(),h.TgZ(43,"input",16),h.NdJ("change",function(N){return f.uploadImage(N,1)}),h.qZA()(),h.TgZ(44,"div",3),h._UZ(45,"input",17),h.TgZ(46,"button",14),h.NdJ("click",function(){return f.agregarEspecialidad()}),h._uU(47,"Agregar"),h.qZA()()(),h.TgZ(48,"button",18),h._uU(49,"Registrar Especialista"),h.qZA()(),h._UZ(50,"br"),h.TgZ(51,"re-captcha",19),h.NdJ("resolved",function(N){return f.resolved(N)})("ngModelChange",function(N){return f.recaptchaResponse=N}),h.qZA()()),2&a&&(h.xp6(1),h.Q6J("formGroup",f.forma),h.xp6(8),h.Q6J("ngIf",(null==f.forma.controls.nombre.errors?null:f.forma.controls.nombre.errors.required)&&f.forma.controls.nombre.touched),h.xp6(3),h.Q6J("ngIf",(null==f.forma.controls.apellido.errors?null:f.forma.controls.apellido.errors.required)&&f.forma.controls.apellido.touched),h.xp6(4),h.Q6J("ngIf",(null==f.forma.controls.edad.errors?null:f.forma.controls.edad.errors.required)&&f.forma.controls.edad.touched),h.xp6(1),h.Q6J("ngIf",(null==f.forma.controls.edad.errors?null:f.forma.controls.edad.errors.min)||(null==f.forma.controls.edad.errors?null:f.forma.controls.edad.errors.max)&&f.forma.controls.edad.touched),h.xp6(3),h.Q6J("ngIf",(null==f.forma.controls.dni.errors?null:f.forma.controls.dni.errors.required)&&f.forma.controls.dni.touched),h.xp6(1),h.Q6J("ngIf",(null==f.forma.controls.dni.errors?null:f.forma.controls.dni.errors.min)||(null==f.forma.controls.dni.errors?null:f.forma.controls.dni.errors.max)&&f.forma.controls.dni.touched),h.xp6(4),h.Q6J("ngIf",(null==f.forma.controls.email.errors?null:f.forma.controls.email.errors.required)&&f.forma.controls.email.touched),h.xp6(3),h.Q6J("ngIf",(null==f.forma.controls.clave.errors?null:f.forma.controls.clave.errors.required)&&f.forma.controls.clave.touched),h.xp6(5),h.Q6J("listaRecibida",f.listaEspecialidades),h.xp6(2),h.Q6J("ngModel",f.especialista.especialidad),h.xp6(1),h.Q6J("ngIf",(null==f.forma.controls.especialidad.errors?null:f.forma.controls.especialidad.errors.required)&&f.forma.controls.especialidad.touched),h.xp6(9),h.Q6J("formControl",f.nuevaEspecialidadForm),h.xp6(6),h.Q6J("ngModel",f.recaptchaResponse))},dependencies:[j.O5,rr,Zt,so,Mr,Li,da,gs,tn,za,li,Qo,Rh,Ph,Vd],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{color:#5e8b89}.container-form[_ngcontent-%COMP%]{margin-bottom:30%}.btn-primary[_ngcontent-%COMP%]{background-color:#6ed9d3;border-color:#6dbfbb;color:#fff}"]}),u})();function M_(u,c){1&u&&(h.TgZ(0,"small",15),h._uU(1," El nombre es requerido "),h.qZA())}function R_(u,c){1&u&&(h.TgZ(0,"small",15),h._uU(1," El apellido es requerido "),h.qZA())}function cg(u,c){1&u&&(h.TgZ(0,"small",15),h._uU(1," La edad es requerida "),h.qZA())}function jd(u,c){1&u&&(h.TgZ(0,"small",15),h._uU(1," La edad debe ser de 18 a 99 a\xf1os "),h.qZA())}function nd(u,c){1&u&&(h.TgZ(0,"small",15),h._uU(1," El DNI es requerido "),h.qZA())}function Pf(u,c){1&u&&(h.TgZ(0,"small",15),h._uU(1," El DNI debe ser de 1 a 99999999 "),h.qZA())}function P_(u,c){1&u&&(h.TgZ(0,"small",15),h._uU(1," El Email es requerido "),h.qZA())}function Yr(u,c){1&u&&(h.TgZ(0,"small",15),h._uU(1," La contrase\xf1a es requerida "),h.qZA())}let jp=(()=>{class u{resolved(a){}constructor(a,f,b,N){this.fb=a,this.userService=f,this.swal=b,this.afstorage=N,this.admin=new go.b,this.mostrar=!1,this.titulo="Mostrar listado",this.recaptchaResponse="",this.forma=this.fb.group({nombre:["",[Ht.required]],apellido:["",Ht.required],edad:["",[Ht.required,Ht.min(0),Ht.max(120)]],dni:["",[Ht.required,Ht.min(1),Ht.max(99999999)]],email:["",Ht.required],clave:["",Ht.required]})}registrarAdmin(a){a.preventDefault(),this.admin.perfil="admin",this.admin.email=this.forma.getRawValue().email,this.admin.clave=this.forma.getRawValue().clave,this.admin.nombre=this.forma.getRawValue().nombre,this.admin.apellido=this.forma.getRawValue().apellido,this.admin.edad=this.forma.getRawValue().edad,this.admin.dni=this.forma.getRawValue().dni,this.admin.especialidad=null,this.admin.obraSocial=null,this.admin.aprobado=!0,this.validar()&&""!==this.recaptchaResponse&&this.userService.createUser(this.admin).then(()=>{console.log("admin registrado")}).catch(f=>{this.swal.swalert("Error",f.code,"error"),console.log(f.message)})}validar(){let a=!0;return(""===this.admin.nombre||""===this.admin.apellido||0===this.admin.edad||0===this.admin.dni||""===this.admin.email||""===this.admin.clave||""===this.admin.imagen1)&&(a=!1,this.swal.swalert("Error","Complete todos los campos para registrar","error")),console.log(this.admin),a}uploadImage(a,f){var b=this;return(0,Ys.Z)(function*(){const N=a.target.files[0],Y="img "+Date.now()+10*Math.random(),he=b.afstorage.ref(Y);yield he.put(N).then((0,Ys.Z)(function*(){yield he.getDownloadURL().subscribe(Ee=>{1==f?b.admin.imagen1=Ee:2==f&&(b.admin.imagen2=Ee)})}))})()}}return u.\u0275fac=function(a){return new(a||u)(h.Y36(ht),h.Y36(Pa.K),h.Y36(qa.J),h.Y36(Mh))},u.\u0275cmp=h.Xpm({type:u,selectors:[["app-form-alta-admin"]],decls:38,vars:10,consts:[[1,"container-form"],[1,"text-focus-in",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm","mb-3"],["formControlName","nombre","type","text","id","nombre","placeholder","Nombre",1,"form-control"],["style","color:rgb(255, 0, 0);",4,"ngIf"],["formControlName","apellido","type","text","id","apellido","placeholder","Apellido",1,"form-control"],["formControlName","edad","type","number","placeholder","Edad","min","18","max","99",1,"form-control"],["formControlName","dni","type","number","placeholder","N\xb0 DNI",1,"form-control"],["formControlName","email","type","email","placeholder","Email",1,"form-control"],["formControlName","clave","type","password","placeholder","Contrase\xf1a",1,"form-control"],["for","imagen1",1,"form-label"],["type","file","placeholder","Imagen Perfil",1,"form-control",3,"change"],["type","submit",1,"btn","btn-primary"],["siteKey","6LdgXogmAAAAAAdh2uwnfttNUNNv7fYi0rpb_CHI",3,"ngModel","resolved","ngModelChange"],[2,"color","rgb(255, 0, 0)"]],template:function(a,f){1&a&&(h.TgZ(0,"div",0)(1,"form",1),h.NdJ("ngSubmit",function(N){return f.registrarAdmin(N)}),h.TgZ(2,"h2"),h._uU(3,"REGISTRO DE ADMIN"),h.qZA(),h.TgZ(4,"p"),h._uU(5,"Ingres\xe1 los datos para crear tu cuenta"),h.qZA(),h.TgZ(6,"div",2)(7,"div",3),h._UZ(8,"input",4),h.YNc(9,M_,2,0,"small",5),h.qZA(),h.TgZ(10,"div",3),h._UZ(11,"input",6),h.YNc(12,R_,2,0,"small",5),h.qZA()(),h.TgZ(13,"div",2)(14,"div",3),h._UZ(15,"input",7),h.YNc(16,cg,2,0,"small",5),h.YNc(17,jd,2,0,"small",5),h.qZA(),h.TgZ(18,"div",3),h._UZ(19,"input",8),h.YNc(20,nd,2,0,"small",5),h.YNc(21,Pf,2,0,"small",5),h.qZA()(),h.TgZ(22,"div",2)(23,"div",3),h._UZ(24,"input",9),h.YNc(25,P_,2,0,"small",5),h.qZA(),h.TgZ(26,"div",3),h._UZ(27,"input",10),h.YNc(28,Yr,2,0,"small",5),h.qZA()(),h.TgZ(29,"div",2)(30,"div",3)(31,"label",11),h._uU(32,"Foto de perfil"),h.qZA(),h.TgZ(33,"input",12),h.NdJ("change",function(N){return f.uploadImage(N,1)}),h.qZA()()(),h.TgZ(34,"button",13),h._uU(35,"Registrar Admin"),h.qZA()(),h._UZ(36,"br"),h.TgZ(37,"re-captcha",14),h.NdJ("resolved",function(N){return f.resolved(N)})("ngModelChange",function(N){return f.recaptchaResponse=N}),h.qZA()()),2&a&&(h.xp6(1),h.Q6J("formGroup",f.forma),h.xp6(8),h.Q6J("ngIf",(null==f.forma.controls.nombre.errors?null:f.forma.controls.nombre.errors.required)&&f.forma.controls.nombre.touched),h.xp6(3),h.Q6J("ngIf",(null==f.forma.controls.apellido.errors?null:f.forma.controls.apellido.errors.required)&&f.forma.controls.apellido.touched),h.xp6(4),h.Q6J("ngIf",(null==f.forma.controls.edad.errors?null:f.forma.controls.edad.errors.required)&&f.forma.controls.edad.touched),h.xp6(1),h.Q6J("ngIf",(null==f.forma.controls.edad.errors?null:f.forma.controls.edad.errors.min)||(null==f.forma.controls.edad.errors?null:f.forma.controls.edad.errors.max)&&f.forma.controls.edad.touched),h.xp6(3),h.Q6J("ngIf",(null==f.forma.controls.dni.errors?null:f.forma.controls.dni.errors.required)&&f.forma.controls.dni.touched),h.xp6(1),h.Q6J("ngIf",(null==f.forma.controls.dni.errors?null:f.forma.controls.dni.errors.min)||(null==f.forma.controls.dni.errors?null:f.forma.controls.dni.errors.max)&&f.forma.controls.dni.touched),h.xp6(4),h.Q6J("ngIf",(null==f.forma.controls.email.errors?null:f.forma.controls.email.errors.required)&&f.forma.controls.email.touched),h.xp6(3),h.Q6J("ngIf",(null==f.forma.controls.clave.errors?null:f.forma.controls.clave.errors.required)&&f.forma.controls.clave.touched),h.xp6(9),h.Q6J("ngModel",f.recaptchaResponse))},dependencies:[j.O5,rr,Zt,so,Mr,Li,da,gs,tn,li,Qo,Rh,Ph],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{color:#5e8b89}.container-form[_ngcontent-%COMP%]{margin-bottom:35%}.btn-primary[_ngcontent-%COMP%]{background-color:#6ed9d3;border-color:#6dbfbb;color:#fff}"]}),u})();function lg(u,c){1&u&&(h.TgZ(0,"div",5),h._UZ(1,"app-spinner"),h.qZA())}function rd(u,c){if(1&u){const a=h.EpF();h.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"img",14),h.NdJ("click",function(){h.CHM(a);const b=h.oxw(2);return h.KtG(b.boolFormEsp=!0)}),h.qZA()(),h.TgZ(4,"div",13)(5,"img",15),h.NdJ("click",function(){h.CHM(a);const b=h.oxw(2);return h.KtG(b.boolFormPac=!0)}),h.qZA()()()()}}function rl(u,c){if(1&u){const a=h.EpF();h.TgZ(0,"div",12)(1,"div",13)(2,"img",14),h.NdJ("click",function(){h.CHM(a);const b=h.oxw(3);return h.KtG(b.boolFormEsp=!0)}),h.qZA()(),h.TgZ(3,"div",13)(4,"img",15),h.NdJ("click",function(){h.CHM(a);const b=h.oxw(3);return h.KtG(b.boolFormPac=!0)}),h.qZA()(),h.TgZ(5,"div",13)(6,"img",18),h.NdJ("click",function(){h.CHM(a);const b=h.oxw(3);return h.KtG(b.boolFormAdmin=!0)}),h.qZA()()()}}function $p(u,c){if(1&u&&(h.TgZ(0,"div",16),h.YNc(1,rl,7,0,"div",17),h.qZA()),2&u){const a=h.oxw(2);h.xp6(1),h.Q6J("ngIf",!a.boolFormPac&&!a.boolFormEsp&&!a.boolFormAdmin)}}function ug(u,c){1&u&&(h.TgZ(0,"div",19),h._UZ(1,"app-form-alta-especialista"),h.qZA())}function Nh(u,c){1&u&&(h.TgZ(0,"div",20),h._UZ(1,"app-form-alta-paciente"),h.qZA())}function dg(u,c){1&u&&(h.TgZ(0,"div",21),h._UZ(1,"app-form-alta-admin"),h.qZA())}function Hp(u,c){if(1&u&&(h.YNc(0,rd,6,0,"div",6),h.YNc(1,$p,2,1,"ng-template",null,7,h.W1O),h.YNc(3,ug,2,0,"div",8),h.YNc(4,Nh,2,0,"div",9),h.YNc(5,dg,2,0,"div",10)),2&u){const a=h.MAs(2),f=h.oxw();h.Q6J("ngIf",!f.boolFormPac&&!f.boolFormEsp&&"admin"!=f.currentProfile)("ngIfElse",a),h.xp6(3),h.Q6J("ngIf",f.boolFormEsp),h.xp6(1),h.Q6J("ngIf",f.boolFormPac),h.xp6(1),h.Q6J("ngIf","admin"==f.currentProfile&&f.boolFormAdmin)}}let O_=(()=>{class u{constructor(a,f,b,N){this.userService=a,this.router=f,this.swal=b,this.spinner=N,this.isLoading=!0,this.img_paciente="../../../assets/patient.jpg",this.img_doctor="../../../assets/doctor.jpg",this.currentProfile="",this.user=new go.b,this.currentProfile=this.userService.getCurrentProfile(),this.boolFormPac=!1,this.boolFormEsp=!1,this.boolFormAdmin=!1}ngOnInit(){this.spinner.show(),setTimeout(()=>{this.spinner.hide(),this.isLoading=!1},1e3)}}return u.\u0275fac=function(a){return new(a||u)(h.Y36(Pa.K),h.Y36(ha.F0),h.Y36(qa.J),h.Y36(hl))},u.\u0275cmp=h.Xpm({type:u,selectors:[["app-registro"]],decls:6,vars:2,consts:[[1,"container"],[1,"screen"],[1,"screen__content"],["class","cargando",4,"ngIf","ngIfElse"],["mostrar",""],[1,"cargando"],["class","registration",4,"ngIf","ngIfElse"],["esAdmin",""],["class","form-especialista",4,"ngIf"],["class","form-paciente",4,"ngIf"],["class","form-admin",4,"ngIf"],[1,"registration"],[1,"col"],[1,"row"],["src","../../../assets/doctor.jpg","alt","especialista",3,"click"],["src","../../../assets/patient.jpg","alt","paciente",3,"click"],[1,"registration_admin"],["class","col",4,"ngIf"],["src","../../../assets/admin.jpg","alt","admin",3,"click"],[1,"form-especialista"],[1,"form-paciente"],[1,"form-admin"]],template:function(a,f){if(1&a&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2),h.YNc(3,lg,2,0,"div",3),h.YNc(4,Hp,6,5,"ng-template",null,4,h.W1O),h.qZA()()()),2&a){const b=h.MAs(5);h.xp6(3),h.Q6J("ngIf",f.isLoading)("ngIfElse",b)}},dependencies:[j.O5,or,Bd,x_,jp],styles:['@import"https://fonts.googleapis.com/css?family=Raleway:400,700";*[_ngcontent-%COMP%]{box-sizing:border-box;margin:1;padding:0;font-family:Raleway,sans-serif}body[_ngcontent-%COMP%]{background:linear-gradient(90deg,#C7C5F4,#776BCC)}img[_ngcontent-%COMP%]{border-radius:50%;width:45%;height:45%;cursor:pointer}.row[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20%}.center-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative;top:12%}.screen[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f1fcfb,#dafffd);position:relative;height:700px;width:600px;box-shadow:0 0 24px #8dcac7;border-radius:15px}.screen__content[_ngcontent-%COMP%]{z-index:1;position:relative;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#5e8b89}.registration[_ngcontent-%COMP%]{width:450px;padding:80px 30px 30px}.registration_admin[_ngcontent-%COMP%]{width:350px;padding:80px 30px 30px}.registration__field[_ngcontent-%COMP%]{padding:7px 0;position:relative}.registration__icon[_ngcontent-%COMP%]{position:absolute;top:30px;color:#7875b5}.registration__input[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #D1D1D4;background:none;padding:10px 10px 10px 24px;font-weight:700;width:75%;transition:.2s}.registration__input[_ngcontent-%COMP%]:active, .registration__input[_ngcontent-%COMP%]:focus, .registration__input[_ngcontent-%COMP%]:hover{outline:none;border-bottom-color:#6a679e}.registration__submit[_ngcontent-%COMP%]{background:#fff;font-size:14px;margin-top:30px;padding:16px 20px;border-radius:26px;border:1px solid #ddfffd;text-transform:uppercase;font-weight:700;display:flex;align-items:center;width:100%;color:#57a39f;box-shadow:0 2px 2px #57a39f;cursor:pointer;transition:.2s}.registration__submit[_ngcontent-%COMP%]:active, .registration__submit[_ngcontent-%COMP%]:focus, .registration__submit[_ngcontent-%COMP%]:hover{border-color:#99dfdc;outline:none}.button__icon[_ngcontent-%COMP%]{font-size:24px;margin-left:auto;color:#7875b5}.social-registration[_ngcontent-%COMP%]{position:absolute;height:140px;width:160px;text-align:center;bottom:0;right:0;color:#fff}.social-icons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.social-registration__icon[_ngcontent-%COMP%]{padding:20px 10px;color:#fff;text-decoration:none;text-shadow:0px 0px 8px #7875B5}.social-registration__icon[_ngcontent-%COMP%]:hover{transform:scale(1.5)}']}),u})();var hg=U(9101);function kh(u,c){if(1&u){const a=h.EpF();h.TgZ(0,"td")(1,"button",5),h.NdJ("click",function(){h.CHM(a);const b=h.oxw().$implicit,N=h.oxw();return h.KtG(N.modificarUsuario(b,1))}),h._uU(2,"Habilitar"),h.qZA()()}}function id(u,c){if(1&u){const a=h.EpF();h.TgZ(0,"td")(1,"button",7),h.NdJ("click",function(){h.CHM(a);const b=h.oxw(2).$implicit,N=h.oxw();return h.KtG(N.modificarUsuario(b,2))}),h._uU(2,"Deshabilitar"),h.qZA()()}}function Of(u,c){if(1&u&&h.YNc(0,id,3,0,"td",6),2&u){const a=h.oxw().$implicit;h.Q6J("ngIf",null!=a.especialidad&&1==a.aprobado)}}function fg(u,c){if(1&u&&(h.TgZ(0,"tr")(1,"td"),h._uU(2),h.qZA(),h.TgZ(3,"td"),h._uU(4),h.qZA(),h.TgZ(5,"td"),h._uU(6),h.qZA(),h.TgZ(7,"td"),h._uU(8),h.qZA(),h.YNc(9,kh,3,0,"td",3),h.YNc(10,Of,1,1,"ng-template",null,4,h.W1O),h.qZA()),2&u){const a=c.$implicit,f=h.MAs(11);h.xp6(2),h.Oqu(a.perfil),h.xp6(2),h.Oqu(a.nombre),h.xp6(2),h.Oqu(a.apellido),h.xp6(2),h.Oqu(a.email),h.xp6(1),h.Q6J("ngIf",null!=a.especialidad&&0==a.aprobado)("ngIfElse",f)}}let zp=(()=>{class u{constructor(a,f){this.userService=a,this.swal=f,this.PasamosUnUsuario=new h.vpe}modificarUsuario(a,f){"especialista"==a.perfil&&(1==f?(a.aprobado=!0,this.userService.updateUser(a),this.swal.showToast("Se habilit\xf3 al especialista","success")):2==f&&(a.aprobado=!1,this.userService.updateUser(a),this.swal.showToast("Se deshabilit\xf3 al especialista","info")))}}return u.\u0275fac=function(a){return new(a||u)(h.Y36(Pa.K),h.Y36(qa.J))},u.\u0275cmp=h.Xpm({type:u,selectors:[["app-listado-usuarios"]],inputs:{listadoRecibido:"listadoRecibido"},outputs:{PasamosUnUsuario:"PasamosUnUsuario"},decls:15,vars:1,consts:[[1,"table","table-hover",2,"color","rgb(0, 162, 255)"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["deshabilitar",""],["mat-raised-button","","color","primary",3,"click"],[4,"ngIf"],["mat-raised-button","","color","accent",3,"click"]],template:function(a,f){1&a&&(h.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),h._uU(4,"Perfil"),h.qZA(),h.TgZ(5,"th",1),h._uU(6,"Nombre"),h.qZA(),h.TgZ(7,"th",1),h._uU(8,"Apellido"),h.qZA(),h.TgZ(9,"th",1),h._uU(10,"Correo"),h.qZA(),h.TgZ(11,"th",1),h._uU(12,"Habilitaci\xf3n"),h.qZA()()(),h.TgZ(13,"tbody"),h.YNc(14,fg,12,6,"tr",2),h.qZA()()),2&a&&(h.xp6(14),h.Q6J("ngForOf",f.listadoRecibido))},dependencies:[j.sg,j.O5,hg.lW]}),u})(),Gp=(()=>{class u{constructor(a,f,b){this.userService=a,this.swal=f,this.router=b,this.listaUsuarios=[]}ngOnInit(){this.userService.getCollection("usuarios").subscribe(a=>{this.listaUsuarios=a,console.log(this.listaUsuarios)})}irARegistro(){this.router.navigateByUrl("/registro")}}return u.\u0275fac=function(a){return new(a||u)(h.Y36(Pa.K),h.Y36(qa.J),h.Y36(ha.F0))},u.\u0275cmp=h.Xpm({type:u,selectors:[["app-usuarios"]],decls:8,vars:1,consts:[[1,"container"],[1,"screen"],[1,"screen__content"],[1,"users"],[1,"boton-registro"],["color","primary",1,"btn","btn-primary",2,"justify-content","left",3,"click"],[3,"listadoRecibido"]],template:function(a,f){1&a&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),h.NdJ("click",function(){return f.irARegistro()}),h._uU(6,"Registro"),h.qZA()(),h._UZ(7,"app-listado-usuarios",6),h.qZA()()()()),2&a&&(h.xp6(7),h.Q6J("listadoRecibido",f.listaUsuarios))},dependencies:[zp],styles:['@import"https://fonts.googleapis.com/css?family=Raleway:400,700";*[_ngcontent-%COMP%]{box-sizing:border-box;margin:1;padding:0;font-family:Raleway,sans-serif}.boton-registro[_ngcontent-%COMP%]{margin-right:88%;margin-top:2%}.btn-primary[_ngcontent-%COMP%]{background-color:#6ed9d3;border-color:#6dbfbb;color:#fff;width:85px;height:30px}body[_ngcontent-%COMP%]{background:linear-gradient(90deg,#C7C5F4,#776BCC)}img[_ngcontent-%COMP%]{border-radius:50%;width:35%;height:35%;cursor:pointer}.row[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20%}.center-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative;top:4%}.screen[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f1fcfb,#dafffd);position:relative;height:800px;width:1000px;box-shadow:0 0 24px #8dcac7;border-radius:15px}.screen__content[_ngcontent-%COMP%]{z-index:1;position:relative;height:100%;display:flex;justify-content:center;text-align:center}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#5e8b89}.users[_ngcontent-%COMP%]{width:1000px}.users__field[_ngcontent-%COMP%]{padding:7px 0;position:relative}.users__icon[_ngcontent-%COMP%]{position:absolute;top:30px;color:#7875b5}.users__input[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #D1D1D4;background:none;padding:10px 10px 10px 24px;font-weight:700;width:75%;transition:.2s}.users__input[_ngcontent-%COMP%]:active, .users__input[_ngcontent-%COMP%]:focus, .users__input[_ngcontent-%COMP%]:hover{outline:none;border-bottom-color:#6a679e}.users__submit[_ngcontent-%COMP%]{background:#fff;font-size:14px;margin-top:30px;padding:16px 20px;border-radius:26px;border:1px solid #ddfffd;text-transform:uppercase;font-weight:700;display:flex;align-items:center;width:100%;color:#57a39f;box-shadow:0 2px 2px #57a39f;cursor:pointer;transition:.2s}.users__submit[_ngcontent-%COMP%]:active, .users__submit[_ngcontent-%COMP%]:focus, .users__submit[_ngcontent-%COMP%]:hover{border-color:#99dfdc;outline:none}.button__icon[_ngcontent-%COMP%]{font-size:24px;margin-left:auto;color:#7875b5}']}),u})(),pg=(()=>{class u{constructor(a){this.http=a,this.myProfile=null}ngOnInit(){this.http.get("https://api.github.com/users/FedericoMS").subscribe(a=>{this.myProfile=a})}}return u.\u0275fac=function(a){return new(a||u)(h.Y36(Je))},u.\u0275cmp=h.Xpm({type:u,selectors:[["app-quiensoy"]],decls:25,vars:3,consts:[[1,"container"],[1,"screen"],["alt","",3,"src"],[2,"font-size","14px"]],template:function(a,f){1&a&&(h.TgZ(0,"div",0)(1,"div",1)(2,"h1"),h._uU(3,"Qui\xe9n soy"),h.qZA(),h.TgZ(4,"h4")(5,"strong"),h._uU(6,"Nombre"),h.qZA(),h._uU(7),h.qZA(),h.TgZ(8,"h4")(9,"strong"),h._uU(10,"Comisi\xf3n"),h.qZA(),h._uU(11,": 4A"),h.qZA(),h.TgZ(12,"h4")(13,"strong"),h._uU(14,"Username"),h.qZA(),h._uU(15),h.qZA(),h.TgZ(16,"h4")(17,"strong"),h._uU(18,"A\xf1o"),h.qZA(),h._uU(19,": 2023"),h.qZA(),h._UZ(20,"img",2)(21,"br")(22,"br"),h.TgZ(23,"p",3),h._uU(24," Esta p\xe1gina es la Cl\xednica OnLine, un proyecto web donde podr\xe1s registrarte, sacar turnos m\xe9dicos, tomarlos y dejar rese\xf1as. "),h.qZA()()()),2&a&&(h.xp6(7),h.hij(": ",f.myProfile.name,""),h.xp6(8),h.hij(": ",f.myProfile.login,""),h.xp6(5),h.s9C("src",f.myProfile.avatar_url,h.LSH))},styles:['@import"https://fonts.googleapis.com/css?family=Raleway:400,700";*[_ngcontent-%COMP%]{box-sizing:border-box;margin:1;padding:0;font-family:Raleway,sans-serif}img[_ngcontent-%COMP%]{width:200px;height:200px;object-fit:cover;border-radius:10px;box-shadow:2px 0 4px #747e80;position:relative;object-position:center}.rounded-image[_ngcontent-%COMP%]{border-radius:50%;width:80px;height:80px;cursor:pointer;object-fit:cover}.row[_ngcontent-%COMP%]{margin-top:15%}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{color:#57a39f;font-weight:700}body[_ngcontent-%COMP%]{background:linear-gradient(90deg,#C7C5F4,#776BCC)}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative;top:8%}.screen[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f1fcfb,#dafffd);position:relative;height:550px;width:400px;box-shadow:0 0 24px #8dcac7;border-radius:15px;justify-content:center;align-items:center;text-align:center}.screen__content[_ngcontent-%COMP%]{z-index:1;position:relative;height:100%;display:flex;height:550px;width:400px}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#5e8b89}']}),u})(),mg=(()=>{class u{constructor(a){this.userService=a}canActivate(a,f){return"admin"==this.userService.getCurrentProfile()}}return u.\u0275fac=function(a){return new(a||u)(h.LFG(Pa.K))},u.\u0275prov=h.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();function Wp(u,c){1&u&&(h.TgZ(0,"div",6),h._UZ(1,"app-spinner"),h.qZA())}function qp(u,c){if(1&u){const a=h.EpF();h.TgZ(0,"td")(1,"button",9),h.NdJ("click",function(){h.CHM(a);const b=h.oxw(3);return h.KtG(b.toggleDay(1))}),h._uU(2,"Lunes"),h.qZA()()}}function Fy(u,c){if(1&u){const a=h.EpF();h.TgZ(0,"td")(1,"button",10),h.NdJ("click",function(){h.CHM(a);const b=h.oxw(3);return h.KtG(b.toggleDay(1))}),h._uU(2,"Lunes"),h.qZA()()}}function Zp(u,c){if(1&u){const a=h.EpF();h.TgZ(0,"td")(1,"button",9),h.NdJ("click",function(){h.CHM(a);const b=h.oxw(3);return h.KtG(b.toggleDay(2))}),h._uU(2,"Martes"),h.qZA()()}}function gu(u,c){if(1&u){const a=h.EpF();h.TgZ(0,"td")(1,"button",10),h.NdJ("click",function(){h.CHM(a);const b=h.oxw(3);return h.KtG(b.toggleDay(2))}),h._uU(2,"Martes"),h.qZA()()}}function _u(u,c){if(1&u){const a=h.EpF();h.TgZ(0,"td")(1,"button",9),h.NdJ("click",function(){h.CHM(a);const b=h.oxw(3);return h.KtG(b.toggleDay(3))}),h._uU(2,"Mi\xe9rcoles"),h.qZA()()}}function Kp(u,c){if(1&u){const a=h.EpF();h.TgZ(0,"td")(1,"button",10),h.NdJ("click",function(){h.CHM(a);const b=h.oxw(3);return h.KtG(b.toggleDay(3))}),h._uU(2,"Mi\xe9rcoles"),h.qZA()()}}function gg(u,c){if(1&u){const a=h.EpF();h.TgZ(0,"td")(1,"button",9),h.NdJ("click",function(){h.CHM(a);const b=h.oxw(3);return h.KtG(b.toggleDay(4))}),h._uU(2,"Jueves"),h.qZA()()}}function yu(u,c){if(1&u){const a=h.EpF();h.TgZ(0,"td")(1,"button",10),h.NdJ("click",function(){h.CHM(a);const b=h.oxw(3);return h.KtG(b.toggleDay(4))}),h._uU(2,"Jueves"),h.qZA()()}}function jl(u,c){if(1&u){const a=h.EpF();h.TgZ(0,"td")(1,"button",9),h.NdJ("click",function(){h.CHM(a);const b=h.oxw(3);return h.KtG(b.toggleDay(5))}),h._uU(2,"Viernes"),h.qZA()()}}function Nf(u,c){if(1&u){const a=h.EpF();h.TgZ(0,"td")(1,"button",10),h.NdJ("click",function(){h.CHM(a);const b=h.oxw(3);return h.KtG(b.toggleDay(5))}),h._uU(2,"Viernes"),h.qZA()()}}function kf(u,c){if(1&u){const a=h.EpF();h.TgZ(0,"td")(1,"button",9),h.NdJ("click",function(){h.CHM(a);const b=h.oxw(3);return h.KtG(b.toggleDay(6))}),h._uU(2,"S\xe1bado"),h.qZA()()}}function _g(u,c){if(1&u){const a=h.EpF();h.TgZ(0,"td")(1,"button",10),h.NdJ("click",function(){h.CHM(a);const b=h.oxw(3);return h.KtG(b.toggleDay(6))}),h._uU(2,"S\xe1bado"),h.qZA()()}}function $d(u,c){if(1&u&&(h.ynx(0),h.TgZ(1,"h3"),h._uU(2,"Seleccione sus d\xedas laborables"),h.qZA(),h.TgZ(3,"tr"),h.YNc(4,qp,3,0,"td",8),h.YNc(5,Fy,3,0,"td",8),h.YNc(6,Zp,3,0,"td",8),h.YNc(7,gu,3,0,"td",8),h.YNc(8,_u,3,0,"td",8),h.YNc(9,Kp,3,0,"td",8),h.YNc(10,gg,3,0,"td",8),h.YNc(11,yu,3,0,"td",8),h.YNc(12,jl,3,0,"td",8),h.YNc(13,Nf,3,0,"td",8),h.YNc(14,kf,3,0,"td",8),h.YNc(15,_g,3,0,"td",8),h.qZA(),h.BQk()),2&u){const a=h.oxw(2);h.xp6(4),h.Q6J("ngIf",a.usuarioActual.dias[1]),h.xp6(1),h.Q6J("ngIf",!a.usuarioActual.dias[1]),h.xp6(1),h.Q6J("ngIf",a.usuarioActual.dias[2]),h.xp6(1),h.Q6J("ngIf",!a.usuarioActual.dias[2]),h.xp6(1),h.Q6J("ngIf",a.usuarioActual.dias[3]),h.xp6(1),h.Q6J("ngIf",!a.usuarioActual.dias[3]),h.xp6(1),h.Q6J("ngIf",a.usuarioActual.dias[4]),h.xp6(1),h.Q6J("ngIf",!a.usuarioActual.dias[4]),h.xp6(1),h.Q6J("ngIf",a.usuarioActual.dias[5]),h.xp6(1),h.Q6J("ngIf",!a.usuarioActual.dias[5]),h.xp6(1),h.Q6J("ngIf",a.usuarioActual.dias[6]),h.xp6(1),h.Q6J("ngIf",!a.usuarioActual.dias[6])}}function El(u,c){if(1&u&&(h.TgZ(0,"h1"),h._uU(1),h.qZA(),h._UZ(2,"img",7),h.TgZ(3,"h3"),h._uU(4),h.qZA(),h.TgZ(5,"h3"),h._uU(6),h.qZA(),h.TgZ(7,"h3"),h._uU(8),h.qZA(),h.TgZ(9,"h3"),h._uU(10),h.qZA(),h.YNc(11,$d,16,12,"ng-container",8)),2&u){const a=h.oxw();h.xp6(1),h.hij("Perfil de ",a.usuarioActual.nombre+" "+a.usuarioActual.apellido,""),h.xp6(1),h.Q6J("src",a.usuarioActual.imagen1,h.LSH),h.xp6(2),h.hij("Edad: ",a.usuarioActual.edad,""),h.xp6(2),h.hij("DNI: ",a.usuarioActual.dni,""),h.xp6(2),h.hij("Correo electr\xf3nico: ",a.usuarioActual.email,""),h.xp6(2),h.hij("Obra social: ",a.usuarioActual.obraSocial," "),h.xp6(1),h.Q6J("ngIf","especialista"==a.usuarioActual.perfil)}}const vu=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"login",component:lr},{path:"registro",component:O_},{path:"home",component:fl},{path:"quiensoy",component:pg},{path:"perfil",component:(()=>{class u{constructor(a,f){this.userService=a,this.spinner=f,this.usuarioActual=new go.b,this.isLoading=!0,this.lunes=!1,this.martes=!1,this.miercoles=!1,this.jueves=!1,this.viernes=!1,this.sabado=!1,this.spinner.show(),setTimeout(()=>{this.usuarioActual=this.userService.getCurrentUser(),this.spinner.hide(),this.isLoading=!1},2500)}ngOnInit(){}toggleDay(a){switch(a){case 1:this.usuarioActual.dias[1]=!this.usuarioActual.dias[1],this.userService.updateUser(this.usuarioActual),console.log(this.usuarioActual.dias[1]);break;case 2:this.usuarioActual.dias[2]=!this.usuarioActual.dias[2],this.userService.updateUser(this.usuarioActual),console.log(this.usuarioActual.dias[2]);break;case 3:this.usuarioActual.dias[3]=!this.usuarioActual.dias[3],this.userService.updateUser(this.usuarioActual),console.log(this.usuarioActual.dias[3]);break;case 4:this.usuarioActual.dias[4]=!this.usuarioActual.dias[4],this.userService.updateUser(this.usuarioActual),console.log(this.usuarioActual.dias[4]);break;case 5:this.usuarioActual.dias[5]=!this.usuarioActual.dias[5],this.userService.updateUser(this.usuarioActual),console.log(this.usuarioActual.dias[5]);break;case 6:this.usuarioActual.dias[6]=!this.usuarioActual.dias[6],this.userService.updateUser(this.usuarioActual),console.log(this.usuarioActual.dias[6])}}}return u.\u0275fac=function(a){return new(a||u)(h.Y36(Pa.K),h.Y36(hl))},u.\u0275cmp=h.Xpm({type:u,selectors:[["app-mi-perfil"]],decls:7,vars:2,consts:[[1,"container"],[1,"screen"],[1,"screen__content"],[1,"profile"],["class","cargando",4,"ngIf","ngIfElse"],["mostrar",""],[1,"cargando"],["alt","foto de perfil",1,"img-perfil",3,"src"],[4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"]],template:function(a,f){if(1&a&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),h.YNc(4,Wp,2,0,"div",4),h.YNc(5,El,12,7,"ng-template",null,5,h.W1O),h.qZA()()()()),2&a){const b=h.MAs(6);h.xp6(4),h.Q6J("ngIf",f.isLoading)("ngIfElse",b)}},dependencies:[j.O5,or],styles:['@import"https://fonts.googleapis.com/css?family=Raleway:400,700";*[_ngcontent-%COMP%]{box-sizing:border-box;margin:1;padding:0;font-family:Raleway,sans-serif}.img-perfil[_ngcontent-%COMP%]{border-radius:50%;width:250px;height:250px;cursor:pointer}.boton-registro[_ngcontent-%COMP%]{margin-right:88%;margin-top:2%}.badge[_ngcontent-%COMP%]{font-size:large;line-height:1.5}.btn-primary[_ngcontent-%COMP%]{background-color:#6ed9d3;border-color:#6dbfbb;color:#fff;width:150px;height:30px;margin:3px}.btn-secondary[_ngcontent-%COMP%]{background-color:#90adad;border-color:#6dbfbb;color:#fff;width:150px;height:30px;margin:3px}body[_ngcontent-%COMP%]{background:linear-gradient(90deg,#C7C5F4,#776BCC)}img[_ngcontent-%COMP%]{border-radius:50%;width:35%;height:35%;cursor:pointer}.row[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20%}.center-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative;top:4%}.screen[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f1fcfb,#dafffd);position:relative;height:800px;width:1200px;box-shadow:0 0 24px #8dcac7;border-radius:15px}.screen__content[_ngcontent-%COMP%]{z-index:1;position:relative;height:100%;display:flex;justify-content:center;text-align:center}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#5e8b89}.profile[_ngcontent-%COMP%]{width:1000px}.profile__field[_ngcontent-%COMP%]{padding:7px 0;position:relative}.profile__icon[_ngcontent-%COMP%]{position:absolute;top:30px;color:#7875b5}.profile__input[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #D1D1D4;background:none;padding:10px 10px 10px 24px;font-weight:700;width:75%;transition:.2s}']}),u})()},{path:"turnos",loadChildren:()=>U.e(739).then(U.bind(U,5739)).then(u=>u.TurnosModule)},{path:"usuarios",component:Gp,canActivate:[mg]}];let od=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=h.oAB({type:u}),u.\u0275inj=h.cJS({imports:[ha.Bz.forRoot(vu),ha.Bz]}),u})();class Yp{}class Qp{}const Vc="*";function Jp(u,c=null){return{type:2,steps:u,options:c}}function Fh(u){return{type:6,styles:u,offset:null}}function il(u){Promise.resolve().then(u)}class Ja{constructor(c=0,a=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=c+a}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}onStart(c){this._originalOnStartFns.push(c),this._onStartFns.push(c)}onDone(c){this._originalOnDoneFns.push(c),this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){il(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(c=>c()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(c){this._position=this.totalTime?c*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(c){const a="start"==c?this._onStartFns:this._onDoneFns;a.forEach(f=>f()),a.length=0}}class $l{constructor(c){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=c;let a=0,f=0,b=0;const N=this.players.length;0==N?il(()=>this._onFinish()):this.players.forEach(Y=>{Y.onDone(()=>{++a==N&&this._onFinish()}),Y.onDestroy(()=>{++f==N&&this._onDestroy()}),Y.onStart(()=>{++b==N&&this._onStart()})}),this.totalTime=this.players.reduce((Y,he)=>Math.max(Y,he.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}init(){this.players.forEach(c=>c.init())}onStart(c){this._onStartFns.push(c)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(c=>c()),this._onStartFns=[])}onDone(c){this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(c=>c.play())}pause(){this.players.forEach(c=>c.pause())}restart(){this.players.forEach(c=>c.restart())}finish(){this._onFinish(),this.players.forEach(c=>c.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(c=>c.destroy()),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}reset(){this.players.forEach(c=>c.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(c){const a=c*this.totalTime;this.players.forEach(f=>{const b=f.totalTime?Math.min(1,a/f.totalTime):1;f.setPosition(b)})}getPosition(){const c=this.players.reduce((a,f)=>null===a||f.totalTime>a.totalTime?f:a,null);return null!=c?c.getPosition():0}beforeDestroy(){this.players.forEach(c=>{c.beforeDestroy&&c.beforeDestroy()})}triggerCallback(c){const a="start"==c?this._onStartFns:this._onDoneFns;a.forEach(f=>f()),a.length=0}}const Uh="!";function em(u){return new h.vHH(3e3,!1)}function Eg(){return typeof window<"u"&&typeof window.document<"u"}function Wd(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function zl(u){switch(u.length){case 0:return new Ja;case 1:return u[0];default:return new $l(u)}}function Cg(u,c,a,f,b=new Map,N=new Map){const Y=[],he=[];let Ee=-1,$e=null;if(f.forEach(Ot=>{const Yt=Ot.get("offset"),xn=Yt==Ee,gn=xn&&$e||new Map;Ot.forEach((rn,Zn)=>{let hr=Zn,ur=rn;if("offset"!==Zn)switch(hr=c.normalizePropertyName(hr,Y),ur){case Uh:ur=b.get(Zn);break;case Vc:ur=N.get(Zn);break;default:ur=c.normalizeStyleValue(Zn,hr,ur,Y)}gn.set(hr,ur)}),xn||he.push(gn),$e=gn,Ee=Yt}),Y.length)throw function Hl(u){return new h.vHH(3502,!1)}();return he}function kr(u,c,a,f){switch(c){case"start":u.onStart(()=>f(a&&$f(a,"start",u)));break;case"done":u.onDone(()=>f(a&&$f(a,"done",u)));break;case"destroy":u.onDestroy(()=>f(a&&$f(a,"destroy",u)))}}function $f(u,c,a){const N=$h(u.element,u.triggerName,u.fromState,u.toState,c||u.phaseName,a.totalTime??u.totalTime,!!a.disabled),Y=u._data;return null!=Y&&(N._data=Y),N}function $h(u,c,a,f,b="",N=0,Y){return{element:u,triggerName:c,fromState:a,toState:f,phaseName:b,totalTime:N,disabled:!!Y}}function Is(u,c,a){let f=u.get(c);return f||u.set(c,f=a),f}function qd(u){const c=u.indexOf(":");return[u.substring(1,c),u.slice(c+1)]}let Hf=(u,c)=>!1,zf=(u,c,a)=>[],Ig=null;function Hh(u){const c=u.parentNode||u.host;return c===Ig?null:c}(Wd()||typeof Element<"u")&&(Eg()?(Ig=(()=>document.documentElement)(),Hf=(u,c)=>{for(;c;){if(c===u)return!0;c=Hh(c)}return!1}):Hf=(u,c)=>u.contains(c),zf=(u,c,a)=>{if(a)return Array.from(u.querySelectorAll(c));const f=u.querySelector(c);return f?[f]:[]});let Cu=null,Ds=!1;const Gf=Hf,Kd=zf;let Wf=(()=>{class u{validateStyleProperty(a){return function Dg(u){Cu||(Cu=function W_(){return typeof document<"u"?document.body:null}()||{},Ds=!!Cu.style&&"WebkitAppearance"in Cu.style);let c=!0;return Cu.style&&!function G_(u){return"ebkit"==u.substring(1,6)}(u)&&(c=u in Cu.style,!c&&Ds&&(c="Webkit"+u.charAt(0).toUpperCase()+u.slice(1)in Cu.style)),c}(a)}matchesElement(a,f){return!1}containsElement(a,f){return Gf(a,f)}getParentElement(a){return Hh(a)}query(a,f,b){return Kd(a,f,b)}computeStyle(a,f,b){return b||""}animate(a,f,b,N,Y,he=[],Ee){return new Ja(b,N)}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275prov=h.Yz7({token:u,factory:u.\u0275fac}),u})(),zh=(()=>{class u{}return u.NOOP=new Wf,u})();const zy=1e3,Zf="ng-enter",Iu="ng-leave",$c="ng-trigger",Yd=".ng-trigger",Gh="ng-animating",ad=".ng-animating";function Gl(u){if("number"==typeof u)return u;const c=u.match(/^(-?[\.\d]+)(m?s)/);return!c||c.length<2?0:Wh(parseFloat(c[1]),c[2])}function Wh(u,c){return"s"===c?u*zy:u}function qh(u,c,a){return u.hasOwnProperty("duration")?u:function am(u,c,a){let b,N=0,Y="";if("string"==typeof u){const he=u.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===he)return c.push(em()),{duration:0,delay:0,easing:""};b=Wh(parseFloat(he[1]),he[2]);const Ee=he[3];null!=Ee&&(N=Wh(parseFloat(Ee),he[4]));const $e=he[5];$e&&(Y=$e)}else b=u;if(!a){let he=!1,Ee=c.length;b<0&&(c.push(function F_(){return new h.vHH(3100,!1)}()),he=!0),N<0&&(c.push(function Lf(){return new h.vHH(3101,!1)}()),he=!0),he&&c.splice(Ee,0,em())}return{duration:b,delay:N,easing:Y}}(u,c,a)}function Zh(u,c={}){return Object.keys(u).forEach(a=>{c[a]=u[a]}),c}function cm(u){const c=new Map;return Object.keys(u).forEach(a=>{c.set(a,u[a])}),c}function Du(u,c=new Map,a){if(a)for(let[f,b]of a)c.set(f,b);for(let[f,b]of u)c.set(f,b);return c}function Tu(u,c,a){return a?c+":"+a+";":""}function Au(u){let c="";for(let a=0;a<u.style.length;a++){const f=u.style.item(a);c+=Tu(0,f,u.style.getPropertyValue(f))}for(const a in u.style)u.style.hasOwnProperty(a)&&!a.startsWith("_")&&(c+=Tu(0,Ag(a),u.style[a]));u.setAttribute("style",c)}function pc(u,c,a){u.style&&(c.forEach((f,b)=>{const N=Jf(b);a&&!a.has(b)&&a.set(b,u.style[N]),u.style[N]=f}),Wd()&&Au(u))}function Wl(u,c){u.style&&(c.forEach((a,f)=>{const b=Jf(f);u.style[b]=""}),Wd()&&Au(u))}function Su(u){return Array.isArray(u)?1==u.length?u[0]:Jp(u):u}const lm=new RegExp("{{\\s*(.+?)\\s*}}","g");function cd(u){let c=[];if("string"==typeof u){let a;for(;a=lm.exec(u);)c.push(a[1]);lm.lastIndex=0}return c}function xu(u,c,a){const f=u.toString(),b=f.replace(lm,(N,Y)=>{let he=c[Y];return null==he&&(a.push(function Bf(u){return new h.vHH(3003,!1)}()),he=""),he.toString()});return b==f?u:b}function Yf(u){const c=[];let a=u.next();for(;!a.done;)c.push(a.value),a=u.next();return c}const Qf=/-+([a-z0-9])/g;function Jf(u){return u.replace(Qf,(...c)=>c[1].toUpperCase())}function Ag(u){return u.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Vs(u,c,a){switch(c.type){case 7:return u.visitTrigger(c,a);case 0:return u.visitState(c,a);case 1:return u.visitTransition(c,a);case 2:return u.visitSequence(c,a);case 3:return u.visitGroup(c,a);case 4:return u.visitAnimate(c,a);case 5:return u.visitKeyframes(c,a);case 6:return u.visitStyle(c,a);case 8:return u.visitReference(c,a);case 9:return u.visitAnimateChild(c,a);case 10:return u.visitAnimateRef(c,a);case 11:return u.visitQuery(c,a);case 12:return u.visitStagger(c,a);default:throw function Bh(u){return new h.vHH(3004,!1)}()}}function Zl(u,c){return window.getComputedStyle(u)[c]}const Ru="*";function Z_(u,c){const a=[];return"string"==typeof u?u.split(/\s*,\s*/).forEach(f=>function K_(u,c,a){if(":"==u[0]){const Ee=function wa(u,c){switch(u){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,f)=>parseFloat(f)>parseFloat(a);case":decrement":return(a,f)=>parseFloat(f)<parseFloat(a);default:return c.push(function B_(u){return new h.vHH(3016,!1)}()),"* => *"}}(u,a);if("function"==typeof Ee)return void c.push(Ee);u=Ee}const f=u.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==f||f.length<4)return a.push(function Va(u){return new h.vHH(3015,!1)}()),c;const b=f[1],N=f[2],Y=f[3];c.push(Xd(b,Y));"<"==N[0]&&!(b==Ru&&Y==Ru)&&c.push(Xd(Y,b))}(f,a,c)):a.push(u),a}const np=new Set(["true","1"]),Jd=new Set(["false","0"]);function Xd(u,c){const a=np.has(u)||Jd.has(u),f=np.has(c)||Jd.has(c);return(b,N)=>{let Y=u==Ru||u==b,he=c==Ru||c==N;return!Y&&a&&"boolean"==typeof b&&(Y=b?np.has(u):Jd.has(u)),!he&&f&&"boolean"==typeof N&&(he=N?np.has(c):Jd.has(c)),Y&&he}}const hm=new RegExp("s*:selfs*,?","g");function ja(u,c,a,f){return new Y_(u).build(c,a,f)}class Y_{constructor(c){this._driver=c}build(c,a,f){const b=new rp(a);return this._resetContextStyleTimingState(b),Vs(this,Su(c),b)}_resetContextStyleTimingState(c){c.currentQuerySelector="",c.collectedStyles=new Map,c.collectedStyles.set("",new Map),c.currentTime=0}visitTrigger(c,a){let f=a.queryCount=0,b=a.depCount=0;const N=[],Y=[];return"@"==c.name.charAt(0)&&a.errors.push(function Vf(){return new h.vHH(3006,!1)}()),c.definitions.forEach(he=>{if(this._resetContextStyleTimingState(a),0==he.type){const Ee=he,$e=Ee.name;$e.toString().split(/\s*,\s*/).forEach(Ot=>{Ee.name=Ot,N.push(this.visitState(Ee,a))}),Ee.name=$e}else if(1==he.type){const Ee=this.visitTransition(he,a);f+=Ee.queryCount,b+=Ee.depCount,Y.push(Ee)}else a.errors.push(function bu(){return new h.vHH(3007,!1)}())}),{type:7,name:c.name,states:N,transitions:Y,queryCount:f,depCount:b,options:null}}visitState(c,a){const f=this.visitStyle(c.styles,a),b=c.options&&c.options.params||null;if(f.containsDynamicStyles){const N=new Set,Y=b||{};f.styles.forEach(he=>{he instanceof Map&&he.forEach(Ee=>{cd(Ee).forEach($e=>{Y.hasOwnProperty($e)||N.add($e)})})}),N.size&&(Yf(N.values()),a.errors.push(function L_(u,c){return new h.vHH(3008,!1)}()))}return{type:0,name:c.name,style:f,options:b?{params:b}:null}}visitTransition(c,a){a.queryCount=0,a.depCount=0;const f=Vs(this,Su(c.animation),a);return{type:1,matchers:Z_(c.expr,a.errors),animation:f,queryCount:a.queryCount,depCount:a.depCount,options:ol(c.options)}}visitSequence(c,a){return{type:2,steps:c.steps.map(f=>Vs(this,f,a)),options:ol(c.options)}}visitGroup(c,a){const f=a.currentTime;let b=0;const N=c.steps.map(Y=>{a.currentTime=f;const he=Vs(this,Y,a);return b=Math.max(b,a.currentTime),he});return a.currentTime=b,{type:3,steps:N,options:ol(c.options)}}visitAnimate(c,a){const f=function J_(u,c){if(u.hasOwnProperty("duration"))return u;if("number"==typeof u)return th(qh(u,c).duration,0,"");const a=u;if(a.split(/\s+/).some(N=>"{"==N.charAt(0)&&"{"==N.charAt(1))){const N=th(0,0,"");return N.dynamic=!0,N.strValue=a,N}const b=qh(a,c);return th(b.duration,b.delay,b.easing)}(c.timings,a.errors);a.currentAnimateTimings=f;let b,N=c.styles?c.styles:Fh({});if(5==N.type)b=this.visitKeyframes(N,a);else{let Y=c.styles,he=!1;if(!Y){he=!0;const $e={};f.easing&&($e.easing=f.easing),Y=Fh($e)}a.currentTime+=f.duration+f.delay;const Ee=this.visitStyle(Y,a);Ee.isEmptyStep=he,b=Ee}return a.currentAnimateTimings=null,{type:4,timings:f,style:b,options:null}}visitStyle(c,a){const f=this._makeStyleAst(c,a);return this._validateStyleAst(f,a),f}_makeStyleAst(c,a){const f=[],b=Array.isArray(c.styles)?c.styles:[c.styles];for(let he of b)"string"==typeof he?he===Vc?f.push(he):a.errors.push(new h.vHH(3002,!1)):f.push(cm(he));let N=!1,Y=null;return f.forEach(he=>{if(he instanceof Map&&(he.has("easing")&&(Y=he.get("easing"),he.delete("easing")),!N))for(let Ee of he.values())if(Ee.toString().indexOf("{{")>=0){N=!0;break}}),{type:6,styles:f,easing:Y,offset:c.offset,containsDynamicStyles:N,options:null}}_validateStyleAst(c,a){const f=a.currentAnimateTimings;let b=a.currentTime,N=a.currentTime;f&&N>0&&(N-=f.duration+f.delay),c.styles.forEach(Y=>{"string"!=typeof Y&&Y.forEach((he,Ee)=>{const $e=a.collectedStyles.get(a.currentQuerySelector),Ot=$e.get(Ee);let Yt=!0;Ot&&(N!=b&&N>=Ot.startTime&&b<=Ot.endTime&&(a.errors.push(function U_(u,c,a,f,b){return new h.vHH(3010,!1)}()),Yt=!1),N=Ot.startTime),Yt&&$e.set(Ee,{startTime:N,endTime:b}),a.options&&function Tg(u,c,a){const f=c.params||{},b=cd(u);b.length&&b.forEach(N=>{f.hasOwnProperty(N)||a.push(function Uf(u){return new h.vHH(3001,!1)}())})}(he,a.options,a.errors)})})}visitKeyframes(c,a){const f={type:5,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function yg(){return new h.vHH(3011,!1)}()),f;let N=0;const Y=[];let he=!1,Ee=!1,$e=0;const Ot=c.steps.map(ur=>{const si=this._makeStyleAst(ur,a);let ai=null!=si.offset?si.offset:function Q_(u){if("string"==typeof u)return null;let c=null;if(Array.isArray(u))u.forEach(a=>{if(a instanceof Map&&a.has("offset")){const f=a;c=parseFloat(f.get("offset")),f.delete("offset")}});else if(u instanceof Map&&u.has("offset")){const a=u;c=parseFloat(a.get("offset")),a.delete("offset")}return c}(si.styles),Br=0;return null!=ai&&(N++,Br=si.offset=ai),Ee=Ee||Br<0||Br>1,he=he||Br<$e,$e=Br,Y.push(Br),si});Ee&&a.errors.push(function Vh(){return new h.vHH(3012,!1)}()),he&&a.errors.push(function jf(){return new h.vHH(3200,!1)}());const Yt=c.steps.length;let xn=0;N>0&&N<Yt?a.errors.push(function Cl(){return new h.vHH(3202,!1)}()):0==N&&(xn=1/(Yt-1));const gn=Yt-1,rn=a.currentTime,Zn=a.currentAnimateTimings,hr=Zn.duration;return Ot.forEach((ur,si)=>{const ai=xn>0?si==gn?1:xn*si:Y[si],Br=ai*hr;a.currentTime=rn+Zn.delay+Br,Zn.duration=Br,this._validateStyleAst(ur,a),ur.offset=ai,f.styles.push(ur)}),f}visitReference(c,a){return{type:8,animation:Vs(this,Su(c.animation),a),options:ol(c.options)}}visitAnimateChild(c,a){return a.depCount++,{type:9,options:ol(c.options)}}visitAnimateRef(c,a){return{type:10,animation:this.visitReference(c.animation,a),options:ol(c.options)}}visitQuery(c,a){const f=a.currentQuerySelector,b=c.options||{};a.queryCount++,a.currentQuery=c;const[N,Y]=function Gy(u){const c=!!u.split(/\s*,\s*/).find(a=>":self"==a);return c&&(u=u.replace(hm,"")),u=u.replace(/@\*/g,Yd).replace(/@\w+/g,a=>Yd+"-"+a.slice(1)).replace(/:animating/g,ad),[u,c]}(c.selector);a.currentQuerySelector=f.length?f+" "+N:N,Is(a.collectedStyles,a.currentQuerySelector,new Map);const he=Vs(this,Su(c.animation),a);return a.currentQuery=null,a.currentQuerySelector=f,{type:11,selector:N,limit:b.limit||0,optional:!!b.optional,includeSelf:Y,animation:he,originalSelector:c.selector,options:ol(c.options)}}visitStagger(c,a){a.currentQuery||a.errors.push(function Il(){return new h.vHH(3013,!1)}());const f="full"===c.timings?{duration:0,delay:0,easing:"full"}:qh(c.timings,a.errors,!0);return{type:12,animation:Vs(this,Su(c.animation),a),timings:f,options:null}}}class rp{constructor(c){this.errors=c,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ol(u){return u?(u=Zh(u)).params&&(u.params=function fm(u){return u?Zh(u):null}(u.params)):u={},u}function th(u,c,a){return{duration:u,delay:c,easing:a}}function Pu(u,c,a,f,b,N,Y=null,he=!1){return{type:1,element:u,keyframes:c,preStyleProps:a,postStyleProps:f,duration:b,delay:N,totalTime:b+N,easing:Y,subTimeline:he}}class nh{constructor(){this._map=new Map}get(c){return this._map.get(c)||[]}append(c,a){let f=this._map.get(c);f||this._map.set(c,f=[]),f.push(...a)}has(c){return this._map.has(c)}clear(){this._map.clear()}}const pm=new RegExp(":enter","g"),mm=new RegExp(":leave","g");function Yh(u,c,a,f,b,N=new Map,Y=new Map,he,Ee,$e=[]){return(new Ea).buildKeyframes(u,c,a,f,b,N,Y,he,Ee,$e)}class Ea{buildKeyframes(c,a,f,b,N,Y,he,Ee,$e,Ot=[]){$e=$e||new nh;const Yt=new gm(c,a,$e,b,N,Ot,[]);Yt.options=Ee;const xn=Ee.delay?Gl(Ee.delay):0;Yt.currentTimeline.delayNextStep(xn),Yt.currentTimeline.setStyles([Y],null,Yt.errors,Ee),Vs(this,f,Yt);const gn=Yt.timelines.filter(rn=>rn.containsAnimation());if(gn.length&&he.size){let rn;for(let Zn=gn.length-1;Zn>=0;Zn--){const hr=gn[Zn];if(hr.element===a){rn=hr;break}}rn&&!rn.allowOnlyTimelineStyles()&&rn.setStyles([he],null,Yt.errors,Ee)}return gn.length?gn.map(rn=>rn.buildKeyframes()):[Pu(a,[],[],[],0,xn,"",!1)]}visitTrigger(c,a){}visitState(c,a){}visitTransition(c,a){}visitAnimateChild(c,a){const f=a.subInstructions.get(a.element);if(f){const b=a.createSubContext(c.options),N=a.currentTimeline.currentTime,Y=this._visitSubInstructions(f,b,b.options);N!=Y&&a.transformIntoNewTimeline(Y)}a.previousNode=c}visitAnimateRef(c,a){const f=a.createSubContext(c.options);f.transformIntoNewTimeline(),this._applyAnimationRefDelays([c.options,c.animation.options],a,f),this.visitReference(c.animation,f),a.transformIntoNewTimeline(f.currentTimeline.currentTime),a.previousNode=c}_applyAnimationRefDelays(c,a,f){for(const b of c){const N=b?.delay;if(N){const Y="number"==typeof N?N:Gl(xu(N,b?.params??{},a.errors));f.delayNextStep(Y)}}}_visitSubInstructions(c,a,f){let N=a.currentTimeline.currentTime;const Y=null!=f.duration?Gl(f.duration):null,he=null!=f.delay?Gl(f.delay):null;return 0!==Y&&c.forEach(Ee=>{const $e=a.appendInstructionToTimeline(Ee,Y,he);N=Math.max(N,$e.duration+$e.delay)}),N}visitReference(c,a){a.updateOptions(c.options,!0),Vs(this,c.animation,a),a.previousNode=c}visitSequence(c,a){const f=a.subContextCount;let b=a;const N=c.options;if(N&&(N.params||N.delay)&&(b=a.createSubContext(N),b.transformIntoNewTimeline(),null!=N.delay)){6==b.previousNode.type&&(b.currentTimeline.snapshotCurrentStyles(),b.previousNode=ld);const Y=Gl(N.delay);b.delayNextStep(Y)}c.steps.length&&(c.steps.forEach(Y=>Vs(this,Y,b)),b.currentTimeline.applyStylesToKeyframe(),b.subContextCount>f&&b.transformIntoNewTimeline()),a.previousNode=c}visitGroup(c,a){const f=[];let b=a.currentTimeline.currentTime;const N=c.options&&c.options.delay?Gl(c.options.delay):0;c.steps.forEach(Y=>{const he=a.createSubContext(c.options);N&&he.delayNextStep(N),Vs(this,Y,he),b=Math.max(b,he.currentTimeline.currentTime),f.push(he.currentTimeline)}),f.forEach(Y=>a.currentTimeline.mergeTimelineCollectedStyles(Y)),a.transformIntoNewTimeline(b),a.previousNode=c}_visitTiming(c,a){if(c.dynamic){const f=c.strValue;return qh(a.params?xu(f,a.params,a.errors):f,a.errors)}return{duration:c.duration,delay:c.delay,easing:c.easing}}visitAnimate(c,a){const f=a.currentAnimateTimings=this._visitTiming(c.timings,a),b=a.currentTimeline;f.delay&&(a.incrementTime(f.delay),b.snapshotCurrentStyles());const N=c.style;5==N.type?this.visitKeyframes(N,a):(a.incrementTime(f.duration),this.visitStyle(N,a),b.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=c}visitStyle(c,a){const f=a.currentTimeline,b=a.currentAnimateTimings;!b&&f.hasCurrentStyleProperties()&&f.forwardFrame();const N=b&&b.easing||c.easing;c.isEmptyStep?f.applyEmptyStep(N):f.setStyles(c.styles,N,a.errors,a.options),a.previousNode=c}visitKeyframes(c,a){const f=a.currentAnimateTimings,b=a.currentTimeline.duration,N=f.duration,he=a.createSubContext().currentTimeline;he.easing=f.easing,c.styles.forEach(Ee=>{he.forwardTime((Ee.offset||0)*N),he.setStyles(Ee.styles,Ee.easing,a.errors,a.options),he.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(he),a.transformIntoNewTimeline(b+N),a.previousNode=c}visitQuery(c,a){const f=a.currentTimeline.currentTime,b=c.options||{},N=b.delay?Gl(b.delay):0;N&&(6===a.previousNode.type||0==f&&a.currentTimeline.hasCurrentStyleProperties())&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=ld);let Y=f;const he=a.invokeQuery(c.selector,c.originalSelector,c.limit,c.includeSelf,!!b.optional,a.errors);a.currentQueryTotal=he.length;let Ee=null;he.forEach(($e,Ot)=>{a.currentQueryIndex=Ot;const Yt=a.createSubContext(c.options,$e);N&&Yt.delayNextStep(N),$e===a.element&&(Ee=Yt.currentTimeline),Vs(this,c.animation,Yt),Yt.currentTimeline.applyStylesToKeyframe(),Y=Math.max(Y,Yt.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(Y),Ee&&(a.currentTimeline.mergeTimelineCollectedStyles(Ee),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=c}visitStagger(c,a){const f=a.parentContext,b=a.currentTimeline,N=c.timings,Y=Math.abs(N.duration),he=Y*(a.currentQueryTotal-1);let Ee=Y*a.currentQueryIndex;switch(N.duration<0?"reverse":N.easing){case"reverse":Ee=he-Ee;break;case"full":Ee=f.currentStaggerTime}const Ot=a.currentTimeline;Ee&&Ot.delayNextStep(Ee);const Yt=Ot.currentTime;Vs(this,c.animation,a),a.previousNode=c,f.currentStaggerTime=b.currentTime-Yt+(b.startTime-f.currentTimeline.startTime)}}const ld={};class gm{constructor(c,a,f,b,N,Y,he,Ee){this._driver=c,this.element=a,this.subInstructions=f,this._enterClassName=b,this._leaveClassName=N,this.errors=Y,this.timelines=he,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ld,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ee||new ih(this._driver,a,0),he.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(c,a){if(!c)return;const f=c;let b=this.options;null!=f.duration&&(b.duration=Gl(f.duration)),null!=f.delay&&(b.delay=Gl(f.delay));const N=f.params;if(N){let Y=b.params;Y||(Y=this.options.params={}),Object.keys(N).forEach(he=>{(!a||!Y.hasOwnProperty(he))&&(Y[he]=xu(N[he],Y,this.errors))})}}_copyOptions(){const c={};if(this.options){const a=this.options.params;if(a){const f=c.params={};Object.keys(a).forEach(b=>{f[b]=a[b]})}}return c}createSubContext(c=null,a,f){const b=a||this.element,N=new gm(this._driver,b,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(b,f||0));return N.previousNode=this.previousNode,N.currentAnimateTimings=this.currentAnimateTimings,N.options=this._copyOptions(),N.updateOptions(c),N.currentQueryIndex=this.currentQueryIndex,N.currentQueryTotal=this.currentQueryTotal,N.parentContext=this,this.subContextCount++,N}transformIntoNewTimeline(c){return this.previousNode=ld,this.currentTimeline=this.currentTimeline.fork(this.element,c),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(c,a,f){const b={duration:a??c.duration,delay:this.currentTimeline.currentTime+(f??0)+c.delay,easing:""},N=new Mg(this._driver,c.element,c.keyframes,c.preStyleProps,c.postStyleProps,b,c.stretchStartingKeyframe);return this.timelines.push(N),b}incrementTime(c){this.currentTimeline.forwardTime(this.currentTimeline.duration+c)}delayNextStep(c){c>0&&this.currentTimeline.delayNextStep(c)}invokeQuery(c,a,f,b,N,Y){let he=[];if(b&&he.push(this.element),c.length>0){c=(c=c.replace(pm,"."+this._enterClassName)).replace(mm,"."+this._leaveClassName);let $e=this._driver.query(this.element,c,1!=f);0!==f&&($e=f<0?$e.slice($e.length+f,$e.length):$e.slice(0,f)),he.push(...$e)}return!N&&0==he.length&&Y.push(function vg(u){return new h.vHH(3014,!1)}()),he}}class ih{constructor(c,a,f,b){this._driver=c,this.element=a,this.startTime=f,this._elementTimelineStylesLookup=b,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(c){const a=1===this._keyframes.size&&this._pendingStyles.size;this.duration||a?(this.forwardTime(this.currentTime+c),a&&this.snapshotCurrentStyles()):this.startTime+=c}fork(c,a){return this.applyStylesToKeyframe(),new ih(this._driver,c,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(c){this.applyStylesToKeyframe(),this.duration=c,this._loadKeyframe()}_updateStyle(c,a){this._localTimelineStyles.set(c,a),this._globalTimelineStyles.set(c,a),this._styleSummary.set(c,{time:this.currentTime,value:a})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(c){c&&this._previousKeyframe.set("easing",c);for(let[a,f]of this._globalTimelineStyles)this._backFill.set(a,f||Vc),this._currentKeyframe.set(a,Vc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(c,a,f,b){a&&this._previousKeyframe.set("easing",a);const N=b&&b.params||{},Y=function X_(u,c){const a=new Map;let f;return u.forEach(b=>{if("*"===b){f=f||c.keys();for(let N of f)a.set(N,Vc)}else Du(b,a)}),a}(c,this._globalTimelineStyles);for(let[he,Ee]of Y){const $e=xu(Ee,N,f);this._pendingStyles.set(he,$e),this._localTimelineStyles.has(he)||this._backFill.set(he,this._globalTimelineStyles.get(he)??Vc),this._updateStyle(he,$e)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((c,a)=>{this._currentKeyframe.set(a,c)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((c,a)=>{this._currentKeyframe.has(a)||this._currentKeyframe.set(a,c)}))}snapshotCurrentStyles(){for(let[c,a]of this._localTimelineStyles)this._pendingStyles.set(c,a),this._updateStyle(c,a)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const c=[];for(let a in this._currentKeyframe)c.push(a);return c}mergeTimelineCollectedStyles(c){c._styleSummary.forEach((a,f)=>{const b=this._styleSummary.get(f);(!b||a.time>b.time)&&this._updateStyle(f,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const c=new Set,a=new Set,f=1===this._keyframes.size&&0===this.duration;let b=[];this._keyframes.forEach((he,Ee)=>{const $e=Du(he,new Map,this._backFill);$e.forEach((Ot,Yt)=>{Ot===Uh?c.add(Yt):Ot===Vc&&a.add(Yt)}),f||$e.set("offset",Ee/this.duration),b.push($e)});const N=c.size?Yf(c.values()):[],Y=a.size?Yf(a.values()):[];if(f){const he=b[0],Ee=new Map(he);he.set("offset",0),Ee.set("offset",1),b=[he,Ee]}return Pu(this.element,b,N,Y,this.duration,this.startTime,this.easing,!1)}}class Mg extends ih{constructor(c,a,f,b,N,Y,he=!1){super(c,a,Y.delay),this.keyframes=f,this.preStyleProps=b,this.postStyleProps=N,this._stretchStartingKeyframe=he,this.timings={duration:Y.duration,delay:Y.delay,easing:Y.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let c=this.keyframes,{delay:a,duration:f,easing:b}=this.timings;if(this._stretchStartingKeyframe&&a){const N=[],Y=f+a,he=a/Y,Ee=Du(c[0]);Ee.set("offset",0),N.push(Ee);const $e=Du(c[0]);$e.set("offset",ip(he)),N.push($e);const Ot=c.length-1;for(let Yt=1;Yt<=Ot;Yt++){let xn=Du(c[Yt]);const gn=xn.get("offset");xn.set("offset",ip((a+gn*f)/Y)),N.push(xn)}f=Y,a=0,b="",c=N}return Pu(this.element,c,this.preStyleProps,this.postStyleProps,f,a,b,!0)}}function ip(u,c=3){const a=Math.pow(10,c-1);return Math.round(u*a)/a}class Ou{}const Og=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Yl extends Ou{normalizePropertyName(c,a){return Jf(c)}normalizeStyleValue(c,a,f,b){let N="";const Y=f.toString().trim();if(Og.has(a)&&0!==f&&"0"!==f)if("number"==typeof f)N="px";else{const he=f.match(/^[+-]?[\d\.]+([a-z]*)$/);he&&0==he[1].length&&b.push(function tm(u,c){return new h.vHH(3005,!1)}())}return Y+N}}function ud(u,c,a,f,b,N,Y,he,Ee,$e,Ot,Yt,xn){return{type:0,element:u,triggerName:c,isRemovalTransition:b,fromState:a,fromStyles:N,toState:f,toStyles:Y,timelines:he,queriedElements:Ee,preStyleProps:$e,postStyleProps:Ot,totalTime:Yt,errors:xn}}const oh={};class ey{constructor(c,a,f){this._triggerName=c,this.ast=a,this._stateStyles=f}match(c,a,f,b){return function ty(u,c,a,f,b){return u.some(N=>N(c,a,f,b))}(this.ast.matchers,c,a,f,b)}buildStyles(c,a,f){let b=this._stateStyles.get("*");return void 0!==c&&(b=this._stateStyles.get(c?.toString())||b),b?b.buildStyles(a,f):new Map}build(c,a,f,b,N,Y,he,Ee,$e,Ot){const Yt=[],xn=this.ast.options&&this.ast.options.params||oh,rn=this.buildStyles(f,he&&he.params||oh,Yt),Zn=Ee&&Ee.params||oh,hr=this.buildStyles(b,Zn,Yt),ur=new Set,si=new Map,ai=new Map,Br="void"===b,gc={params:Ng(Zn,xn),delay:this.ast.options?.delay},oa=Ot?[]:Yh(c,a,this.ast.animation,N,Y,rn,hr,gc,$e,Yt);let As=0;if(oa.forEach(Ca=>{As=Math.max(Ca.duration+Ca.delay,As)}),Yt.length)return ud(a,this._triggerName,f,b,Br,rn,hr,[],[],si,ai,As,Yt);oa.forEach(Ca=>{const Mc=Ca.element,__=Is(si,Mc,new Set);Ca.preStyleProps.forEach(bd=>__.add(bd));const yf=Is(ai,Mc,new Set);Ca.postStyleProps.forEach(bd=>yf.add(bd)),Mc!==a&&ur.add(Mc)});const es=Yf(ur.values());return ud(a,this._triggerName,f,b,Br,rn,hr,oa,es,si,ai,As)}}function Ng(u,c){const a=Zh(c);for(const f in u)u.hasOwnProperty(f)&&null!=u[f]&&(a[f]=u[f]);return a}class op{constructor(c,a,f){this.styles=c,this.defaultParams=a,this.normalizer=f}buildStyles(c,a){const f=new Map,b=Zh(this.defaultParams);return Object.keys(c).forEach(N=>{const Y=c[N];null!==Y&&(b[N]=Y)}),this.styles.styles.forEach(N=>{"string"!=typeof N&&N.forEach((Y,he)=>{Y&&(Y=xu(Y,b,a));const Ee=this.normalizer.normalizePropertyName(he,a);Y=this.normalizer.normalizeStyleValue(he,Ee,Y,a),f.set(he,Y)})}),f}}class sp{constructor(c,a,f){this.name=c,this.ast=a,this._normalizer=f,this.transitionFactories=[],this.states=new Map,a.states.forEach(b=>{this.states.set(b.name,new op(b.style,b.options&&b.options.params||{},f))}),Hc(this.states,"true","1"),Hc(this.states,"false","0"),a.transitions.forEach(b=>{this.transitionFactories.push(new ey(c,b,this.states))}),this.fallbackTransition=function ym(u,c,a){return new ey(u,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Y,he)=>!0],options:null,queryCount:0,depCount:0},c)}(c,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(c,a,f,b){return this.transitionFactories.find(Y=>Y.match(c,a,f,b))||null}matchStyles(c,a,f){return this.fallbackTransition.buildStyles(c,a,f)}}function Hc(u,c,a){u.has(c)?u.has(a)||u.set(a,u.get(c)):u.has(a)&&u.set(c,u.get(a))}const ap=new nh;class sh{constructor(c,a,f){this.bodyNode=c,this._driver=a,this._normalizer=f,this._animations=new Map,this._playersById=new Map,this.players=[]}register(c,a){const f=[],b=[],N=ja(this._driver,a,f,b);if(f.length)throw function sd(u){return new h.vHH(3503,!1)}();this._animations.set(c,N)}_buildPlayer(c,a,f){const b=c.element,N=Cg(0,this._normalizer,0,c.keyframes,a,f);return this._driver.animate(b,N,c.duration,c.delay,c.easing,[],!0)}create(c,a,f={}){const b=[],N=this._animations.get(c);let Y;const he=new Map;if(N?(Y=Yh(this._driver,a,N,Zf,Iu,new Map,new Map,f,ap,b),Y.forEach(Ot=>{const Yt=Is(he,Ot.element,new Map);Ot.postStyleProps.forEach(xn=>Yt.set(xn,null))})):(b.push(function bg(){return new h.vHH(3300,!1)}()),Y=[]),b.length)throw function wu(u){return new h.vHH(3504,!1)}();he.forEach((Ot,Yt)=>{Ot.forEach((xn,gn)=>{Ot.set(gn,this._driver.computeStyle(Yt,gn,Vc))})});const $e=zl(Y.map(Ot=>{const Yt=he.get(Ot.element);return this._buildPlayer(Ot,new Map,Yt)}));return this._playersById.set(c,$e),$e.onDestroy(()=>this.destroy(c)),this.players.push($e),$e}destroy(c){const a=this._getPlayer(c);a.destroy(),this._playersById.delete(c);const f=this.players.indexOf(a);f>=0&&this.players.splice(f,1)}_getPlayer(c){const a=this._playersById.get(c);if(!a)throw function j_(u){return new h.vHH(3301,!1)}();return a}listen(c,a,f,b){const N=$h(a,"","","");return kr(this._getPlayer(c),f,N,b),()=>{}}command(c,a,f,b){if("register"==f)return void this.register(c,b[0]);if("create"==f)return void this.create(c,a,b[0]||{});const N=this._getPlayer(c);switch(f){case"play":N.play();break;case"pause":N.pause();break;case"reset":N.reset();break;case"restart":N.restart();break;case"finish":N.finish();break;case"init":N.init();break;case"setPosition":N.setPosition(parseFloat(b[0]));break;case"destroy":this.destroy(c)}}}const dd="ng-animate-queued",ah="ng-animate-disabled",hd=[],fd={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Qh={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Sc="__ng_removed";class ku{get params(){return this.options.params}constructor(c,a=""){this.namespaceId=a;const f=c&&c.hasOwnProperty("value");if(this.value=function Cm(u){return u??null}(f?c.value:c),f){const N=Zh(c);delete N.value,this.options=N}else this.options={};this.options.params||(this.options.params={})}absorbOptions(c){const a=c.params;if(a){const f=this.options.params;Object.keys(a).forEach(b=>{null==f[b]&&(f[b]=a[b])})}}}const Jh="void",bm=new ku(Jh);class wm{constructor(c,a,f){this.id=c,this.hostElement=a,this._engine=f,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+c,zc(a,this._hostClassName)}listen(c,a,f,b){if(!this._triggers.has(a))throw function Gd(u,c){return new h.vHH(3302,!1)}();if(null==f||0==f.length)throw function jc(u){return new h.vHH(3303,!1)}();if(!function ef(u){return"start"==u||"done"==u}(f))throw function Eu(u,c){return new h.vHH(3400,!1)}();const N=Is(this._elementListeners,c,[]),Y={name:a,phase:f,callback:b};N.push(Y);const he=Is(this._engine.statesByElement,c,new Map);return he.has(a)||(zc(c,$c),zc(c,$c+"-"+a),he.set(a,bm)),()=>{this._engine.afterFlush(()=>{const Ee=N.indexOf(Y);Ee>=0&&N.splice(Ee,1),this._triggers.has(a)||he.delete(a)})}}register(c,a){return!this._triggers.has(c)&&(this._triggers.set(c,a),!0)}_getTrigger(c){const a=this._triggers.get(c);if(!a)throw function om(u){return new h.vHH(3401,!1)}();return a}trigger(c,a,f,b=!0){const N=this._getTrigger(a),Y=new Xh(this.id,a,c);let he=this._engine.statesByElement.get(c);he||(zc(c,$c),zc(c,$c+"-"+a),this._engine.statesByElement.set(c,he=new Map));let Ee=he.get(a);const $e=new ku(f,this.id);if(!(f&&f.hasOwnProperty("value"))&&Ee&&$e.absorbOptions(Ee.options),he.set(a,$e),Ee||(Ee=bm),$e.value!==Jh&&Ee.value===$e.value){if(!function Bg(u,c){const a=Object.keys(u),f=Object.keys(c);if(a.length!=f.length)return!1;for(let b=0;b<a.length;b++){const N=a[b];if(!c.hasOwnProperty(N)||u[N]!==c[N])return!1}return!0}(Ee.params,$e.params)){const Zn=[],hr=N.matchStyles(Ee.value,Ee.params,Zn),ur=N.matchStyles($e.value,$e.params,Zn);Zn.length?this._engine.reportError(Zn):this._engine.afterFlush(()=>{Wl(c,hr),pc(c,ur)})}return}const xn=Is(this._engine.playersByElement,c,[]);xn.forEach(Zn=>{Zn.namespaceId==this.id&&Zn.triggerName==a&&Zn.queued&&Zn.destroy()});let gn=N.matchTransition(Ee.value,$e.value,c,$e.params),rn=!1;if(!gn){if(!b)return;gn=N.fallbackTransition,rn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:a,transition:gn,fromState:Ee,toState:$e,player:Y,isFallbackTransition:rn}),rn||(zc(c,dd),Y.onStart(()=>{pd(c,dd)})),Y.onDone(()=>{let Zn=this.players.indexOf(Y);Zn>=0&&this.players.splice(Zn,1);const hr=this._engine.playersByElement.get(c);if(hr){let ur=hr.indexOf(Y);ur>=0&&hr.splice(ur,1)}}),this.players.push(Y),xn.push(Y),Y}deregister(c){this._triggers.delete(c),this._engine.statesByElement.forEach(a=>a.delete(c)),this._elementListeners.forEach((a,f)=>{this._elementListeners.set(f,a.filter(b=>b.name!=c))})}clearElementCache(c){this._engine.statesByElement.delete(c),this._elementListeners.delete(c);const a=this._engine.playersByElement.get(c);a&&(a.forEach(f=>f.destroy()),this._engine.playersByElement.delete(c))}_signalRemovalForInnerTriggers(c,a){const f=this._engine.driver.query(c,Yd,!0);f.forEach(b=>{if(b[Sc])return;const N=this._engine.fetchNamespacesByElement(b);N.size?N.forEach(Y=>Y.triggerLeaveAnimation(b,a,!1,!0)):this.clearElementCache(b)}),this._engine.afterFlushAnimationsDone(()=>f.forEach(b=>this.clearElementCache(b)))}triggerLeaveAnimation(c,a,f,b){const N=this._engine.statesByElement.get(c),Y=new Map;if(N){const he=[];if(N.forEach((Ee,$e)=>{if(Y.set($e,Ee.value),this._triggers.has($e)){const Ot=this.trigger(c,$e,Jh,b);Ot&&he.push(Ot)}}),he.length)return this._engine.markElementAsRemoved(this.id,c,!0,a,Y),f&&zl(he).onDone(()=>this._engine.processLeaveNode(c)),!0}return!1}prepareLeaveAnimationListeners(c){const a=this._elementListeners.get(c),f=this._engine.statesByElement.get(c);if(a&&f){const b=new Set;a.forEach(N=>{const Y=N.name;if(b.has(Y))return;b.add(Y);const Ee=this._triggers.get(Y).fallbackTransition,$e=f.get(Y)||bm,Ot=new ku(Jh),Yt=new Xh(this.id,Y,c);this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:Y,transition:Ee,fromState:$e,toState:Ot,player:Yt,isFallbackTransition:!0})})}}removeNode(c,a){const f=this._engine;if(c.childElementCount&&this._signalRemovalForInnerTriggers(c,a),this.triggerLeaveAnimation(c,a,!0))return;let b=!1;if(f.totalAnimations){const N=f.players.length?f.playersByQueriedElement.get(c):[];if(N&&N.length)b=!0;else{let Y=c;for(;Y=Y.parentNode;)if(f.statesByElement.get(Y)){b=!0;break}}}if(this.prepareLeaveAnimationListeners(c),b)f.markElementAsRemoved(this.id,c,!1,a);else{const N=c[Sc];(!N||N===fd)&&(f.afterFlush(()=>this.clearElementCache(c)),f.destroyInnerAnimations(c),f._onRemovalComplete(c,a))}}insertNode(c,a){zc(c,this._hostClassName)}drainQueuedTransitions(c){const a=[];return this._queue.forEach(f=>{const b=f.player;if(b.destroyed)return;const N=f.element,Y=this._elementListeners.get(N);Y&&Y.forEach(he=>{if(he.name==f.triggerName){const Ee=$h(N,f.triggerName,f.fromState.value,f.toState.value);Ee._data=c,kr(f.player,he.phase,Ee,he.callback)}}),b.markedForDestroy?this._engine.afterFlush(()=>{b.destroy()}):a.push(f)}),this._queue=[],a.sort((f,b)=>{const N=f.transition.ast.depCount,Y=b.transition.ast.depCount;return 0==N||0==Y?N-Y:this._engine.driver.containsElement(f.element,b.element)?1:-1})}destroy(c){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,c)}elementContainsData(c){let a=!1;return this._elementListeners.has(c)&&(a=!0),a=!!this._queue.find(f=>f.element===c)||a,a}}class Em{_onRemovalComplete(c,a){this.onRemovalComplete(c,a)}constructor(c,a,f){this.bodyNode=c,this.driver=a,this._normalizer=f,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(b,N)=>{}}get queuedPlayers(){const c=[];return this._namespaceList.forEach(a=>{a.players.forEach(f=>{f.queued&&c.push(f)})}),c}createNamespace(c,a){const f=new wm(c,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(f,a):(this.newHostElements.set(a,f),this.collectEnterElement(a)),this._namespaceLookup[c]=f}_balanceNamespaceList(c,a){const f=this._namespaceList,b=this.namespacesByHostElement;if(f.length-1>=0){let Y=!1,he=this.driver.getParentElement(a);for(;he;){const Ee=b.get(he);if(Ee){const $e=f.indexOf(Ee);f.splice($e+1,0,c),Y=!0;break}he=this.driver.getParentElement(he)}Y||f.unshift(c)}else f.push(c);return b.set(a,c),c}register(c,a){let f=this._namespaceLookup[c];return f||(f=this.createNamespace(c,a)),f}registerTrigger(c,a,f){let b=this._namespaceLookup[c];b&&b.register(a,f)&&this.totalAnimations++}destroy(c,a){if(!c)return;const f=this._fetchNamespace(c);this.afterFlush(()=>{this.namespacesByHostElement.delete(f.hostElement),delete this._namespaceLookup[c];const b=this._namespaceList.indexOf(f);b>=0&&this._namespaceList.splice(b,1)}),this.afterFlushAnimationsDone(()=>f.destroy(a))}_fetchNamespace(c){return this._namespaceLookup[c]}fetchNamespacesByElement(c){const a=new Set,f=this.statesByElement.get(c);if(f)for(let b of f.values())if(b.namespaceId){const N=this._fetchNamespace(b.namespaceId);N&&a.add(N)}return a}trigger(c,a,f,b){if(up(a)){const N=this._fetchNamespace(c);if(N)return N.trigger(a,f,b),!0}return!1}insertNode(c,a,f,b){if(!up(a))return;const N=a[Sc];if(N&&N.setForRemoval){N.setForRemoval=!1,N.setForMove=!0;const Y=this.collectedLeaveElements.indexOf(a);Y>=0&&this.collectedLeaveElements.splice(Y,1)}if(c){const Y=this._fetchNamespace(c);Y&&Y.insertNode(a,f)}b&&this.collectEnterElement(a)}collectEnterElement(c){this.collectedEnterElements.push(c)}markElementAsDisabled(c,a){a?this.disabledNodes.has(c)||(this.disabledNodes.add(c),zc(c,ah)):this.disabledNodes.has(c)&&(this.disabledNodes.delete(c),pd(c,ah))}removeNode(c,a,f,b){if(up(a)){const N=c?this._fetchNamespace(c):null;if(N?N.removeNode(a,b):this.markElementAsRemoved(c,a,!1,b),f){const Y=this.namespacesByHostElement.get(a);Y&&Y.id!==c&&Y.removeNode(a,b)}}else this._onRemovalComplete(a,b)}markElementAsRemoved(c,a,f,b,N){this.collectedLeaveElements.push(a),a[Sc]={namespaceId:c,setForRemoval:b,hasAnimation:f,removedBeforeQueried:!1,previousTriggersValues:N}}listen(c,a,f,b,N){return up(a)?this._fetchNamespace(c).listen(a,f,b,N):()=>{}}_buildInstruction(c,a,f,b,N){return c.transition.build(this.driver,c.element,c.fromState.value,c.toState.value,f,b,c.fromState.options,c.toState.options,a,N)}destroyInnerAnimations(c){let a=this.driver.query(c,Yd,!0);a.forEach(f=>this.destroyActiveAnimationsForElement(f)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(c,ad,!0),a.forEach(f=>this.finishActiveQueriedAnimationOnElement(f)))}destroyActiveAnimationsForElement(c){const a=this.playersByElement.get(c);a&&a.forEach(f=>{f.queued?f.markedForDestroy=!0:f.destroy()})}finishActiveQueriedAnimationOnElement(c){const a=this.playersByQueriedElement.get(c);a&&a.forEach(f=>f.finish())}whenRenderingDone(){return new Promise(c=>{if(this.players.length)return zl(this.players).onDone(()=>c());c()})}processLeaveNode(c){const a=c[Sc];if(a&&a.setForRemoval){if(c[Sc]=fd,a.namespaceId){this.destroyInnerAnimations(c);const f=this._fetchNamespace(a.namespaceId);f&&f.clearElementCache(c)}this._onRemovalComplete(c,a.setForRemoval)}c.classList?.contains(ah)&&this.markElementAsDisabled(c,!1),this.driver.query(c,".ng-animate-disabled",!0).forEach(f=>{this.markElementAsDisabled(f,!1)})}flush(c=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((f,b)=>this._balanceNamespaceList(f,b)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let f=0;f<this.collectedEnterElements.length;f++)zc(this.collectedEnterElements[f],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const f=[];try{a=this._flushAnimations(f,c)}finally{for(let b=0;b<f.length;b++)f[b]()}}else for(let f=0;f<this.collectedLeaveElements.length;f++)this.processLeaveNode(this.collectedLeaveElements[f]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(f=>f()),this._flushFns=[],this._whenQuietFns.length){const f=this._whenQuietFns;this._whenQuietFns=[],a.length?zl(a).onDone(()=>{f.forEach(b=>b())}):f.forEach(b=>b())}}reportError(c){throw function $_(u){return new h.vHH(3402,!1)}()}_flushAnimations(c,a){const f=new nh,b=[],N=new Map,Y=[],he=new Map,Ee=new Map,$e=new Map,Ot=new Set;this.disabledNodes.forEach(Yn=>{Ot.add(Yn);const _r=this.driver.query(Yn,".ng-animate-queued",!0);for(let Tr=0;Tr<_r.length;Tr++)Ot.add(_r[Tr])});const Yt=this.bodyNode,xn=Array.from(this.statesByElement.keys()),gn=Im(xn,this.collectedEnterElements),rn=new Map;let Zn=0;gn.forEach((Yn,_r)=>{const Tr=Zf+Zn++;rn.set(_r,Tr),Yn.forEach(xi=>zc(xi,Tr))});const hr=[],ur=new Set,si=new Set;for(let Yn=0;Yn<this.collectedLeaveElements.length;Yn++){const _r=this.collectedLeaveElements[Yn],Tr=_r[Sc];Tr&&Tr.setForRemoval&&(hr.push(_r),ur.add(_r),Tr.hasAnimation?this.driver.query(_r,".ng-star-inserted",!0).forEach(xi=>ur.add(xi)):si.add(_r))}const ai=new Map,Br=Im(xn,Array.from(ur));Br.forEach((Yn,_r)=>{const Tr=Iu+Zn++;ai.set(_r,Tr),Yn.forEach(xi=>zc(xi,Tr))}),c.push(()=>{gn.forEach((Yn,_r)=>{const Tr=rn.get(_r);Yn.forEach(xi=>pd(xi,Tr))}),Br.forEach((Yn,_r)=>{const Tr=ai.get(_r);Yn.forEach(xi=>pd(xi,Tr))}),hr.forEach(Yn=>{this.processLeaveNode(Yn)})});const gc=[],oa=[];for(let Yn=this._namespaceList.length-1;Yn>=0;Yn--)this._namespaceList[Yn].drainQueuedTransitions(a).forEach(Tr=>{const xi=Tr.player,Vo=Tr.element;if(gc.push(xi),this.collectedEnterElements.length){const $a=Vo[Sc];if($a&&$a.setForMove){if($a.previousTriggersValues&&$a.previousTriggersValues.has(Tr.triggerName)){const vh=$a.previousTriggersValues.get(Tr.triggerName),Zc=this.statesByElement.get(Tr.element);if(Zc&&Zc.has(Tr.triggerName)){const Ed=Zc.get(Tr.triggerName);Ed.value=vh,Zc.set(Tr.triggerName,Ed)}}return void xi.destroy()}}const cl=!Yt||!this.driver.containsElement(Yt,Vo),ll=ai.get(Vo),wd=rn.get(Vo),ts=this._buildInstruction(Tr,f,wd,ll,cl);if(ts.errors&&ts.errors.length)return void oa.push(ts);if(cl)return xi.onStart(()=>Wl(Vo,ts.fromStyles)),xi.onDestroy(()=>pc(Vo,ts.toStyles)),void b.push(xi);if(Tr.isFallbackTransition)return xi.onStart(()=>Wl(Vo,ts.fromStyles)),xi.onDestroy(()=>pc(Vo,ts.toStyles)),void b.push(xi);const Wm=[];ts.timelines.forEach($a=>{$a.stretchStartingKeyframe=!0,this.disabledNodes.has($a.element)||Wm.push($a)}),ts.timelines=Wm,f.append(Vo,ts.timelines),Y.push({instruction:ts,player:xi,element:Vo}),ts.queriedElements.forEach($a=>Is(he,$a,[]).push(xi)),ts.preStyleProps.forEach(($a,vh)=>{if($a.size){let Zc=Ee.get(vh);Zc||Ee.set(vh,Zc=new Set),$a.forEach((Ed,y_)=>Zc.add(y_))}}),ts.postStyleProps.forEach(($a,vh)=>{let Zc=$e.get(vh);Zc||$e.set(vh,Zc=new Set),$a.forEach((Ed,y_)=>Zc.add(y_))})});if(oa.length){const Yn=[];oa.forEach(_r=>{Yn.push(function z_(u,c){return new h.vHH(3505,!1)}())}),gc.forEach(_r=>_r.destroy()),this.reportError(Yn)}const As=new Map,es=new Map;Y.forEach(Yn=>{const _r=Yn.element;f.has(_r)&&(es.set(_r,_r),this._beforeAnimationBuild(Yn.player.namespaceId,Yn.instruction,As))}),b.forEach(Yn=>{const _r=Yn.element;this._getPreviousPlayers(_r,!1,Yn.namespaceId,Yn.triggerName,null).forEach(xi=>{Is(As,_r,[]).push(xi),xi.destroy()})});const Ca=hr.filter(Yn=>Vg(Yn,Ee,$e)),Mc=new Map;Fg(Mc,this.driver,si,$e,Vc).forEach(Yn=>{Vg(Yn,Ee,$e)&&Ca.push(Yn)});const yf=new Map;gn.forEach((Yn,_r)=>{Fg(yf,this.driver,new Set(Yn),Ee,Uh)}),Ca.forEach(Yn=>{const _r=Mc.get(Yn),Tr=yf.get(Yn);Mc.set(Yn,new Map([...Array.from(_r?.entries()??[]),...Array.from(Tr?.entries()??[])]))});const bd=[],zm=[],Gm={};Y.forEach(Yn=>{const{element:_r,player:Tr,instruction:xi}=Yn;if(f.has(_r)){if(Ot.has(_r))return Tr.onDestroy(()=>pc(_r,xi.toStyles)),Tr.disabled=!0,Tr.overrideTotalTime(xi.totalTime),void b.push(Tr);let Vo=Gm;if(es.size>1){let ll=_r;const wd=[];for(;ll=ll.parentNode;){const ts=es.get(ll);if(ts){Vo=ts;break}wd.push(ll)}wd.forEach(ts=>es.set(ts,Vo))}const cl=this._buildAnimation(Tr.namespaceId,xi,As,N,yf,Mc);if(Tr.setRealPlayer(cl),Vo===Gm)bd.push(Tr);else{const ll=this.playersByElement.get(Vo);ll&&ll.length&&(Tr.parentPlayer=zl(ll)),b.push(Tr)}}else Wl(_r,xi.fromStyles),Tr.onDestroy(()=>pc(_r,xi.toStyles)),zm.push(Tr),Ot.has(_r)&&b.push(Tr)}),zm.forEach(Yn=>{const _r=N.get(Yn.element);if(_r&&_r.length){const Tr=zl(_r);Yn.setRealPlayer(Tr)}}),b.forEach(Yn=>{Yn.parentPlayer?Yn.syncPlayerEvents(Yn.parentPlayer):Yn.destroy()});for(let Yn=0;Yn<hr.length;Yn++){const _r=hr[Yn],Tr=_r[Sc];if(pd(_r,Iu),Tr&&Tr.hasAnimation)continue;let xi=[];if(he.size){let cl=he.get(_r);cl&&cl.length&&xi.push(...cl);let ll=this.driver.query(_r,ad,!0);for(let wd=0;wd<ll.length;wd++){let ts=he.get(ll[wd]);ts&&ts.length&&xi.push(...ts)}}const Vo=xi.filter(cl=>!cl.destroyed);Vo.length?Lg(this,_r,Vo):this.processLeaveNode(_r)}return hr.length=0,bd.forEach(Yn=>{this.players.push(Yn),Yn.onDone(()=>{Yn.destroy();const _r=this.players.indexOf(Yn);this.players.splice(_r,1)}),Yn.play()}),bd}elementContainsData(c,a){let f=!1;const b=a[Sc];return b&&b.setForRemoval&&(f=!0),this.playersByElement.has(a)&&(f=!0),this.playersByQueriedElement.has(a)&&(f=!0),this.statesByElement.has(a)&&(f=!0),this._fetchNamespace(c).elementContainsData(a)||f}afterFlush(c){this._flushFns.push(c)}afterFlushAnimationsDone(c){this._whenQuietFns.push(c)}_getPreviousPlayers(c,a,f,b,N){let Y=[];if(a){const he=this.playersByQueriedElement.get(c);he&&(Y=he)}else{const he=this.playersByElement.get(c);if(he){const Ee=!N||N==Jh;he.forEach($e=>{$e.queued||!Ee&&$e.triggerName!=b||Y.push($e)})}}return(f||b)&&(Y=Y.filter(he=>!(f&&f!=he.namespaceId||b&&b!=he.triggerName))),Y}_beforeAnimationBuild(c,a,f){const N=a.element,Y=a.isRemovalTransition?void 0:c,he=a.isRemovalTransition?void 0:a.triggerName;for(const Ee of a.timelines){const $e=Ee.element,Ot=$e!==N,Yt=Is(f,$e,[]);this._getPreviousPlayers($e,Ot,Y,he,a.toState).forEach(gn=>{const rn=gn.getRealPlayer();rn.beforeDestroy&&rn.beforeDestroy(),gn.destroy(),Yt.push(gn)})}Wl(N,a.fromStyles)}_buildAnimation(c,a,f,b,N,Y){const he=a.triggerName,Ee=a.element,$e=[],Ot=new Set,Yt=new Set,xn=a.timelines.map(rn=>{const Zn=rn.element;Ot.add(Zn);const hr=Zn[Sc];if(hr&&hr.removedBeforeQueried)return new Ja(rn.duration,rn.delay);const ur=Zn!==Ee,si=function Ug(u){const c=[];return hp(u,c),c}((f.get(Zn)||hd).map(As=>As.getRealPlayer())).filter(As=>!!As.element&&As.element===Zn),ai=N.get(Zn),Br=Y.get(Zn),gc=Cg(0,this._normalizer,0,rn.keyframes,ai,Br),oa=this._buildPlayer(rn,gc,si);if(rn.subTimeline&&b&&Yt.add(Zn),ur){const As=new Xh(c,he,Zn);As.setRealPlayer(oa),$e.push(As)}return oa});$e.forEach(rn=>{Is(this.playersByQueriedElement,rn.element,[]).push(rn),rn.onDone(()=>function lp(u,c,a){let f=u.get(c);if(f){if(f.length){const b=f.indexOf(a);f.splice(b,1)}0==f.length&&u.delete(c)}return f}(this.playersByQueriedElement,rn.element,rn))}),Ot.forEach(rn=>zc(rn,Gh));const gn=zl(xn);return gn.onDestroy(()=>{Ot.forEach(rn=>pd(rn,Gh)),pc(Ee,a.toStyles)}),Yt.forEach(rn=>{Is(b,rn,[]).push(gn)}),gn}_buildPlayer(c,a,f){return a.length>0?this.driver.animate(c.element,a,c.duration,c.delay,c.easing,f):new Ja(c.duration,c.delay)}}class Xh{constructor(c,a,f){this.namespaceId=c,this.triggerName=a,this.element=f,this._player=new Ja,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(c){this._containsRealPlayer||(this._player=c,this._queuedCallbacks.forEach((a,f)=>{a.forEach(b=>kr(c,f,void 0,b))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(c.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(c){this.totalTime=c}syncPlayerEvents(c){const a=this._player;a.triggerCallback&&c.onStart(()=>a.triggerCallback("start")),c.onDone(()=>this.finish()),c.onDestroy(()=>this.destroy())}_queueEvent(c,a){Is(this._queuedCallbacks,c,[]).push(a)}onDone(c){this.queued&&this._queueEvent("done",c),this._player.onDone(c)}onStart(c){this.queued&&this._queueEvent("start",c),this._player.onStart(c)}onDestroy(c){this.queued&&this._queueEvent("destroy",c),this._player.onDestroy(c)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(c){this.queued||this._player.setPosition(c)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(c){const a=this._player;a.triggerCallback&&a.triggerCallback(c)}}function up(u){return u&&1===u.nodeType}function dp(u,c){const a=u.style.display;return u.style.display=c??"none",a}function Fg(u,c,a,f,b){const N=[];a.forEach(Ee=>N.push(dp(Ee)));const Y=[];f.forEach((Ee,$e)=>{const Ot=new Map;Ee.forEach(Yt=>{const xn=c.computeStyle($e,Yt,b);Ot.set(Yt,xn),(!xn||0==xn.length)&&($e[Sc]=Qh,Y.push($e))}),u.set($e,Ot)});let he=0;return a.forEach(Ee=>dp(Ee,N[he++])),Y}function Im(u,c){const a=new Map;if(u.forEach(he=>a.set(he,[])),0==c.length)return a;const f=1,b=new Set(c),N=new Map;function Y(he){if(!he)return f;let Ee=N.get(he);if(Ee)return Ee;const $e=he.parentNode;return Ee=a.has($e)?$e:b.has($e)?f:Y($e),N.set(he,Ee),Ee}return c.forEach(he=>{const Ee=Y(he);Ee!==f&&a.get(Ee).push(he)}),a}function zc(u,c){u.classList?.add(c)}function pd(u,c){u.classList?.remove(c)}function Lg(u,c,a){zl(a).onDone(()=>u.processLeaveNode(c))}function hp(u,c){for(let a=0;a<u.length;a++){const f=u[a];f instanceof $l?hp(f.players,c):c.push(f)}}function Vg(u,c,a){const f=a.get(u);if(!f)return!1;let b=c.get(u);return b?f.forEach(N=>b.add(N)):c.set(u,f),a.delete(u),!0}class Dm{constructor(c,a,f){this.bodyNode=c,this._driver=a,this._normalizer=f,this._triggerCache={},this.onRemovalComplete=(b,N)=>{},this._transitionEngine=new Em(c,a,f),this._timelineEngine=new sh(c,a,f),this._transitionEngine.onRemovalComplete=(b,N)=>this.onRemovalComplete(b,N)}registerTrigger(c,a,f,b,N){const Y=c+"-"+b;let he=this._triggerCache[Y];if(!he){const Ee=[],$e=[],Ot=ja(this._driver,N,Ee,$e);if(Ee.length)throw function V_(u,c){return new h.vHH(3404,!1)}();he=function kg(u,c,a){return new sp(u,c,a)}(b,Ot,this._normalizer),this._triggerCache[Y]=he}this._transitionEngine.registerTrigger(a,b,he)}register(c,a){this._transitionEngine.register(c,a)}destroy(c,a){this._transitionEngine.destroy(c,a)}onInsert(c,a,f,b){this._transitionEngine.insertNode(c,a,f,b)}onRemove(c,a,f,b){this._transitionEngine.removeNode(c,a,b||!1,f)}disableAnimations(c,a){this._transitionEngine.markElementAsDisabled(c,a)}process(c,a,f,b){if("@"==f.charAt(0)){const[N,Y]=qd(f);this._timelineEngine.command(N,a,Y,b)}else this._transitionEngine.trigger(c,a,f,b)}listen(c,a,f,b,N){if("@"==f.charAt(0)){const[Y,he]=qd(f);return this._timelineEngine.listen(Y,a,he,N)}return this._transitionEngine.listen(c,a,f,b,N)}flush(c=-1){this._transitionEngine.flush(c)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let $g=(()=>{class u{constructor(a,f,b){this._element=a,this._startStyles=f,this._endStyles=b,this._state=0;let N=u.initialStylesByElement.get(a);N||u.initialStylesByElement.set(a,N=new Map),this._initialStyles=N}start(){this._state<1&&(this._startStyles&&pc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(pc(this._element,this._initialStyles),this._endStyles&&(pc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(u.initialStylesByElement.delete(this._element),this._startStyles&&(Wl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Wl(this._element,this._endStyles),this._endStyles=null),pc(this._element,this._initialStyles),this._state=3)}}return u.initialStylesByElement=new WeakMap,u})();function Fu(u){let c=null;return u.forEach((a,f)=>{(function Tm(u){return"display"===u||"position"===u})(f)&&(c=c||new Map,c.set(f,a))}),c}class Hg{constructor(c,a,f,b){this.element=c,this.keyframes=a,this.options=f,this._specialStyles=b,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=f.duration,this._delay=f.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const c=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,c,this.options),this._finalKeyframe=c.length?c[c.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(c){const a=[];return c.forEach(f=>{a.push(Object.fromEntries(f))}),a}_triggerWebAnimation(c,a,f){return c.animate(this._convertKeyframesToObject(a),f)}onStart(c){this._originalOnStartFns.push(c),this._onStartFns.push(c)}onDone(c){this._originalOnDoneFns.push(c),this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(c=>c()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}setPosition(c){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=c*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const c=new Map;this.hasStarted()&&this._finalKeyframe.forEach((f,b)=>{"offset"!==b&&c.set(b,this._finished?f:Zl(this.element,b))}),this.currentSnapshot=c}triggerCallback(c){const a="start"===c?this._onStartFns:this._onDoneFns;a.forEach(f=>f()),a.length=0}}class tf{validateStyleProperty(c){return!0}validateAnimatableStyleProperty(c){return!0}matchesElement(c,a){return!1}containsElement(c,a){return Gf(c,a)}getParentElement(c){return Hh(c)}query(c,a,f){return Kd(c,a,f)}computeStyle(c,a,f){return window.getComputedStyle(c)[a]}animate(c,a,f,b,N,Y=[]){const Ee={duration:f,delay:b,fill:0==b?"both":"forwards"};N&&(Ee.easing=N);const $e=new Map,Ot=Y.filter(gn=>gn instanceof Hg);(function Qd(u,c){return 0===u||0===c})(f,b)&&Ot.forEach(gn=>{gn.currentSnapshot.forEach((rn,Zn)=>$e.set(Zn,rn))});let Yt=function q_(u){return u.length?u[0]instanceof Map?u:u.map(c=>cm(c)):[]}(a).map(gn=>Du(gn));Yt=function ql(u,c,a){if(a.size&&c.length){let f=c[0],b=[];if(a.forEach((N,Y)=>{f.has(Y)||b.push(Y),f.set(Y,N)}),b.length)for(let N=1;N<c.length;N++){let Y=c[N];b.forEach(he=>Y.set(he,Zl(u,he)))}}return c}(c,Yt,$e);const xn=function jg(u,c){let a=null,f=null;return Array.isArray(c)&&c.length?(a=Fu(c[0]),c.length>1&&(f=Fu(c[c.length-1]))):c instanceof Map&&(a=Fu(c)),a||f?new $g(u,a,f):null}(c,Yt);return new Hg(c,Yt,Ee,xn)}}let ny=(()=>{class u extends Yp{constructor(a,f){super(),this._nextAnimationId=0,this._renderer=a.createRenderer(f.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(a){const f=this._nextAnimationId.toString();this._nextAnimationId++;const b=Array.isArray(a)?Jp(a):a;return js(this._renderer,null,f,"register",[b]),new Gc(f,this._renderer)}}return u.\u0275fac=function(a){return new(a||u)(h.LFG(h.FYo),h.LFG(j.K0))},u.\u0275prov=h.Yz7({token:u,factory:u.\u0275fac}),u})();class Gc extends Qp{constructor(c,a){super(),this._id=c,this._renderer=a}create(c,a){return new lh(this._id,c,a||{},this._renderer)}}class lh{constructor(c,a,f,b){this.id=c,this.element=a,this._renderer=b,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",f)}_listen(c,a){return this._renderer.listen(this.element,`@@${this.id}:${c}`,a)}_command(c,...a){return js(this._renderer,this.element,this.id,c,a)}onDone(c){this._listen("done",c)}onStart(c){this._listen("start",c)}onDestroy(c){this._listen("destroy",c)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(c){this._command("setPosition",c)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function js(u,c,a,f,b){return u.setProperty(c,`@@${a}:${f}`,b)}const nf="@.disabled";let mc=(()=>{class u{constructor(a,f,b){this.delegate=a,this.engine=f,this._zone=b,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),f.onRemovalComplete=(N,Y)=>{const he=Y?.parentNode(N);he&&Y.removeChild(he,N)}}createRenderer(a,f){const N=this.delegate.createRenderer(a,f);if(!(a&&f&&f.data&&f.data.animation)){let Ot=this._rendererCache.get(N);return Ot||(Ot=new fp("",N,this.engine,()=>this._rendererCache.delete(N)),this._rendererCache.set(N,Ot)),Ot}const Y=f.id,he=f.id+"-"+this._currentId;this._currentId++,this.engine.register(he,a);const Ee=Ot=>{Array.isArray(Ot)?Ot.forEach(Ee):this.engine.registerTrigger(Y,he,a,Ot.name,Ot)};return f.data.animation.forEach(Ee),new Lu(this,he,N,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(a,f,b){a>=0&&a<this._microtaskId?this._zone.run(()=>f(b)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(N=>{const[Y,he]=N;Y(he)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([f,b]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return u.\u0275fac=function(a){return new(a||u)(h.LFG(h.FYo),h.LFG(Dm),h.LFG(h.R0b))},u.\u0275prov=h.Yz7({token:u,factory:u.\u0275fac}),u})();class fp{constructor(c,a,f,b){this.namespaceId=c,this.delegate=a,this.engine=f,this._onDestroy=b,this.destroyNode=this.delegate.destroyNode?N=>a.destroyNode(N):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(c,a){return this.delegate.createElement(c,a)}createComment(c){return this.delegate.createComment(c)}createText(c){return this.delegate.createText(c)}appendChild(c,a){this.delegate.appendChild(c,a),this.engine.onInsert(this.namespaceId,a,c,!1)}insertBefore(c,a,f,b=!0){this.delegate.insertBefore(c,a,f),this.engine.onInsert(this.namespaceId,a,c,b)}removeChild(c,a,f){this.engine.onRemove(this.namespaceId,a,this.delegate,f)}selectRootElement(c,a){return this.delegate.selectRootElement(c,a)}parentNode(c){return this.delegate.parentNode(c)}nextSibling(c){return this.delegate.nextSibling(c)}setAttribute(c,a,f,b){this.delegate.setAttribute(c,a,f,b)}removeAttribute(c,a,f){this.delegate.removeAttribute(c,a,f)}addClass(c,a){this.delegate.addClass(c,a)}removeClass(c,a){this.delegate.removeClass(c,a)}setStyle(c,a,f,b){this.delegate.setStyle(c,a,f,b)}removeStyle(c,a,f){this.delegate.removeStyle(c,a,f)}setProperty(c,a,f){"@"==a.charAt(0)&&a==nf?this.disableAnimations(c,!!f):this.delegate.setProperty(c,a,f)}setValue(c,a){this.delegate.setValue(c,a)}listen(c,a,f){return this.delegate.listen(c,a,f)}disableAnimations(c,a){this.engine.disableAnimations(c,a)}}class Lu extends fp{constructor(c,a,f,b,N){super(a,f,b,N),this.factory=c,this.namespaceId=a}setProperty(c,a,f){"@"==a.charAt(0)?"."==a.charAt(1)&&a==nf?this.disableAnimations(c,f=void 0===f||!!f):this.engine.process(this.namespaceId,c,a.slice(1),f):this.delegate.setProperty(c,a,f)}listen(c,a,f){if("@"==a.charAt(0)){const b=function uh(u){switch(u){case"body":return document.body;case"document":return document;case"window":return window;default:return u}}(c);let N=a.slice(1),Y="";return"@"!=N.charAt(0)&&([N,Y]=function Uu(u){const c=u.indexOf(".");return[u.substring(0,c),u.slice(c+1)]}(N)),this.engine.listen(this.namespaceId,b,N,Y,he=>{this.factory.scheduleListenerCallback(he._data||-1,f,he)})}return this.delegate.listen(c,a,f)}}const Ql=[{provide:Yp,useClass:ny},{provide:Ou,useFactory:function Bu(){return new Yl}},{provide:Dm,useClass:(()=>{class u extends Dm{constructor(a,f,b,N){super(a.body,f,b)}ngOnDestroy(){this.flush()}}return u.\u0275fac=function(a){return new(a||u)(h.LFG(j.K0),h.LFG(zh),h.LFG(Ou),h.LFG(h.z2F))},u.\u0275prov=h.Yz7({token:u,factory:u.\u0275fac}),u})()},{provide:h.FYo,useFactory:function Vu(u,c,a){return new mc(u,c,a)},deps:[w.se,Dm,h.R0b]}],xc=[{provide:zh,useFactory:()=>new tf},{provide:h.QbO,useValue:"BrowserAnimations"},...Ql],ju=[{provide:zh,useClass:Wf},{provide:h.QbO,useValue:"NoopAnimations"},...Ql];let pp=(()=>{class u{static withConfig(a){return{ngModule:u,providers:a.disableAnimations?ju:xc}}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=h.oAB({type:u}),u.\u0275inj=h.cJS({providers:xc,imports:[w.b2]}),u})();var Xl=U(2327),zg=U(3353);const mp=["*",[["mat-toolbar-row"]]],Gg=["*","mat-toolbar-row"],Wg=(0,Xl.pj)(class{constructor(u){this._elementRef=u}});let Sm=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275dir=h.lG2({type:u,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),u})(),iy=(()=>{class u extends Wg{constructor(a,f,b){super(a),this._platform=f,this._document=b}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return u.\u0275fac=function(a){return new(a||u)(h.Y36(h.SBq),h.Y36(zg.t4),h.Y36(j.K0))},u.\u0275cmp=h.Xpm({type:u,selectors:[["mat-toolbar"]],contentQueries:function(a,f,b){if(1&a&&h.Suo(b,Sm,5),2&a){let N;h.iGM(N=h.CRH())&&(f._toolbarRows=N)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(a,f){2&a&&h.ekj("mat-toolbar-multiple-rows",f._toolbarRows.length>0)("mat-toolbar-single-row",0===f._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[h.qOj],ngContentSelectors:Gg,decls:2,vars:0,template:function(a,f){1&a&&(h.F$t(mp),h.Hsn(0),h.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),u})(),oy=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=h.oAB({type:u}),u.\u0275inj=h.cJS({imports:[Xl.BQ,Xl.BQ]}),u})();var gp=U(1281),Mm=U(2843),rf=U(727),_p=U(8505),hh=U(262),sf=U(8746),Rm=U(3099),sy=U(5698);const fh=["*"];let md;function $u(u){return function yp(){if(void 0===md&&(md=null,typeof window<"u")){const u=window;void 0!==u.trustedTypes&&(md=u.trustedTypes.createPolicy("angular#components",{createHTML:c=>c}))}return md}()?.createHTML(u)||u}function ph(u){return Error(`Unable to find icon with the name "${u}"`)}function gd(u){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${u}".`)}function vp(u){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${u}".`)}class Dl{constructor(c,a,f){this.url=c,this.svgText=a,this.options=f}}let af=(()=>{class u{constructor(a,f,b,N){this._httpClient=a,this._sanitizer=f,this._errorHandler=N,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=b}addSvgIcon(a,f,b){return this.addSvgIconInNamespace("",a,f,b)}addSvgIconLiteral(a,f,b){return this.addSvgIconLiteralInNamespace("",a,f,b)}addSvgIconInNamespace(a,f,b,N){return this._addSvgIconConfig(a,f,new Dl(b,null,N))}addSvgIconResolver(a){return this._resolvers.push(a),this}addSvgIconLiteralInNamespace(a,f,b,N){const Y=this._sanitizer.sanitize(h.q3G.HTML,b);if(!Y)throw vp(b);const he=$u(Y);return this._addSvgIconConfig(a,f,new Dl("",he,N))}addSvgIconSet(a,f){return this.addSvgIconSetInNamespace("",a,f)}addSvgIconSetLiteral(a,f){return this.addSvgIconSetLiteralInNamespace("",a,f)}addSvgIconSetInNamespace(a,f,b){return this._addSvgIconSetConfig(a,new Dl(f,null,b))}addSvgIconSetLiteralInNamespace(a,f,b){const N=this._sanitizer.sanitize(h.q3G.HTML,f);if(!N)throw vp(f);const Y=$u(N);return this._addSvgIconSetConfig(a,new Dl("",Y,b))}registerFontClassAlias(a,f=a){return this._fontCssClassesByAlias.set(a,f),this}classNameForFontAlias(a){return this._fontCssClassesByAlias.get(a)||a}setDefaultFontSetClass(...a){return this._defaultFontSetClass=a,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(a){const f=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,a);if(!f)throw gd(a);const b=this._cachedIconsByUrl.get(f);return b?(0,ye.of)(Hu(b)):this._loadSvgIconFromConfig(new Dl(a,null)).pipe((0,_p.b)(N=>this._cachedIconsByUrl.set(f,N)),(0,me.U)(N=>Hu(N)))}getNamedSvgIcon(a,f=""){const b=Pm(f,a);let N=this._svgIconConfigs.get(b);if(N)return this._getSvgFromConfig(N);if(N=this._getIconConfigFromResolvers(f,a),N)return this._svgIconConfigs.set(b,N),this._getSvgFromConfig(N);const Y=this._iconSetConfigs.get(f);return Y?this._getSvgFromIconSetConfigs(a,Y):(0,Mm._)(ph(b))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(a){return a.svgText?(0,ye.of)(Hu(this._svgElementFromConfig(a))):this._loadSvgIconFromConfig(a).pipe((0,me.U)(f=>Hu(f)))}_getSvgFromIconSetConfigs(a,f){const b=this._extractIconWithNameFromAnySet(a,f);return b?(0,ye.of)(b):oe(f.filter(Y=>!Y.svgText).map(Y=>this._loadSvgIconSetFromConfig(Y).pipe((0,hh.K)(he=>{const $e=`Loading icon set URL: ${this._sanitizer.sanitize(h.q3G.RESOURCE_URL,Y.url)} failed: ${he.message}`;return this._errorHandler.handleError(new Error($e)),(0,ye.of)(null)})))).pipe((0,me.U)(()=>{const Y=this._extractIconWithNameFromAnySet(a,f);if(!Y)throw ph(a);return Y}))}_extractIconWithNameFromAnySet(a,f){for(let b=f.length-1;b>=0;b--){const N=f[b];if(N.svgText&&N.svgText.toString().indexOf(a)>-1){const Y=this._svgElementFromConfig(N),he=this._extractSvgIconFromSet(Y,a,N.options);if(he)return he}}return null}_loadSvgIconFromConfig(a){return this._fetchIcon(a).pipe((0,_p.b)(f=>a.svgText=f),(0,me.U)(()=>this._svgElementFromConfig(a)))}_loadSvgIconSetFromConfig(a){return a.svgText?(0,ye.of)(null):this._fetchIcon(a).pipe((0,_p.b)(f=>a.svgText=f))}_extractSvgIconFromSet(a,f,b){const N=a.querySelector(`[id="${f}"]`);if(!N)return null;const Y=N.cloneNode(!0);if(Y.removeAttribute("id"),"svg"===Y.nodeName.toLowerCase())return this._setSvgAttributes(Y,b);if("symbol"===Y.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Y),b);const he=this._svgElementFromString($u("<svg></svg>"));return he.appendChild(Y),this._setSvgAttributes(he,b)}_svgElementFromString(a){const f=this._document.createElement("DIV");f.innerHTML=a;const b=f.querySelector("svg");if(!b)throw Error("<svg> tag not found");return b}_toSvgElement(a){const f=this._svgElementFromString($u("<svg></svg>")),b=a.attributes;for(let N=0;N<b.length;N++){const{name:Y,value:he}=b[N];"id"!==Y&&f.setAttribute(Y,he)}for(let N=0;N<a.childNodes.length;N++)a.childNodes[N].nodeType===this._document.ELEMENT_NODE&&f.appendChild(a.childNodes[N].cloneNode(!0));return f}_setSvgAttributes(a,f){return a.setAttribute("fit",""),a.setAttribute("height","100%"),a.setAttribute("width","100%"),a.setAttribute("preserveAspectRatio","xMidYMid meet"),a.setAttribute("focusable","false"),f&&f.viewBox&&a.setAttribute("viewBox",f.viewBox),a}_fetchIcon(a){const{url:f,options:b}=a,N=b?.withCredentials??!1;if(!this._httpClient)throw function qg(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==f)throw Error(`Cannot fetch icon from URL "${f}".`);const Y=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,f);if(!Y)throw gd(f);const he=this._inProgressUrlFetches.get(Y);if(he)return he;const Ee=this._httpClient.get(Y,{responseType:"text",withCredentials:N}).pipe((0,me.U)($e=>$u($e)),(0,sf.x)(()=>this._inProgressUrlFetches.delete(Y)),(0,Rm.B)());return this._inProgressUrlFetches.set(Y,Ee),Ee}_addSvgIconConfig(a,f,b){return this._svgIconConfigs.set(Pm(a,f),b),this}_addSvgIconSetConfig(a,f){const b=this._iconSetConfigs.get(a);return b?b.push(f):this._iconSetConfigs.set(a,[f]),this}_svgElementFromConfig(a){if(!a.svgElement){const f=this._svgElementFromString(a.svgText);this._setSvgAttributes(f,a.options),a.svgElement=f}return a.svgElement}_getIconConfigFromResolvers(a,f){for(let b=0;b<this._resolvers.length;b++){const N=this._resolvers[b](f,a);if(N)return ay(N)?new Dl(N.url,null,N.options):new Dl(N,null)}}}return u.\u0275fac=function(a){return new(a||u)(h.LFG(Je,8),h.LFG(w.H7),h.LFG(j.K0,8),h.LFG(h.qLn))},u.\u0275prov=h.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();function Hu(u){return u.cloneNode(!0)}function Pm(u,c){return u+":"+c}function ay(u){return!(!u.url||!u.options)}const Kg=(0,Xl.pj)(class{constructor(u){this._elementRef=u}}),Yg=new h.OlP("MAT_ICON_DEFAULT_OPTIONS"),mh=new h.OlP("mat-icon-location",{providedIn:"root",factory:function cf(){const u=(0,h.f3M)(j.K0),c=u?u.location:null;return{getPathname:()=>c?c.pathname+c.search:""}}}),lf=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],bp=lf.map(u=>`[${u}]`).join(", "),Om=/^url\(['"]?#(.*?)['"]?\)$/;let wp=(()=>{class u extends Kg{get inline(){return this._inline}set inline(a){this._inline=(0,gp.Ig)(a)}get svgIcon(){return this._svgIcon}set svgIcon(a){a!==this._svgIcon&&(a?this._updateSvgIcon(a):this._svgIcon&&this._clearSvgElement(),this._svgIcon=a)}get fontSet(){return this._fontSet}set fontSet(a){const f=this._cleanupFontValue(a);f!==this._fontSet&&(this._fontSet=f,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(a){const f=this._cleanupFontValue(a);f!==this._fontIcon&&(this._fontIcon=f,this._updateFontIconClasses())}constructor(a,f,b,N,Y,he){super(a),this._iconRegistry=f,this._location=N,this._errorHandler=Y,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=rf.w0.EMPTY,he&&(he.color&&(this.color=this.defaultColor=he.color),he.fontSet&&(this.fontSet=he.fontSet)),b||a.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(a){if(!a)return["",""];const f=a.split(":");switch(f.length){case 1:return["",f[0]];case 2:return f;default:throw Error(`Invalid icon name: "${a}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const a=this._elementsWithExternalReferences;if(a&&a.size){const f=this._location.getPathname();f!==this._previousPath&&(this._previousPath=f,this._prependPathToReferences(f))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(a){this._clearSvgElement();const f=this._location.getPathname();this._previousPath=f,this._cacheChildrenWithExternalReferences(a),this._prependPathToReferences(f),this._elementRef.nativeElement.appendChild(a)}_clearSvgElement(){const a=this._elementRef.nativeElement;let f=a.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();f--;){const b=a.childNodes[f];(1!==b.nodeType||"svg"===b.nodeName.toLowerCase())&&b.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const a=this._elementRef.nativeElement,f=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(b=>b.length>0);this._previousFontSetClass.forEach(b=>a.classList.remove(b)),f.forEach(b=>a.classList.add(b)),this._previousFontSetClass=f,this.fontIcon!==this._previousFontIconClass&&!f.includes("mat-ligature-font")&&(this._previousFontIconClass&&a.classList.remove(this._previousFontIconClass),this.fontIcon&&a.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(a){return"string"==typeof a?a.trim().split(" ")[0]:a}_prependPathToReferences(a){const f=this._elementsWithExternalReferences;f&&f.forEach((b,N)=>{b.forEach(Y=>{N.setAttribute(Y.name,`url('${a}#${Y.value}')`)})})}_cacheChildrenWithExternalReferences(a){const f=a.querySelectorAll(bp),b=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let N=0;N<f.length;N++)lf.forEach(Y=>{const he=f[N],Ee=he.getAttribute(Y),$e=Ee?Ee.match(Om):null;if($e){let Ot=b.get(he);Ot||(Ot=[],b.set(he,Ot)),Ot.push({name:Y,value:$e[1]})}})}_updateSvgIcon(a){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),a){const[f,b]=this._splitIconName(a);f&&(this._svgNamespace=f),b&&(this._svgName=b),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(b,f).pipe((0,sy.q)(1)).subscribe(N=>this._setSvgElement(N),N=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${f}:${b}! ${N.message}`))})}}}return u.\u0275fac=function(a){return new(a||u)(h.Y36(h.SBq),h.Y36(af),h.$8M("aria-hidden"),h.Y36(mh),h.Y36(h.qLn),h.Y36(Yg,8))},u.\u0275cmp=h.Xpm({type:u,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(a,f){2&a&&(h.uIk("data-mat-icon-type",f._usingFontIcon()?"font":"svg")("data-mat-icon-name",f._svgName||f.fontIcon)("data-mat-icon-namespace",f._svgNamespace||f.fontSet)("fontIcon",f._usingFontIcon()?f.fontIcon:null),h.ekj("mat-icon-inline",f.inline)("mat-icon-no-color","primary"!==f.color&&"accent"!==f.color&&"warn"!==f.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[h.qOj],ngContentSelectors:fh,decls:1,vars:0,template:function(a,f){1&a&&(h.F$t(),h.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),u})(),Ep=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=h.oAB({type:u}),u.\u0275inj=h.cJS({imports:[Xl.BQ,Xl.BQ]}),u})();var uf=U(1205),Cp=U(7977),zu=U(3692);const Gu={firebase:{projectId:"clinicaonlinelaboiv",appId:"1:1029818144538:web:3a21a1e87637bb9c4efea3",storageBucket:"clinicaonlinelaboiv.appspot.com",locationId:"us-central",apiKey:"AIzaSyChy7usJYpjlBmFmaScMLb-7Xnkdu4ghqQ",authDomain:"clinicaonlinelaboiv.firebaseapp.com",messagingSenderId:"1029818144538"}};var Wc=U(7246),Ip=U(259),Qg=U(2810);class Tl{constructor(c){return c}}const Al="firestore",df=new h.OlP("angularfire2.firestore-instances");function qy(u){return(c,a)=>{const f=c.runOutsideAngular(()=>u(a));return new Tl(f)}}const Jg={provide:class Nm{constructor(){return(0,Wr.vb)(Al)}},deps:[[new h.FiY,df]]},ly={provide:Tl,useFactory:function cy(u,c){const a=(0,Wr.JM)(Al,u,c);return a&&new Tl(a)},deps:[[new h.FiY,df],zu.Ot]};let Xg=(()=>{class u{constructor(){(0,Ip.KN)("angularfire",Wr.q4.full,"fst")}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=h.oAB({type:u}),u.\u0275inj=h.cJS({providers:[ly,Jg]}),u})();function uy(u,...c){return{ngModule:Xg,providers:[{provide:df,useFactory:qy(u),multi:!0,deps:[h.R0b,h.zs3,Wr.HU,zu.z6,[new h.FiY,Wc.dh],[new h.FiY,bl.nm],...c]}]}}const Fm=(0,Wr.u3)(Qg.ad,!0);class xp{constructor(c){return c}}const Mp="storage",Vm=new h.OlP("angularfire2.storage-instances");function $m(u){return(c,a)=>{const f=c.runOutsideAngular(()=>u(a));return new xp(f)}}const c_={provide:class Dy{constructor(){return(0,Wr.vb)(Mp)}},deps:[[new h.FiY,Vm]]},vd={provide:xp,useFactory:function jm(u,c){const a=(0,Wr.JM)(Mp,u,c);return a&&new xp(a)},deps:[[new h.FiY,Vm],zu.Ot]};let l_=(()=>{class u{constructor(){(0,Ip.KN)("angularfire",Wr.q4.full,"gcs")}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=h.oAB({type:u}),u.\u0275inj=h.cJS({providers:[vd,c_]}),u})();function u_(u,...c){return{ngModule:l_,providers:[{provide:Vm,useFactory:$m(u),multi:!0,deps:[h.R0b,h.zs3,Wr.HU,zu.z6,[new h.FiY,Wc.dh],[new h.FiY,bl.nm],...c]}]}}const mf=(0,Wr.u3)(Od,!0);function p_(u,c){1&u&&(h.TgZ(0,"div")(1,"a",5),h._uU(2," Home "),h.qZA(),h.TgZ(3,"a",6),h._uU(4," Qui\xe9n soy "),h.qZA(),h.TgZ(5,"a",7),h._uU(6," Registro "),h.qZA(),h.TgZ(7,"a",8),h._uU(8," Login "),h.qZA()())}function m_(u,c){1&u&&(h.TgZ(0,"a",14),h._uU(1," Mis turnos "),h.qZA())}function g_(u,c){1&u&&(h.TgZ(0,"a",15),h._uU(1," Solicitar turno "),h.qZA())}function _f(u,c){1&u&&(h.TgZ(0,"a",14),h._uU(1," Turnos "),h.qZA())}function iv(u,c){1&u&&(h.TgZ(0,"a",16),h._uU(1," Usuarios "),h.qZA())}function Er(u,c){if(1&u){const a=h.EpF();h.TgZ(0,"a",5),h._uU(1," Home "),h.qZA(),h.YNc(2,m_,2,0,"a",9),h.YNc(3,g_,2,0,"a",10),h.YNc(4,_f,2,0,"a",9),h.YNc(5,iv,2,0,"a",11),h.TgZ(6,"a",6),h._uU(7," Qui\xe9n soy "),h.qZA(),h.TgZ(8,"a",12),h._uU(9," Mi perfil "),h.qZA(),h.TgZ(10,"a",13),h.NdJ("click",function(){h.CHM(a);const b=h.oxw();return h.KtG(b.userService.logout())}),h._uU(11," Logout "),h.qZA()}if(2&u){const a=h.oxw();h.xp6(2),h.Q6J("ngIf","paciente"==a.userService.getCurrentProfile()||"especialista"==a.userService.getCurrentProfile()),h.xp6(1),h.Q6J("ngIf","paciente"==a.userService.getCurrentProfile()||"admin"==a.userService.getCurrentProfile()),h.xp6(1),h.Q6J("ngIf","admin"==a.userService.getCurrentProfile()),h.xp6(1),h.Q6J("ngIf","admin"==a.userService.getCurrentProfile())}}let Np=(()=>{class u{constructor(a,f){this.router=a,this.userService=f,this.user={},this.profile=""}}return u.\u0275fac=function(a){return new(a||u)(h.Y36(ha.F0),h.Y36(Pa.K))},u.\u0275cmp=h.Xpm({type:u,selectors:[["app-navbar"]],decls:10,vars:2,consts:[["color","primary",1,"mat-elevation-z8"],["routerLink","home"],[1,"spacer"],[4,"ngIf","ngIfElse"],["logout",""],["mat-button","","routerLink","home"],["mat-button","","routerLink","quiensoy"],["mat-button","","routerLink","registro"],["mat-raised-button","","color","accent","routerLink","login"],["mat-button","","routerLink","turnos/misturnos",4,"ngIf"],["mat-button","","routerLink","turnos/solicitarturno",4,"ngIf"],["mat-button","","routerLink","usuarios",4,"ngIf"],["mat-button","","routerLink","perfil"],["mat-raised-button","","color","accent","routerLink","login",3,"click"],["mat-button","","routerLink","turnos/misturnos"],["mat-button","","routerLink","turnos/solicitarturno"],["mat-button","","routerLink","usuarios"]],template:function(a,f){if(1&a&&(h.TgZ(0,"mat-toolbar",0)(1,"span")(2,"a",1)(3,"mat-icon"),h._uU(4,"local_hospital"),h.qZA()(),h._uU(5," Cl\xednica Online "),h.qZA(),h._UZ(6,"div",2),h.YNc(7,p_,9,0,"div",3),h.YNc(8,Er,12,4,"ng-template",null,4,h.W1O),h.qZA()),2&a){const b=h.MAs(9);h.xp6(7),h.Q6J("ngIf",!f.userService.isLoggedIn)("ngIfElse",b)}},dependencies:[j.O5,ha.rH,iy,hg.zs,wp],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]{opacity:87%}.mat-toolbar[_ngcontent-%COMP%]:hover{opacity:100%}"]}),u})(),Sy=(()=>{class u{constructor(){this.title="ClinicaOnlineLaboIV"}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275cmp=h.Xpm({type:u,selectors:[["app-root"]],decls:2,vars:0,template:function(a,f){1&a&&h._UZ(0,"app-navbar")(1,"router-outlet")},dependencies:[ha.lC,Np]}),u})(),xy=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=h.oAB({type:u,bootstrap:[Sy]}),u.\u0275inj=h.cJS({providers:[{provide:Qs.Dh,useValue:Gu.firebase}],imports:[w.b2,od,(0,zu.hX)(()=>(0,zu.ZF)(Gu.firebase)),(0,Wc.AR)(()=>(0,Wc.v0)()),uy(()=>Fm()),bt,tu,Rc,pp,uf.ww,Qs.hO,Cp.yb,oy,hg.ot,Ep,mu,T_,u_(()=>mf())]}),u})();w.q6().bootstrapModule(xy).catch(u=>console.error(u))},1135:(Qt,Ye,U)=>{"use strict";U.d(Ye,{X:()=>j});var w=U(7579);class j extends w.x{constructor(ye){super(),this._value=ye}get value(){return this.getValue()}_subscribe(ye){const be=super._subscribe(ye);return!be.closed&&ye.next(this._value),be}getValue(){const{hasError:ye,thrownError:be,_value:ne}=this;if(ye)throw be;return this._throwIfClosed(),ne}next(ye){super.next(this._value=ye)}}},9751:(Qt,Ye,U)=>{"use strict";U.d(Ye,{y:()=>me});var w=U(930),j=U(727),h=U(8822),ye=U(9635),be=U(2416),ne=U(576),Ne=U(2806);let me=(()=>{class ve{constructor(nt){nt&&(this._subscribe=nt)}lift(nt){const St=new ve;return St.source=this,St.operator=nt,St}subscribe(nt,St,Ut){const tt=function ge(ve){return ve&&ve instanceof w.Lv||function fe(ve){return ve&&(0,ne.m)(ve.next)&&(0,ne.m)(ve.error)&&(0,ne.m)(ve.complete)}(ve)&&(0,j.Nn)(ve)}(nt)?nt:new w.Hp(nt,St,Ut);return(0,Ne.x)(()=>{const{operator:ut,source:xe}=this;tt.add(ut?ut.call(tt,xe):xe?this._subscribe(tt):this._trySubscribe(tt))}),tt}_trySubscribe(nt){try{return this._subscribe(nt)}catch(St){nt.error(St)}}forEach(nt,St){return new(St=Se(St))((Ut,tt)=>{const ut=new w.Hp({next:xe=>{try{nt(xe)}catch(ot){tt(ot),ut.unsubscribe()}},error:tt,complete:Ut});this.subscribe(ut)})}_subscribe(nt){var St;return null===(St=this.source)||void 0===St?void 0:St.subscribe(nt)}[h.L](){return this}pipe(...nt){return(0,ye.U)(nt)(this)}toPromise(nt){return new(nt=Se(nt))((St,Ut)=>{let tt;this.subscribe(ut=>tt=ut,ut=>Ut(ut),()=>St(tt))})}}return ve.create=je=>new ve(je),ve})();function Se(ve){var je;return null!==(je=ve??be.v.Promise)&&void 0!==je?je:Promise}},7579:(Qt,Ye,U)=>{"use strict";U.d(Ye,{x:()=>Ne});var w=U(9751),j=U(727);const ye=(0,U(3888).d)(Se=>function(){Se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var be=U(8737),ne=U(2806);let Ne=(()=>{class Se extends w.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ge){const ve=new me(this,this);return ve.operator=ge,ve}_throwIfClosed(){if(this.closed)throw new ye}next(ge){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ve of this.currentObservers)ve.next(ge)}})}error(ge){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ge;const{observers:ve}=this;for(;ve.length;)ve.shift().error(ge)}})}complete(){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ge}=this;for(;ge.length;)ge.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ge;return(null===(ge=this.observers)||void 0===ge?void 0:ge.length)>0}_trySubscribe(ge){return this._throwIfClosed(),super._trySubscribe(ge)}_subscribe(ge){return this._throwIfClosed(),this._checkFinalizedStatuses(ge),this._innerSubscribe(ge)}_innerSubscribe(ge){const{hasError:ve,isStopped:je,observers:nt}=this;return ve||je?j.Lc:(this.currentObservers=null,nt.push(ge),new j.w0(()=>{this.currentObservers=null,(0,be.P)(nt,ge)}))}_checkFinalizedStatuses(ge){const{hasError:ve,thrownError:je,isStopped:nt}=this;ve?ge.error(je):nt&&ge.complete()}asObservable(){const ge=new w.y;return ge.source=this,ge}}return Se.create=(fe,ge)=>new me(fe,ge),Se})();class me extends Ne{constructor(fe,ge){super(),this.destination=fe,this.source=ge}next(fe){var ge,ve;null===(ve=null===(ge=this.destination)||void 0===ge?void 0:ge.next)||void 0===ve||ve.call(ge,fe)}error(fe){var ge,ve;null===(ve=null===(ge=this.destination)||void 0===ge?void 0:ge.error)||void 0===ve||ve.call(ge,fe)}complete(){var fe,ge;null===(ge=null===(fe=this.destination)||void 0===fe?void 0:fe.complete)||void 0===ge||ge.call(fe)}_subscribe(fe){var ge,ve;return null!==(ve=null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(fe))&&void 0!==ve?ve:j.Lc}}},930:(Qt,Ye,U)=>{"use strict";U.d(Ye,{Hp:()=>Ut,Lv:()=>ve});var w=U(576),j=U(727),h=U(2416),ye=U(7849),be=U(5032);const ne=Se("C",void 0,void 0);function Se(Ge,Le,Qe){return{kind:Ge,value:Le,error:Qe}}var fe=U(3410),ge=U(2806);class ve extends j.w0{constructor(Le){super(),this.isStopped=!1,Le?(this.destination=Le,(0,j.Nn)(Le)&&Le.add(this)):this.destination=ot}static create(Le,Qe,Mt){return new Ut(Le,Qe,Mt)}next(Le){this.isStopped?xe(function me(Ge){return Se("N",Ge,void 0)}(Le),this):this._next(Le)}error(Le){this.isStopped?xe(function Ne(Ge){return Se("E",void 0,Ge)}(Le),this):(this.isStopped=!0,this._error(Le))}complete(){this.isStopped?xe(ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Le){this.destination.next(Le)}_error(Le){try{this.destination.error(Le)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function nt(Ge,Le){return je.call(Ge,Le)}class St{constructor(Le){this.partialObserver=Le}next(Le){const{partialObserver:Qe}=this;if(Qe.next)try{Qe.next(Le)}catch(Mt){tt(Mt)}}error(Le){const{partialObserver:Qe}=this;if(Qe.error)try{Qe.error(Le)}catch(Mt){tt(Mt)}else tt(Le)}complete(){const{partialObserver:Le}=this;if(Le.complete)try{Le.complete()}catch(Qe){tt(Qe)}}}class Ut extends ve{constructor(Le,Qe,Mt){let It;if(super(),(0,w.m)(Le)||!Le)It={next:Le??void 0,error:Qe??void 0,complete:Mt??void 0};else{let ze;this&&h.v.useDeprecatedNextContext?(ze=Object.create(Le),ze.unsubscribe=()=>this.unsubscribe(),It={next:Le.next&&nt(Le.next,ze),error:Le.error&&nt(Le.error,ze),complete:Le.complete&&nt(Le.complete,ze)}):It=Le}this.destination=new St(It)}}function tt(Ge){h.v.useDeprecatedSynchronousErrorHandling?(0,ge.O)(Ge):(0,ye.h)(Ge)}function xe(Ge,Le){const{onStoppedNotification:Qe}=h.v;Qe&&fe.z.setTimeout(()=>Qe(Ge,Le))}const ot={closed:!0,next:be.Z,error:function ut(Ge){throw Ge},complete:be.Z}},727:(Qt,Ye,U)=>{"use strict";U.d(Ye,{Lc:()=>ne,w0:()=>be,Nn:()=>Ne});var w=U(576);const h=(0,U(3888).d)(Se=>function(ge){Se(this),this.message=ge?`${ge.length} errors occurred during unsubscription:\n${ge.map((ve,je)=>`${je+1}) ${ve.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ge});var ye=U(8737);class be{constructor(fe){this.initialTeardown=fe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let fe;if(!this.closed){this.closed=!0;const{_parentage:ge}=this;if(ge)if(this._parentage=null,Array.isArray(ge))for(const nt of ge)nt.remove(this);else ge.remove(this);const{initialTeardown:ve}=this;if((0,w.m)(ve))try{ve()}catch(nt){fe=nt instanceof h?nt.errors:[nt]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const nt of je)try{me(nt)}catch(St){fe=fe??[],St instanceof h?fe=[...fe,...St.errors]:fe.push(St)}}if(fe)throw new h(fe)}}add(fe){var ge;if(fe&&fe!==this)if(this.closed)me(fe);else{if(fe instanceof be){if(fe.closed||fe._hasParent(this))return;fe._addParent(this)}(this._finalizers=null!==(ge=this._finalizers)&&void 0!==ge?ge:[]).push(fe)}}_hasParent(fe){const{_parentage:ge}=this;return ge===fe||Array.isArray(ge)&&ge.includes(fe)}_addParent(fe){const{_parentage:ge}=this;this._parentage=Array.isArray(ge)?(ge.push(fe),ge):ge?[ge,fe]:fe}_removeParent(fe){const{_parentage:ge}=this;ge===fe?this._parentage=null:Array.isArray(ge)&&(0,ye.P)(ge,fe)}remove(fe){const{_finalizers:ge}=this;ge&&(0,ye.P)(ge,fe),fe instanceof be&&fe._removeParent(this)}}be.EMPTY=(()=>{const Se=new be;return Se.closed=!0,Se})();const ne=be.EMPTY;function Ne(Se){return Se instanceof be||Se&&"closed"in Se&&(0,w.m)(Se.remove)&&(0,w.m)(Se.add)&&(0,w.m)(Se.unsubscribe)}function me(Se){(0,w.m)(Se)?Se():Se.unsubscribe()}},2416:(Qt,Ye,U)=>{"use strict";U.d(Ye,{v:()=>w});const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(Qt,Ye,U)=>{"use strict";U.d(Ye,{a:()=>fe});var w=U(9751),j=U(4742),h=U(8996),ye=U(4671),be=U(3268),ne=U(7669),Ne=U(1810),me=U(5403),Se=U(9672);function fe(...je){const nt=(0,ne.yG)(je),St=(0,ne.jO)(je),{args:Ut,keys:tt}=(0,j.D)(je);if(0===Ut.length)return(0,h.D)([],nt);const ut=new w.y(function ge(je,nt,St=ye.y){return Ut=>{ve(nt,()=>{const{length:tt}=je,ut=new Array(tt);let xe=tt,ot=tt;for(let Ge=0;Ge<tt;Ge++)ve(nt,()=>{const Le=(0,h.D)(je[Ge],nt);let Qe=!1;Le.subscribe((0,me.x)(Ut,Mt=>{ut[Ge]=Mt,Qe||(Qe=!0,ot--),ot||Ut.next(St(ut.slice()))},()=>{--xe||Ut.complete()}))},Ut)},Ut)}}(Ut,nt,tt?xe=>(0,Ne.n)(tt,xe):ye.y));return St?ut.pipe((0,be.Z)(St)):ut}function ve(je,nt,St){je?(0,Se.f)(St,je,nt):nt()}},7272:(Qt,Ye,U)=>{"use strict";U.d(Ye,{z:()=>be});var w=U(8189),h=U(7669),ye=U(8996);function be(...ne){return function j(){return(0,w.J)(1)}()((0,ye.D)(ne,(0,h.yG)(ne)))}},515:(Qt,Ye,U)=>{"use strict";U.d(Ye,{E:()=>j});const j=new(U(9751).y)(be=>be.complete())},8996:(Qt,Ye,U)=>{"use strict";U.d(Ye,{D:()=>Le});var w=U(8421),j=U(5363),h=U(9468),ne=U(9751),me=U(2202),Se=U(576),fe=U(9672);function ve(Qe,Mt){if(!Qe)throw new Error("Iterable cannot be null");return new ne.y(It=>{(0,fe.f)(It,Mt,()=>{const ze=Qe[Symbol.asyncIterator]();(0,fe.f)(It,Mt,()=>{ze.next().then(Bt=>{Bt.done?It.complete():It.next(Bt.value)})},0,!0)})})}var je=U(3670),nt=U(8239),St=U(1144),Ut=U(6495),tt=U(2206),ut=U(4532),xe=U(3260);function Le(Qe,Mt){return Mt?function Ge(Qe,Mt){if(null!=Qe){if((0,je.c)(Qe))return function ye(Qe,Mt){return(0,w.Xf)(Qe).pipe((0,h.R)(Mt),(0,j.Q)(Mt))}(Qe,Mt);if((0,St.z)(Qe))return function Ne(Qe,Mt){return new ne.y(It=>{let ze=0;return Mt.schedule(function(){ze===Qe.length?It.complete():(It.next(Qe[ze++]),It.closed||this.schedule())})})}(Qe,Mt);if((0,nt.t)(Qe))return function be(Qe,Mt){return(0,w.Xf)(Qe).pipe((0,h.R)(Mt),(0,j.Q)(Mt))}(Qe,Mt);if((0,tt.D)(Qe))return ve(Qe,Mt);if((0,Ut.T)(Qe))return function ge(Qe,Mt){return new ne.y(It=>{let ze;return(0,fe.f)(It,Mt,()=>{ze=Qe[me.h](),(0,fe.f)(It,Mt,()=>{let Bt,Wt;try{({value:Bt,done:Wt}=ze.next())}catch(Vt){return void It.error(Vt)}Wt?It.complete():It.next(Bt)},0,!0)}),()=>(0,Se.m)(ze?.return)&&ze.return()})}(Qe,Mt);if((0,xe.L)(Qe))return function ot(Qe,Mt){return ve((0,xe.Q)(Qe),Mt)}(Qe,Mt)}throw(0,ut.z)(Qe)}(Qe,Mt):(0,w.Xf)(Qe)}},8421:(Qt,Ye,U)=>{"use strict";U.d(Ye,{Xf:()=>je});var w=U(7582),j=U(1144),h=U(8239),ye=U(9751),be=U(3670),ne=U(2206),Ne=U(4532),me=U(6495),Se=U(3260),fe=U(576),ge=U(7849),ve=U(8822);function je(Ge){if(Ge instanceof ye.y)return Ge;if(null!=Ge){if((0,be.c)(Ge))return function nt(Ge){return new ye.y(Le=>{const Qe=Ge[ve.L]();if((0,fe.m)(Qe.subscribe))return Qe.subscribe(Le);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ge);if((0,j.z)(Ge))return function St(Ge){return new ye.y(Le=>{for(let Qe=0;Qe<Ge.length&&!Le.closed;Qe++)Le.next(Ge[Qe]);Le.complete()})}(Ge);if((0,h.t)(Ge))return function Ut(Ge){return new ye.y(Le=>{Ge.then(Qe=>{Le.closed||(Le.next(Qe),Le.complete())},Qe=>Le.error(Qe)).then(null,ge.h)})}(Ge);if((0,ne.D)(Ge))return ut(Ge);if((0,me.T)(Ge))return function tt(Ge){return new ye.y(Le=>{for(const Qe of Ge)if(Le.next(Qe),Le.closed)return;Le.complete()})}(Ge);if((0,Se.L)(Ge))return function xe(Ge){return ut((0,Se.Q)(Ge))}(Ge)}throw(0,Ne.z)(Ge)}function ut(Ge){return new ye.y(Le=>{(function ot(Ge,Le){var Qe,Mt,It,ze;return(0,w.mG)(this,void 0,void 0,function*(){try{for(Qe=(0,w.KL)(Ge);!(Mt=yield Qe.next()).done;)if(Le.next(Mt.value),Le.closed)return}catch(Bt){It={error:Bt}}finally{try{Mt&&!Mt.done&&(ze=Qe.return)&&(yield ze.call(Qe))}finally{if(It)throw It.error}}Le.complete()})})(Ge,Le).catch(Qe=>Le.error(Qe))})}},6451:(Qt,Ye,U)=>{"use strict";U.d(Ye,{T:()=>ne});var w=U(8189),j=U(8421),h=U(515),ye=U(7669),be=U(8996);function ne(...Ne){const me=(0,ye.yG)(Ne),Se=(0,ye._6)(Ne,1/0),fe=Ne;return fe.length?1===fe.length?(0,j.Xf)(fe[0]):(0,w.J)(Se)((0,be.D)(fe,me)):h.E}},9646:(Qt,Ye,U)=>{"use strict";U.d(Ye,{of:()=>h});var w=U(7669),j=U(8996);function h(...ye){const be=(0,w.yG)(ye);return(0,j.D)(ye,be)}},2843:(Qt,Ye,U)=>{"use strict";U.d(Ye,{_:()=>h});var w=U(9751),j=U(576);function h(ye,be){const ne=(0,j.m)(ye)?ye:()=>ye,Ne=me=>me.error(ne());return new w.y(be?me=>be.schedule(Ne,0,me):Ne)}},5403:(Qt,Ye,U)=>{"use strict";U.d(Ye,{x:()=>j});var w=U(930);function j(ye,be,ne,Ne,me){return new h(ye,be,ne,Ne,me)}class h extends w.Lv{constructor(be,ne,Ne,me,Se,fe){super(be),this.onFinalize=Se,this.shouldUnsubscribe=fe,this._next=ne?function(ge){try{ne(ge)}catch(ve){be.error(ve)}}:super._next,this._error=me?function(ge){try{me(ge)}catch(ve){be.error(ve)}finally{this.unsubscribe()}}:super._error,this._complete=Ne?function(){try{Ne()}catch(ge){be.error(ge)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var be;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ne}=this;super.unsubscribe(),!ne&&(null===(be=this.onFinalize)||void 0===be||be.call(this))}}}},262:(Qt,Ye,U)=>{"use strict";U.d(Ye,{K:()=>ye});var w=U(8421),j=U(5403),h=U(4482);function ye(be){return(0,h.e)((ne,Ne)=>{let fe,me=null,Se=!1;me=ne.subscribe((0,j.x)(Ne,void 0,void 0,ge=>{fe=(0,w.Xf)(be(ge,ye(be)(ne))),me?(me.unsubscribe(),me=null,fe.subscribe(Ne)):Se=!0})),Se&&(me.unsubscribe(),me=null,fe.subscribe(Ne))})}},4351:(Qt,Ye,U)=>{"use strict";U.d(Ye,{b:()=>h});var w=U(5577),j=U(576);function h(ye,be){return(0,j.m)(be)?(0,w.z)(ye,be,1):(0,w.z)(ye,1)}},8372:(Qt,Ye,U)=>{"use strict";U.d(Ye,{b:()=>ye});var w=U(4986),j=U(4482),h=U(5403);function ye(be,ne=w.z){return(0,j.e)((Ne,me)=>{let Se=null,fe=null,ge=null;const ve=()=>{if(Se){Se.unsubscribe(),Se=null;const nt=fe;fe=null,me.next(nt)}};function je(){const nt=ge+be,St=ne.now();if(St<nt)return Se=this.schedule(void 0,nt-St),void me.add(Se);ve()}Ne.subscribe((0,h.x)(me,nt=>{fe=nt,ge=ne.now(),Se||(Se=ne.schedule(je,be),me.add(Se))},()=>{ve(),me.complete()},void 0,()=>{fe=Se=null}))})}},6590:(Qt,Ye,U)=>{"use strict";U.d(Ye,{d:()=>h});var w=U(4482),j=U(5403);function h(ye){return(0,w.e)((be,ne)=>{let Ne=!1;be.subscribe((0,j.x)(ne,me=>{Ne=!0,ne.next(me)},()=>{Ne||ne.next(ye),ne.complete()}))})}},1884:(Qt,Ye,U)=>{"use strict";U.d(Ye,{x:()=>ye});var w=U(4671),j=U(4482),h=U(5403);function ye(ne,Ne=w.y){return ne=ne??be,(0,j.e)((me,Se)=>{let fe,ge=!0;me.subscribe((0,h.x)(Se,ve=>{const je=Ne(ve);(ge||!ne(fe,je))&&(ge=!1,fe=je,Se.next(ve))}))})}function be(ne,Ne){return ne===Ne}},9300:(Qt,Ye,U)=>{"use strict";U.d(Ye,{h:()=>h});var w=U(4482),j=U(5403);function h(ye,be){return(0,w.e)((ne,Ne)=>{let me=0;ne.subscribe((0,j.x)(Ne,Se=>ye.call(be,Se,me++)&&Ne.next(Se)))})}},8746:(Qt,Ye,U)=>{"use strict";U.d(Ye,{x:()=>j});var w=U(4482);function j(h){return(0,w.e)((ye,be)=>{try{ye.subscribe(be)}finally{be.add(h)}})}},590:(Qt,Ye,U)=>{"use strict";U.d(Ye,{P:()=>Ne});var w=U(6805),j=U(9300),h=U(5698),ye=U(6590),be=U(8068),ne=U(4671);function Ne(me,Se){const fe=arguments.length>=2;return ge=>ge.pipe(me?(0,j.h)((ve,je)=>me(ve,je,ge)):ne.y,(0,h.q)(1),fe?(0,ye.d)(Se):(0,be.T)(()=>new w.K))}},4004:(Qt,Ye,U)=>{"use strict";U.d(Ye,{U:()=>h});var w=U(4482),j=U(5403);function h(ye,be){return(0,w.e)((ne,Ne)=>{let me=0;ne.subscribe((0,j.x)(Ne,Se=>{Ne.next(ye.call(be,Se,me++))}))})}},8189:(Qt,Ye,U)=>{"use strict";U.d(Ye,{J:()=>h});var w=U(5577),j=U(4671);function h(ye=1/0){return(0,w.z)(j.y,ye)}},5577:(Qt,Ye,U)=>{"use strict";U.d(Ye,{z:()=>me});var w=U(4004),j=U(8421),h=U(4482),ye=U(9672),be=U(5403),Ne=U(576);function me(Se,fe,ge=1/0){return(0,Ne.m)(fe)?me((ve,je)=>(0,w.U)((nt,St)=>fe(ve,nt,je,St))((0,j.Xf)(Se(ve,je))),ge):("number"==typeof fe&&(ge=fe),(0,h.e)((ve,je)=>function ne(Se,fe,ge,ve,je,nt,St,Ut){const tt=[];let ut=0,xe=0,ot=!1;const Ge=()=>{ot&&!tt.length&&!ut&&fe.complete()},Le=Mt=>ut<ve?Qe(Mt):tt.push(Mt),Qe=Mt=>{nt&&fe.next(Mt),ut++;let It=!1;(0,j.Xf)(ge(Mt,xe++)).subscribe((0,be.x)(fe,ze=>{je?.(ze),nt?Le(ze):fe.next(ze)},()=>{It=!0},void 0,()=>{if(It)try{for(ut--;tt.length&&ut<ve;){const ze=tt.shift();St?(0,ye.f)(fe,St,()=>Qe(ze)):Qe(ze)}Ge()}catch(ze){fe.error(ze)}}))};return Se.subscribe((0,be.x)(fe,Le,()=>{ot=!0,Ge()})),()=>{Ut?.()}}(ve,je,Se,ge)))}},5363:(Qt,Ye,U)=>{"use strict";U.d(Ye,{Q:()=>ye});var w=U(9672),j=U(4482),h=U(5403);function ye(be,ne=0){return(0,j.e)((Ne,me)=>{Ne.subscribe((0,h.x)(me,Se=>(0,w.f)(me,be,()=>me.next(Se),ne),()=>(0,w.f)(me,be,()=>me.complete(),ne),Se=>(0,w.f)(me,be,()=>me.error(Se),ne)))})}},5026:(Qt,Ye,U)=>{"use strict";U.d(Ye,{R:()=>ye});var w=U(4482),j=U(5403);function ye(be,ne){return(0,w.e)(function h(be,ne,Ne,me,Se){return(fe,ge)=>{let ve=Ne,je=ne,nt=0;fe.subscribe((0,j.x)(ge,St=>{const Ut=nt++;je=ve?be(je,St,Ut):(ve=!0,St),me&&ge.next(je)},Se&&(()=>{ve&&ge.next(je),ge.complete()})))}}(be,ne,arguments.length>=2,!0))}},3099:(Qt,Ye,U)=>{"use strict";U.d(Ye,{B:()=>be});var w=U(8421),j=U(7579),h=U(930),ye=U(4482);function be(Ne={}){const{connector:me=(()=>new j.x),resetOnError:Se=!0,resetOnComplete:fe=!0,resetOnRefCountZero:ge=!0}=Ne;return ve=>{let je,nt,St,Ut=0,tt=!1,ut=!1;const xe=()=>{nt?.unsubscribe(),nt=void 0},ot=()=>{xe(),je=St=void 0,tt=ut=!1},Ge=()=>{const Le=je;ot(),Le?.unsubscribe()};return(0,ye.e)((Le,Qe)=>{Ut++,!ut&&!tt&&xe();const Mt=St=St??me();Qe.add(()=>{Ut--,0===Ut&&!ut&&!tt&&(nt=ne(Ge,ge))}),Mt.subscribe(Qe),!je&&Ut>0&&(je=new h.Hp({next:It=>Mt.next(It),error:It=>{ut=!0,xe(),nt=ne(ot,Se,It),Mt.error(It)},complete:()=>{tt=!0,xe(),nt=ne(ot,fe),Mt.complete()}}),(0,w.Xf)(Le).subscribe(je))})(ve)}}function ne(Ne,me,...Se){if(!0===me)return void Ne();if(!1===me)return;const fe=new h.Hp({next:()=>{fe.unsubscribe(),Ne()}});return(0,w.Xf)(me(...Se)).subscribe(fe)}},8675:(Qt,Ye,U)=>{"use strict";U.d(Ye,{O:()=>ye});var w=U(7272),j=U(7669),h=U(4482);function ye(...be){const ne=(0,j.yG)(be);return(0,h.e)((Ne,me)=>{(ne?(0,w.z)(be,Ne,ne):(0,w.z)(be,Ne)).subscribe(me)})}},9468:(Qt,Ye,U)=>{"use strict";U.d(Ye,{R:()=>j});var w=U(4482);function j(h,ye=0){return(0,w.e)((be,ne)=>{ne.add(h.schedule(()=>be.subscribe(ne),ye))})}},3900:(Qt,Ye,U)=>{"use strict";U.d(Ye,{w:()=>ye});var w=U(8421),j=U(4482),h=U(5403);function ye(be,ne){return(0,j.e)((Ne,me)=>{let Se=null,fe=0,ge=!1;const ve=()=>ge&&!Se&&me.complete();Ne.subscribe((0,h.x)(me,je=>{Se?.unsubscribe();let nt=0;const St=fe++;(0,w.Xf)(be(je,St)).subscribe(Se=(0,h.x)(me,Ut=>me.next(ne?ne(je,Ut,St,nt++):Ut),()=>{Se=null,ve()}))},()=>{ge=!0,ve()}))})}},5698:(Qt,Ye,U)=>{"use strict";U.d(Ye,{q:()=>ye});var w=U(515),j=U(4482),h=U(5403);function ye(be){return be<=0?()=>w.E:(0,j.e)((ne,Ne)=>{let me=0;ne.subscribe((0,h.x)(Ne,Se=>{++me<=be&&(Ne.next(Se),be<=me&&Ne.complete())}))})}},8505:(Qt,Ye,U)=>{"use strict";U.d(Ye,{b:()=>be});var w=U(576),j=U(4482),h=U(5403),ye=U(4671);function be(ne,Ne,me){const Se=(0,w.m)(ne)||Ne||me?{next:ne,error:Ne,complete:me}:ne;return Se?(0,j.e)((fe,ge)=>{var ve;null===(ve=Se.subscribe)||void 0===ve||ve.call(Se);let je=!0;fe.subscribe((0,h.x)(ge,nt=>{var St;null===(St=Se.next)||void 0===St||St.call(Se,nt),ge.next(nt)},()=>{var nt;je=!1,null===(nt=Se.complete)||void 0===nt||nt.call(Se),ge.complete()},nt=>{var St;je=!1,null===(St=Se.error)||void 0===St||St.call(Se,nt),ge.error(nt)},()=>{var nt,St;je&&(null===(nt=Se.unsubscribe)||void 0===nt||nt.call(Se)),null===(St=Se.finalize)||void 0===St||St.call(Se)}))}):ye.y}},8068:(Qt,Ye,U)=>{"use strict";U.d(Ye,{T:()=>ye});var w=U(6805),j=U(4482),h=U(5403);function ye(ne=be){return(0,j.e)((Ne,me)=>{let Se=!1;Ne.subscribe((0,h.x)(me,fe=>{Se=!0,me.next(fe)},()=>Se?me.complete():me.error(ne())))})}function be(){return new w.K}},4408:(Qt,Ye,U)=>{"use strict";U.d(Ye,{o:()=>be});var w=U(727);class j extends w.w0{constructor(Ne,me){super()}schedule(Ne,me=0){return this}}const h={setInterval(ne,Ne,...me){const{delegate:Se}=h;return Se?.setInterval?Se.setInterval(ne,Ne,...me):setInterval(ne,Ne,...me)},clearInterval(ne){const{delegate:Ne}=h;return(Ne?.clearInterval||clearInterval)(ne)},delegate:void 0};var ye=U(8737);class be extends j{constructor(Ne,me){super(Ne,me),this.scheduler=Ne,this.work=me,this.pending=!1}schedule(Ne,me=0){var Se;if(this.closed)return this;this.state=Ne;const fe=this.id,ge=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(ge,fe,me)),this.pending=!0,this.delay=me,this.id=null!==(Se=this.id)&&void 0!==Se?Se:this.requestAsyncId(ge,this.id,me),this}requestAsyncId(Ne,me,Se=0){return h.setInterval(Ne.flush.bind(Ne,this),Se)}recycleAsyncId(Ne,me,Se=0){if(null!=Se&&this.delay===Se&&!1===this.pending)return me;null!=me&&h.clearInterval(me)}execute(Ne,me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Se=this._execute(Ne,me);if(Se)return Se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ne,me){let fe,Se=!1;try{this.work(Ne)}catch(ge){Se=!0,fe=ge||new Error("Scheduled action threw falsy error")}if(Se)return this.unsubscribe(),fe}unsubscribe(){if(!this.closed){const{id:Ne,scheduler:me}=this,{actions:Se}=me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ye.P)(Se,this),null!=Ne&&(this.id=this.recycleAsyncId(me,Ne,null)),this.delay=null,super.unsubscribe()}}}},7565:(Qt,Ye,U)=>{"use strict";U.d(Ye,{v:()=>h});var w=U(6063);class j{constructor(be,ne=j.now){this.schedulerActionCtor=be,this.now=ne}schedule(be,ne=0,Ne){return new this.schedulerActionCtor(this,be).schedule(Ne,ne)}}j.now=w.l.now;class h extends j{constructor(be,ne=j.now){super(be,ne),this.actions=[],this._active=!1}flush(be){const{actions:ne}=this;if(this._active)return void ne.push(be);let Ne;this._active=!0;do{if(Ne=be.execute(be.state,be.delay))break}while(be=ne.shift());if(this._active=!1,Ne){for(;be=ne.shift();)be.unsubscribe();throw Ne}}}},4986:(Qt,Ye,U)=>{"use strict";U.d(Ye,{z:()=>h});var w=U(4408);const h=new(U(7565).v)(w.o)},6063:(Qt,Ye,U)=>{"use strict";U.d(Ye,{l:()=>w});const w={now:()=>(w.delegate||Date).now(),delegate:void 0}},3410:(Qt,Ye,U)=>{"use strict";U.d(Ye,{z:()=>w});const w={setTimeout(j,h,...ye){const{delegate:be}=w;return be?.setTimeout?be.setTimeout(j,h,...ye):setTimeout(j,h,...ye)},clearTimeout(j){const{delegate:h}=w;return(h?.clearTimeout||clearTimeout)(j)},delegate:void 0}},2202:(Qt,Ye,U)=>{"use strict";U.d(Ye,{h:()=>j});const j=function w(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Qt,Ye,U)=>{"use strict";U.d(Ye,{L:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Qt,Ye,U)=>{"use strict";U.d(Ye,{K:()=>j});const j=(0,U(3888).d)(h=>function(){h(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Qt,Ye,U)=>{"use strict";U.d(Ye,{_6:()=>ne,jO:()=>ye,yG:()=>be});var w=U(576);function h(Ne){return Ne[Ne.length-1]}function ye(Ne){return(0,w.m)(h(Ne))?Ne.pop():void 0}function be(Ne){return function j(Ne){return Ne&&(0,w.m)(Ne.schedule)}(h(Ne))?Ne.pop():void 0}function ne(Ne,me){return"number"==typeof h(Ne)?Ne.pop():me}},4742:(Qt,Ye,U)=>{"use strict";U.d(Ye,{D:()=>be});const{isArray:w}=Array,{getPrototypeOf:j,prototype:h,keys:ye}=Object;function be(Ne){if(1===Ne.length){const me=Ne[0];if(w(me))return{args:me,keys:null};if(function ne(Ne){return Ne&&"object"==typeof Ne&&j(Ne)===h}(me)){const Se=ye(me);return{args:Se.map(fe=>me[fe]),keys:Se}}}return{args:Ne,keys:null}}},8737:(Qt,Ye,U)=>{"use strict";function w(j,h){if(j){const ye=j.indexOf(h);0<=ye&&j.splice(ye,1)}}U.d(Ye,{P:()=>w})},3888:(Qt,Ye,U)=>{"use strict";function w(j){const ye=j(be=>{Error.call(be),be.stack=(new Error).stack});return ye.prototype=Object.create(Error.prototype),ye.prototype.constructor=ye,ye}U.d(Ye,{d:()=>w})},1810:(Qt,Ye,U)=>{"use strict";function w(j,h){return j.reduce((ye,be,ne)=>(ye[be]=h[ne],ye),{})}U.d(Ye,{n:()=>w})},2806:(Qt,Ye,U)=>{"use strict";U.d(Ye,{O:()=>ye,x:()=>h});var w=U(2416);let j=null;function h(be){if(w.v.useDeprecatedSynchronousErrorHandling){const ne=!j;if(ne&&(j={errorThrown:!1,error:null}),be(),ne){const{errorThrown:Ne,error:me}=j;if(j=null,Ne)throw me}}else be()}function ye(be){w.v.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=be)}},9672:(Qt,Ye,U)=>{"use strict";function w(j,h,ye,be=0,ne=!1){const Ne=h.schedule(function(){ye(),ne?j.add(this.schedule(null,be)):this.unsubscribe()},be);if(j.add(Ne),!ne)return Ne}U.d(Ye,{f:()=>w})},4671:(Qt,Ye,U)=>{"use strict";function w(j){return j}U.d(Ye,{y:()=>w})},1144:(Qt,Ye,U)=>{"use strict";U.d(Ye,{z:()=>w});const w=j=>j&&"number"==typeof j.length&&"function"!=typeof j},2206:(Qt,Ye,U)=>{"use strict";U.d(Ye,{D:()=>j});var w=U(576);function j(h){return Symbol.asyncIterator&&(0,w.m)(h?.[Symbol.asyncIterator])}},576:(Qt,Ye,U)=>{"use strict";function w(j){return"function"==typeof j}U.d(Ye,{m:()=>w})},3670:(Qt,Ye,U)=>{"use strict";U.d(Ye,{c:()=>h});var w=U(8822),j=U(576);function h(ye){return(0,j.m)(ye[w.L])}},6495:(Qt,Ye,U)=>{"use strict";U.d(Ye,{T:()=>h});var w=U(2202),j=U(576);function h(ye){return(0,j.m)(ye?.[w.h])}},8239:(Qt,Ye,U)=>{"use strict";U.d(Ye,{t:()=>j});var w=U(576);function j(h){return(0,w.m)(h?.then)}},3260:(Qt,Ye,U)=>{"use strict";U.d(Ye,{L:()=>ye,Q:()=>h});var w=U(7582),j=U(576);function h(be){return(0,w.FC)(this,arguments,function*(){const Ne=be.getReader();try{for(;;){const{value:me,done:Se}=yield(0,w.qq)(Ne.read());if(Se)return yield(0,w.qq)(void 0);yield yield(0,w.qq)(me)}}finally{Ne.releaseLock()}})}function ye(be){return(0,j.m)(be?.getReader)}},4482:(Qt,Ye,U)=>{"use strict";U.d(Ye,{A:()=>j,e:()=>h});var w=U(576);function j(ye){return(0,w.m)(ye?.lift)}function h(ye){return be=>{if(j(be))return be.lift(function(ne){try{return ye(ne,this)}catch(Ne){this.error(Ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Qt,Ye,U)=>{"use strict";U.d(Ye,{Z:()=>ye});var w=U(4004);const{isArray:j}=Array;function ye(be){return(0,w.U)(ne=>function h(be,ne){return j(ne)?be(...ne):be(ne)}(be,ne))}},5032:(Qt,Ye,U)=>{"use strict";function w(){}U.d(Ye,{Z:()=>w})},9635:(Qt,Ye,U)=>{"use strict";U.d(Ye,{U:()=>h,z:()=>j});var w=U(4671);function j(...ye){return h(ye)}function h(ye){return 0===ye.length?w.y:1===ye.length?ye[0]:function(ne){return ye.reduce((Ne,me)=>me(Ne),ne)}}},7849:(Qt,Ye,U)=>{"use strict";U.d(Ye,{h:()=>h});var w=U(2416),j=U(3410);function h(ye){j.z.setTimeout(()=>{const{onUnhandledError:be}=w.v;if(!be)throw ye;be(ye)})}},4532:(Qt,Ye,U)=>{"use strict";function w(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(Ye,{z:()=>w})},5226:function(Qt){Qt.exports=function(){"use strict";const U={},j=I=>new Promise(x=>{if(!I)return x();const z=window.scrollX,we=window.scrollY;U.restoreFocusTimeout=setTimeout(()=>{U.previousActiveElement instanceof HTMLElement?(U.previousActiveElement.focus(),U.previousActiveElement=null):document.body&&document.body.focus(),x()},100),window.scrollTo(z,we)});var h={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const ne=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((I,x)=>(I[x]="swal2-"+x,I),{}),me=["success","warning","info","question","error"].reduce((I,x)=>(I[x]="swal2-"+x,I),{}),Se="SweetAlert2:",fe=I=>I.charAt(0).toUpperCase()+I.slice(1),ge=I=>{console.warn(`${Se} ${"object"==typeof I?I.join(" "):I}`)},ve=I=>{console.error(`${Se} ${I}`)},je=[],St=(I,x)=>{(I=>{je.includes(I)||(je.push(I),ge(I))})(`"${I}" is deprecated and will be removed in the next major release. Please use "${x}" instead.`)},Ut=I=>"function"==typeof I?I():I,tt=I=>I&&"function"==typeof I.toPromise,ut=I=>tt(I)?I.toPromise():Promise.resolve(I),xe=I=>I&&Promise.resolve(I)===I,ot=()=>document.body.querySelector(`.${ne.container}`),Ge=I=>{const x=ot();return x?x.querySelector(I):null},Le=I=>Ge(`.${I}`),Qe=()=>Le(ne.popup),Mt=()=>Le(ne.icon),ze=()=>Le(ne.title),Bt=()=>Le(ne["html-container"]),Wt=()=>Le(ne.image),Vt=()=>Le(ne["progress-steps"]),ln=()=>Le(ne["validation-message"]),Gt=()=>Ge(`.${ne.actions} .${ne.confirm}`),Pr=()=>Ge(`.${ne.actions} .${ne.cancel}`),at=()=>Ge(`.${ne.actions} .${ne.deny}`),ct=()=>Ge(`.${ne.loader}`),gt=()=>Le(ne.actions),rt=()=>Le(ne.footer),Xe=()=>Le(ne["timer-progress-bar"]),Ve=()=>Le(ne.close),En=()=>{const I=Qe().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),x=Array.from(I).sort((et,Xt)=>{const Cn=parseInt(et.getAttribute("tabindex")),Ct=parseInt(Xt.getAttribute("tabindex"));return Cn>Ct?1:Cn<Ct?-1:0}),z=Qe().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),we=Array.from(z).filter(et=>"-1"!==et.getAttribute("tabindex"));return[...new Set(x.concat(we))].filter(et=>mr(et))},_t=()=>er(document.body,ne.shown)&&!er(document.body,ne["toast-shown"])&&!er(document.body,ne["no-backdrop"]),zt=()=>Qe()&&er(Qe(),ne.toast),Rn=(I,x)=>{if(I.textContent="",x){const we=(new DOMParser).parseFromString(x,"text/html");Array.from(we.querySelector("head").childNodes).forEach(et=>{I.appendChild(et)}),Array.from(we.querySelector("body").childNodes).forEach(et=>{et instanceof HTMLVideoElement||et instanceof HTMLAudioElement?I.appendChild(et.cloneNode(!0)):I.appendChild(et)})}},er=(I,x)=>{if(!x)return!1;const z=x.split(/\s+/);for(let we=0;we<z.length;we++)if(!I.classList.contains(z[we]))return!1;return!0},Gn=(I,x,z)=>{if(((I,x)=>{Array.from(I.classList).forEach(z=>{!Object.values(ne).includes(z)&&!Object.values(me).includes(z)&&!Object.values(x.showClass).includes(z)&&I.classList.remove(z)})})(I,x),x.customClass&&x.customClass[z]){if("string"!=typeof x.customClass[z]&&!x.customClass[z].forEach)return void ge(`Invalid type of customClass.${z}! Expected string or iterable object, got "${typeof x.customClass[z]}"`);Nn(I,x.customClass[z])}},fr=(I,x)=>{if(!x)return null;switch(x){case"select":case"textarea":case"file":return I.querySelector(`.${ne.popup} > .${ne[x]}`);case"checkbox":return I.querySelector(`.${ne.popup} > .${ne.checkbox} input`);case"radio":return I.querySelector(`.${ne.popup} > .${ne.radio} input:checked`)||I.querySelector(`.${ne.popup} > .${ne.radio} input:first-child`);case"range":return I.querySelector(`.${ne.popup} > .${ne.range} input`);default:return I.querySelector(`.${ne.popup} > .${ne.input}`)}},yr=I=>{if(I.focus(),"file"!==I.type){const x=I.value;I.value="",I.value=x}},Vr=(I,x,z)=>{!I||!x||("string"==typeof x&&(x=x.split(/\s+/).filter(Boolean)),x.forEach(we=>{Array.isArray(I)?I.forEach(et=>{z?et.classList.add(we):et.classList.remove(we)}):z?I.classList.add(we):I.classList.remove(we)}))},Nn=(I,x)=>{Vr(I,x,!0)},$n=(I,x)=>{Vr(I,x,!1)},An=(I,x)=>{const z=Array.from(I.children);for(let we=0;we<z.length;we++){const et=z[we];if(et instanceof HTMLElement&&er(et,x))return et}},Kt=(I,x,z)=>{z===`${parseInt(z)}`&&(z=parseInt(z)),z||0===parseInt(z)?I.style[x]="number"==typeof z?`${z}px`:z:I.style.removeProperty(x)},Pn=function(I){I&&(I.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},Ir=I=>{I&&(I.style.display="none")},Ar=(I,x,z,we)=>{const et=I.querySelector(x);et&&(et.style[z]=we)},$r=function(I,x){x?Pn(I,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Ir(I)},mr=I=>!(!I||!(I.offsetWidth||I.offsetHeight||I.getClientRects().length)),Ln=I=>I.scrollHeight>I.clientHeight,an=I=>{const x=window.getComputedStyle(I),z=parseFloat(x.getPropertyValue("animation-duration")||"0"),we=parseFloat(x.getPropertyValue("transition-duration")||"0");return z>0||we>0},In=function(I){let x=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const z=Xe();mr(z)&&(x&&(z.style.transition="none",z.style.width="100%"),setTimeout(()=>{z.style.transition=`width ${I/1e3}s linear`,z.style.width="0%"},10))},yn=()=>typeof window>"u"||typeof document>"u",Cr=`\n <div aria-labelledby="${ne.title}" aria-describedby="${ne["html-container"]}" class="${ne.popup}" tabindex="-1">\n   <button type="button" class="${ne.close}"></button>\n   <ul class="${ne["progress-steps"]}"></ul>\n   <div class="${ne.icon}"></div>\n   <img class="${ne.image}" />\n   <h2 class="${ne.title}" id="${ne.title}"></h2>\n   <div class="${ne["html-container"]}" id="${ne["html-container"]}"></div>\n   <input class="${ne.input}" />\n   <input type="file" class="${ne.file}" />\n   <div class="${ne.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${ne.select}"></select>\n   <div class="${ne.radio}"></div>\n   <label for="${ne.checkbox}" class="${ne.checkbox}">\n     <input type="checkbox" />\n     <span class="${ne.label}"></span>\n   </label>\n   <textarea class="${ne.textarea}"></textarea>\n   <div class="${ne["validation-message"]}" id="${ne["validation-message"]}"></div>\n   <div class="${ne.actions}">\n     <div class="${ne.loader}"></div>\n     <button type="button" class="${ne.confirm}"></button>\n     <button type="button" class="${ne.deny}"></button>\n     <button type="button" class="${ne.cancel}"></button>\n   </div>\n   <div class="${ne.footer}"></div>\n   <div class="${ne["timer-progress-bar-container"]}">\n     <div class="${ne["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),pr=()=>{U.currentInstance.resetValidationMessage()},vr=I=>{const x=(()=>{const I=ot();return!!I&&(I.remove(),$n([document.documentElement,document.body],[ne["no-backdrop"],ne["toast-shown"],ne["has-column"]]),!0)})();if(yn())return void ve("SweetAlert2 requires document to initialize");const z=document.createElement("div");z.className=ne.container,x&&Nn(z,ne["no-transition"]),Rn(z,Cr);const we=(I=>"string"==typeof I?document.querySelector(I):I)(I.target);we.appendChild(z),(I=>{const x=Qe();x.setAttribute("role",I.toast?"alert":"dialog"),x.setAttribute("aria-live",I.toast?"polite":"assertive"),I.toast||x.setAttribute("aria-modal","true")})(I),(I=>{"rtl"===window.getComputedStyle(I).direction&&Nn(ot(),ne.rtl)})(we),(()=>{const I=Qe(),x=An(I,ne.input),z=An(I,ne.file),we=I.querySelector(`.${ne.range} input`),et=I.querySelector(`.${ne.range} output`),Xt=An(I,ne.select),Cn=I.querySelector(`.${ne.checkbox} input`),Ct=An(I,ne.textarea);x.oninput=pr,z.onchange=pr,Xt.onchange=pr,Cn.onchange=pr,Ct.oninput=pr,we.oninput=()=>{pr(),et.value=we.value},we.onchange=()=>{pr(),et.value=we.value}})()},vn=(I,x)=>{I instanceof HTMLElement?x.appendChild(I):"object"==typeof I?bt(I,x):I&&Rn(x,I)},bt=(I,x)=>{I.jquery?re(x,I):Rn(x,I.toString())},re=(I,x)=>{if(I.textContent="",0 in x)for(let z=0;z in x;z++)I.appendChild(x[z].cloneNode(!0));else I.appendChild(x.cloneNode(!0))},Ie=(()=>{if(yn())return!1;const I=document.createElement("div"),x={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const z in x)if(Object.prototype.hasOwnProperty.call(x,z)&&typeof I.style[z]<"u")return x[z];return!1})(),lt=(I,x)=>{const z=gt(),we=ct();x.showConfirmButton||x.showDenyButton||x.showCancelButton?Pn(z):Ir(z),Gn(z,x,"actions"),function qt(I,x,z){const we=Gt(),et=at(),Xt=Pr();Me(we,"confirm",z),Me(et,"deny",z),Me(Xt,"cancel",z),function wt(I,x,z,we){we.buttonsStyling?(Nn([I,x,z],ne.styled),we.confirmButtonColor&&(I.style.backgroundColor=we.confirmButtonColor,Nn(I,ne["default-outline"])),we.denyButtonColor&&(x.style.backgroundColor=we.denyButtonColor,Nn(x,ne["default-outline"])),we.cancelButtonColor&&(z.style.backgroundColor=we.cancelButtonColor,Nn(z,ne["default-outline"]))):$n([I,x,z],ne.styled)}(we,et,Xt,z),z.reverseButtons&&(z.toast?(I.insertBefore(Xt,we),I.insertBefore(et,we)):(I.insertBefore(Xt,x),I.insertBefore(et,x),I.insertBefore(we,x)))}(z,we,x),Rn(we,x.loaderHtml),Gn(we,x,"loader")};function Me(I,x,z){$r(I,z[`show${fe(x)}Button`],"inline-block"),Rn(I,z[`${x}ButtonText`]),I.setAttribute("aria-label",z[`${x}ButtonAriaLabel`]),I.className=ne[x],Gn(I,z,`${x}Button`),Nn(I,z[`${x}ButtonClass`])}const se=(I,x)=>{const z=ot();z&&(function X(I,x){"string"==typeof x?I.style.background=x:x||Nn([document.documentElement,document.body],ne["no-backdrop"])}(z,x.backdrop),function oe(I,x){x in ne?Nn(I,ne[x]):(ge('The "position" parameter is not valid, defaulting to "center"'),Nn(I,ne.center))}(z,x.position),function ee(I,x){if(x&&"string"==typeof x){const z=`grow-${x}`;z in ne&&Nn(I,ne[z])}}(z,x.grow),Gn(z,x,"container"))};const ke=["input","file","range","select","radio","checkbox","textarea"],Ce=I=>{if(!xr[I.input])return void ve(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${I.input}"`);const x=cn(I.input),z=xr[I.input](x,I);Pn(x),I.inputAutoFocus&&setTimeout(()=>{yr(z)})},Oe=(I,x)=>{const z=fr(Qe(),I);if(z){(I=>{for(let x=0;x<I.attributes.length;x++){const z=I.attributes[x].name;["type","value","style"].includes(z)||I.removeAttribute(z)}})(z);for(const we in x)z.setAttribute(we,x[we])}},dt=I=>{const x=cn(I.input);"object"==typeof I.customClass&&Nn(x,I.customClass.input)},Rt=(I,x)=>{(!I.placeholder||x.inputPlaceholder)&&(I.placeholder=x.inputPlaceholder)},Zt=(I,x,z)=>{if(z.inputLabel){I.id=ne.input;const we=document.createElement("label"),et=ne["input-label"];we.setAttribute("for",I.id),we.className=et,"object"==typeof z.customClass&&Nn(we,z.customClass.inputLabel),we.innerText=z.inputLabel,x.insertAdjacentElement("beforebegin",we)}},cn=I=>An(Qe(),ne[I]||ne.input),Wn=(I,x)=>{["string","number"].includes(typeof x)?I.value=`${x}`:xe(x)||ge(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof x}"`)},xr={};xr.text=xr.email=xr.password=xr.number=xr.tel=xr.url=(I,x)=>(Wn(I,x.inputValue),Zt(I,I,x),Rt(I,x),I.type=x.input,I),xr.file=(I,x)=>(Zt(I,I,x),Rt(I,x),I),xr.range=(I,x)=>{const z=I.querySelector("input"),we=I.querySelector("output");return Wn(z,x.inputValue),z.type=x.input,Wn(we,x.inputValue),Zt(z,I,x),I},xr.select=(I,x)=>{if(I.textContent="",x.inputPlaceholder){const z=document.createElement("option");Rn(z,x.inputPlaceholder),z.value="",z.disabled=!0,z.selected=!0,I.appendChild(z)}return Zt(I,I,x),I},xr.radio=I=>(I.textContent="",I),xr.checkbox=(I,x)=>{const z=fr(Qe(),"checkbox");z.value="1",z.id=ne.checkbox,z.checked=Boolean(x.inputValue);const we=I.querySelector("span");return Rn(we,x.inputPlaceholder),z},xr.textarea=(I,x)=>{Wn(I,x.inputValue),Rt(I,x),Zt(I,I,x);return setTimeout(()=>{if("MutationObserver"in window){const we=parseInt(window.getComputedStyle(Qe()).width);new MutationObserver(()=>{const Xt=I.offsetWidth+(we=>parseInt(window.getComputedStyle(we).marginLeft)+parseInt(window.getComputedStyle(we).marginRight))(I);Qe().style.width=Xt>we?`${Xt}px`:null}).observe(I,{attributes:!0,attributeFilter:["style"]})}}),I};const st=(I,x)=>{const z=Bt();z&&(Gn(z,x,"htmlContainer"),x.html?(vn(x.html,z),Pn(z,"block")):x.text?(z.textContent=x.text,Pn(z,"block")):Ir(z),((I,x)=>{const z=Qe(),we=h.innerParams.get(I),et=!we||x.input!==we.input;ke.forEach(Xt=>{const Cn=An(z,ne[Xt]);Oe(Xt,x.inputAttributes),Cn.className=ne[Xt],et&&Ir(Cn)}),x.input&&(et&&Ce(x),dt(x))})(I,x))},Ht=(I,x)=>{for(const z in me)x.icon!==z&&$n(I,me[z]);Nn(I,me[x.icon]),sr(I,x),Bn(),Gn(I,x,"icon")},Bn=()=>{const I=Qe(),x=window.getComputedStyle(I).getPropertyValue("background-color"),z=I.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let we=0;we<z.length;we++)z[we].style.backgroundColor=x},Sr=(I,x)=>{let we,z=I.innerHTML;x.iconHtml?we=wi(x.iconHtml):"success"===x.icon?(we='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',z=z.replace(/ style=".*?"/g,"")):we="error"===x.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':wi({question:"?",warning:"!",info:"i"}[x.icon]),z.trim()!==we.trim()&&Rn(I,we)},sr=(I,x)=>{if(x.iconColor){I.style.color=x.iconColor,I.style.borderColor=x.iconColor;for(const z of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Ar(I,z,"backgroundColor",x.iconColor);Ar(I,".swal2-success-ring","borderColor",x.iconColor)}},wi=I=>`<div class="${ne["icon-content"]}">${I}</div>`,ki=(I,x)=>{const z=x.showClass||{};I.className=`${ne.popup} ${mr(I)?z.popup:""}`,x.toast?(Nn([document.documentElement,document.body],ne["toast-shown"]),Nn(I,ne.toast)):Nn(I,ne.modal),Gn(I,x,"popup"),"string"==typeof x.customClass&&Nn(I,x.customClass),x.icon&&Nn(I,ne[`icon-${x.icon}`])},qr=I=>{const x=document.createElement("li");return Nn(x,ne["progress-step"]),Rn(x,I),x},un=I=>{const x=document.createElement("li");return Nn(x,ne["progress-step-line"]),I.progressStepsDistance&&Kt(x,"width",I.progressStepsDistance),x},Xr=(I,x)=>{((I,x)=>{const z=ot(),we=Qe();if(z&&we){if(x.toast){Kt(z,"width",x.width),we.style.width="100%";const et=ct();et&&we.insertBefore(et,Mt())}else Kt(we,"width",x.width);Kt(we,"padding",x.padding),x.color&&(we.style.color=x.color),x.background&&(we.style.background=x.background),Ir(ln()),ki(we,x)}})(0,x),se(0,x),((I,x)=>{const z=Vt();if(!z)return;const{progressSteps:we,currentProgressStep:et}=x;we&&0!==we.length&&void 0!==et?(Pn(z),z.textContent="",et>=we.length&&ge("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),we.forEach((Xt,Cn)=>{const Ct=qr(Xt);if(z.appendChild(Ct),Cn===et&&Nn(Ct,ne["active-progress-step"]),Cn!==we.length-1){const Sn=un(x);z.appendChild(Sn)}})):Ir(z)})(0,x),((I,x)=>{const z=h.innerParams.get(I),we=Mt();z&&x.icon===z.icon?(Sr(we,x),Ht(we,x)):x.icon||x.iconHtml?x.icon&&-1===Object.keys(me).indexOf(x.icon)?(ve(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${x.icon}"`),Ir(we)):(Pn(we),Sr(we,x),Ht(we,x),Nn(we,x.showClass.icon)):Ir(we)})(I,x),((I,x)=>{const z=Wt();if(z){if(!x.imageUrl)return void Ir(z);Pn(z,""),z.setAttribute("src",x.imageUrl),z.setAttribute("alt",x.imageAlt||""),Kt(z,"width",x.imageWidth),Kt(z,"height",x.imageHeight),z.className=ne.image,Gn(z,x,"image")}})(0,x),((I,x)=>{const z=ze();z&&($r(z,x.title||x.titleText,"block"),x.title&&vn(x.title,z),x.titleText&&(z.innerText=x.titleText),Gn(z,x,"title"))})(0,x),((I,x)=>{const z=Ve();z&&(Rn(z,x.closeButtonHtml||""),Gn(z,x,"closeButton"),$r(z,x.showCloseButton),z.setAttribute("aria-label",x.closeButtonAriaLabel||""))})(0,x),st(I,x),lt(0,x),((I,x)=>{const z=rt();z&&($r(z,x.footer),x.footer&&vn(x.footer,z),Gn(z,x,"footer"))})(0,x),"function"==typeof x.didRender&&x.didRender(Qe())},Eo=()=>Gt()&&Gt().click(),jr=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),We=I=>{I.keydownTarget&&I.keydownHandlerAdded&&(I.keydownTarget.removeEventListener("keydown",I.keydownHandler,{capture:I.keydownListenerCapture}),I.keydownHandlerAdded=!1)},Ue=(I,x)=>{const z=En();if(z.length)return(I+=x)===z.length?I=0:-1===I&&(I=z.length-1),void z[I].focus();Qe().focus()},xt=["ArrowRight","ArrowDown"],jt=["ArrowLeft","ArrowUp"],Vn=(I,x,z)=>{const we=h.innerParams.get(I);we&&(x.isComposing||229===x.keyCode||(we.stopKeydownPropagation&&x.stopPropagation(),"Enter"===x.key?cr(I,x,we):"Tab"===x.key?qn(x):[...xt,...jt].includes(x.key)?Jn(x.key):"Escape"===x.key&&Ci(x,we,z)))},cr=(I,x,z)=>{if(Ut(z.allowEnterKey)&&x.target&&I.getInput()&&x.target instanceof HTMLElement&&x.target.outerHTML===I.getInput().outerHTML){if(["textarea","file"].includes(z.input))return;Eo(),x.preventDefault()}},qn=I=>{const x=I.target,z=En();let we=-1;for(let et=0;et<z.length;et++)if(x===z[et]){we=et;break}Ue(we,I.shiftKey?-1:1),I.stopPropagation(),I.preventDefault()},Jn=I=>{const x=Gt(),z=at(),we=Pr();if(document.activeElement instanceof HTMLElement&&![x,z,we].includes(document.activeElement))return;const Xt=xt.includes(I)?"nextElementSibling":"previousElementSibling";let Cn=document.activeElement;for(let Ct=0;Ct<gt().children.length;Ct++){if(Cn=Cn[Xt],!Cn)return;if(Cn instanceof HTMLButtonElement&&mr(Cn))break}Cn instanceof HTMLButtonElement&&Cn.focus()},Ci=(I,x,z)=>{Ut(x.allowEscapeKey)&&(I.preventDefault(),z(jr.esc))};var Ii={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Di=()=>{Array.from(document.body.children).forEach(x=>{x.hasAttribute("data-previous-aria-hidden")?(x.setAttribute("aria-hidden",x.getAttribute("data-previous-aria-hidden")),x.removeAttribute("data-previous-aria-hidden")):x.removeAttribute("aria-hidden")})},Li=()=>{const I=navigator.userAgent,x=!!I.match(/iPad/i)||!!I.match(/iPhone/i),z=!!I.match(/WebKit/i);x&&z&&!I.match(/CriOS/i)&&Qe().scrollHeight>window.innerHeight-44&&(ot().style.paddingBottom="44px")},$o=()=>{const I=ot();let x;I.ontouchstart=z=>{x=ro(z)},I.ontouchmove=z=>{x&&(z.preventDefault(),z.stopPropagation())}},ro=I=>{const x=I.target,z=ot();return!ds(I)&&!Ho(I)&&(x===z||!Ln(z)&&x instanceof HTMLElement&&"INPUT"!==x.tagName&&"TEXTAREA"!==x.tagName&&!(Ln(Bt())&&Bt().contains(x)))},ds=I=>I.touches&&I.touches.length&&"stylus"===I.touches[0].touchType,Ho=I=>I.touches&&I.touches.length>1,hs=()=>{if(er(document.body,ne.iosfix)){const I=parseInt(document.body.style.top,10);$n(document.body,ne.iosfix),document.body.style.top="",document.body.scrollTop=-1*I}};let xs=null;const ji=()=>{null===xs&&document.body.scrollHeight>window.innerHeight&&(xs=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${xs+(()=>{const I=document.createElement("div");I.className=ne["scrollbar-measure"],document.body.appendChild(I);const x=I.getBoundingClientRect().width-I.clientWidth;return document.body.removeChild(I),x})()}px`)},gi=()=>{null!==xs&&(document.body.style.paddingRight=`${xs}px`,xs=null)};function _i(I,x,z,we){zt()?zo(I,we):(j(z).then(()=>zo(I,we)),We(U)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(x.setAttribute("style","display:none !important"),x.removeAttribute("class"),x.innerHTML=""):x.remove(),_t()&&(gi(),hs(),Di()),function xo(){$n([document.documentElement,document.body],[ne.shown,ne["height-auto"],ne["no-backdrop"],ne["toast-shown"]])}()}function Xi(I){I=Hs(I);const x=Ii.swalPromiseResolve.get(this),z=zi(this);this.isAwaitingPromise?I.isDismissed||(Gi(this),x(I)):z&&x(I)}const zi=I=>{const x=Qe();if(!x)return!1;const z=h.innerParams.get(I);if(!z||er(x,z.hideClass.popup))return!1;$n(x,z.showClass.popup),Nn(x,z.hideClass.popup);const we=ot();return $n(we,z.showClass.backdrop),Nn(we,z.hideClass.backdrop),lo(I,x,z),!0};function Nr(I){const x=Ii.swalPromiseReject.get(this);Gi(this),x&&x(I)}const Gi=I=>{I.isAwaitingPromise&&(delete I.isAwaitingPromise,h.innerParams.get(I)||I._destroy())},Hs=I=>typeof I>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},I),lo=(I,x,z)=>{const we=ot(),et=Ie&&an(x);"function"==typeof z.willClose&&z.willClose(x),et?Ta(I,x,we,z.returnFocus,z.didClose):_i(I,we,z.returnFocus,z.didClose)},Ta=(I,x,z,we,et)=>{U.swalCloseEventFinishedCallback=_i.bind(null,I,z,we,et),x.addEventListener(Ie,function(Xt){Xt.target===x&&(U.swalCloseEventFinishedCallback(),delete U.swalCloseEventFinishedCallback)})},zo=(I,x)=>{setTimeout(()=>{"function"==typeof x&&x.bind(I.params)(),I._destroy&&I._destroy()})},Go=I=>{let x=Qe();x||new Ae,x=Qe();const z=ct();zt()?Ir(Mt()):fs(x,I),Pn(z),x.setAttribute("data-loading","true"),x.setAttribute("aria-busy","true"),x.focus()},fs=(I,x)=>{const z=gt(),we=ct();!x&&mr(Gt())&&(x=Gt()),Pn(z),x&&(Ir(x),we.setAttribute("data-button-to-replace",x.className)),we.parentNode.insertBefore(we,x),Nn([I,z],ne.loading)},aa=I=>I.checked?1:0,io=I=>I.checked?I.value:null,_c=I=>I.files.length?null!==I.getAttribute("multiple")?I.files:I.files[0]:null,Mo=(I,x)=>{const z=Qe(),we=et=>{Ms[x.input](z,Ro(et),x)};tt(x.inputOptions)||xe(x.inputOptions)?(Go(Gt()),ut(x.inputOptions).then(et=>{I.hideLoading(),we(et)})):"object"==typeof x.inputOptions?we(x.inputOptions):ve("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof x.inputOptions)},ns=(I,x)=>{const z=I.getInput();Ir(z),ut(x.inputValue).then(we=>{z.value="number"===x.input?`${parseFloat(we)||0}`:`${we}`,Pn(z),z.focus(),I.hideLoading()}).catch(we=>{ve(`Error in inputValue promise: ${we}`),z.value="",Pn(z),z.focus(),I.hideLoading()})},Ms={select:(I,x,z)=>{const we=An(I,ne.select),et=(Xt,Cn,Ct)=>{const Sn=document.createElement("option");Sn.value=Ct,Rn(Sn,Cn),Sn.selected=Gs(Ct,z.inputValue),Xt.appendChild(Sn)};x.forEach(Xt=>{const Cn=Xt[0],Ct=Xt[1];if(Array.isArray(Ct)){const Sn=document.createElement("optgroup");Sn.label=Cn,Sn.disabled=!1,we.appendChild(Sn),Ct.forEach(Gr=>et(Sn,Gr[1],Gr[0]))}else et(we,Ct,Cn)}),we.focus()},radio:(I,x,z)=>{const we=An(I,ne.radio);x.forEach(Xt=>{const Cn=Xt[0],Ct=Xt[1],Sn=document.createElement("input"),Gr=document.createElement("label");Sn.type="radio",Sn.name=ne.radio,Sn.value=Cn,Gs(Cn,z.inputValue)&&(Sn.checked=!0);const no=document.createElement("span");Rn(no,Ct),no.className=ne.label,Gr.appendChild(Sn),Gr.appendChild(no),we.appendChild(Gr)});const et=we.querySelectorAll("input");et.length&&et[0].focus()}},Ro=I=>{const x=[];return typeof Map<"u"&&I instanceof Map?I.forEach((z,we)=>{let et=z;"object"==typeof et&&(et=Ro(et)),x.push([we,et])}):Object.keys(I).forEach(z=>{let we=I[z];"object"==typeof we&&(we=Ro(we)),x.push([z,we])}),x},Gs=(I,x)=>x&&x.toString()===I.toString(),uo=(I,x)=>{const z=h.innerParams.get(I);if(!z.input)return void ve(`The "input" parameter is needed to be set when using returnInputValueOn${fe(x)}`);const we=((I,x)=>{const z=I.getInput();if(!z)return null;switch(x.input){case"checkbox":return aa(z);case"radio":return io(z);case"file":return _c(z);default:return x.inputAutoTrim?z.value.trim():z.value}})(I,z);z.inputValidator?Co(I,we,x):I.getInput().checkValidity()?"deny"===x?Wo(I,we):ho(I,we):(I.enableButtons(),I.showValidationMessage(z.validationMessage))},Co=(I,x,z)=>{const we=h.innerParams.get(I);I.disableInput(),Promise.resolve().then(()=>ut(we.inputValidator(x,we.validationMessage))).then(Xt=>{I.enableButtons(),I.enableInput(),Xt?I.showValidationMessage(Xt):"deny"===z?Wo(I,x):ho(I,x)})},Wo=(I,x)=>{const z=h.innerParams.get(I||void 0);z.showLoaderOnDeny&&Go(at()),z.preDeny?(I.isAwaitingPromise=!0,Promise.resolve().then(()=>ut(z.preDeny(x,z.validationMessage))).then(et=>{!1===et?(I.hideLoading(),Gi(I)):I.close({isDenied:!0,value:typeof et>"u"?x:et})}).catch(et=>qo(I||void 0,et))):I.close({isDenied:!0,value:x})},rs=(I,x)=>{I.close({isConfirmed:!0,value:x})},qo=(I,x)=>{I.rejectPromise(x)},ho=(I,x)=>{const z=h.innerParams.get(I||void 0);z.showLoaderOnConfirm&&Go(),z.preConfirm?(I.resetValidationMessage(),I.isAwaitingPromise=!0,Promise.resolve().then(()=>ut(z.preConfirm(x,z.validationMessage))).then(et=>{mr(ln())||!1===et?(I.hideLoading(),Gi(I)):rs(I,typeof et>"u"?x:et)}).catch(et=>qo(I||void 0,et))):rs(I,x)};function Rs(){const I=h.innerParams.get(this);if(!I)return;const x=h.domCache.get(this);Ir(x.loader),zt()?I.icon&&Pn(Mt()):tc(x),$n([x.popup,x.actions],ne.loading),x.popup.removeAttribute("aria-busy"),x.popup.removeAttribute("data-loading"),x.confirmButton.disabled=!1,x.denyButton.disabled=!1,x.cancelButton.disabled=!1}const tc=I=>{const x=I.popup.getElementsByClassName(I.loader.getAttribute("data-button-to-replace"));x.length?Pn(x[0],"inline-block"):!mr(Gt())&&!mr(at())&&!mr(Pr())&&Ir(I.actions)};function nc(){const I=h.innerParams.get(this),x=h.domCache.get(this);return x?fr(x.popup,I.input):null}function Oo(I,x,z){const we=h.domCache.get(I);x.forEach(et=>{we[et].disabled=z})}function fo(I,x){if(I)if("radio"===I.type){const we=I.parentNode.parentNode.querySelectorAll("input");for(let et=0;et<we.length;et++)we[et].disabled=x}else I.disabled=x}function ii(){Oo(this,["confirmButton","denyButton","cancelButton"],!1)}function ps(){Oo(this,["confirmButton","denyButton","cancelButton"],!0)}function ca(){fo(this.getInput(),!1)}function oi(){fo(this.getInput(),!0)}function Ei(I){const x=h.domCache.get(this),z=h.innerParams.get(this);Rn(x.validationMessage,I),x.validationMessage.className=ne["validation-message"],z.customClass&&z.customClass.validationMessage&&Nn(x.validationMessage,z.customClass.validationMessage),Pn(x.validationMessage);const we=this.getInput();we&&(we.setAttribute("aria-invalid",!0),we.setAttribute("aria-describedby",ne["validation-message"]),yr(we),Nn(we,ne.inputerror))}function Ps(){const I=h.domCache.get(this);I.validationMessage&&Ir(I.validationMessage);const x=this.getInput();x&&(x.removeAttribute("aria-invalid"),x.removeAttribute("aria-describedby"),$n(x,ne.inputerror))}const tr={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},la=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ha={},eo=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ci=I=>Object.prototype.hasOwnProperty.call(tr,I),Io=I=>-1!==la.indexOf(I),No=I=>Ha[I],is=I=>{ci(I)||ge(`Unknown parameter "${I}"`)},Wi=I=>{eo.includes(I)&&ge(`The parameter "${I}" is incompatible with toasts`)},Aa=I=>{const x=No(I);x&&St(I,x)};function jn(I){const x=Qe(),z=h.innerParams.get(this);if(!x||er(x,z.hideClass.popup))return void ge("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const we=os(I),et=Object.assign({},z,we);Xr(this,et),h.innerParams.set(this,et),Object.defineProperties(this,{params:{value:Object.assign({},this.params,I),writable:!1,enumerable:!0}})}const os=I=>{const x={};return Object.keys(I).forEach(z=>{Io(z)?x[z]=I[z]:ge(`Invalid parameter to update: ${z}`)}),x};function Sa(){const I=h.domCache.get(this),x=h.innerParams.get(this);x?(I.popup&&U.swalCloseEventFinishedCallback&&(U.swalCloseEventFinishedCallback(),delete U.swalCloseEventFinishedCallback),"function"==typeof x.didDestroy&&x.didDestroy(),ss(this)):po(this)}const ss=I=>{po(I),delete I.params,delete U.keydownHandler,delete U.keydownTarget,delete U.currentInstance},po=I=>{I.isAwaitingPromise?(xa(h,I),I.isAwaitingPromise=!0):(xa(Ii,I),xa(h,I),delete I.isAwaitingPromise,delete I.disableButtons,delete I.enableButtons,delete I.getInput,delete I.disableInput,delete I.enableInput,delete I.hideLoading,delete I.disableLoading,delete I.showValidationMessage,delete I.resetValidationMessage,delete I.close,delete I.closePopup,delete I.closeModal,delete I.closeToast,delete I.rejectPromise,delete I.update,delete I._destroy)},xa=(I,x)=>{for(const z in I)I[z].delete(x)};var ua=Object.freeze({__proto__:null,_destroy:Sa,close:Xi,closeModal:Xi,closePopup:Xi,closeToast:Xi,disableButtons:ps,disableInput:oi,disableLoading:Rs,enableButtons:ii,enableInput:ca,getInput:nc,handleAwaitingPromise:Gi,hideLoading:Rs,rejectPromise:Nr,resetValidationMessage:Ps,showValidationMessage:Ei,update:jn});const yc=(I,x,z)=>{x.popup.onclick=()=>{const we=h.innerParams.get(I);we&&(Dt(we)||we.timer||we.input)||z(jr.close)}},Dt=I=>I.showConfirmButton||I.showDenyButton||I.showCancelButton||I.showCloseButton;let nr=!1;const Et=I=>{I.popup.onmousedown=()=>{I.container.onmouseup=function(x){I.container.onmouseup=void 0,x.target===I.container&&(nr=!0)}}},Fe=I=>{I.container.onmousedown=()=>{I.popup.onmouseup=function(x){I.popup.onmouseup=void 0,(x.target===I.popup||I.popup.contains(x.target))&&(nr=!0)}}},Te=(I,x,z)=>{x.container.onclick=we=>{const et=h.innerParams.get(I);nr?nr=!1:we.target===x.container&&Ut(et.allowOutsideClick)&&z(jr.backdrop)}},Pt=I=>I instanceof Element||(I=>"object"==typeof I&&I.jquery)(I);const qi=()=>{if(U.timeout)return(()=>{const I=Xe(),x=parseInt(window.getComputedStyle(I).width);I.style.removeProperty("transition"),I.style.width="100%";const z=parseInt(window.getComputedStyle(I).width);I.style.width=x/z*100+"%"})(),U.timeout.stop()},Zo=()=>{if(U.timeout){const I=U.timeout.start();return In(I),I}};let Yo=!1;const Zi={};const qs=I=>{for(let x=I.target;x&&x!==document;x=x.parentNode)for(const z in Zi){const we=x.getAttribute(z);if(we)return void Zi[z].fire({template:we})}};var za=Object.freeze({__proto__:null,argsToParams:I=>{const x={};return"object"!=typeof I[0]||Pt(I[0])?["title","html","icon"].forEach((z,we)=>{const et=I[we];"string"==typeof et||Pt(et)?x[z]=et:void 0!==et&&ve(`Unexpected type of ${z}! Expected "string" or "Element", got ${typeof et}`)}):Object.assign(x,I[0]),x},bindClickHandler:function $i(){Zi[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Yo||(document.body.addEventListener("click",qs),Yo=!0)},clickCancel:()=>Pr()&&Pr().click(),clickConfirm:Eo,clickDeny:()=>at()&&at().click(),enableLoading:Go,fire:function rr(){for(var x=arguments.length,z=new Array(x),we=0;we<x;we++)z[we]=arguments[we];return new this(...z)},getActions:gt,getCancelButton:Pr,getCloseButton:Ve,getConfirmButton:Gt,getContainer:ot,getDenyButton:at,getFocusableElements:En,getFooter:rt,getHtmlContainer:Bt,getIcon:Mt,getIconContent:()=>Le(ne["icon-content"]),getImage:Wt,getInputLabel:()=>Le(ne["input-label"]),getLoader:ct,getPopup:Qe,getProgressSteps:Vt,getTimerLeft:()=>U.timeout&&U.timeout.getTimerLeft(),getTimerProgressBar:Xe,getTitle:ze,getValidationMessage:ln,increaseTimer:I=>{if(U.timeout){const x=U.timeout.increase(I);return In(x,!0),x}},isDeprecatedParameter:No,isLoading:()=>Qe().hasAttribute("data-loading"),isTimerRunning:()=>U.timeout&&U.timeout.isRunning(),isUpdatableParameter:Io,isValidParameter:ci,isVisible:()=>mr(Qe()),mixin:function ni(I){return class x extends(this){_main(we,et){return super._main(we,Object.assign({},I,et))}}},resumeTimer:Zo,showLoading:Go,stopTimer:qi,toggleTimer:()=>{const I=U.timeout;return I&&(I.running?qi():Zo())}});class Ga{constructor(x,z){this.callback=x,this.remaining=z,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(x){const z=this.running;return z&&this.stop(),this.remaining+=x,z&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const li=["swal-title","swal-html","swal-footer"],ms=I=>{const x={};return Array.from(I.querySelectorAll("swal-param")).forEach(we=>{Jo(we,["name","value"]);const et=we.getAttribute("name"),Xt=we.getAttribute("value");x[et]="boolean"==typeof tr[et]?"false"!==Xt:"object"==typeof tr[et]?JSON.parse(Xt):Xt}),x},Zr=I=>{const x={};return Array.from(I.querySelectorAll("swal-function-param")).forEach(we=>{const et=we.getAttribute("name"),Xt=we.getAttribute("value");x[et]=new Function(`return ${Xt}`)()}),x},Ns=I=>{const x={};return Array.from(I.querySelectorAll("swal-button")).forEach(we=>{Jo(we,["type","color","aria-label"]);const et=we.getAttribute("type");x[`${et}ButtonText`]=we.innerHTML,x[`show${fe(et)}Button`]=!0,we.hasAttribute("color")&&(x[`${et}ButtonColor`]=we.getAttribute("color")),we.hasAttribute("aria-label")&&(x[`${et}ButtonAriaLabel`]=we.getAttribute("aria-label"))}),x},Zs=I=>{const x={},z=I.querySelector("swal-image");return z&&(Jo(z,["src","width","height","alt"]),z.hasAttribute("src")&&(x.imageUrl=z.getAttribute("src")),z.hasAttribute("width")&&(x.imageWidth=z.getAttribute("width")),z.hasAttribute("height")&&(x.imageHeight=z.getAttribute("height")),z.hasAttribute("alt")&&(x.imageAlt=z.getAttribute("alt"))),x},ao=I=>{const x={},z=I.querySelector("swal-icon");return z&&(Jo(z,["type","color"]),z.hasAttribute("type")&&(x.icon=z.getAttribute("type")),z.hasAttribute("color")&&(x.iconColor=z.getAttribute("color")),x.iconHtml=z.innerHTML),x},Qo=I=>{const x={},z=I.querySelector("swal-input");z&&(Jo(z,["type","label","placeholder","value"]),x.input=z.getAttribute("type")||"text",z.hasAttribute("label")&&(x.inputLabel=z.getAttribute("label")),z.hasAttribute("placeholder")&&(x.inputPlaceholder=z.getAttribute("placeholder")),z.hasAttribute("value")&&(x.inputValue=z.getAttribute("value")));const we=Array.from(I.querySelectorAll("swal-input-option"));return we.length&&(x.inputOptions={},we.forEach(et=>{Jo(et,["value"]);const Xt=et.getAttribute("value");x.inputOptions[Xt]=et.innerHTML})),x},Ks=(I,x)=>{const z={};for(const we in x){const et=x[we],Xt=I.querySelector(et);Xt&&(Jo(Xt,[]),z[et.replace(/^swal-/,"")]=Xt.innerHTML.trim())}return z},ks=I=>{const x=li.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(I.children).forEach(z=>{const we=z.tagName.toLowerCase();x.includes(we)||ge(`Unrecognized element <${we}>`)})},Jo=(I,x)=>{Array.from(I.attributes).forEach(z=>{-1===x.indexOf(z.name)&&ge([`Unrecognized attribute "${z.name}" on <${I.tagName.toLowerCase()}>.`,x.length?`Allowed attributes are: ${x.join(", ")}`:"To set the value, use HTML within the element."])})},as=I=>{const x=ot(),z=Qe();"function"==typeof I.willOpen&&I.willOpen(z);const et=window.getComputedStyle(document.body).overflowY;fi(x,z,I),setTimeout(()=>{Hr(x,z)},10),_t()&&(ko(x,I.scrollbarPadding,et),Array.from(document.body.children).forEach(x=>{x===ot()||x.contains(ot())||(x.hasAttribute("aria-hidden")&&x.setAttribute("data-previous-aria-hidden",x.getAttribute("aria-hidden")),x.setAttribute("aria-hidden","true"))})),!zt()&&!U.previousActiveElement&&(U.previousActiveElement=document.activeElement),"function"==typeof I.didOpen&&setTimeout(()=>I.didOpen(z)),$n(x,ne["no-transition"])},Do=I=>{const x=Qe();if(I.target!==x)return;const z=ot();x.removeEventListener(Ie,Do),z.style.overflowY="auto"},Hr=(I,x)=>{Ie&&an(x)?(I.style.overflowY="hidden",x.addEventListener(Ie,Do)):I.style.overflowY="auto"},ko=(I,x,z)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!er(document.body,ne.iosfix)){const x=document.body.scrollTop;document.body.style.top=-1*x+"px",Nn(document.body,ne.iosfix),$o(),Li()}})(),x&&"hidden"!==z&&ji(),setTimeout(()=>{I.scrollTop=0})},fi=(I,x,z)=>{Nn(I,z.showClass.backdrop),x.style.setProperty("opacity","0","important"),Pn(x,"grid"),setTimeout(()=>{Nn(x,z.showClass.popup),x.style.removeProperty("opacity")},10),Nn([document.documentElement,document.body],ne.shown),z.heightAuto&&z.backdrop&&!z.toast&&Nn([document.documentElement,document.body],ne["height-auto"])};var Fs={email:(I,x)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(I)?Promise.resolve():Promise.resolve(x||"Invalid email address"),url:(I,x)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(I)?Promise.resolve():Promise.resolve(x||"Invalid URL")};function Ra(I){(function Ls(I){I.inputValidator||Object.keys(Fs).forEach(x=>{I.input===x&&(I.inputValidator=Fs[x])})})(I),I.showLoaderOnConfirm&&!I.preConfirm&&ge("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Wa(I){(!I.target||"string"==typeof I.target&&!document.querySelector(I.target)||"string"!=typeof I.target&&!I.target.appendChild)&&(ge('Target parameter is not valid, defaulting to "body"'),I.target="body")}(I),"string"==typeof I.title&&(I.title=I.title.split("\n").join("<br />")),vr(I)}let Ki;class Oi{constructor(){if(typeof window>"u")return;Ki=this;for(var x=arguments.length,z=new Array(x),we=0;we<x;we++)z[we]=arguments[we];const et=Object.freeze(this.constructor.argsToParams(z));this.params=et,this.isAwaitingPromise=!1;const Xt=Ki._main(Ki.params);h.promise.set(this,Xt)}_main(x){let z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(I=>{!1===I.backdrop&&I.allowOutsideClick&&ge('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const x in I)is(x),I.toast&&Wi(x),Aa(x)})(Object.assign({},z,x)),U.currentInstance&&(U.currentInstance._destroy(),_t()&&Di()),U.currentInstance=Ki;const we=rc(x,z);Ra(we),Object.freeze(we),U.timeout&&(U.timeout.stop(),delete U.timeout),clearTimeout(U.restoreFocusTimeout);const et=da(Ki);return Xr(Ki,we),h.innerParams.set(Ki,we),gs(Ki,et,we)}then(x){return h.promise.get(this).then(x)}finally(x){return h.promise.get(this).finally(x)}}const gs=(I,x,z)=>new Promise((we,et)=>{const Xt=Cn=>{I.close({isDismissed:!0,dismiss:Cn})};Ii.swalPromiseResolve.set(I,we),Ii.swalPromiseReject.set(I,et),x.confirmButton.onclick=()=>{(I=>{const x=h.innerParams.get(I);I.disableButtons(),x.input?uo(I,"confirm"):ho(I,!0)})(I)},x.denyButton.onclick=()=>{(I=>{const x=h.innerParams.get(I);I.disableButtons(),x.returnInputValueOnDeny?uo(I,"deny"):Wo(I,!1)})(I)},x.cancelButton.onclick=()=>{((I,x)=>{I.disableButtons(),x(jr.cancel)})(I,Xt)},x.closeButton.onclick=()=>{Xt(jr.close)},((I,x,z)=>{h.innerParams.get(I).toast?yc(I,x,z):(Et(x),Fe(x),Te(I,x,z))})(I,x,Xt),((I,x,z,we)=>{We(x),z.toast||(x.keydownHandler=et=>Vn(I,et,we),x.keydownTarget=z.keydownListenerCapture?window:Qe(),x.keydownListenerCapture=z.keydownListenerCapture,x.keydownTarget.addEventListener("keydown",x.keydownHandler,{capture:x.keydownListenerCapture}),x.keydownHandlerAdded=!0)})(I,U,z,Xt),((I,x)=>{"select"===x.input||"radio"===x.input?Mo(I,x):["text","email","number","tel","textarea"].includes(x.input)&&(tt(x.inputValue)||xe(x.inputValue))&&(Go(Gt()),ns(I,x))})(I,z),as(z),k(U,z,Xt),W(x,z),setTimeout(()=>{x.container.scrollTop=0})}),rc=(I,x)=>{const z=(I=>{const x="string"==typeof I.template?document.querySelector(I.template):I.template;if(!x)return{};const z=x.content;return ks(z),Object.assign(ms(z),Zr(z),Ns(z),Zs(z),ao(z),Qo(z),Ks(z,li))})(I),we=Object.assign({},tr,x,z,I);return we.showClass=Object.assign({},tr.showClass,we.showClass),we.hideClass=Object.assign({},tr.hideClass,we.hideClass),we},da=I=>{const x={popup:Qe(),container:ot(),actions:gt(),confirmButton:Gt(),denyButton:at(),cancelButton:Pr(),loader:ct(),closeButton:Ve(),validationMessage:ln(),progressSteps:Vt()};return h.domCache.set(I,x),x},k=(I,x,z)=>{const we=Xe();Ir(we),x.timer&&(I.timeout=new Ga(()=>{z("timer"),delete I.timeout},x.timer),x.timerProgressBar&&(Pn(we),Gn(we,x,"timerProgressBar"),setTimeout(()=>{I.timeout&&I.timeout.running&&In(x.timer)})))},W=(I,x)=>{if(!x.toast){if(!Ut(x.allowEnterKey))return void ie();V(I,x)||Ue(-1,1)}},V=(I,x)=>x.focusDeny&&mr(I.denyButton)?(I.denyButton.focus(),!0):x.focusCancel&&mr(I.cancelButton)?(I.cancelButton.focus(),!0):!(!x.focusConfirm||!mr(I.confirmButton)||(I.confirmButton.focus(),0)),ie=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const I=new Date,x=localStorage.getItem("swal-initiation");x?(I.getTime()-Date.parse(x))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const z=document.createElement("audio");z.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",z.loop=!0,document.body.appendChild(z),setTimeout(()=>{z.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${I}`)}Oi.prototype.disableButtons=ps,Oi.prototype.enableButtons=ii,Oi.prototype.getInput=nc,Oi.prototype.disableInput=oi,Oi.prototype.enableInput=ca,Oi.prototype.hideLoading=Rs,Oi.prototype.disableLoading=Rs,Oi.prototype.showValidationMessage=Ei,Oi.prototype.resetValidationMessage=Ps,Oi.prototype.close=Xi,Oi.prototype.closePopup=Xi,Oi.prototype.closeModal=Xi,Oi.prototype.closeToast=Xi,Oi.prototype.rejectPromise=Nr,Oi.prototype.update=jn,Oi.prototype._destroy=Sa,Object.assign(Oi,za),Object.keys(ua).forEach(I=>{Oi[I]=function(){return Ki&&Ki[I]?Ki[I](...arguments):null}}),Oi.DismissReason=jr,Oi.version="11.7.11";const Ae=Oi;return Ae.default=Ae,Ae}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(Ye,U){var w=Ye.createElement("style");if(Ye.getElementsByTagName("head")[0].appendChild(w),w.styleSheet)w.styleSheet.disabled||(w.styleSheet.cssText=U);else try{w.innerHTML=U}catch{w.innerText=U}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-container) div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-container) div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-container) div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-container) div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-container) div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-container) div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-container) div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-container) div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-container) div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-container) div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-container) div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-container) div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-container) div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-container) div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},4827:(Qt,Ye,U)=>{"use strict";U.d(Ye,{tE:()=>po,qm:()=>Dt,X6:()=>tr,yG:()=>la});var w=U(6895),j=U(4650),h=U(3353),ye=U(1135),be=U(7579),ne=U(9646),Vn=U(9300);function cr(Et){return(0,Vn.h)((Fe,Te)=>Et<=Te)}var qn=U(1884),Jn=U(4482),Ci=U(5403),Ii=U(8421),Hi=U(5032);function Di(Et){return(0,Jn.e)((Fe,Te)=>{(0,Ii.Xf)(Et).subscribe((0,Ci.x)(Te,()=>Te.complete(),Hi.Z)),!Te.closed&&Fe.subscribe(Te)})}var Mr=U(1281),Li=U(9841),$o=U(7272),ro=U(9751),ds=U(5698),Ho=U(8372),hs=U(4004),Vi=U(8675);const ji=new Set;let gi,_i=(()=>{class Et{constructor(Te){this._platform=Te,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Xi}matchMedia(Te){return(this._platform.WEBKIT||this._platform.BLINK)&&function xo(Et){if(!ji.has(Et))try{gi||(gi=document.createElement("style"),gi.setAttribute("type","text/css"),document.head.appendChild(gi)),gi.sheet&&(gi.sheet.insertRule(`@media ${Et} {body{ }}`,0),ji.add(Et))}catch(Fe){console.error(Fe)}}(Te),this._matchMedia(Te)}}return Et.\u0275fac=function(Te){return new(Te||Et)(j.LFG(h.t4))},Et.\u0275prov=j.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"}),Et})();function Xi(Et){return{matches:"all"===Et||""===Et,media:Et,addListener:()=>{},removeListener:()=>{}}}let zi=(()=>{class Et{constructor(Te,vt){this._mediaMatcher=Te,this._zone=vt,this._queries=new Map,this._destroySubject=new be.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Te){return Nr((0,Mr.Eq)(Te)).some(Pt=>this._registerQuery(Pt).mql.matches)}observe(Te){const Pt=Nr((0,Mr.Eq)(Te)).map(rr=>this._registerQuery(rr).observable);let tn=(0,Li.a)(Pt);return tn=(0,$o.z)(tn.pipe((0,ds.q)(1)),tn.pipe(cr(1),(0,Ho.b)(0))),tn.pipe((0,hs.U)(rr=>{const ni={matches:!1,breakpoints:{}};return rr.forEach(({matches:so,query:qi})=>{ni.matches=ni.matches||so,ni.breakpoints[qi]=so}),ni}))}_registerQuery(Te){if(this._queries.has(Te))return this._queries.get(Te);const vt=this._mediaMatcher.matchMedia(Te),tn={observable:new ro.y(rr=>{const ni=so=>this._zone.run(()=>rr.next(so));return vt.addListener(ni),()=>{vt.removeListener(ni)}}).pipe((0,Vi.O)(vt),(0,hs.U)(({matches:rr})=>({query:Te,matches:rr})),Di(this._destroySubject)),mql:vt};return this._queries.set(Te,tn),tn}}return Et.\u0275fac=function(Te){return new(Te||Et)(j.LFG(_i),j.LFG(j.R0b))},Et.\u0275prov=j.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"}),Et})();function Nr(Et){return Et.map(Fe=>Fe.split(",")).reduce((Fe,Te)=>Fe.concat(Te)).map(Fe=>Fe.trim())}function tr(Et){return 0===Et.buttons||0===Et.offsetX&&0===Et.offsetY}function la(Et){const Fe=Et.touches&&Et.touches[0]||Et.changedTouches&&Et.changedTouches[0];return!(!Fe||-1!==Fe.identifier||null!=Fe.radiusX&&1!==Fe.radiusX||null!=Fe.radiusY&&1!==Fe.radiusY)}const Ha=new j.OlP("cdk-input-modality-detector-options"),eo={ignoreKeys:[18,17,224,91,16]},Io=(0,h.i$)({passive:!0,capture:!0});let No=(()=>{class Et{get mostRecentModality(){return this._modality.value}constructor(Te,vt,Pt,tn){this._platform=Te,this._mostRecentTarget=null,this._modality=new ye.X(null),this._lastTouchMs=0,this._onKeydown=rr=>{this._options?.ignoreKeys?.some(ni=>ni===rr.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,h.sA)(rr))},this._onMousedown=rr=>{Date.now()-this._lastTouchMs<650||(this._modality.next(tr(rr)?"keyboard":"mouse"),this._mostRecentTarget=(0,h.sA)(rr))},this._onTouchstart=rr=>{la(rr)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,h.sA)(rr))},this._options={...eo,...tn},this.modalityDetected=this._modality.pipe(cr(1)),this.modalityChanged=this.modalityDetected.pipe((0,qn.x)()),Te.isBrowser&&vt.runOutsideAngular(()=>{Pt.addEventListener("keydown",this._onKeydown,Io),Pt.addEventListener("mousedown",this._onMousedown,Io),Pt.addEventListener("touchstart",this._onTouchstart,Io)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Io),document.removeEventListener("mousedown",this._onMousedown,Io),document.removeEventListener("touchstart",this._onTouchstart,Io))}}return Et.\u0275fac=function(Te){return new(Te||Et)(j.LFG(h.t4),j.LFG(j.R0b),j.LFG(w.K0),j.LFG(Ha,8))},Et.\u0275prov=j.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"}),Et})();const Sa=new j.OlP("cdk-focus-monitor-default-options"),ss=(0,h.i$)({passive:!0,capture:!0});let po=(()=>{class Et{constructor(Te,vt,Pt,tn,rr){this._ngZone=Te,this._platform=vt,this._inputModalityDetector=Pt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new be.x,this._rootNodeFocusAndBlurListener=ni=>{for(let qi=(0,h.sA)(ni);qi;qi=qi.parentElement)"focus"===ni.type?this._onFocus(ni,qi):this._onBlur(ni,qi)},this._document=tn,this._detectionMode=rr?.detectionMode||0}monitor(Te,vt=!1){const Pt=(0,Mr.fI)(Te);if(!this._platform.isBrowser||1!==Pt.nodeType)return(0,ne.of)(null);const tn=(0,h.kV)(Pt)||this._getDocument(),rr=this._elementInfo.get(Pt);if(rr)return vt&&(rr.checkChildren=!0),rr.subject;const ni={checkChildren:vt,subject:new be.x,rootNode:tn};return this._elementInfo.set(Pt,ni),this._registerGlobalListeners(ni),ni.subject}stopMonitoring(Te){const vt=(0,Mr.fI)(Te),Pt=this._elementInfo.get(vt);Pt&&(Pt.subject.complete(),this._setClasses(vt),this._elementInfo.delete(vt),this._removeGlobalListeners(Pt))}focusVia(Te,vt,Pt){const tn=(0,Mr.fI)(Te);tn===this._getDocument().activeElement?this._getClosestElementsInfo(tn).forEach(([ni,so])=>this._originChanged(ni,vt,so)):(this._setOrigin(vt),"function"==typeof tn.focus&&tn.focus(Pt))}ngOnDestroy(){this._elementInfo.forEach((Te,vt)=>this.stopMonitoring(vt))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Te){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Te)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Te&&this._isLastInteractionFromInputLabel(Te)?"mouse":"program"}_shouldBeAttributedToTouch(Te){return 1===this._detectionMode||!!Te?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Te,vt){Te.classList.toggle("cdk-focused",!!vt),Te.classList.toggle("cdk-touch-focused","touch"===vt),Te.classList.toggle("cdk-keyboard-focused","keyboard"===vt),Te.classList.toggle("cdk-mouse-focused","mouse"===vt),Te.classList.toggle("cdk-program-focused","program"===vt)}_setOrigin(Te,vt=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Te,this._originFromTouchInteraction="touch"===Te&&vt,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Te,vt){const Pt=this._elementInfo.get(vt),tn=(0,h.sA)(Te);!Pt||!Pt.checkChildren&&vt!==tn||this._originChanged(vt,this._getFocusOrigin(tn),Pt)}_onBlur(Te,vt){const Pt=this._elementInfo.get(vt);!Pt||Pt.checkChildren&&Te.relatedTarget instanceof Node&&vt.contains(Te.relatedTarget)||(this._setClasses(vt),this._emitOrigin(Pt,null))}_emitOrigin(Te,vt){Te.subject.observers.length&&this._ngZone.run(()=>Te.subject.next(vt))}_registerGlobalListeners(Te){if(!this._platform.isBrowser)return;const vt=Te.rootNode,Pt=this._rootNodeFocusListenerCount.get(vt)||0;Pt||this._ngZone.runOutsideAngular(()=>{vt.addEventListener("focus",this._rootNodeFocusAndBlurListener,ss),vt.addEventListener("blur",this._rootNodeFocusAndBlurListener,ss)}),this._rootNodeFocusListenerCount.set(vt,Pt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Di(this._stopInputModalityDetector)).subscribe(tn=>{this._setOrigin(tn,!0)}))}_removeGlobalListeners(Te){const vt=Te.rootNode;if(this._rootNodeFocusListenerCount.has(vt)){const Pt=this._rootNodeFocusListenerCount.get(vt);Pt>1?this._rootNodeFocusListenerCount.set(vt,Pt-1):(vt.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ss),vt.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ss),this._rootNodeFocusListenerCount.delete(vt))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Te,vt,Pt){this._setClasses(Te,vt),this._emitOrigin(Pt,vt),this._lastFocusOrigin=vt}_getClosestElementsInfo(Te){const vt=[];return this._elementInfo.forEach((Pt,tn)=>{(tn===Te||Pt.checkChildren&&tn.contains(Te))&&vt.push([tn,Pt])}),vt}_isLastInteractionFromInputLabel(Te){const{_mostRecentTarget:vt,mostRecentModality:Pt}=this._inputModalityDetector;if("mouse"!==Pt||!vt||vt===Te||"INPUT"!==Te.nodeName&&"TEXTAREA"!==Te.nodeName||Te.disabled)return!1;const tn=Te.labels;if(tn)for(let rr=0;rr<tn.length;rr++)if(tn[rr].contains(vt))return!0;return!1}}return Et.\u0275fac=function(Te){return new(Te||Et)(j.LFG(j.R0b),j.LFG(h.t4),j.LFG(No),j.LFG(w.K0,8),j.LFG(Sa,8))},Et.\u0275prov=j.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"}),Et})();const ua="cdk-high-contrast-black-on-white",Os="cdk-high-contrast-white-on-black",yc="cdk-high-contrast-active";let Dt=(()=>{class Et{constructor(Te,vt){this._platform=Te,this._document=vt,this._breakpointSubscription=(0,j.f3M)(zi).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Te=this._document.createElement("div");Te.style.backgroundColor="rgb(1,2,3)",Te.style.position="absolute",this._document.body.appendChild(Te);const vt=this._document.defaultView||window,Pt=vt&&vt.getComputedStyle?vt.getComputedStyle(Te):null,tn=(Pt&&Pt.backgroundColor||"").replace(/ /g,"");switch(Te.remove(),tn){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Te=this._document.body.classList;Te.remove(yc,ua,Os),this._hasCheckedHighContrastMode=!0;const vt=this.getHighContrastMode();1===vt?Te.add(yc,ua):2===vt&&Te.add(yc,Os)}}}return Et.\u0275fac=function(Te){return new(Te||Et)(j.LFG(h.t4),j.LFG(w.K0))},Et.\u0275prov=j.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"}),Et})()},1281:(Qt,Ye,U)=>{"use strict";U.d(Ye,{Eq:()=>be,Ig:()=>j,fI:()=>Ne});var w=U(4650);function j(Se){return null!=Se&&"false"!=`${Se}`}function be(Se){return Array.isArray(Se)?Se:[Se]}function Ne(Se){return Se instanceof w.SBq?Se.nativeElement:Se}},3353:(Qt,Ye,U)=>{"use strict";U.d(Ye,{Oy:()=>Ge,i$:()=>ge,kV:()=>ut,sA:()=>ot,t4:()=>ye});var w=U(4650),j=U(6895);let h;try{h=typeof Intl<"u"&&Intl.v8BreakIterator}catch{h=!1}let Se,Ut,ye=(()=>{class Le{constructor(Mt){this._platformId=Mt,this.isBrowser=this._platformId?(0,j.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!h)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return Le.\u0275fac=function(Mt){return new(Mt||Le)(w.LFG(w.Lbi))},Le.\u0275prov=w.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})();function ge(Le){return function fe(){if(null==Se&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Se=!0}))}finally{Se=Se||!1}return Se}()?Le:!!Le.capture}function ut(Le){if(function tt(){if(null==Ut){const Le=typeof document<"u"?document.head:null;Ut=!(!Le||!Le.createShadowRoot&&!Le.attachShadow)}return Ut}()){const Qe=Le.getRootNode?Le.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&Qe instanceof ShadowRoot)return Qe}return null}function ot(Le){return Le.composedPath?Le.composedPath()[0]:Le.target}function Ge(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6895:(Qt,Ye,U)=>{"use strict";U.d(Ye,{Do:()=>xe,EM:()=>rs,HT:()=>ye,JF:()=>nc,K0:()=>ne,Mx:()=>wo,NF:()=>Ws,O5:()=>Be,PM:()=>Po,S$:()=>Ut,V_:()=>Se,Ye:()=>ot,b0:()=>ut,bD:()=>Ms,ez:()=>ns,q:()=>h,sg:()=>Fi,w_:()=>be});var w=U(4650);let j=null;function h(){return j}function ye(k){j||(j=k)}class be{}const ne=new w.OlP("DocumentToken");let Ne=(()=>{class k{historyGo(V){throw new Error("Not implemented")}}return k.\u0275fac=function(V){return new(V||k)},k.\u0275prov=w.Yz7({token:k,factory:function(){return function me(){return(0,w.LFG)(fe)}()},providedIn:"platform"}),k})();const Se=new w.OlP("Location Initialized");let fe=(()=>{class k extends Ne{constructor(V){super(),this._doc=V,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return h().getBaseHref(this._doc)}onPopState(V){const ie=h().getGlobalEventTarget(this._doc,"window");return ie.addEventListener("popstate",V,!1),()=>ie.removeEventListener("popstate",V)}onHashChange(V){const ie=h().getGlobalEventTarget(this._doc,"window");return ie.addEventListener("hashchange",V,!1),()=>ie.removeEventListener("hashchange",V)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(V){this._location.pathname=V}pushState(V,ie,Ae){ge()?this._history.pushState(V,ie,Ae):this._location.hash=Ae}replaceState(V,ie,Ae){ge()?this._history.replaceState(V,ie,Ae):this._location.hash=Ae}forward(){this._history.forward()}back(){this._history.back()}historyGo(V=0){this._history.go(V)}getState(){return this._history.state}}return k.\u0275fac=function(V){return new(V||k)(w.LFG(ne))},k.\u0275prov=w.Yz7({token:k,factory:function(){return function ve(){return new fe((0,w.LFG)(ne))}()},providedIn:"platform"}),k})();function ge(){return!!window.history.pushState}function je(k,W){if(0==k.length)return W;if(0==W.length)return k;let V=0;return k.endsWith("/")&&V++,W.startsWith("/")&&V++,2==V?k+W.substring(1):1==V?k+W:k+"/"+W}function nt(k){const W=k.match(/#|\?|$/),V=W&&W.index||k.length;return k.slice(0,V-("/"===k[V-1]?1:0))+k.slice(V)}function St(k){return k&&"?"!==k[0]?"?"+k:k}let Ut=(()=>{class k{historyGo(V){throw new Error("Not implemented")}}return k.\u0275fac=function(V){return new(V||k)},k.\u0275prov=w.Yz7({token:k,factory:function(){return(0,w.f3M)(ut)},providedIn:"root"}),k})();const tt=new w.OlP("appBaseHref");let ut=(()=>{class k extends Ut{constructor(V,ie){super(),this._platformLocation=V,this._removeListenerFns=[],this._baseHref=ie??this._platformLocation.getBaseHrefFromDOM()??(0,w.f3M)(ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}prepareExternalUrl(V){return je(this._baseHref,V)}path(V=!1){const ie=this._platformLocation.pathname+St(this._platformLocation.search),Ae=this._platformLocation.hash;return Ae&&V?`${ie}${Ae}`:ie}pushState(V,ie,Ae,I){const x=this.prepareExternalUrl(Ae+St(I));this._platformLocation.pushState(V,ie,x)}replaceState(V,ie,Ae,I){const x=this.prepareExternalUrl(Ae+St(I));this._platformLocation.replaceState(V,ie,x)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}}return k.\u0275fac=function(V){return new(V||k)(w.LFG(Ne),w.LFG(tt,8))},k.\u0275prov=w.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),xe=(()=>{class k extends Ut{constructor(V,ie){super(),this._platformLocation=V,this._baseHref="",this._removeListenerFns=[],null!=ie&&(this._baseHref=ie)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}path(V=!1){let ie=this._platformLocation.hash;return null==ie&&(ie="#"),ie.length>0?ie.substring(1):ie}prepareExternalUrl(V){const ie=je(this._baseHref,V);return ie.length>0?"#"+ie:ie}pushState(V,ie,Ae,I){let x=this.prepareExternalUrl(Ae+St(I));0==x.length&&(x=this._platformLocation.pathname),this._platformLocation.pushState(V,ie,x)}replaceState(V,ie,Ae,I){let x=this.prepareExternalUrl(Ae+St(I));0==x.length&&(x=this._platformLocation.pathname),this._platformLocation.replaceState(V,ie,x)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}}return k.\u0275fac=function(V){return new(V||k)(w.LFG(Ne),w.LFG(tt,8))},k.\u0275prov=w.Yz7({token:k,factory:k.\u0275fac}),k})(),ot=(()=>{class k{constructor(V){this._subject=new w.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=V;const ie=this._locationStrategy.getBaseHref();this._basePath=function Mt(k){if(new RegExp("^(https?:)?//").test(k)){const[,V]=k.split(/\/\/[^\/]+/);return V}return k}(nt(Qe(ie))),this._locationStrategy.onPopState(Ae=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ae.state,type:Ae.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(V=!1){return this.normalize(this._locationStrategy.path(V))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(V,ie=""){return this.path()==this.normalize(V+St(ie))}normalize(V){return k.stripTrailingSlash(function Le(k,W){if(!k||!W.startsWith(k))return W;const V=W.substring(k.length);return""===V||["/",";","?","#"].includes(V[0])?V:W}(this._basePath,Qe(V)))}prepareExternalUrl(V){return V&&"/"!==V[0]&&(V="/"+V),this._locationStrategy.prepareExternalUrl(V)}go(V,ie="",Ae=null){this._locationStrategy.pushState(Ae,"",V,ie),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+St(ie)),Ae)}replaceState(V,ie="",Ae=null){this._locationStrategy.replaceState(Ae,"",V,ie),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+St(ie)),Ae)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(V=0){this._locationStrategy.historyGo?.(V)}onUrlChange(V){return this._urlChangeListeners.push(V),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ie=>{this._notifyUrlChangeListeners(ie.url,ie.state)})),()=>{const ie=this._urlChangeListeners.indexOf(V);this._urlChangeListeners.splice(ie,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(V="",ie){this._urlChangeListeners.forEach(Ae=>Ae(V,ie))}subscribe(V,ie,Ae){return this._subject.subscribe({next:V,error:ie,complete:Ae})}}return k.normalizeQueryParams=St,k.joinWithSlash=je,k.stripTrailingSlash=nt,k.\u0275fac=function(V){return new(V||k)(w.LFG(Ut))},k.\u0275prov=w.Yz7({token:k,factory:function(){return function Ge(){return new ot((0,w.LFG)(Ut))}()},providedIn:"root"}),k})();function Qe(k){return k.replace(/\/index.html$/,"")}function wo(k,W){W=encodeURIComponent(W);for(const V of k.split(";")){const ie=V.indexOf("="),[Ae,I]=-1==ie?[V,""]:[V.slice(0,ie),V.slice(ie+1)];if(Ae.trim()===W)return decodeURIComponent(I)}return null}class ei{constructor(W,V,ie,Ae){this.$implicit=W,this.ngForOf=V,this.index=ie,this.count=Ae}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fi=(()=>{class k{set ngForOf(V){this._ngForOf=V,this._ngForOfDirty=!0}set ngForTrackBy(V){this._trackByFn=V}get ngForTrackBy(){return this._trackByFn}constructor(V,ie,Ae){this._viewContainer=V,this._template=ie,this._differs=Ae,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(V){V&&(this._template=V)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const V=this._ngForOf;!this._differ&&V&&(this._differ=this._differs.find(V).create(this.ngForTrackBy))}if(this._differ){const V=this._differ.diff(this._ngForOf);V&&this._applyChanges(V)}}_applyChanges(V){const ie=this._viewContainer;V.forEachOperation((Ae,I,x)=>{if(null==Ae.previousIndex)ie.createEmbeddedView(this._template,new ei(Ae.item,this._ngForOf,-1,-1),null===x?void 0:x);else if(null==x)ie.remove(null===I?void 0:I);else if(null!==I){const z=ie.get(I);ie.move(z,x),jr(z,Ae)}});for(let Ae=0,I=ie.length;Ae<I;Ae++){const z=ie.get(Ae).context;z.index=Ae,z.count=I,z.ngForOf=this._ngForOf}V.forEachIdentityChange(Ae=>{jr(ie.get(Ae.currentIndex),Ae)})}static ngTemplateContextGuard(V,ie){return!0}}return k.\u0275fac=function(V){return new(V||k)(w.Y36(w.s_b),w.Y36(w.Rgc),w.Y36(w.ZZ4))},k.\u0275dir=w.lG2({type:k,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),k})();function jr(k,W){k.context.$implicit=W.item}let Be=(()=>{class k{constructor(V,ie){this._viewContainer=V,this._context=new Ue,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ie}set ngIf(V){this._context.$implicit=this._context.ngIf=V,this._updateView()}set ngIfThen(V){xt("ngIfThen",V),this._thenTemplateRef=V,this._thenViewRef=null,this._updateView()}set ngIfElse(V){xt("ngIfElse",V),this._elseTemplateRef=V,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(V,ie){return!0}}return k.\u0275fac=function(V){return new(V||k)(w.Y36(w.s_b),w.Y36(w.Rgc))},k.\u0275dir=w.lG2({type:k,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),k})();class Ue{constructor(){this.$implicit=null,this.ngIf=null}}function xt(k,W){if(W&&!W.createEmbeddedView)throw new Error(`${k} must be a TemplateRef, but received '${(0,w.AaK)(W)}'.`)}let ns=(()=>{class k{}return k.\u0275fac=function(V){return new(V||k)},k.\u0275mod=w.oAB({type:k}),k.\u0275inj=w.cJS({}),k})();const Ms="browser",Ro="server";function Ws(k){return k===Ms}function Po(k){return k===Ro}let rs=(()=>{class k{}return k.\u0275prov=(0,w.Yz7)({token:k,providedIn:"root",factory:()=>new qo((0,w.LFG)(ne),window)}),k})();class qo{constructor(W,V){this.document=W,this.window=V,this.offset=()=>[0,0]}setOffset(W){this.offset=Array.isArray(W)?()=>W:W}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(W){this.supportsScrolling()&&this.window.scrollTo(W[0],W[1])}scrollToAnchor(W){if(!this.supportsScrolling())return;const V=function Rs(k,W){const V=k.getElementById(W)||k.getElementsByName(W)[0];if(V)return V;if("function"==typeof k.createTreeWalker&&k.body&&(k.body.createShadowRoot||k.body.attachShadow)){const ie=k.createTreeWalker(k.body,NodeFilter.SHOW_ELEMENT);let Ae=ie.currentNode;for(;Ae;){const I=Ae.shadowRoot;if(I){const x=I.getElementById(W)||I.querySelector(`[name="${W}"]`);if(x)return x}Ae=ie.nextNode()}}return null}(this.document,W);V&&(this.scrollToElement(V),V.focus())}setHistoryScrollRestoration(W){if(this.supportScrollRestoration()){const V=this.window.history;V&&V.scrollRestoration&&(V.scrollRestoration=W)}}scrollToElement(W){const V=W.getBoundingClientRect(),ie=V.left+this.window.pageXOffset,Ae=V.top+this.window.pageYOffset,I=this.offset();this.window.scrollTo(ie-I[0],Ae-I[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const W=ho(this.window.history)||ho(Object.getPrototypeOf(this.window.history));return!(!W||!W.writable&&!W.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ho(k){return Object.getOwnPropertyDescriptor(k,"scrollRestoration")}class nc{}},4650:(Qt,Ye,U)=>{"use strict";U.d(Ye,{$8M:()=>pl,$WT:()=>wi,$Z:()=>xu,AFp:()=>n0,ALo:()=>Cb,AaK:()=>me,BQk:()=>md,CHM:()=>Et,CRH:()=>Ob,CZH:()=>dv,CqO:()=>gd,D6c:()=>xE,EJc:()=>Gw,EiD:()=>nd,EpF:()=>$u,F$t:()=>Kg,F4k:()=>qg,FYo:()=>Uh,FiY:()=>Pc,Gf:()=>Rb,GfV:()=>Lf,Gpc:()=>ge,Hsn:()=>Yg,JOm:()=>Ya,JVY:()=>ig,JZr:()=>Ut,KtG:()=>Fe,L6k:()=>Ph,LAX:()=>A_,LFG:()=>vn,LSH:()=>rd,Lbi:()=>jw,Lck:()=>L0,MAs:()=>gp,MMx:()=>Rv,MR2:()=>Gp,NdJ:()=>vp,OlP:()=>zr,Oqu:()=>gh,P3R:()=>Hp,PXZ:()=>sE,Q6J:()=>Mm,QGY:()=>ph,QbO:()=>$w,Qsj:()=>jy,R0b:()=>Zu,RDi:()=>Bo,Rgc:()=>Oy,SBq:()=>Ja,Sil:()=>qw,Suo:()=>Pb,TTD:()=>Wo,TgZ:()=>hh,W1O:()=>Lb,X6Q:()=>dE,XFs:()=>Kt,Xpm:()=>cn,Xts:()=>id,Y36:()=>cd,YKP:()=>lb,YNc:()=>xm,Yjl:()=>dr,Yz7:()=>zt,Z0I:()=>Or,ZZ4:()=>rb,_Bn:()=>cb,_UZ:()=>Rm,_Vd:()=>Ff,_c5:()=>AE,_uU:()=>s_,aQg:()=>ib,c2e:()=>Hw,cJS:()=>Rn,cg1:()=>p_,dDg:()=>nE,dqk:()=>Qn,eBb:()=>T_,eFA:()=>g0,eJc:()=>jv,ekj:()=>i_,eoX:()=>h0,f3M:()=>re,g9A:()=>o0,h0i:()=>w_,hGG:()=>SE,hij:()=>Lm,iGM:()=>Mb,ifc:()=>oe,ip1:()=>t0,jDz:()=>db,kL8:()=>g_,lG2:()=>Bn,lcZ:()=>Ib,lqb:()=>Bc,lri:()=>u0,mCW:()=>Oh,n5z:()=>_o,oAB:()=>it,oxw:()=>Pm,pB0:()=>Cs,q3G:()=>Yr,q4F:()=>Uf,qLn:()=>bu,qOj:()=>Cm,qZA:()=>sf,qzn:()=>mu,rWj:()=>d0,s9C:()=>mh,sBO:()=>hE,s_b:()=>cv,soG:()=>hv,tb:()=>p0,tp0:()=>ml,uIk:()=>fp,vHH:()=>tt,vpe:()=>wh,wAp:()=>Er,xp6:()=>$f,ynx:()=>fh,z2F:()=>fv,z3N:()=>Qa,zSh:()=>Nf,zs3:()=>Zd});var w=U(7579),j=U(727),h=U(9751),ye=U(6451),be=U(3099);function ne(n){for(let i in n)if(n[i]===ne)return i;throw Error("Could not find renamed property on target object.")}function Ne(n,i){for(const s in i)i.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=i[s])}function me(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(me).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function Se(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const fe=ne({__forward_ref__:ne});function ge(n){return n.__forward_ref__=ge,n.toString=function(){return me(this())},n}function ve(n){return je(n)?n():n}function je(n){return"function"==typeof n&&n.hasOwnProperty(fe)&&n.__forward_ref__===ge}function nt(n){return n&&!!n.\u0275providers}const Ut="https://g.co/ng/security#xss";class tt extends Error{constructor(i,s){super(ut(i,s)),this.code=i}}function ut(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function xe(n){return"string"==typeof n?n:null==n?"":String(n)}function Mt(n,i){throw new tt(-201,!1)}function Xe(n,i){null==n&&function Ve(n,i,s,d){throw new Error(`ASSERTION ERROR: ${n}`+(null==d?"":` [Expected=> ${s} ${d} ${i} <=Actual]`))}(i,n,null,"!=")}function zt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Rn(n){return{providers:n.providers||[],imports:n.imports||[]}}function er(n){return Gn(n,Vr)||Gn(n,$n)}function Or(n){return null!==er(n)}function Gn(n,i){return n.hasOwnProperty(i)?n[i]:null}function yr(n){return n&&(n.hasOwnProperty(Nn)||n.hasOwnProperty(An))?n[Nn]:null}const Vr=ne({\u0275prov:ne}),Nn=ne({\u0275inj:ne}),$n=ne({ngInjectableDef:ne}),An=ne({ngInjectorDef:ne});var Kt=(()=>((Kt=Kt||{})[Kt.Default=0]="Default",Kt[Kt.Host=1]="Host",Kt[Kt.Self=2]="Self",Kt[Kt.SkipSelf=4]="SkipSelf",Kt[Kt.Optional=8]="Optional",Kt))();let Pn;function Ar(n){const i=Pn;return Pn=n,i}function $r(n,i,s){const d=er(n);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:s&Kt.Optional?null:void 0!==i?i:void Mt(me(n))}const Qn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),kn={},yn="__NG_DI_FLAG__",Cr="ngTempTokenPath",hi="ngTokenPath",pr=/\n/gm,ri="\u0275",Un="__source";let pi;function ir(n){const i=pi;return pi=n,i}function vr(n,i=Kt.Default){if(void 0===pi)throw new tt(-203,!1);return null===pi?$r(n,void 0,i):pi.get(n,i&Kt.Optional?null:void 0,i)}function vn(n,i=Kt.Default){return(function Ir(){return Pn}()||vr)(ve(n),i)}function re(n,i=Kt.Default){return vn(n,Ie(i))}function Ie(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function lt(n){const i=[];for(let s=0;s<n.length;s++){const d=ve(n[s]);if(Array.isArray(d)){if(0===d.length)throw new tt(900,!1);let p,_=Kt.Default;for(let C=0;C<d.length;C++){const O=d[C],B=wt(O);"number"==typeof B?-1===B?p=O.token:_|=B:p=O}i.push(vn(p,_))}else i.push(vn(d))}return i}function qt(n,i){return n[yn]=i,n.prototype[yn]=i,n}function wt(n){return n[yn]}function se(n){return{toString:n}.toString()}var X=(()=>((X=X||{})[X.OnPush=0]="OnPush",X[X.Default=1]="Default",X))(),oe=(()=>{return(n=oe||(oe={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",oe;var n})();const ee={},ke=[],_e=ne({\u0275cmp:ne}),Ce=ne({\u0275dir:ne}),ue=ne({\u0275pipe:ne}),Oe=ne({\u0275mod:ne}),dt=ne({\u0275fac:ne}),Rt=ne({__NG_ELEMENT_ID__:ne});let Zt=0;function cn(n){return se(()=>{const i=us(n),s={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===X.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||oe.Emulated,id:"c"+Zt++,styles:n.styles||ke,_:null,schemas:n.schemas||null,tView:null};ki(s);const d=n.dependencies;return s.directiveDefs=wo(d,!1),s.pipeDefs=wo(d,!0),s})}function xr(n){return wn(n)||Sr(n)}function st(n){return null!==n}function it(n){return se(()=>({type:n.type,bootstrap:n.bootstrap||ke,declarations:n.declarations||ke,imports:n.imports||ke,exports:n.exports||ke,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Ht(n,i){if(null==n)return ee;const s={};for(const d in n)if(n.hasOwnProperty(d)){let p=n[d],_=p;Array.isArray(p)&&(_=p[1],p=p[0]),s[p]=d,i&&(i[p]=_)}return s}function Bn(n){return se(()=>{const i=us(n);return ki(i),i})}function dr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function wn(n){return n[_e]||null}function Sr(n){return n[Ce]||null}function sr(n){return n[ue]||null}function wi(n){const i=wn(n)||Sr(n)||sr(n);return null!==i&&i.standalone}function mi(n,i){const s=n[Oe]||null;if(!s&&!0===i)throw new Error(`Type ${me(n)} does not have '\u0275mod' property.`);return s}function us(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||ke,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ht(n.inputs,i),outputs:Ht(n.outputs)}}function ki(n){n.features?.forEach(i=>i(n))}function wo(n,i){if(!n)return null;const s=i?sr:xr;return()=>("function"==typeof n?n():n).map(d=>s(d)).filter(st)}const qr=0,un=1,ar=2,Xr=3,Lr=4,Eo=5,ei=6,Fi=7,jr=8,We=9,Be=10,Ue=11,xt=12,jt=13,Vn=14,cr=15,qn=16,Jn=17,Ci=18,Ii=19,Hi=20,Di=21,Mr=22,$o=1,ro=2,ds=7,Ho=8,hs=9,Vi=10;function ji(n){return Array.isArray(n)&&"object"==typeof n[$o]}function gi(n){return Array.isArray(n)&&!0===n[$o]}function _i(n){return 0!=(4&n.flags)}function xo(n){return n.componentOffset>-1}function Xi(n){return 1==(1&n.flags)}function zi(n){return!!n.template}function Nr(n){return 0!=(256&n[ar])}function uo(n,i){return n.hasOwnProperty(dt)?n[dt]:null}class Co{constructor(i,s,d){this.previousValue=i,this.currentValue=s,this.firstChange=d}isFirstChange(){return this.firstChange}}function Wo(){return rs}function rs(n){return n.type.prototype.ngOnChanges&&(n.setInput=ho),qo}function qo(){const n=tc(this),i=n?.current;if(i){const s=n.previous;if(s===ee)n.previous=i;else for(let d in i)s[d]=i[d];n.current=null,this.ngOnChanges(i)}}function ho(n,i,s,d){const p=this.declaredInputs[s],_=tc(n)||function nc(n,i){return n[Rs]=i}(n,{previous:ee,current:null}),C=_.current||(_.current={}),O=_.previous,B=O[p];C[p]=new Co(B&&B.currentValue,i,O===ee),n[d]=i}Wo.ngInherit=!0;const Rs="__ngSimpleChanges__";function tc(n){return n[Rs]||null}const ii=function(n,i,s){};function oi(n){for(;Array.isArray(n);)n=n[qr];return n}function Ps(n,i){return oi(i[n])}function tr(n,i){return oi(i[n.index])}function Ha(n,i){return n.data[i]}function eo(n,i){return n[i]}function ci(n,i){const s=i[n];return ji(s)?s:s[qr]}function No(n){return 64==(64&n[ar])}function Wi(n,i){return null==i?null:n[i]}function Aa(n){n[Ci]=0}function oo(n,i){n[Eo]+=i;let s=n,d=n[Xr];for(;null!==d&&(1===i&&1===s[Eo]||-1===i&&0===s[Eo]);)d[Eo]+=i,s=d,d=d[Xr]}const jn={lFrame:Ks(null),bindingsEnabled:!0};function ua(){return jn.bindingsEnabled}function Dt(){return jn.lFrame.lView}function nr(){return jn.lFrame.tView}function Et(n){return jn.lFrame.contextLView=n,n[jr]}function Fe(n){return jn.lFrame.contextLView=null,n}function Te(){let n=vt();for(;null!==n&&64===n.type;)n=n.parent;return n}function vt(){return jn.lFrame.currentTNode}function tn(n,i){const s=jn.lFrame;s.currentTNode=n,s.isParent=i}function rr(){return jn.lFrame.isParent}function ni(){jn.lFrame.isParent=!1}function Yo(){return jn.lFrame.bindingIndex++}function za(n,i){const s=jn.lFrame;s.bindingIndex=s.bindingRootIndex=n,li(i)}function li(n){jn.lFrame.currentDirectiveIndex=n}function ms(){return jn.lFrame.currentQueryIndex}function Zr(n){jn.lFrame.currentQueryIndex=n}function Ns(n){const i=n[un];return 2===i.type?i.declTNode:1===i.type?n[ei]:null}function Zs(n,i,s){if(s&Kt.SkipSelf){let p=i,_=n;for(;!(p=p.parent,null!==p||s&Kt.Host||(p=Ns(_),null===p||(_=_[cr],10&p.type))););if(null===p)return!1;i=p,n=_}const d=jn.lFrame=Qo();return d.currentTNode=i,d.lView=n,!0}function ao(n){const i=Qo(),s=n[un];jn.lFrame=i,i.currentTNode=s.firstChild,i.lView=n,i.tView=s,i.contextLView=n,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function Qo(){const n=jn.lFrame,i=null===n?null:n.child;return null===i?Ks(n):i}function Ks(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function ks(){const n=jn.lFrame;return jn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Jo=ks;function Ma(){const n=ks();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Hr(){return jn.lFrame.selectedIndex}function ko(n){jn.lFrame.selectedIndex=n}function fi(){const n=jn.lFrame;return Ha(n.tView,n.selectedIndex)}function gs(n,i){for(let s=i.directiveStart,d=i.directiveEnd;s<d;s++){const _=n.data[s].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:O,ngAfterViewInit:B,ngAfterViewChecked:q,ngOnDestroy:ae}=_;C&&(n.contentHooks??(n.contentHooks=[])).push(-s,C),O&&((n.contentHooks??(n.contentHooks=[])).push(s,O),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(s,O)),B&&(n.viewHooks??(n.viewHooks=[])).push(-s,B),q&&((n.viewHooks??(n.viewHooks=[])).push(s,q),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(s,q)),null!=ae&&(n.destroyHooks??(n.destroyHooks=[])).push(s,ae)}}function rc(n,i,s){W(n,i,3,s)}function da(n,i,s,d){(3&n[ar])===s&&W(n,i,s,d)}function k(n,i){let s=n[ar];(3&s)===i&&(s&=2047,s+=1,n[ar]=s)}function W(n,i,s,d){const _=d??-1,C=i.length-1;let O=0;for(let B=void 0!==d?65535&n[Ci]:0;B<C;B++)if("number"==typeof i[B+1]){if(O=i[B],null!=d&&O>=d)break}else i[B]<0&&(n[Ci]+=65536),(O<_||-1==_)&&(V(n,s,i,B),n[Ci]=(4294901760&n[Ci])+B+2),B++}function V(n,i,s,d){const p=s[d]<0,_=s[d+1],O=n[p?-s[d]:s[d]];if(p){if(n[ar]>>11<n[Ci]>>16&&(3&n[ar])===i){n[ar]+=2048,ii(4,O,_);try{_.call(O)}finally{ii(5,O,_)}}}else{ii(4,O,_);try{_.call(O)}finally{ii(5,O,_)}}}const ie=-1;class Ae{constructor(i,s,d){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=d}}function Sn(n,i,s){let d=0;for(;d<s.length;){const p=s[d];if("number"==typeof p){if(0!==p)break;d++;const _=s[d++],C=s[d++],O=s[d++];n.setAttribute(i,C,O,_)}else{const _=p,C=s[++d];no(_)?n.setProperty(i,_,C):n.setAttribute(i,_,C),d++}}return d}function Gr(n){return 3===n||4===n||6===n}function no(n){return 64===n.charCodeAt(0)}function nn(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let s=-1;for(let d=0;d<i.length;d++){const p=i[d];"number"==typeof p?s=p:0===s||Dn(n,s,p,null,-1===s||2===s?i[++d]:null)}}return n}function Dn(n,i,s,d,p){let _=0,C=n.length;if(-1===i)C=-1;else for(;_<n.length;){const O=n[_++];if("number"==typeof O){if(O===i){C=-1;break}if(O>i){C=_-1;break}}}for(;_<n.length;){const O=n[_];if("number"==typeof O)break;if(O===s){if(null===d)return void(null!==p&&(n[_+1]=p));if(d===n[_+1])return void(n[_+2]=p)}_++,null!==d&&_++,null!==p&&_++}-1!==C&&(n.splice(C,0,i),_=C+1),n.splice(_++,0,s),null!==d&&n.splice(_++,0,d),null!==p&&n.splice(_++,0,p)}function To(n){return n!==ie}function en(n){return 32767&n}function Ft(n,i){let s=function ht(n){return n>>16}(n),d=i;for(;s>0;)d=d[cr],s--;return d}let co=!0;function dl(n){const i=co;return co=n,i}const Rc=255,ha=5;let Ys=0;const go={};function qa(n,i){const s=hl(n,i);if(-1!==s)return s;const d=i[un];d.firstCreatePass&&(n.injectorIndex=i.length,Za(d.data,n),Za(i,null),Za(d.blueprint,null));const p=Kr(n,i),_=n.injectorIndex;if(To(p)){const C=en(p),O=Ft(p,i),B=O[un].data;for(let q=0;q<8;q++)i[_+q]=O[C+q]|B[C+q]}return i[_+8]=p,_}function Za(n,i){n.push(0,0,0,0,0,0,0,0,i)}function hl(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Kr(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,d=null,p=i;for(;null!==p;){if(d=oc(p),null===d)return ie;if(s++,p=p[cr],-1!==d.injectorIndex)return d.injectorIndex|s<<16}return ie}function or(n,i,s){!function Pa(n,i,s){let d;"string"==typeof s?d=s.charCodeAt(0)||0:s.hasOwnProperty(Rt)&&(d=s[Rt]),null==d&&(d=s[Rt]=Ys++);const p=d&Rc;i.data[n+(p>>ha)]|=1<<p}(n,i,s)}function Rl(n,i,s){if(s&Kt.Optional||void 0!==n)return n;Mt()}function Ti(n,i,s,d){if(s&Kt.Optional&&void 0===d&&(d=null),!(s&(Kt.Self|Kt.Host))){const p=n[We],_=Ar(void 0);try{return p?p.get(i,d,s&Kt.Optional):$r(i,d,s&Kt.Optional)}finally{Ar(_)}}return Rl(d,0,s)}function Hn(n,i,s,d=Kt.Default,p){if(null!==n){if(1024&i[ar]){const C=function ic(n,i,s,d,p){let _=n,C=i;for(;null!==_&&null!==C&&1024&C[ar]&&!(256&C[ar]);){const O=vc(_,C,s,d|Kt.Self,go);if(O!==go)return O;let B=_.parent;if(!B){const q=C[Di];if(q){const ae=q.get(s,go,d);if(ae!==go)return ae}B=oc(C),C=C[cr]}_=B}return p}(n,i,s,d,go);if(C!==go)return C}const _=vc(n,i,s,d,go);if(_!==go)return _}return Ti(i,s,d,p)}function vc(n,i,s,d,p){const _=function hn(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Rt)?n[Rt]:void 0;return"number"==typeof i?i>=0?i&Rc:bc:i}(s);if("function"==typeof _){if(!Zs(i,n,d))return d&Kt.Host?Rl(p,0,d):Ti(i,s,d,p);try{const C=_(d);if(null!=C||d&Kt.Optional)return C;Mt()}finally{Jo()}}else if("number"==typeof _){let C=null,O=hl(n,i),B=ie,q=d&Kt.Host?i[qn][ei]:null;for((-1===O||d&Kt.SkipSelf)&&(B=-1===O?Kr(n,i):i[O+8],B!==ie&&Qs(d,!1)?(C=i[un],O=en(B),i=Ft(B,i)):O=-1);-1!==O;){const ae=i[un];if(Wr(_,O,ae.data)){const De=lr(O,i,s,C,d,q);if(De!==go)return De}B=i[O+8],B!==ie&&Qs(d,i[un].data[O+8]===q)&&Wr(_,O,i)?(C=ae,O=en(B),i=Ft(B,i)):O=-1}}return p}function lr(n,i,s,d,p,_){const C=i[un],O=C.data[n+8],ae=fl(O,C,s,null==d?xo(O)&&co:d!=C&&0!=(3&O.type),p&Kt.Host&&_===O);return null!==ae?gr(i,C,ae,O):go}function fl(n,i,s,d,p){const _=n.providerIndexes,C=i.data,O=1048575&_,B=n.directiveStart,ae=_>>20,Ze=p?O+ae:n.directiveEnd;for(let yt=d?O:O+ae;yt<Ze;yt++){const Lt=C[yt];if(yt<B&&s===Lt||yt>=B&&Lt.type===s)return yt}if(p){const yt=C[B];if(yt&&zi(yt)&&yt.type===s)return B}return null}function gr(n,i,s,d){let p=n[s];const _=i.data;if(function I(n){return n instanceof Ae}(p)){const C=p;C.resolving&&function Ge(n,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new tt(-200,`Circular dependency in DI detected for ${n}${s}`)}(function ot(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():xe(n)}(_[s]));const O=dl(C.canSeeViewProviders);C.resolving=!0;const B=C.injectImpl?Ar(C.injectImpl):null;Zs(n,d,Kt.Default);try{p=n[s]=C.factory(void 0,_,n,d),i.firstCreatePass&&s>=d.directiveStart&&function Oi(n,i,s){const{ngOnChanges:d,ngOnInit:p,ngDoCheck:_}=i.type.prototype;if(d){const C=rs(i);(s.preOrderHooks??(s.preOrderHooks=[])).push(n,C),(s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(n,C)}p&&(s.preOrderHooks??(s.preOrderHooks=[])).push(0-n,p),_&&((s.preOrderHooks??(s.preOrderHooks=[])).push(n,_),(s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(n,_))}(s,_[s],i)}finally{null!==B&&Ar(B),dl(O),C.resolving=!1,Jo()}}return p}function Wr(n,i,s){return!!(s[i+(n>>ha)]&1<<n)}function Qs(n,i){return!(n&Kt.Self||n&Kt.Host&&i)}class Fo{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,d){return Hn(this._tNode,this._lView,i,Ie(d),s)}}function bc(){return new Fo(Te(),Dt())}function _o(n){return se(()=>{const i=n.prototype.constructor,s=i[dt]||cs(i),d=Object.prototype;let p=Object.getPrototypeOf(n.prototype).constructor;for(;p&&p!==d;){const _=p[dt]||cs(p);if(_&&_!==s)return _;p=Object.getPrototypeOf(p)}return _=>new _})}function cs(n){return je(n)?()=>{const i=cs(ve(n));return i&&i()}:uo(n)}function oc(n){const i=n[un],s=i.type;return 2===s?i.declTNode:1===s?n[ei]:null}function pl(n){return function fa(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const s=n.attrs;if(s){const d=s.length;let p=0;for(;p<d;){const _=s[p];if(Gr(_))break;if(0===_)p+=2;else if("number"==typeof _)for(p++;p<d&&"string"==typeof s[p];)p++;else{if(_===i)return s[p+1];p+=2}}}return null}(Te(),n)}const Ka="__parameters__";function pa(n,i,s){return se(()=>{const d=function Js(n){return function(...s){if(n){const d=n(...s);for(const p in d)this[p]=d[p]}}}(i);function p(..._){if(this instanceof p)return d.apply(this,_),this;const C=new p(..._);return O.annotation=C,O;function O(B,q,ae){const De=B.hasOwnProperty(Ka)?B[Ka]:Object.defineProperty(B,Ka,{value:[]})[Ka];for(;De.length<=ae;)De.push(null);return(De[ae]=De[ae]||[]).push(C),B}}return s&&(p.prototype=Object.create(s.prototype)),p.prototype.ngMetadataName=n,p.annotationCls=p,p})}class zr{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=zt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function vs(n,i){n.forEach(s=>Array.isArray(s)?vs(s,i):i(s))}function Ai(n,i,s){i>=n.length?n.push(s):n.splice(i,0,s)}function D(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function S(n,i){const s=[];for(let d=0;d<n;d++)s.push(i);return s}function ce(n,i,s){let d=kt(n,i);return d>=0?n[1|d]=s:(d=~d,function H(n,i,s,d){let p=n.length;if(p==i)n.push(s,d);else if(1===p)n.push(d,n[0]),n[0]=s;else{for(p--,n.push(n[p-1],n[p]);p>i;)n[p]=n[p-2],p--;n[i]=s,n[i+1]=d}}(n,d,i,s)),d}function Ke(n,i){const s=kt(n,i);if(s>=0)return n[1|s]}function kt(n,i){return function mn(n,i,s){let d=0,p=n.length>>s;for(;p!==d;){const _=d+(p-d>>1),C=n[_<<s];if(i===C)return _<<s;C>i?p=_:d=_+1}return~(p<<s)}(n,i,1)}const Pc=qt(pa("Optional"),8),ml=qt(pa("SkipSelf"),4);var Ya=(()=>((Ya=Ya||{})[Ya.Important=1]="Important",Ya[Ya.DashCase=2]="DashCase",Ya))();const Ao=new Map;let uu=0;const Pe="__ngContext__";function He(n,i){ji(i)?(n[Pe]=i[Hi],function kc(n){Ao.set(n[Hi],n)}(i)):n[Pe]=i}let va;function ra(n,i){return va(n,i)}function xd(n){const i=n[Xr];return gi(i)?i[Xr]:i}function La(n){return du(n[jt])}function tl(n){return du(n[Lr])}function du(n){for(;null!==n&&!gi(n);)n=n[Lr];return n}function nl(n,i,s,d,p){if(null!=d){let _,C=!1;gi(d)?_=d:ji(d)&&(C=!0,d=d[qr]);const O=oi(d);0===n&&null!==s?null==p?ba(i,s,O):Ur(i,s,O,p||null,!0):1===n&&null!==s?Ur(i,s,O,p||null,!0):2===n?function Uc(n,i,s){const d=vl(n,i);d&&function Pd(n,i,s,d){n.removeChild(i,s,d)}(n,d,i,s)}(i,O,C):3===n&&i.destroyNode(O),null!=_&&function I_(n,i,s,d,p){const _=s[ds];_!==oi(s)&&nl(i,n,d,_,p);for(let O=Vi;O<s.length;O++){const B=s[O];td(B[un],B,n,i,d,_)}}(i,n,_,s,p)}}function Rd(n,i,s){return n.createElement(i,s)}function R(n,i){const s=n[hs],d=s.indexOf(i),p=i[Xr];512&i[ar]&&(i[ar]&=-513,oo(p,-1)),s.splice(d,1)}function Q(n,i){if(n.length<=Vi)return;const s=Vi+i,d=n[s];if(d){const p=d[Jn];null!==p&&p!==n&&R(p,d),i>0&&(n[s-1][Lr]=d[Lr]);const _=D(n,Vi+i);!function Ll(n,i){td(n,i,i[Ue],2,null,null),i[qr]=null,i[ei]=null}(d[un],d);const C=_[Ii];null!==C&&C.detachView(_[un]),d[Xr]=null,d[Lr]=null,d[ar]&=-65}return d}function de(n,i){if(!(128&i[ar])){const s=i[Ue];s.destroyNode&&td(n,i,s,3,null,null),function T(n){let i=n[jt];if(!i)return qe(n[un],n);for(;i;){let s=null;if(ji(i))s=i[jt];else{const d=i[Vi];d&&(s=d)}if(!s){for(;i&&!i[Lr]&&i!==n;)ji(i)&&qe(i[un],i),i=i[Xr];null===i&&(i=n),ji(i)&&qe(i[un],i),s=i&&i[Lr]}i=s}}(i)}}function qe(n,i){if(!(128&i[ar])){i[ar]&=-65,i[ar]|=128,function sn(n,i){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let d=0;d<s.length;d+=2){const p=i[s[d]];if(!(p instanceof Ae)){const _=s[d+1];if(Array.isArray(_))for(let C=0;C<_.length;C+=2){const O=p[_[C]],B=_[C+1];ii(4,O,B);try{B.call(O)}finally{ii(5,O,B)}}else{ii(4,p,_);try{_.call(p)}finally{ii(5,p,_)}}}}}(n,i),function At(n,i){const s=n.cleanup,d=i[Fi];let p=-1;if(null!==s)for(let _=0;_<s.length-1;_+=2)if("string"==typeof s[_]){const C=s[_+3];C>=0?d[p=C]():d[p=-C].unsubscribe(),_+=2}else{const C=d[p=s[_+1]];s[_].call(C)}if(null!==d){for(let _=p+1;_<d.length;_++)(0,d[_])();i[Fi]=null}}(n,i),1===i[un].type&&i[Ue].destroy();const s=i[Jn];if(null!==s&&gi(i[Xr])){s!==i[Xr]&&R(s,i);const d=i[Ii];null!==d&&d.detachView(n)}!function Fl(n){Ao.delete(n[Hi])}(i)}}function bn(n,i,s){return function Kn(n,i,s){let d=i;for(;null!==d&&40&d.type;)d=(i=d).parent;if(null===d)return s[qr];{const{componentOffset:p}=d;if(p>-1){const{encapsulation:_}=n.data[d.directiveStart+p];if(_===oe.None||_===oe.Emulated)return null}return tr(d,s)}}(n,i.parent,s)}function Ur(n,i,s,d,p){n.insertBefore(i,s,d,p)}function ba(n,i,s){n.appendChild(i,s)}function Bs(n,i,s,d,p){null!==d?Ur(n,i,s,d,p):ba(n,i,s)}function vl(n,i){return n.parentNode(i)}function Od(n,i,s){return Ah(n,i,s)}let Ul,wl,Mh,Fd,Ah=function Ba(n,i,s){return 40&n.type?tr(n,s):null};function Xu(n,i,s,d){const p=bn(n,d,i),_=i[Ue],O=Od(d.parent||i[ei],d,i);if(null!=p)if(Array.isArray(s))for(let B=0;B<s.length;B++)Bs(_,p,s[B],O,!1);else Bs(_,p,s,O,!1);void 0!==Ul&&Ul(_,d,i,s,p)}function Dr(n,i){if(null!==i){const s=i.type;if(3&s)return tr(i,n);if(4&s)return fu(-1,n[i.index]);if(8&s){const d=i.child;if(null!==d)return Dr(n,d);{const p=n[i.index];return gi(p)?fu(-1,p):oi(p)}}if(32&s)return ra(i,n)()||oi(n[i.index]);{const d=ed(n,i);return null!==d?Array.isArray(d)?d[0]:Dr(xd(n[qn]),d):Dr(n,i.next)}}return null}function ed(n,i){return null!==i?n[qn][ei].projection[i.projection]:null}function fu(n,i){const s=Vi+n+1;if(s<i.length){const d=i[s],p=d[un].firstChild;if(null!==p)return Dr(d,p)}return i[ds]}function Sh(n,i,s,d,p,_,C){for(;null!=s;){const O=d[s.index],B=s.type;if(C&&0===i&&(O&&He(oi(O),d),s.flags|=2),32!=(32&s.flags))if(8&B)Sh(n,i,s.child,d,p,_,!1),nl(i,n,p,O,_);else if(32&B){const q=ra(s,d);let ae;for(;ae=q();)nl(i,n,p,ae,_);nl(i,n,p,O,_)}else 16&B?Km(n,i,d,s,p,_):nl(i,n,p,O,_);s=C?s.projectionNext:s.next}}function td(n,i,s,d,p,_){Sh(s,d,n.firstChild,i,p,_,!1)}function Km(n,i,s,d,p,_){const C=s[qn],B=C[ei].projection[d.projection];if(Array.isArray(B))for(let q=0;q<B.length;q++)nl(i,n,p,B[q],_);else Sh(n,i,B,C[Xr],p,_,!0)}function bl(n,i,s){""===s?n.removeAttribute(i,"class"):n.setAttribute(i,"class",s)}function Qm(n,i,s){const{mergedAttrs:d,classes:p,styles:_}=s;null!==d&&Sn(n,i,d),null!==p&&bl(n,i,p),null!==_&&function kd(n,i,s){n.setAttribute(i,"style",s)}(n,i,_)}function fc(n){return function xh(){if(void 0===wl&&(wl=null,Qn.trustedTypes))try{wl=Qn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return wl}()?.createHTML(n)||n}function Bo(n){Mh=n}function tg(n){return function If(){if(void 0===Fd&&(Fd=null,Qn.trustedTypes))try{Fd=Qn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Fd}()?.createScriptURL(n)||n}class pu{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ut})`}}class Ud extends pu{getTypeName(){return"HTML"}}class Bl extends pu{getTypeName(){return"Style"}}class Lp extends pu{getTypeName(){return"Script"}}class ng extends pu{getTypeName(){return"URL"}}class Rh extends pu{getTypeName(){return"ResourceURL"}}function Qa(n){return n instanceof pu?n.changingThisBreaksApplicationSecurity:n}function mu(n,i){const s=function rg(n){return n instanceof pu&&n.getTypeName()||null}(n);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see ${Ut})`)}return s===i}function ig(n){return new Ud(n)}function Ph(n){return new Bl(n)}function T_(n){return new Lp(n)}function A_(n){return new ng(n)}function Cs(n){return new Rh(n)}class og{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(fc(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch{return null}}}class sg{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const s=this.inertDocument.createElement("template");return s.innerHTML=fc(i),s}}const Df=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Oh(n){return(n=String(n)).match(Df)?n:"unsafe:"+n}function Vl(n){const i={};for(const s of n.split(","))i[s]=!0;return i}function Bd(...n){const i={};for(const s of n)for(const d in s)s.hasOwnProperty(d)&&(i[d]=!0);return i}const Tf=Vl("area,br,col,hr,img,wbr"),Af=Vl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Vd=Vl("rp,rt"),Mf=Bd(Tf,Bd(Af,Vl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bd(Vd,Vl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Bd(Vd,Af)),Rf=Vl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Vp=Bd(Rf,Vl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ag=Vl("script,style,template");class x_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,d=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?d=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,d&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let p=this.checkClobberedElement(s,s.nextSibling);if(p){s=p;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!Mf.hasOwnProperty(s))return this.sanitizedSomething=!0,!ag.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const d=i.attributes;for(let p=0;p<d.length;p++){const _=d.item(p),C=_.name,O=C.toLowerCase();if(!Vp.hasOwnProperty(O)){this.sanitizedSomething=!0;continue}let B=_.value;Rf[O]&&(B=Oh(B)),this.buf.push(" ",C,'="',cg(B),'"')}return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();Mf.hasOwnProperty(s)&&!Tf.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(cg(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const M_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,R_=/([^\#-~ |!])/g;function cg(n){return n.replace(/&/g,"&amp;").replace(M_,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(R_,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let jd;function nd(n,i){let s=null;try{jd=jd||function bi(n){const i=new sg(n);return function Up(){try{return!!(new window.DOMParser).parseFromString(fc(""),"text/html")}catch{return!1}}()?new og(i):i}(n);let d=i?String(i):"";s=jd.getInertBodyElement(d);let p=5,_=d;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,d=_,_=s.innerHTML,s=jd.getInertBodyElement(d)}while(d!==_);return fc((new x_).sanitizeChildren(Pf(s)||s))}finally{if(s){const d=Pf(s)||s;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Pf(n){return"content"in n&&function P_(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Yr=(()=>((Yr=Yr||{})[Yr.NONE=0]="NONE",Yr[Yr.HTML=1]="HTML",Yr[Yr.STYLE=2]="STYLE",Yr[Yr.SCRIPT=3]="SCRIPT",Yr[Yr.URL=4]="URL",Yr[Yr.RESOURCE_URL=5]="RESOURCE_URL",Yr))();function rd(n){const i=kh();return i?i.sanitize(Yr.URL,n)||"":mu(n,"URL")?Qa(n):Oh(xe(n))}function rl(n){const i=kh();if(i)return tg(i.sanitize(Yr.RESOURCE_URL,n)||"");if(mu(n,"ResourceURL"))return tg(Qa(n));throw new tt(904,!1)}function Hp(n,i,s){return function dg(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?rl:rd}(i,s)(n)}function kh(){const n=Dt();return n&&n[xt]}const id=new zr("ENVIRONMENT_INITIALIZER"),Of=new zr("INJECTOR",-1),fg=new zr("INJECTOR_DEF_TYPES");class zp{get(i,s=kn){if(s===kn){const d=new Error(`NullInjectorError: No provider for ${me(i)}!`);throw d.name="NullInjectorError",d}return s}}function Gp(n){return{\u0275providers:n}}function pg(...n){return{\u0275providers:mg(0,n),\u0275fromNgModule:!0}}function mg(n,...i){const s=[],d=new Set;let p;return vs(i,_=>{const C=_;qp(C,s,[],d)&&(p||(p=[]),p.push(C))}),void 0!==p&&Wp(p,s),s}function Wp(n,i){for(let s=0;s<n.length;s++){const{providers:p}=n[s];Zp(p,_=>{i.push(_)})}}function qp(n,i,s,d){if(!(n=ve(n)))return!1;let p=null,_=yr(n);const C=!_&&wn(n);if(_||C){if(C&&!C.standalone)return!1;p=n}else{const B=n.ngModule;if(_=yr(B),!_)return!1;p=B}const O=d.has(p);if(C){if(O)return!1;if(d.add(p),C.dependencies){const B="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const q of B)qp(q,i,s,d)}}else{if(!_)return!1;{if(null!=_.imports&&!O){let q;d.add(p);try{vs(_.imports,ae=>{qp(ae,i,s,d)&&(q||(q=[]),q.push(ae))})}finally{}void 0!==q&&Wp(q,i)}if(!O){const q=uo(p)||(()=>new p);i.push({provide:p,useFactory:q,deps:ke},{provide:fg,useValue:p,multi:!0},{provide:id,useValue:()=>vn(p),multi:!0})}const B=_.providers;null==B||O||Zp(B,ae=>{i.push(ae)})}}return p!==n&&void 0!==n.providers}function Zp(n,i){for(let s of n)nt(s)&&(s=s.\u0275providers),Array.isArray(s)?Zp(s,i):i(s)}const gu=ne({provide:String,useValue:ne});function _u(n){return null!==n&&"object"==typeof n&&gu in n}function yu(n){return"function"==typeof n}const Nf=new zr("Set Injector scope."),kf={},_g={};let $d;function El(){return void 0===$d&&($d=new zp),$d}class Bc{}class vu extends Bc{get destroyed(){return this._destroyed}constructor(i,s,d,p){super(),this.parent=s,this.source=d,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fh(i,C=>this.processProvider(C)),this.records.set(Of,Hd(void 0,this)),p.has("environment")&&this.records.set(Bc,Hd(void 0,this));const _=this.records.get(Nf);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(fg.multi,ke,Kt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const s=ir(this),d=Ar(void 0);try{return i()}finally{ir(s),Ar(d)}}get(i,s=kn,d=Kt.Default){this.assertNotDestroyed(),d=Ie(d);const p=ir(this),_=Ar(void 0);try{if(!(d&Kt.SkipSelf)){let O=this.records.get(i);if(void 0===O){const B=function Jp(n){return"function"==typeof n||"object"==typeof n&&n instanceof zr}(i)&&er(i);O=B&&this.injectableDefInScope(B)?Hd(od(i),kf):null,this.records.set(i,O)}if(null!=O)return this.hydrate(i,O)}return(d&Kt.Self?El():this.parent).get(i,s=d&Kt.Optional&&s===kn?null:s)}catch(C){if("NullInjectorError"===C.name){if((C[Cr]=C[Cr]||[]).unshift(me(i)),p)throw C;return function Me(n,i,s,d){const p=n[Cr];throw i[Un]&&p.unshift(i[Un]),n.message=function J(n,i,s,d=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==ri?n.slice(2):n;let p=me(i);if(Array.isArray(i))p=i.map(me).join(" -> ");else if("object"==typeof i){let _=[];for(let C in i)if(i.hasOwnProperty(C)){let O=i[C];_.push(C+":"+("string"==typeof O?JSON.stringify(O):me(O)))}p=`{${_.join(", ")}}`}return`${s}${d?"("+d+")":""}[${p}]: ${n.replace(pr,"\n  ")}`}("\n"+n.message,p,s,d),n[hi]=p,n[Cr]=null,n}(C,i,"R3InjectorError",this.source)}throw C}finally{Ar(_),ir(p)}}resolveInjectorInitializers(){const i=ir(this),s=Ar(void 0);try{const d=this.get(id.multi,ke,Kt.Self);for(const p of d)p()}finally{ir(i),Ar(s)}}toString(){const i=[],s=this.records;for(const d of s.keys())i.push(me(d));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new tt(205,!1)}processProvider(i){let s=yu(i=ve(i))?i:ve(i&&i.provide);const d=function Qp(n){return _u(n)?Hd(void 0,n.useValue):Hd(Vc(n),kf)}(i);if(yu(i)||!0!==i.multi)this.records.get(s);else{let p=this.records.get(s);p||(p=Hd(void 0,kf,!0),p.factory=()=>lt(p.multi),this.records.set(s,p)),s=i,p.multi.push(i)}this.records.set(s,d)}hydrate(i,s){return s.value===kf&&(s.value=_g,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Ly(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=ve(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function od(n){const i=er(n),s=null!==i?i.factory:uo(n);if(null!==s)return s;if(n instanceof zr)throw new tt(204,!1);if(n instanceof Function)return function Yp(n){const i=n.length;if(i>0)throw S(i,"?"),new tt(204,!1);const s=function fr(n){return n&&(n[Vr]||n[$n])||null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new tt(204,!1)}function Vc(n,i,s){let d;if(yu(n)){const p=ve(n);return uo(p)||od(p)}if(_u(n))d=()=>ve(n.useValue);else if(function gg(n){return!(!n||!n.useFactory)}(n))d=()=>n.useFactory(...lt(n.deps||[]));else if(function Kp(n){return!(!n||!n.useExisting)}(n))d=()=>vn(ve(n.useExisting));else{const p=ve(n&&(n.useClass||n.provide));if(!function N_(n){return!!n.deps}(n))return uo(p)||od(p);d=()=>new p(...lt(n.deps))}return d}function Hd(n,i,s=!1){return{factory:n,value:i,multi:s?[]:void 0}}function Fh(n,i){for(const s of n)Array.isArray(s)?Fh(s,i):s&&nt(s)?Fh(s.\u0275providers,i):i(s)}class Xp{}class Lh{}class By{resolveComponentFactory(i){throw function zd(n){const i=Error(`No component factory found for ${me(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let Ff=(()=>{class n{}return n.NULL=new By,n})();function Vy(){return il(Te(),Dt())}function il(n,i){return new Ja(tr(n,i))}let Ja=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=Vy,n})();function $l(n){return n instanceof Ja?n.nativeElement:n}class Uh{}let jy=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function em(){const n=Dt(),s=ci(Te().index,n);return(ji(s)?s:n)[Ue]}(),n})(),F_=(()=>{class n{}return n.\u0275prov=zt({token:n,providedIn:"root",factory:()=>null}),n})();class Lf{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Uf=new Lf("15.2.9"),Bf={},Bh="ngOriginalError";function Vf(n){return n[Bh]}class bu{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&Vf(i);for(;s&&Vf(s);)s=Vf(s);return s||null}}function Il(n){return n instanceof Function?n():n}function Hl(n,i,s){let d=n.length;for(;;){const p=n.indexOf(i,s);if(-1===p)return p;if(0===p||n.charCodeAt(p-1)<=32){const _=i.length;if(p+_===d||n.charCodeAt(p+_)<=32)return p}s=p+1}}const sd="ng-template";function bg(n,i,s){let d=0,p=!0;for(;d<n.length;){let _=n[d++];if("string"==typeof _&&p){const C=n[d++];if(s&&"class"===_&&-1!==Hl(C.toLowerCase(),i,0))return!0}else{if(1===_){for(;d<n.length&&"string"==typeof(_=n[d++]);)if(_.toLowerCase()===i)return!0;return!1}"number"==typeof _&&(p=!1)}}return!1}function wu(n){return 4===n.type&&n.value!==sd}function j_(n,i,s){return i===(4!==n.type||s?n.value:sd)}function Gd(n,i,s){let d=4;const p=n.attrs||[],_=function H_(n){for(let i=0;i<n.length;i++)if(Gr(n[i]))return i;return n.length}(p);let C=!1;for(let O=0;O<i.length;O++){const B=i[O];if("number"!=typeof B){if(!C)if(4&d){if(d=2|1&d,""!==B&&!j_(n,B,s)||""===B&&1===i.length){if(jc(d))return!1;C=!0}}else{const q=8&d?B:i[++O];if(8&d&&null!==n.attrs){if(!bg(n.attrs,q,s)){if(jc(d))return!1;C=!0}continue}const De=Eu(8&d?"class":B,p,wu(n),s);if(-1===De){if(jc(d))return!1;C=!0;continue}if(""!==q){let Ze;Ze=De>_?"":p[De+1].toLowerCase();const yt=8&d?Ze:null;if(yt&&-1!==Hl(yt,q,0)||2&d&&q!==Ze){if(jc(d))return!1;C=!0}}}}else{if(!C&&!jc(d)&&!jc(B))return!1;if(C&&jc(B))continue;C=!1,d=B|1&d}}return jc(d)||C}function jc(n){return 0==(1&n)}function Eu(n,i,s,d){if(null===i)return-1;let p=0;if(d||!s){let _=!1;for(;p<i.length;){const C=i[p];if(C===n)return p;if(3===C||6===C)_=!0;else{if(1===C||2===C){let O=i[++p];for(;"string"==typeof O;)O=i[++p];continue}if(4===C)break;if(0===C){p+=4;continue}}p+=_?1:2}return-1}return function z_(n,i){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const d=n[s];if("number"==typeof d)return-1;if(d===i)return s;s++}return-1}(i,n)}function om(n,i,s=!1){for(let d=0;d<i.length;d++)if(Gd(n,i[d],s))return!0;return!1}function wg(n,i){e:for(let s=0;s<i.length;s++){const d=i[s];if(n.length===d.length){for(let p=0;p<n.length;p++)if(n[p]!==d[p])continue e;return!0}}return!1}function Eg(n,i){return n?":not("+i.trim()+")":i}function Wd(n){let i=n[0],s=1,d=2,p="",_=!1;for(;s<n.length;){let C=n[s];if("string"==typeof C)if(2&d){const O=n[++s];p+="["+C+(O.length>0?'="'+O+'"':"")+"]"}else 8&d?p+="."+C:4&d&&(p+=" "+C);else""!==p&&!jc(C)&&(i+=Eg(_,p),p=""),d=C,_=_||!jc(d);s++}return""!==p&&(i+=Eg(_,p)),i}const kr={};function $f(n){$h(nr(),Dt(),Hr()+n,!1)}function $h(n,i,s,d){if(!d)if(3==(3&i[ar])){const _=n.preOrderCheckHooks;null!==_&&rc(i,_,s)}else{const _=n.preOrderHooks;null!==_&&da(i,_,0,s)}ko(s)}function Ds(n,i=null,s=null,d){const p=Dg(n,i,s,d);return p.resolveInjectorInitializers(),p}function Dg(n,i=null,s=null,d,p=new Set){const _=[s||ke,pg(n)];return d=d||("object"==typeof n?void 0:me(n)),new vu(_,i||El(),d||null,p)}let Zd=(()=>{class n{static create(s,d){if(Array.isArray(s))return Ds({name:""},d,s,"");{const p=s.name??"";return Ds({name:p},s.parent,s.providers,p)}}}return n.THROW_IF_NOT_FOUND=kn,n.NULL=new zp,n.\u0275prov=zt({token:n,providedIn:"any",factory:()=>vn(Of)}),n.__NG_ELEMENT_ID__=-1,n})();function cd(n,i=Kt.Default){const s=Dt();return null===s?vn(n,i):Hn(Te(),s,ve(n),i)}function xu(){throw new Error("invalid")}function Qf(n,i){const s=n.contentQueries;if(null!==s)for(let d=0;d<s.length;d+=2){const _=s[d+1];if(-1!==_){const C=n.data[_];Zr(s[d]),C.contentQueries(2,i[_],_)}}}function Qd(n,i,s,d,p,_,C,O,B,q,ae){const De=i.blueprint.slice();return De[qr]=p,De[ar]=76|d,(null!==ae||n&&1024&n[ar])&&(De[ar]|=1024),Aa(De),De[Xr]=De[cr]=n,De[jr]=s,De[Be]=C||n&&n[Be],De[Ue]=O||n&&n[Ue],De[xt]=B||n&&n[xt]||null,De[We]=q||n&&n[We]||null,De[ei]=_,De[Hi]=function Pi(){return uu++}(),De[Di]=ae,De[qn]=2==i.type?n[qn]:De,De}function ql(n,i,s,d,p){let _=n.data[i];if(null===_)_=function Vs(n,i,s,d,p){const _=vt(),C=rr(),B=n.data[i]=function np(n,i,s,d,p,_){return{type:s,index:d,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?_:_&&_.parent,s,i,d,p);return null===n.firstChild&&(n.firstChild=B),null!==_&&(C?null==_.child&&null!==B.parent&&(_.child=B):null===_.next&&(_.next=B,B.prev=_)),B}(n,i,s,d,p),function $i(){return jn.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=s,_.value=d,_.attrs=p;const C=function Pt(){const n=jn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();_.injectorIndex=null===C?-1:C.injectorIndex}return tn(_,!0),_}function Zl(n,i,s,d){if(0===s)return-1;const p=i.length;for(let _=0;_<s;_++)i.push(d),n.blueprint.push(d),n.data.push(null);return p}function Mu(n,i,s){ao(i);try{const d=n.viewQuery;null!==d&&_m(1,d,s);const p=n.template;null!==p&&Xf(n,i,p,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Qf(n,i),n.staticViewQueries&&_m(2,n.viewQuery,s);const _=n.components;null!==_&&function Ag(n,i){for(let s=0;s<i.length;s++)Pg(n,i[s])}(i,_)}catch(d){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),d}finally{i[ar]&=-5,Ma()}}function Kl(n,i,s,d){const p=i[ar];if(128!=(128&p)){ao(i);try{Aa(i),function Ko(n){return jn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Xf(n,i,s,2,d);const C=3==(3&p);if(C){const q=n.preOrderCheckHooks;null!==q&&rc(i,q,null)}else{const q=n.preOrderHooks;null!==q&&da(i,q,0,null),k(i,0)}if(function X_(n){for(let i=La(n);null!==i;i=tl(i)){if(!i[ro])continue;const s=i[hs];for(let d=0;d<s.length;d++){const p=s[d];512&p[ar]||oo(p[Xr],1),p[ar]|=512}}}(i),function ip(n){for(let i=La(n);null!==i;i=tl(i))for(let s=Vi;s<i.length;s++){const d=i[s],p=d[un];No(d)&&Kl(p,d,p.template,d[jr])}}(i),null!==n.contentQueries&&Qf(n,i),C){const q=n.contentCheckHooks;null!==q&&rc(i,q)}else{const q=n.contentHooks;null!==q&&da(i,q,1),k(i,1)}!function Yf(n,i){const s=n.hostBindingOpCodes;if(null!==s)try{for(let d=0;d<s.length;d++){const p=s[d];if(p<0)ko(~p);else{const _=p,C=s[++d],O=s[++d];za(C,_),O(2,i[_])}}}finally{ko(-1)}}(n,i);const O=n.components;null!==O&&function Jf(n,i){for(let s=0;s<i.length;s++)Rg(n,i[s])}(i,O);const B=n.viewQuery;if(null!==B&&_m(2,B,d),C){const q=n.viewCheckHooks;null!==q&&rc(i,q)}else{const q=n.viewHooks;null!==q&&da(i,q,2),k(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[ar]&=-41,512&i[ar]&&(i[ar]&=-513,oo(i[Xr],-1))}finally{Ma()}}}function Xf(n,i,s,d,p){const _=Hr(),C=2&d;try{ko(-1),C&&i.length>Mr&&$h(n,i,Mr,!1),ii(C?2:0,p),s(d,p)}finally{ko(_),ii(C?3:1,p)}}function ep(n,i,s){if(_i(i)){const p=i.directiveEnd;for(let _=i.directiveStart;_<p;_++){const C=n.data[_];C.contentQueries&&C.contentQueries(1,s[_],_)}}}function um(n,i,s){ua()&&(function ol(n,i,s,d){const p=s.directiveStart,_=s.directiveEnd;xo(s)&&function Yh(n,i,s){const d=tr(i,n),p=tp(s),_=n[Be],C=Yl(n,Qd(n,p,null,s.onPush?32:16,d,i,_,_.createRenderer(d,s),null,null,null));n[i.index]=C}(i,s,n.data[p+s.componentOffset]),n.firstCreatePass||qa(s,i),He(d,i);const C=s.initialInputs;for(let O=p;O<_;O++){const B=n.data[O],q=gr(i,n,O,s);He(q,i),null!==C&&gm(0,O-p,q,B,0,C),zi(B)&&(ci(s.index,i)[jr]=gr(i,n,O,s))}}(n,i,s,tr(s,i)),64==(64&s.flags)&&th(n,i,s))}function dm(n,i,s=tr){const d=i.localNames;if(null!==d){let p=i.index+1;for(let _=0;_<d.length;_+=2){const C=d[_+1],O=-1===C?s(i,n):n[C];n[p++]=O}}}function tp(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Ru(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Ru(n,i,s,d,p,_,C,O,B,q){const ae=Mr+d,De=ae+p,Ze=function Z_(n,i){const s=[];for(let d=0;d<i;d++)s.push(d<n?null:kr);return s}(ae,De),yt="function"==typeof q?q():q;return Ze[un]={type:n,blueprint:Ze,template:s,queries:null,viewQuery:O,declTNode:i,data:Ze.slice().fill(null,ae),bindingStartIndex:ae,expandoStartIndex:De,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:B,consts:yt,incompleteFirstPass:!1}}function wa(n,i,s,d){const p=Ng(i);null===s?p.push(d):(p.push(s),n.firstCreatePass&&op(n).push(d,p.length-1))}function Jd(n,i,s,d){for(let p in n)if(n.hasOwnProperty(p)){s=null===s?{}:s;const _=n[p];null===d?Xd(s,i,p,_):d.hasOwnProperty(p)&&Xd(s,i,d[p],_)}return s}function Xd(n,i,s,d){n.hasOwnProperty(s)?n[s].push(i,d):n[s]=[i,d]}function ja(n,i,s,d,p,_,C,O){const B=tr(i,s);let ae,q=i.inputs;!O&&null!=q&&(ae=q[d])?(ym(n,s,ae,d,p),xo(i)&&function Sg(n,i){const s=ci(i,n);16&s[ar]||(s[ar]|=32)}(s,i.index)):3&i.type&&(d=function hm(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(d),p=null!=C?C(p,i.value||"",d):p,_.setProperty(B,d,p))}function fm(n,i,s,d){if(ua()){const p=null===d?null:{"":-1},_=function nh(n,i){const s=n.directiveRegistry;let d=null,p=null;if(s)for(let _=0;_<s.length;_++){const C=s[_];if(om(i,C.selectors,!1))if(d||(d=[]),zi(C))if(null!==C.findHostDirectiveDefs){const O=[];p=p||new Map,C.findHostDirectiveDefs(C,O,p),d.unshift(...O,C),rh(n,i,O.length)}else d.unshift(C),rh(n,i,0);else p=p||new Map,C.findHostDirectiveDefs?.(C,d,p),d.push(C)}return null===d?null:[d,p]}(n,s);let C,O;null===_?C=O=null:[C,O]=_,null!==C&&rp(n,i,s,C,p,O),p&&function Kh(n,i,s){if(i){const d=n.localNames=[];for(let p=0;p<i.length;p+=2){const _=s[i[p+1]];if(null==_)throw new tt(-301,!1);d.push(i[p],_)}}}(s,d,p)}s.mergedAttrs=nn(s.mergedAttrs,s.attrs)}function rp(n,i,s,d,p,_){for(let q=0;q<d.length;q++)or(qa(s,i),n,d[q].type);!function xg(n,i,s){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+s,n.providerIndexes=i}(s,n.data.length,d.length);for(let q=0;q<d.length;q++){const ae=d[q];ae.providersResolver&&ae.providersResolver(ae)}let C=!1,O=!1,B=Zl(n,i,d.length,null);for(let q=0;q<d.length;q++){const ae=d[q];s.mergedAttrs=nn(s.mergedAttrs,ae.hostAttrs),mm(n,s,i,B,ae),pm(B,ae,p),null!==ae.contentQueries&&(s.flags|=4),(null!==ae.hostBindings||null!==ae.hostAttrs||0!==ae.hostVars)&&(s.flags|=64);const De=ae.type.prototype;!C&&(De.ngOnChanges||De.ngOnInit||De.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(s.index),C=!0),!O&&(De.ngOnChanges||De.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(s.index),O=!0),B++}!function eh(n,i,s){const p=i.directiveEnd,_=n.data,C=i.attrs,O=[];let B=null,q=null;for(let ae=i.directiveStart;ae<p;ae++){const De=_[ae],Ze=s?s.get(De):null,Lt=Ze?Ze.outputs:null;B=Jd(De.inputs,ae,B,Ze?Ze.inputs:null),q=Jd(De.outputs,ae,q,Lt);const pn=null===B||null===C||wu(i)?null:ih(B,ae,C);O.push(pn)}null!==B&&(B.hasOwnProperty("class")&&(i.flags|=8),B.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=O,i.inputs=B,i.outputs=q}(n,s,_)}function th(n,i,s){const d=s.directiveStart,p=s.directiveEnd,_=s.index,C=function Ga(){return jn.lFrame.currentDirectiveIndex}();try{ko(_);for(let O=d;O<p;O++){const B=n.data[O],q=i[O];li(O),(null!==B.hostBindings||0!==B.hostVars||null!==B.hostAttrs)&&Pu(B,q)}}finally{ko(-1),li(C)}}function Pu(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function rh(n,i,s){i.componentOffset=s,(n.components??(n.components=[])).push(i.index)}function pm(n,i,s){if(s){if(i.exportAs)for(let d=0;d<i.exportAs.length;d++)s[i.exportAs[d]]=n;zi(i)&&(s[""]=n)}}function mm(n,i,s,d,p){n.data[d]=p;const _=p.factory||(p.factory=uo(p.type)),C=new Ae(_,zi(p),cd);n.blueprint[d]=C,s[d]=C,function Q_(n,i,s,d,p){const _=p.hostBindings;if(_){let C=n.hostBindingOpCodes;null===C&&(C=n.hostBindingOpCodes=[]);const O=~i.index;(function J_(n){let i=n.length;for(;i>0;){const s=n[--i];if("number"==typeof s&&s<0)return s}return 0})(C)!=O&&C.push(O),C.push(s,d,_)}}(n,i,d,Zl(n,s,p.hostVars,kr),p)}function Ea(n,i,s,d,p,_){const C=tr(n,i);!function ld(n,i,s,d,p,_,C){if(null==_)n.removeAttribute(i,p,s);else{const O=null==C?xe(_):C(_,d||"",p);n.setAttribute(i,p,O,s)}}(i[Ue],C,_,n.value,s,d,p)}function gm(n,i,s,d,p,_){const C=_[i];if(null!==C){const O=d.setInput;for(let B=0;B<C.length;){const q=C[B++],ae=C[B++],De=C[B++];null!==O?d.setInput(s,De,q,ae):s[ae]=De}}}function ih(n,i,s){let d=null,p=0;for(;p<s.length;){const _=s[p];if(0!==_)if(5!==_){if("number"==typeof _)break;if(n.hasOwnProperty(_)){null===d&&(d=[]);const C=n[_];for(let O=0;O<C.length;O+=2)if(C[O]===i){d.push(_,C[O+1],s[p+1]);break}}p+=2}else p+=2;else p+=4}return d}function Mg(n,i,s,d){return[n,!0,!1,i,null,0,d,s,null,null]}function Rg(n,i){const s=ci(i,n);if(No(s)){const d=s[un];48&s[ar]?Kl(d,s,d.template,s[jr]):s[Eo]>0&&Ou(s)}}function Ou(n){for(let d=La(n);null!==d;d=tl(d))for(let p=Vi;p<d.length;p++){const _=d[p];if(No(_))if(512&_[ar]){const C=_[un];Kl(C,_,C.template,_[jr])}else _[Eo]>0&&Ou(_)}const s=n[un].components;if(null!==s)for(let d=0;d<s.length;d++){const p=ci(s[d],n);No(p)&&p[Eo]>0&&Ou(p)}}function Pg(n,i){const s=ci(i,n),d=s[un];(function Og(n,i){for(let s=i.length;s<n.blueprint.length;s++)i.push(n.blueprint[s])})(d,s),Mu(d,s,s[jr])}function Yl(n,i){return n[jt]?n[Vn][Lr]=i:n[jt]=i,n[Vn]=i,i}function ud(n){for(;n;){n[ar]|=32;const i=xd(n);if(Nr(n)&&!i)return n;n=i}return null}function oh(n,i,s,d=!0){const p=i[Be];p.begin&&p.begin();try{Kl(n,i,n.template,s)}catch(C){throw d&&sp(i,C),C}finally{p.end&&p.end()}}function _m(n,i,s){Zr(0),i(n,s)}function Ng(n){return n[Fi]||(n[Fi]=[])}function op(n){return n.cleanup||(n.cleanup=[])}function sp(n,i){const s=n[We],d=s?s.get(bu,null):null;d&&d.handleError(i)}function ym(n,i,s,d,p){for(let _=0;_<s.length;){const C=s[_++],O=s[_++],B=i[C],q=n.data[C];null!==q.setInput?q.setInput(B,p,d,O):B[O]=p}}function ap(n,i,s){let d=s?n.styles:null,p=s?n.classes:null,_=0;if(null!==i)for(let C=0;C<i.length;C++){const O=i[C];"number"==typeof O?_=O:1==_?p=Se(p,O):2==_&&(d=Se(d,O+": "+i[++C]+";"))}s?n.styles=d:n.stylesWithoutHost=d,s?n.classes=p:n.classesWithoutHost=p}function sh(n,i,s,d,p=!1){for(;null!==s;){const _=i[s.index];if(null!==_&&d.push(oi(_)),gi(_))for(let O=Vi;O<_.length;O++){const B=_[O],q=B[un].firstChild;null!==q&&sh(B[un],B,q,d)}const C=s.type;if(8&C)sh(n,i,s.child,d);else if(32&C){const O=ra(s,i);let B;for(;B=O();)d.push(B)}else if(16&C){const O=ed(i,s);if(Array.isArray(O))d.push(...O);else{const B=xd(i[qn]);sh(B[un],B,O,d,!0)}}s=p?s.projectionNext:s.next}return d}class dd{get rootNodes(){const i=this._lView,s=i[un];return sh(s,i,s.firstChild,[])}constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[jr]}set context(i){this._lView[jr]=i}get destroyed(){return 128==(128&this._lView[ar])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Xr];if(gi(i)){const s=i[Ho],d=s?s.indexOf(this):-1;d>-1&&(Q(i,d),D(s,d))}this._attachedToViewContainer=!1}de(this._lView[un],this._lView)}onDestroy(i){wa(this._lView[un],this._lView,null,i)}markForCheck(){ud(this._cdRefInjectingView||this._lView)}detach(){this._lView[ar]&=-65}reattach(){this._lView[ar]|=64}detectChanges(){oh(this._lView[un],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new tt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Th(n,i){td(n,i,i[Ue],2,null,null)}(this._lView[un],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new tt(902,!1);this._appRef=i}}class vm extends dd{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;oh(i[un],i,i[jr],!1)}checkNoChanges(){}get context(){return null}}class ah extends Ff{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=wn(i);return new hd(s,this.ngModule)}}function cp(n){const i=[];for(let s in n)n.hasOwnProperty(s)&&i.push({propName:n[s],templateName:s});return i}class Nu{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,d){d=Ie(d);const p=this.injector.get(i,Bf,d);return p!==Bf||s===Bf?p:this.parentInjector.get(i,s,d)}}class hd extends Lh{get inputs(){return cp(this.componentDef.inputs)}get outputs(){return cp(this.componentDef.outputs)}constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function zl(n){return n.map(Wd).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}create(i,s,d,p){let _=(p=p||this.ngModule)instanceof Bc?p:p?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const C=_?new Nu(i,_):i,O=C.get(Uh,null);if(null===O)throw new tt(407,!1);const B=C.get(F_,null),q=O.createRenderer(null,this.componentDef),ae=this.componentDef.selectors[0][0]||"div",De=d?function K_(n,i,s){return n.selectRootElement(i,s===oe.ShadowDom)}(q,d,this.componentDef.encapsulation):Rd(q,ae,function ch(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(ae)),Ze=this.componentDef.onPush?288:272,yt=Ru(0,null,null,1,0,null,null,null,null,null),Lt=Qd(null,yt,null,Ze,null,null,O,q,B,C,null);let pn,On;ao(Lt);try{const Xn=this.componentDef;let Fr,Jt=null;Xn.findHostDirectiveDefs?(Fr=[],Jt=new Map,Xn.findHostDirectiveDefs(Xn,Fr,Jt),Fr.push(Xn)):Fr=[Xn];const Jr=function Sc(n,i){const s=n[un],d=Mr;return n[d]=i,ql(s,d,2,"#host",null)}(Lt,De),Ss=function ku(n,i,s,d,p,_,C,O){const B=p[un];!function Jh(n,i,s,d){for(const p of n)i.mergedAttrs=nn(i.mergedAttrs,p.hostAttrs);null!==i.mergedAttrs&&(ap(i,i.mergedAttrs,!0),null!==s&&Qm(d,s,i))}(d,n,i,C);const q=_.createRenderer(i,s),ae=Qd(p,tp(s),null,s.onPush?32:16,p[n.index],n,_,q,O||null,null,null);return B.firstCreatePass&&rh(B,n,d.length-1),Yl(p,ae),p[n.index]=ae}(Jr,De,Xn,Fr,Lt,O,q);On=Ha(yt,Mr),De&&function wm(n,i,s,d){if(d)Sn(n,s,["ng-version",Uf.full]);else{const{attrs:p,classes:_}=function Cg(n){const i=[],s=[];let d=1,p=2;for(;d<n.length;){let _=n[d];if("string"==typeof _)2===p?""!==_&&i.push(_,n[++d]):8===p&&s.push(_);else{if(!jc(p))break;p=_}d++}return{attrs:i,classes:s}}(i.selectors[0]);p&&Sn(n,s,p),_&&_.length>0&&bl(n,s,_.join(" "))}}(q,Xn,De,d),void 0!==s&&function Em(n,i,s){const d=n.projection=[];for(let p=0;p<i.length;p++){const _=s[p];d.push(null!=_?Array.from(_):null)}}(On,this.ngContentSelectors,s),pn=function bm(n,i,s,d,p,_){const C=Te(),O=p[un],B=tr(C,p);rp(O,p,C,s,null,d);for(let ae=0;ae<s.length;ae++)He(gr(p,O,C.directiveStart+ae,C),p);th(O,p,C),B&&He(B,p);const q=gr(p,O,C.directiveStart+C.componentOffset,C);if(n[jr]=p[jr]=q,null!==_)for(const ae of _)ae(q,i);return ep(O,C,n),q}(Ss,Xn,Fr,Jt,Lt,[Xh]),Mu(yt,Lt,null)}finally{Ma()}return new fd(this.componentType,pn,il(On,Lt),Lt,On)}}class fd extends Xp{constructor(i,s,d,p,_){super(),this.location=d,this._rootLView=p,this._tNode=_,this.instance=s,this.hostView=this.changeDetectorRef=new vm(p),this.componentType=i}setInput(i,s){const d=this._tNode.inputs;let p;if(null!==d&&(p=d[i])){const _=this._rootLView;ym(_[un],_,p,i,s),ud(ci(this._tNode.index,_))}}get injector(){return new Fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Xh(){const n=Te();gs(Dt()[un],n)}function Cm(n){let i=function lp(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const d=[n];for(;i;){let p;if(zi(n))p=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new tt(903,!1);p=i.\u0275dir}if(p){if(s){d.push(p);const C=n;C.inputs=ef(n.inputs),C.declaredInputs=ef(n.declaredInputs),C.outputs=ef(n.outputs);const O=p.hostBindings;O&&Im(n,O);const B=p.viewQuery,q=p.contentQueries;if(B&&dp(n,B),q&&Fg(n,q),Ne(n.inputs,p.inputs),Ne(n.declaredInputs,p.declaredInputs),Ne(n.outputs,p.outputs),zi(p)&&p.data.animation){const ae=n.data;ae.animation=(ae.animation||[]).concat(p.data.animation)}}const _=p.features;if(_)for(let C=0;C<_.length;C++){const O=_[C];O&&O.ngInherit&&O(n),O===Cm&&(s=!1)}}i=Object.getPrototypeOf(i)}!function up(n){let i=0,s=null;for(let d=n.length-1;d>=0;d--){const p=n[d];p.hostVars=i+=p.hostVars,p.hostAttrs=nn(p.hostAttrs,s=nn(s,p.hostAttrs))}}(d)}function ef(n){return n===ee?{}:n===ke?[]:n}function dp(n,i){const s=n.viewQuery;n.viewQuery=s?(d,p)=>{i(d,p),s(d,p)}:i}function Fg(n,i){const s=n.contentQueries;n.contentQueries=s?(d,p,_)=>{i(d,p,_),s(d,p,_)}:i}function Im(n,i){const s=n.hostBindings;n.hostBindings=s?(d,p)=>{i(d,p),s(d,p)}:i}function Fu(n){return!!tf(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function tf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function js(n,i,s){return!Object.is(n[i],s)&&(n[i]=s,!0)}function fp(n,i,s,d){const p=Dt();return js(p,Yo(),i)&&(nr(),Ea(fi(),p,n,i,s,d)),fp}function uh(n,i,s,d){return js(n,Yo(),s)?i+xe(s)+d:kr}function xm(n,i,s,d,p,_,C,O){const B=Dt(),q=nr(),ae=n+Mr,De=q.firstCreatePass?function iy(n,i,s,d,p,_,C,O,B){const q=i.consts,ae=ql(i,n,4,C||null,Wi(q,O));fm(i,s,ae,Wi(q,B)),gs(i,ae);const De=ae.tView=Ru(2,ae,d,p,_,i.directiveRegistry,i.pipeRegistry,null,i.schemas,q);return null!==i.queries&&(i.queries.template(i,ae),De.queries=i.queries.embeddedTView(ae)),ae}(ae,q,B,i,s,d,p,_,C):q.data[ae];tn(De,!1);const Ze=B[Ue].createComment("");Xu(q,B,Ze,De),He(Ze,B),Yl(B,B[ae]=Mg(Ze,B,Ze,De)),Xi(De)&&um(q,B,De),null!=C&&dm(B,De,O)}function gp(n){return eo(function so(){return jn.lFrame.contextLView}(),Mr+n)}function Mm(n,i,s){const d=Dt();return js(d,Yo(),i)&&ja(nr(),fi(),d,n,i,d[Ue],s,!1),Mm}function rf(n,i,s,d,p){const C=p?"class":"style";ym(n,s,i.inputs[C],C,d)}function hh(n,i,s,d){const p=Dt(),_=nr(),C=Mr+n,O=p[Ue],B=_.firstCreatePass?function _p(n,i,s,d,p,_){const C=i.consts,B=ql(i,n,2,d,Wi(C,p));return fm(i,s,B,Wi(C,_)),null!==B.attrs&&ap(B,B.attrs,!1),null!==B.mergedAttrs&&ap(B,B.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,B),B}(C,_,p,i,s,d):_.data[C],q=p[C]=Rd(O,i,function Ki(){return jn.lFrame.currentNamespace}()),ae=Xi(B);return tn(B,!0),Qm(O,q,B),32!=(32&B.flags)&&Xu(_,p,q,B),0===function ss(){return jn.lFrame.elementDepthCount}()&&He(q,p),function po(){jn.lFrame.elementDepthCount++}(),ae&&(um(_,p,B),ep(_,B,p)),null!==d&&dm(p,B),hh}function sf(){let n=Te();rr()?ni():(n=n.parent,tn(n,!1));const i=n;!function xa(){jn.lFrame.elementDepthCount--}();const s=nr();return s.firstCreatePass&&(gs(s,n),_i(n)&&s.queries.elementEnd(n)),null!=i.classesWithoutHost&&function et(n){return 0!=(8&n.flags)}(i)&&rf(s,i,Dt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Xt(n){return 0!=(16&n.flags)}(i)&&rf(s,i,Dt(),i.stylesWithoutHost,!1),sf}function Rm(n,i,s,d){return hh(n,i,s,d),sf(),Rm}function fh(n,i,s){const d=Dt(),p=nr(),_=n+Mr,C=p.firstCreatePass?function sy(n,i,s,d,p){const _=i.consts,C=Wi(_,d),O=ql(i,n,8,"ng-container",C);return null!==C&&ap(O,C,!0),fm(i,s,O,Wi(_,p)),null!==i.queries&&i.queries.elementStart(i,O),O}(_,p,d,i,s):p.data[_];tn(C,!0);const O=d[_]=d[Ue].createComment("");return Xu(p,d,O,C),He(O,d),Xi(C)&&(um(p,d,C),ep(p,C,d)),null!=s&&dm(d,C),fh}function md(){let n=Te();const i=nr();return rr()?ni():(n=n.parent,tn(n,!1)),i.firstCreatePass&&(gs(i,n),_i(n)&&i.queries.elementEnd(n)),md}function $u(){return Dt()}function ph(n){return!!n&&"function"==typeof n.then}function qg(n){return!!n&&"function"==typeof n.subscribe}const gd=qg;function vp(n,i,s,d){const p=Dt(),_=nr(),C=Te();return function _d(n,i,s,d,p,_,C){const O=Xi(d),q=n.firstCreatePass&&op(n),ae=i[jr],De=Ng(i);let Ze=!0;if(3&d.type||C){const pn=tr(d,i),On=C?C(pn):pn,Xn=De.length,Fr=C?Jr=>C(oi(Jr[d.index])):d.index;let Jt=null;if(!C&&O&&(Jt=function af(n,i,s,d){const p=n.cleanup;if(null!=p)for(let _=0;_<p.length-1;_+=2){const C=p[_];if(C===s&&p[_+1]===d){const O=i[Fi],B=p[_+2];return O.length>B?O[B]:null}"string"==typeof C&&(_+=2)}return null}(n,i,p,d.index)),null!==Jt)(Jt.__ngLastListenerFn__||Jt).__ngNextListenerFn__=_,Jt.__ngLastListenerFn__=_,Ze=!1;else{_=Hu(d,i,ae,_,!1);const Jr=s.listen(On,p,_);De.push(_,Jr),q&&q.push(p,Fr,Xn,Xn+1)}}else _=Hu(d,i,ae,_,!1);const yt=d.outputs;let Lt;if(Ze&&null!==yt&&(Lt=yt[p])){const pn=Lt.length;if(pn)for(let On=0;On<pn;On+=2){const Ss=i[Lt[On]][Lt[On+1]].subscribe(_),Da=De.length;De.push(_,Ss),q&&q.push(p,d.index,Da,-(Da+1))}}}(_,p,p[Ue],C,n,i,d),vp}function Zg(n,i,s,d){try{return ii(6,i,s),!1!==s(d)}catch(p){return sp(n,p),!1}finally{ii(7,i,s)}}function Hu(n,i,s,d,p){return function _(C){if(C===Function)return d;ud(n.componentOffset>-1?ci(n.index,i):i);let B=Zg(i,s,d,C),q=_.__ngNextListenerFn__;for(;q;)B=Zg(i,s,q,C)&&B,q=q.__ngNextListenerFn__;return p&&!1===B&&(C.preventDefault(),C.returnValue=!1),B}}function Pm(n=1){return function as(n){return(jn.lFrame.contextLView=function Do(n,i){for(;n>0;)i=i[cr],n--;return i}(n,jn.lFrame.contextLView))[jr]}(n)}function ay(n,i){let s=null;const d=function $_(n){const i=n.attrs;if(null!=i){const s=i.indexOf(5);if(!(1&s))return i[s+1]}return null}(n);for(let p=0;p<i.length;p++){const _=i[p];if("*"!==_){if(null===d?om(n,_,!0):wg(d,_))return p}else s=p}return s}function Kg(n){const i=Dt()[qn][ei];if(!i.projection){const d=i.projection=S(n?n.length:1,null),p=d.slice();let _=i.child;for(;null!==_;){const C=n?ay(_,n):0;null!==C&&(p[C]?p[C].projectionNext=_:d[C]=_,p[C]=_),_=_.next}}}function Yg(n,i=0,s){const d=Dt(),p=nr(),_=ql(p,Mr+n,16,null,s||null);null===_.projection&&(_.projection=i),ni(),32!=(32&_.flags)&&function wf(n,i,s){Km(i[Ue],0,i,s,bn(n,s,i),Od(s.parent||i[ei],s,i))}(p,d,_)}function mh(n,i,s){return cf(n,"",i,"",s),mh}function cf(n,i,s,d,p){const _=Dt(),C=uh(_,i,s,d);return C!==kr&&ja(nr(),fi(),_,n,C,_[Ue],p,!1),cf}function Gu(n,i){return n<<17|i<<2}function Wc(n){return n>>17&32767}function Tl(n){return 2|n}function Al(n){return(131068&n)>>2}function Nm(n,i){return-131069&n|i<<2}function df(n){return 1|n}function Xg(n,i,s,d,p){const _=n[s+1],C=null===i;let O=d?Wc(_):Al(_),B=!1;for(;0!==O&&(!1===B||C);){const ae=n[O+1];uy(n[O],i)&&(B=!0,n[O+1]=d?df(ae):Tl(ae)),O=d?Wc(ae):Al(ae)}B&&(n[s+1]=d?Tl(_):df(_))}function uy(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&kt(n,i)>=0}function i_(n,i){return function xl(n,i,s,d){const p=Dt(),_=nr(),C=function Zi(n){const i=jn.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,s}(2);_.firstUpdatePass&&function yy(n,i,s,d){const p=n.data;if(null===p[s+1]){const _=p[Hr()],C=function _y(n,i){return i>=n.expandoStartIndex}(n,s);(function wy(n,i){return 0!=(n.flags&(i?8:16))})(_,d)&&null===i&&!C&&(i=!1),i=function So(n,i,s,d){const p=function to(n){const i=jn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let _=d?i.residualClasses:i.residualStyles;if(null===p)0===(d?i.classBindings:i.styleBindings)&&(s=Tp(s=km(null,n,i,s,d),i.attrs,d),_=null);else{const C=i.directiveStylingLast;if(-1===C||n[C]!==p)if(s=km(p,n,i,s,d),null===_){let B=function _v(n,i,s){const d=s?i.classBindings:i.styleBindings;if(0!==Al(d))return n[Wc(d)]}(n,i,d);void 0!==B&&Array.isArray(B)&&(B=km(null,n,i,B[1],d),B=Tp(B,i.attrs,d),function Ky(n,i,s,d){n[Wc(s?i.classBindings:i.styleBindings)]=d}(n,i,d,B))}else _=function Ts(n,i,s){let d;const p=i.directiveEnd;for(let _=1+i.directiveStylingLast;_<p;_++)d=Tp(d,n[_].hostAttrs,s);return Tp(d,i.attrs,s)}(n,i,d)}return void 0!==_&&(d?i.residualClasses=_:i.residualStyles=_),s}(p,_,i,d),function Jg(n,i,s,d,p,_){let C=_?i.classBindings:i.styleBindings,O=Wc(C),B=Al(C);n[d]=s;let ae,q=!1;if(Array.isArray(s)?(ae=s[1],(null===ae||kt(s,ae)>0)&&(q=!0)):ae=s,p)if(0!==B){const Ze=Wc(n[O+1]);n[d+1]=Gu(Ze,O),0!==Ze&&(n[Ze+1]=Nm(n[Ze+1],d)),n[O+1]=function Qg(n,i){return 131071&n|i<<17}(n[O+1],d)}else n[d+1]=Gu(O,0),0!==O&&(n[O+1]=Nm(n[O+1],d)),O=d;else n[d+1]=Gu(B,0),0===O?O=d:n[B+1]=Nm(n[B+1],d),B=d;q&&(n[d+1]=Tl(n[d+1])),Xg(n,ae,d,!0),Xg(n,ae,d,!1),function ly(n,i,s,d,p){const _=p?n.residualClasses:n.residualStyles;null!=_&&"string"==typeof i&&kt(_,i)>=0&&(s[d+1]=df(s[d+1]))}(i,ae,n,d,_),C=Gu(O,B),_?i.classBindings=C:i.styleBindings=C}(p,_,i,s,C,d)}}(_,n,C,d),i!==kr&&js(p,C,i)&&function vy(n,i,s,d,p,_,C,O){if(!(3&i.type))return;const B=n.data,q=B[O+1],ae=function Wy(n){return 1==(1&n)}(q)?by(B,i,s,p,Al(q),C):void 0;o_(ae)||(o_(_)||function Ip(n){return 2==(2&n)}(q)&&(_=by(B,null,s,p,O,C)),function Ym(n,i,s,d,p){if(i)p?n.addClass(s,d):n.removeClass(s,d);else{let _=-1===d.indexOf("-")?void 0:Ya.DashCase;null==p?n.removeStyle(s,d,_):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),_|=Ya.Important),n.setStyle(s,d,p,_))}}(d,C,Ps(Hr(),s),p,_))}(_,_.data[Hr()],p,p[Ue],n,p[C+1]=function Xy(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=me(Qa(n)))),n}(i,s),d,C)}(n,i,null,!0),i_}function km(n,i,s,d,p){let _=null;const C=s.directiveEnd;let O=s.directiveStylingLast;for(-1===O?O=s.directiveStart:O++;O<C&&(_=i[O],d=Tp(d,_.hostAttrs,p),_!==n);)O++;return null!==n&&(s.directiveStylingLast=O),d}function Tp(n,i,s){const d=s?1:2;let p=-1;if(null!==i)for(let _=0;_<i.length;_++){const C=i[_];"number"==typeof C?p=C:p===d&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ce(n,C,!!s||i[++_]))}return void 0===n?null:n}function by(n,i,s,d,p,_){const C=null===i;let O;for(;p>0;){const B=n[p],q=Array.isArray(B),ae=q?B[1]:B,De=null===ae;let Ze=s[p+1];Ze===kr&&(Ze=De?ke:void 0);let yt=De?Ke(Ze,d):ae===d?Ze:void 0;if(q&&!o_(yt)&&(yt=Ke(B,d)),o_(yt)&&(O=yt,C))return O;const Lt=n[p+1];p=C?Wc(Lt):Al(Lt)}if(null!==i){let B=_?i.residualClasses:i.residualStyles;null!=B&&(O=Ke(B,d))}return O}function o_(n){return void 0!==n}function s_(n,i=""){const s=Dt(),d=nr(),p=n+Mr,_=d.firstCreatePass?ql(d,p,1,i,null):d.data[p],C=s[p]=function Md(n,i){return n.createText(i)}(s[Ue],i);Xu(d,s,C,_),tn(_,!1)}function gh(n){return Lm("",n,""),gh}function Lm(n,i,s){const d=Dt(),p=uh(d,n,i,s);return p!==kr&&function Hc(n,i,s){const d=Ps(i,n);!function Ih(n,i,s){n.setValue(i,s)}(n[Ue],d,s)}(d,Hr(),p),Lm}const yh=void 0;var rv=["en",[["a","p"],["AM","PM"],yh],[["AM","PM"],yh,yh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yh,"{1} 'at' {0}",yh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Op(n){const s=Math.floor(Math.abs(n)),d=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===d?1:5}];let Ml={};function p_(n){const i=function Np(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=_f(i);if(s)return s;const d=i.split("-")[0];if(s=_f(d),s)return s;if("en"===d)return rv;throw new tt(701,!1)}function g_(n){return p_(n)[Er.PluralCase]}function _f(n){return n in Ml||(Ml[n]=Qn.ng&&Qn.ng.common&&Qn.ng.common.locales&&Qn.ng.common.locales[n]),Ml[n]}var Er=(()=>((Er=Er||{})[Er.LocaleId=0]="LocaleId",Er[Er.DayPeriodsFormat=1]="DayPeriodsFormat",Er[Er.DayPeriodsStandalone=2]="DayPeriodsStandalone",Er[Er.DaysFormat=3]="DaysFormat",Er[Er.DaysStandalone=4]="DaysStandalone",Er[Er.MonthsFormat=5]="MonthsFormat",Er[Er.MonthsStandalone=6]="MonthsStandalone",Er[Er.Eras=7]="Eras",Er[Er.FirstDayOfWeek=8]="FirstDayOfWeek",Er[Er.WeekendRange=9]="WeekendRange",Er[Er.DateFormat=10]="DateFormat",Er[Er.TimeFormat=11]="TimeFormat",Er[Er.DateTimeFormat=12]="DateTimeFormat",Er[Er.NumberSymbols=13]="NumberSymbols",Er[Er.NumberFormats=14]="NumberFormats",Er[Er.CurrencyCode=15]="CurrencyCode",Er[Er.CurrencySymbol=16]="CurrencySymbol",Er[Er.CurrencyName=17]="CurrencyName",Er[Er.Currencies=18]="Currencies",Er[Er.Directionality=19]="Directionality",Er[Er.PluralCase=20]="PluralCase",Er[Er.ExtraData=21]="ExtraData",Er))();const u="en-US";let Y=u;function b_(n,i,s,d,p){if(n=ve(n),Array.isArray(n))for(let _=0;_<n.length;_++)b_(n[_],i,s,d,p);else{const _=nr(),C=Dt();let O=yu(n)?n:ve(n.provide),B=Vc(n);const q=Te(),ae=1048575&q.providerIndexes,De=q.directiveStart,Ze=q.providerIndexes>>20;if(yu(n)||!n.multi){const yt=new Ae(B,p,cd),Lt=Sv(O,i,p?ae:ae+Ze,De);-1===Lt?(or(qa(q,C),_,O),Av(_,n,i.length),i.push(O),q.directiveStart++,q.directiveEnd++,p&&(q.providerIndexes+=1048576),s.push(yt),C.push(yt)):(s[Lt]=yt,C[Lt]=yt)}else{const yt=Sv(O,i,ae+Ze,De),Lt=Sv(O,i,ae,ae+Ze),On=Lt>=0&&s[Lt];if(p&&!On||!p&&!(yt>=0&&s[yt])){or(qa(q,C),_,O);const Xn=function F0(n,i,s,d,p){const _=new Ae(n,s,cd);return _.multi=[],_.index=i,_.componentProviders=0,ab(_,p,d&&!s),_}(p?k0:N0,s.length,p,d,B);!p&&On&&(s[Lt].providerFactory=Xn),Av(_,n,i.length,0),i.push(O),q.directiveStart++,q.directiveEnd++,p&&(q.providerIndexes+=1048576),s.push(Xn),C.push(Xn)}else Av(_,n,yt>-1?yt:Lt,ab(s[p?Lt:yt],B,!p&&d));!p&&d&&On&&s[Lt].componentProviders++}}}function Av(n,i,s,d){const p=yu(i),_=function jl(n){return!!n.useClass}(i);if(p||_){const B=(_?ve(i.useClass):i).prototype.ngOnDestroy;if(B){const q=n.destroyHooks||(n.destroyHooks=[]);if(!p&&i.multi){const ae=q.indexOf(s);-1===ae?q.push(s,[d,B]):q[ae+1].push(d,B)}else q.push(s,B)}}}function ab(n,i,s){return s&&n.componentProviders++,n.multi.push(i)-1}function Sv(n,i,s,d){for(let p=s;p<d;p++)if(i[p]===n)return p;return-1}function N0(n,i,s,d){return xv(this.multi,[])}function k0(n,i,s,d){const p=this.multi;let _;if(this.providerFactory){const C=this.providerFactory.componentProviders,O=gr(s,s[un],this.providerFactory.index,d);_=O.slice(0,C),xv(p,_);for(let B=C;B<O.length;B++)_.push(O[B])}else _=[],xv(p,_);return _}function xv(n,i){for(let s=0;s<n.length;s++)i.push((0,n[s])());return i}function cb(n,i=[]){return s=>{s.providersResolver=(d,p)=>function vf(n,i,s){const d=nr();if(d.firstCreatePass){const p=zi(n);b_(s,d.data,d.blueprint,p,!0),b_(i,d.data,d.blueprint,p,!1)}}(d,p?p(n):n,i)}}class w_{}class lb{}function L0(n,i){return new ub(n,i??null)}class ub extends w_{constructor(i,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ah(this);const d=mi(i);this._bootstrapComponents=Il(d.bootstrap),this._r3Injector=Dg(i,s,[{provide:w_,useValue:this},{provide:Ff,useValue:this.componentFactoryResolver}],me(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Mv extends lb{constructor(i){super(),this.moduleType=i}create(i){return new ub(this.moduleType,i)}}class U0 extends w_{constructor(i,s,d){super(),this.componentFactoryResolver=new ah(this),this.instance=null;const p=new vu([...i,{provide:w_,useValue:this},{provide:Ff,useValue:this.componentFactoryResolver}],s||El(),d,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Rv(n,i,s=null){return new U0(n,i,s).injector}let B0=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const d=mg(0,s.type),p=d.length>0?Rv([d],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,p)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=zt({token:n,providedIn:"environment",factory:()=>new n(vn(Bc))}),n})();function db(n){n.getStandaloneInjector=i=>i.get(B0).getOrCreateStandaloneInjector(n)}function yb(n,i,s,d,p,_){const C=i+s;return js(n,C,p)?function Gc(n,i,s){return n[i]=s}(n,C+1,_?d.call(_,p):d(p)):function Ry(n,i){const s=n[i];return s===kr?void 0:s}(n,C+1)}function Cb(n,i){const s=nr();let d;const p=n+Mr;s.firstCreatePass?(d=function iw(n,i){if(i)for(let s=i.length-1;s>=0;s--){const d=i[s];if(n===d.name)return d}}(i,s.pipeRegistry),s.data[p]=d,d.onDestroy&&(s.destroyHooks??(s.destroyHooks=[])).push(p,d.onDestroy)):d=s.data[p];const _=d.factory||(d.factory=uo(d.type)),C=Ar(cd);try{const O=dl(!1),B=_();return dl(O),function oy(n,i,s,d){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),i[s]=d}(s,Dt(),p,B),B}finally{Ar(C)}}function Ib(n,i,s){const d=n+Mr,p=Dt(),_=eo(p,d);return function Py(n,i){return n[un].data[i].pure}(p,d)?yb(p,function Ui(){const n=jn.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}(),i,_.transform,s,_):_.transform(s)}function Ov(n){return i=>{setTimeout(n,void 0,i)}}const wh=class lw extends w.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,d){let p=i,_=s||(()=>null),C=d;if(i&&"object"==typeof i){const B=i;p=B.next?.bind(B),_=B.error?.bind(B),C=B.complete?.bind(B)}this.__isAsync&&(_=Ov(_),p&&(p=Ov(p)),C&&(C=Ov(C)));const O=super.subscribe({next:p,error:_,complete:C});return i instanceof j.w0&&i.add(O),O}};function uw(){return this._results[Symbol.iterator]()}class Nv{get changes(){return this._changes||(this._changes=new wh)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Nv.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=uw)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const d=this;d.dirty=!1;const p=function vo(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function yo(n,i,s){if(n.length!==i.length)return!1;for(let d=0;d<n.length;d++){let p=n[d],_=i[d];if(s&&(p=s(p),_=s(_)),_!==p)return!1}return!0}(d._results,p,s))&&(d._results=p,d.length=p.length,d.last=p[this.length-1],d.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Oy=(()=>{class n{}return n.__NG_ELEMENT_ID__=fw,n})();const dw=Oy,hw=class extends dw{constructor(i,s,d){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=d}createEmbeddedView(i,s){const d=this._declarationTContainer.tView,p=Qd(this._declarationLView,d,i,16,null,d.declTNode,null,null,null,null,s||null);p[Jn]=this._declarationLView[this._declarationTContainer.index];const C=this._declarationLView[Ii];return null!==C&&(p[Ii]=C.createEmbeddedView(d)),Mu(d,p,i),new dd(p)}};function fw(){return av(Te(),Dt())}function av(n,i){return 4&n.type?new hw(i,n,il(n,i)):null}let cv=(()=>{class n{}return n.__NG_ELEMENT_ID__=pw,n})();function pw(){return Ab(Te(),Dt())}const mw=cv,Db=class extends mw{constructor(i,s,d){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=d}get element(){return il(this._hostTNode,this._hostLView)}get injector(){return new Fo(this._hostTNode,this._hostLView)}get parentInjector(){const i=Kr(this._hostTNode,this._hostLView);if(To(i)){const s=Ft(i,this._hostLView),d=en(i);return new Fo(s[un].data[d+8],s)}return new Fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=Tb(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-Vi}createEmbeddedView(i,s,d){let p,_;"number"==typeof d?p=d:null!=d&&(p=d.index,_=d.injector);const C=i.createEmbeddedView(s||{},_);return this.insert(C,p),C}createComponent(i,s,d,p,_){const C=i&&!function Cc(n){return"function"==typeof n}(i);let O;if(C)O=s;else{const De=s||{};O=De.index,d=De.injector,p=De.projectableNodes,_=De.environmentInjector||De.ngModuleRef}const B=C?i:new hd(wn(i)),q=d||this.parentInjector;if(!_&&null==B.ngModule){const Ze=(C?q:this.parentInjector).get(Bc,null);Ze&&(_=Ze)}const ae=B.create(q,p,void 0,_);return this.insert(ae.hostView,O),ae}insert(i,s){const d=i._lView,p=d[un];if(function is(n){return gi(n[Xr])}(d)){const ae=this.indexOf(i);if(-1!==ae)this.detach(ae);else{const De=d[Xr],Ze=new Db(De,De[ei],De[Xr]);Ze.detach(Ze.indexOf(i))}}const _=this._adjustIndex(s),C=this._lContainer;!function g(n,i,s,d){const p=Vi+d,_=s.length;d>0&&(s[p-1][Lr]=i),d<_-Vi?(i[Lr]=s[p],Ai(s,Vi+d,i)):(s.push(i),i[Lr]=null),i[Xr]=s;const C=i[Jn];null!==C&&s!==C&&function v(n,i){const s=n[hs];i[qn]!==i[Xr][Xr][qn]&&(n[ro]=!0),null===s?n[hs]=[i]:s.push(i)}(C,i);const O=i[Ii];null!==O&&O.insertView(n),i[ar]|=64}(p,d,C,_);const O=fu(_,C),B=d[Ue],q=vl(B,C[ds]);return null!==q&&function Dh(n,i,s,d,p,_){d[qr]=p,d[ei]=i,td(n,d,s,1,p,_)}(p,C[ei],B,d,q,O),i.attachToViewContainerRef(),Ai(kv(C),_,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=Tb(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),d=Q(this._lContainer,s);d&&(D(kv(this._lContainer),s),de(d[un],d))}detach(i){const s=this._adjustIndex(i,-1),d=Q(this._lContainer,s);return d&&null!=D(kv(this._lContainer),s)?new dd(d):null}_adjustIndex(i,s=0){return i??this.length+s}};function Tb(n){return n[Ho]}function kv(n){return n[Ho]||(n[Ho]=[])}function Ab(n,i){let s;const d=i[n.index];if(gi(d))s=d;else{let p;if(8&n.type)p=oi(d);else{const _=i[Ue];p=_.createComment("");const C=tr(n,i);Ur(_,vl(_,C),p,function hu(n,i){return n.nextSibling(i)}(_,C),!1)}i[n.index]=s=Mg(d,i,p,n),Yl(i,s)}return new Db(s,n,i)}class Fv{constructor(i){this.queryList=i,this.matches=null}clone(){return new Fv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Lv{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const d=null!==i.contentQueries?i.contentQueries[0]:s.length,p=[];for(let _=0;_<d;_++){const C=s.getByIndex(_);p.push(this.queries[C.indexInDeclarationView].clone())}return new Lv(p)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==Fb(i,s).matches&&this.queries[s].setDirty()}}class Sb{constructor(i,s,d=null){this.predicate=i,this.flags=s,this.read=d}}class Uv{constructor(i=[]){this.queries=i}elementStart(i,s){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let d=0;d<this.length;d++){const p=null!==s?s.length:0,_=this.getByIndex(d).embeddedTView(i,p);_&&(_.indexInDeclarationView=d,null!==s?s.push(_):s=[_])}return null!==s?new Uv(s):null}template(i,s){for(let d=0;d<this.queries.length;d++)this.queries[d].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Bv{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new Bv(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let d=i.parent;for(;null!==d&&8&d.type&&d.index!==s;)d=d.parent;return s===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const d=this.metadata.predicate;if(Array.isArray(d))for(let p=0;p<d.length;p++){const _=d[p];this.matchTNodeWithReadOption(i,s,gw(s,_)),this.matchTNodeWithReadOption(i,s,fl(s,i,_,!1,!1))}else d===Oy?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,fl(s,i,d,!1,!1))}matchTNodeWithReadOption(i,s,d){if(null!==d){const p=this.metadata.read;if(null!==p)if(p===Ja||p===cv||p===Oy&&4&s.type)this.addMatch(s.index,-2);else{const _=fl(s,i,p,!1,!1);null!==_&&this.addMatch(s.index,_)}else this.addMatch(s.index,d)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function gw(n,i){const s=n.localNames;if(null!==s)for(let d=0;d<s.length;d+=2)if(s[d]===i)return s[d+1];return null}function yw(n,i,s,d){return-1===s?function _w(n,i){return 11&n.type?il(n,i):4&n.type?av(n,i):null}(i,n):-2===s?function vw(n,i,s){return s===Ja?il(i,n):s===Oy?av(i,n):s===cv?Ab(i,n):void 0}(n,i,d):gr(n,n[un],s,i)}function xb(n,i,s,d){const p=i[Ii].queries[d];if(null===p.matches){const _=n.data,C=s.matches,O=[];for(let B=0;B<C.length;B+=2){const q=C[B];O.push(q<0?null:yw(i,_[q],C[B+1],s.metadata.read))}p.matches=O}return p.matches}function Vv(n,i,s,d){const p=n.queries.getByIndex(s),_=p.matches;if(null!==_){const C=xb(n,i,p,s);for(let O=0;O<_.length;O+=2){const B=_[O];if(B>0)d.push(C[O/2]);else{const q=_[O+1],ae=i[-B];for(let De=Vi;De<ae.length;De++){const Ze=ae[De];Ze[Jn]===Ze[Xr]&&Vv(Ze[un],Ze,q,d)}if(null!==ae[hs]){const De=ae[hs];for(let Ze=0;Ze<De.length;Ze++){const yt=De[Ze];Vv(yt[un],yt,q,d)}}}}}return d}function Mb(n){const i=Dt(),s=nr(),d=ms();Zr(d+1);const p=Fb(s,d);if(n.dirty&&function Io(n){return 4==(4&n[ar])}(i)===(2==(2&p.metadata.flags))){if(null===p.matches)n.reset([]);else{const _=p.crossesNgTemplate?Vv(s,i,d,[]):xb(s,i,p,d);n.reset(_,$l),n.notifyOnChanges()}return!0}return!1}function Rb(n,i,s){const d=nr();d.firstCreatePass&&(kb(d,new Sb(n,i,s),-1),2==(2&i)&&(d.staticViewQueries=!0)),Nb(d,Dt(),i)}function Pb(n,i,s,d){const p=nr();if(p.firstCreatePass){const _=Te();kb(p,new Sb(i,s,d),_.index),function ww(n,i){const s=n.contentQueries||(n.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,i)}(p,n),2==(2&s)&&(p.staticContentQueries=!0)}Nb(p,Dt(),s)}function Ob(){return function bw(n,i){return n[Ii].queries[i].queryList}(Dt(),ms())}function Nb(n,i,s){const d=new Nv(4==(4&s));wa(n,i,d,d.destroy),null===i[Ii]&&(i[Ii]=new Lv),i[Ii].queries.push(new Fv(d))}function kb(n,i,s){null===n.queries&&(n.queries=new Uv),n.queries.track(new Bv(i,s))}function Fb(n,i){return n.queries.getByIndex(i)}function Lb(n,i){return av(n,i)}function jv(n){return!!mi(n)}function uv(...n){}const t0=new zr("Application Initializer");let dv=(()=>{class n{constructor(s){this.appInits=s,this.resolve=uv,this.reject=uv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p})}runInitializers(){if(this.initialized)return;const s=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const _=this.appInits[p]();if(ph(_))s.push(_);else if(gd(_)){const C=new Promise((O,B)=>{_.subscribe({complete:O,error:B})});s.push(C)}}Promise.all(s).then(()=>{d()}).catch(p=>{this.reject(p)}),0===s.length&&d(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(vn(t0,8))},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const n0=new zr("AppId",{providedIn:"root",factory:function r0(){return`${Wv()}${Wv()}${Wv()}`}});function Wv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const o0=new zr("Platform Initializer"),jw=new zr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),$w=new zr("AnimationModuleType");let Hw=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const hv=new zr("LocaleId",{providedIn:"root",factory:()=>re(hv,Kt.Optional|Kt.SkipSelf)||function zw(){return typeof $localize<"u"&&$localize.locale||u}()}),Gw=new zr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ww{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let qw=(()=>{class n{compileModuleSync(s){return new Mv(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const d=this.compileModuleSync(s),_=Il(mi(s).declarations).reduce((C,O)=>{const B=wn(O);return B&&C.push(new hd(B)),C},[]);return new Ww(d,_)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yw=(()=>Promise.resolve(0))();function qv(n){typeof Zone>"u"?Yw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Zu{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wh(!1),this.onMicrotaskEmpty=new wh(!1),this.onStable=new wh(!1),this.onError=new wh(!1),typeof Zone>"u")throw new tt(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!d&&s,p.shouldCoalesceRunChangeDetection=d,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function Qw(){let n=Qn.requestAnimationFrame,i=Qn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const d=i[Zone.__symbol__("OriginalDelegate")];d&&(i=d)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function eE(n){const i=()=>{!function Xw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Qn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Kv(n),n.isCheckStableRunning=!0,Zv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Kv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,d,p,_,C,O)=>{try{return c0(n),s.invokeTask(p,_,C,O)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||n.shouldCoalesceRunChangeDetection)&&i(),l0(n)}},onInvoke:(s,d,p,_,C,O,B)=>{try{return c0(n),s.invoke(p,_,C,O,B)}finally{n.shouldCoalesceRunChangeDetection&&i(),l0(n)}},onHasTask:(s,d,p,_)=>{s.hasTask(p,_),d===p&&("microTask"==_.change?(n._hasPendingMicrotasks=_.microTask,Kv(n),Zv(n)):"macroTask"==_.change&&(n.hasPendingMacrotasks=_.macroTask))},onHandleError:(s,d,p,_)=>(s.handleError(p,_),n.runOutsideAngular(()=>n.onError.emit(_)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zu.isInAngularZone())throw new tt(909,!1)}static assertNotInAngularZone(){if(Zu.isInAngularZone())throw new tt(909,!1)}run(i,s,d){return this._inner.run(i,s,d)}runTask(i,s,d,p){const _=this._inner,C=_.scheduleEventTask("NgZoneEvent: "+p,i,Jw,uv,uv);try{return _.runTask(C,s,d)}finally{_.cancelTask(C)}}runGuarded(i,s,d){return this._inner.runGuarded(i,s,d)}runOutsideAngular(i){return this._outer.run(i)}}const Jw={};function Zv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Kv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function c0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function l0(n){n._nesting--,Zv(n)}class tE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wh,this.onMicrotaskEmpty=new wh,this.onStable=new wh,this.onError=new wh}run(i,s,d){return i.apply(s,d)}runGuarded(i,s,d){return i.apply(s,d)}runOutsideAngular(i){return i()}runTask(i,s,d,p){return i.apply(s,d)}}const u0=new zr(""),d0=new zr("");let Yv,nE=(()=>{class n{constructor(s,d,p){this._ngZone=s,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Yv||(function rE(n){Yv=n}(p),p.addToWindow(d)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zu.assertNotInAngularZone(),qv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())qv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(s)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,d,p){let _=-1;d&&d>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==_),s(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:s,timeoutId:_,updateCb:p})}whenStable(s,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,d,p){return[]}}return n.\u0275fac=function(s){return new(s||n)(vn(Zu),vn(h0),vn(d0))},n.\u0275prov=zt({token:n,factory:n.\u0275fac}),n})(),h0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,d){this._applications.set(s,d)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,d=!0){return Yv?.findTestabilityInTree(this,s,d)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const bf=!1;let Fp=null;const f0=new zr("AllowMultipleToken"),Qv=new zr("PlatformDestroyListeners"),p0=new zr("appBootstrapListener");class sE{constructor(i,s){this.name=i,this.token=s}}function g0(n,i,s=[]){const d=`Platform: ${i}`,p=new zr(d);return(_=[])=>{let C=Jv();if(!C||C.injector.get(f0,!1)){const O=[...s,..._,{provide:p,useValue:!0}];n?n(O):function aE(n){if(Fp&&!Fp.get(f0,!1))throw new tt(400,!1);Fp=n;const i=n.get(y0);(function m0(n){const i=n.get(o0,null);i&&i.forEach(s=>s())})(n)}(function _0(n=[],i){return Zd.create({name:i,providers:[{provide:Nf,useValue:"platform"},{provide:Qv,useValue:new Set([()=>Fp=null])},...n]})}(O,d))}return function lE(n){const i=Jv();if(!i)throw new tt(401,!1);return i}()}}function Jv(){return Fp?.get(y0)??null}let y0=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,d){const p=function b0(n,i){let s;return s="noop"===n?new tE:("zone.js"===n?void 0:n)||new Zu(i),s}(d?.ngZone,function v0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(d)),_=[{provide:Zu,useValue:p}];return p.run(()=>{const C=Zd.create({providers:_,parent:this.injector,name:s.moduleType.name}),O=s.create(C),B=O.injector.get(bu,null);if(!B)throw new tt(402,!1);return p.runOutsideAngular(()=>{const q=p.onError.subscribe({next:ae=>{B.handleError(ae)}});O.onDestroy(()=>{pv(this._modules,O),q.unsubscribe()})}),function w0(n,i,s){try{const d=s();return ph(d)?d.catch(p=>{throw i.runOutsideAngular(()=>n.handleError(p)),p}):d}catch(d){throw i.runOutsideAngular(()=>n.handleError(d)),d}}(B,p,()=>{const q=O.injector.get(dv);return q.runInitializers(),q.donePromise.then(()=>(function he(n){Xe(n,"Expected localeId to be defined"),"string"==typeof n&&(Y=n.toLowerCase().replace(/_/g,"-"))}(O.injector.get(hv,u)||u),this._moduleDoBootstrap(O),O))})})}bootstrapModule(s,d=[]){const p=E0({},d);return function iE(n,i,s){const d=new Mv(s);return Promise.resolve(d)}(0,0,s).then(_=>this.bootstrapModuleFactory(_,p))}_moduleDoBootstrap(s){const d=s.injector.get(fv);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!s.instance.ngDoBootstrap)throw new tt(-403,!1);s.instance.ngDoBootstrap(d)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new tt(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const s=this._injector.get(Qv,null);s&&(s.forEach(d=>d()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(vn(Zd))},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function E0(n,i){return Array.isArray(i)?i.reduce(E0,n):{...n,...i}}let fv=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(s,d,p){this._zone=s,this._injector=d,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new h.y(O=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{O.next(this._stable),O.complete()})}),C=new h.y(O=>{let B;this._zone.runOutsideAngular(()=>{B=this._zone.onStable.subscribe(()=>{Zu.assertNotInAngularZone(),qv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,O.next(!0))})})});const q=this._zone.onUnstable.subscribe(()=>{Zu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{O.next(!1)}))});return()=>{B.unsubscribe(),q.unsubscribe()}});this.isStable=(0,ye.T)(_,C.pipe((0,be.B)()))}bootstrap(s,d){const p=s instanceof Lh;if(!this._injector.get(dv).done){!p&&wi(s);throw new tt(405,bf)}let C;C=p?s:this._injector.get(Ff).resolveComponentFactory(s),this.componentTypes.push(C.componentType);const O=function oE(n){return n.isBoundToModule}(C)?void 0:this._injector.get(w_),q=C.create(Zd.NULL,[],d||C.selector,O),ae=q.location.nativeElement,De=q.injector.get(u0,null);return De?.registerApplication(ae),q.onDestroy(()=>{this.detachView(q.hostView),pv(this.components,q),De?.unregisterApplication(ae)}),this._loadComponent(q),q}tick(){if(this._runningTick)throw new tt(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const d=s;this._views.push(d),d.attachToAppRef(this)}detachView(s){const d=s;pv(this._views,d),d.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const d=this._injector.get(p0,[]);d.push(...this._bootstrapListeners),d.forEach(p=>p(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>pv(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new tt(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(vn(Zu),vn(Bc),vn(bu))},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pv(n,i){const s=n.indexOf(i);s>-1&&n.splice(s,1)}function dE(){return!1}let hE=(()=>{class n{}return n.__NG_ELEMENT_ID__=fE,n})();function fE(n){return function pE(n,i,s){if(xo(n)&&!s){const d=ci(n.index,i);return new dd(d,d)}return 47&n.type?new dd(i[qn],i):null}(Te(),Dt(),16==(16&n))}class A0{constructor(){}supports(i){return Fu(i)}create(i){return new bE(i)}}const vE=(n,i)=>i;class bE{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||vE}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,d=this._removalsHead,p=0,_=null;for(;s||d;){const C=!d||s&&s.currentIndex<x0(d,p,_)?s:d,O=x0(C,p,_),B=C.currentIndex;if(C===d)p--,d=d._nextRemoved;else if(s=s._next,null==C.previousIndex)p++;else{_||(_=[]);const q=O-p,ae=B-p;if(q!=ae){for(let Ze=0;Ze<q;Ze++){const yt=Ze<_.length?_[Ze]:_[Ze]=0,Lt=yt+Ze;ae<=Lt&&Lt<q&&(_[Ze]=yt+1)}_[C.previousIndex]=ae-q}}O!==B&&i(C,O,B)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!Fu(i))throw new tt(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let p,_,C,s=this._itHead,d=!1;if(Array.isArray(i)){this.length=i.length;for(let O=0;O<this.length;O++)_=i[O],C=this._trackByFn(O,_),null!==s&&Object.is(s.trackById,C)?(d&&(s=this._verifyReinsertion(s,_,C,O)),Object.is(s.item,_)||this._addIdentityChange(s,_)):(s=this._mismatch(s,_,C,O),d=!0),s=s._next}else p=0,function Hg(n,i){if(Array.isArray(n))for(let s=0;s<n.length;s++)i(n[s]);else{const s=n[Symbol.iterator]();let d;for(;!(d=s.next()).done;)i(d.value)}}(i,O=>{C=this._trackByFn(p,O),null!==s&&Object.is(s.trackById,C)?(d&&(s=this._verifyReinsertion(s,O,C,p)),Object.is(s.item,O)||this._addIdentityChange(s,O)):(s=this._mismatch(s,O,C,p),d=!0),s=s._next,p++}),this.length=p;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,d,p){let _;return null===i?_=this._itTail:(_=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,_,p)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(d,p))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,_,p)):i=this._addAfter(new wE(s,d),_,p),i}_verifyReinsertion(i,s,d,p){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==_?i=this._reinsertAfter(_,i._prev,p):i.currentIndex!=p&&(i.currentIndex=p,this._addToMoves(i,p)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const p=i._prevRemoved,_=i._nextRemoved;return null===p?this._removalsHead=_:p._nextRemoved=_,null===_?this._removalsTail=p:_._prevRemoved=p,this._insertAfter(i,s,d),this._addToMoves(i,d),i}_moveAfter(i,s,d){return this._unlink(i),this._insertAfter(i,s,d),this._addToMoves(i,d),i}_addAfter(i,s,d){return this._insertAfter(i,s,d),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,d){const p=null===s?this._itHead:s._next;return i._next=p,i._prev=s,null===p?this._itTail=i:p._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new S0),this._linkedRecords.put(i),i.currentIndex=d,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,d=i._next;return null===s?this._itHead=d:s._next=d,null===d?this._itTail=s:d._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new S0),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class wE{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class EE{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===s||s<=d.currentIndex)&&Object.is(d.trackById,i))return d;return null}remove(i){const s=i._prevDup,d=i._nextDup;return null===s?this._head=d:s._nextDup=d,null===d?this._tail=s:d._prevDup=s,null===this._head}}class S0{constructor(){this.map=new Map}put(i){const s=i.trackById;let d=this.map.get(s);d||(d=new EE,this.map.set(s,d)),d.add(i)}get(i,s){const p=this.map.get(i);return p?p.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function x0(n,i,s){const d=n.previousIndex;if(null===d)return d;let p=0;return s&&d<s.length&&(p=s[d]),d+i+p}class M0{constructor(){}supports(i){return i instanceof Map||tf(i)}create(){return new CE}}class CE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||tf(i)))throw new tt(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(d,p)=>{if(s&&s.key===p)this._maybeAddToChanges(s,d),this._appendAfter=s,s=s._next;else{const _=this._getOrCreateRecordForKey(p,d);s=this._insertBeforeOrAppend(s,_)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let d=s;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const d=i._prev;return s._next=i,s._prev=d,i._prev=s,d&&(d._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const p=this._records.get(i);this._maybeAddToChanges(p,s);const _=p._prev,C=p._next;return _&&(_._next=C),C&&(C._prev=_),p._next=null,p._prev=null,p}const d=new IE(i);return this._records.set(i,d),d.currentValue=s,this._addToAdditions(d),d}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(d=>s(i[d],d))}}class IE{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function R0(){return new rb([new A0])}let rb=(()=>{class n{constructor(s){this.factories=s}static create(s,d){if(null!=d){const p=d.factories.slice();s=s.concat(p)}return new n(s)}static extend(s){return{provide:n,useFactory:d=>n.create(s,d||R0()),deps:[[n,new ml,new Pc]]}}find(s){const d=this.factories.find(p=>p.supports(s));if(null!=d)return d;throw new tt(901,!1)}}return n.\u0275prov=zt({token:n,providedIn:"root",factory:R0}),n})();function P0(){return new ib([new M0])}let ib=(()=>{class n{constructor(s){this.factories=s}static create(s,d){if(d){const p=d.factories.slice();s=s.concat(p)}return new n(s)}static extend(s){return{provide:n,useFactory:d=>n.create(s,d||P0()),deps:[[n,new ml,new Pc]]}}find(s){const d=this.factories.find(p=>p.supports(s));if(d)return d;throw new tt(901,!1)}}return n.\u0275prov=zt({token:n,providedIn:"root",factory:P0}),n})();const AE=g0(null,"core",[]);let SE=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(vn(fv))},n.\u0275mod=it({type:n}),n.\u0275inj=Rn({}),n})();function xE(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},9101:(Qt,Ye,U)=>{"use strict";U.d(Ye,{lW:()=>Mt,ot:()=>gt,zs:()=>It});var w=U(3353),j=U(4650),h=U(4827),ye=U(2327);const be=["mat-button",""],ne=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Ne=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],ut=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],xe=(0,ye.pj)((0,ye.Id)((0,ye.Kr)(class{constructor(rt){this._elementRef=rt}})));let ot=(()=>{class rt extends xe{constructor(Ve,mt,En,_t){super(Ve),this._platform=mt,this._ngZone=En,this._animationMode=_t,this._focusMonitor=(0,j.f3M)(h.tE),this._isFab=!1;const zt=Ve.nativeElement.classList;for(const zn of ut)this._hasHostAttributes(zn.selector)&&zn.mdcClasses.forEach(Rn=>{zt.add(Rn)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(Ve="program",mt){Ve?this._focusMonitor.focusVia(this._elementRef.nativeElement,Ve,mt):this._elementRef.nativeElement.focus(mt)}_hasHostAttributes(...Ve){return Ve.some(mt=>this._elementRef.nativeElement.hasAttribute(mt))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return rt.\u0275fac=function(Ve){j.$Z()},rt.\u0275dir=j.lG2({type:rt,viewQuery:function(Ve,mt){if(1&Ve&&j.Gf(ye.wG,5),2&Ve){let En;j.iGM(En=j.CRH())&&(mt.ripple=En.first)}},features:[j.qOj]}),rt})(),Qe=(()=>{class rt extends ot{constructor(Ve,mt,En,_t){super(Ve,mt,En,_t),this._haltDisabledEvents=zt=>{this.disabled&&(zt.preventDefault(),zt.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return rt.\u0275fac=function(Ve){j.$Z()},rt.\u0275dir=j.lG2({type:rt,features:[j.qOj]}),rt})(),Mt=(()=>{class rt extends ot{constructor(Ve,mt,En,_t){super(Ve,mt,En,_t)}}return rt.\u0275fac=function(Ve){return new(Ve||rt)(j.Y36(j.SBq),j.Y36(w.t4),j.Y36(j.R0b),j.Y36(j.QbO,8))},rt.\u0275cmp=j.Xpm({type:rt,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(Ve,mt){2&Ve&&(j.uIk("disabled",mt.disabled||null),j.ekj("_mat-animation-noopable","NoopAnimations"===mt._animationMode)("mat-unthemed",!mt.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[j.qOj],attrs:be,ngContentSelectors:Ne,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(Ve,mt){1&Ve&&(j.F$t(ne),j._UZ(0,"span",0),j.Hsn(1),j.TgZ(2,"span",1),j.Hsn(3,1),j.qZA(),j.Hsn(4,2),j._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&Ve&&(j.ekj("mdc-button__ripple",!mt._isFab)("mdc-fab__ripple",mt._isFab),j.xp6(6),j.Q6J("matRippleDisabled",mt._isRippleDisabled())("matRippleTrigger",mt._elementRef.nativeElement))},dependencies:[ye.wG],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),rt})(),It=(()=>{class rt extends Qe{constructor(Ve,mt,En,_t){super(Ve,mt,En,_t)}}return rt.\u0275fac=function(Ve){return new(Ve||rt)(j.Y36(j.SBq),j.Y36(w.t4),j.Y36(j.R0b),j.Y36(j.QbO,8))},rt.\u0275cmp=j.Xpm({type:rt,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:9,hostBindings:function(Ve,mt){2&Ve&&(j.uIk("disabled",mt.disabled||null)("tabindex",mt.disabled?-1:mt.tabIndex)("aria-disabled",mt.disabled.toString()),j.ekj("_mat-animation-noopable","NoopAnimations"===mt._animationMode)("mat-unthemed",!mt.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[j.qOj],attrs:be,ngContentSelectors:Ne,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(Ve,mt){1&Ve&&(j.F$t(ne),j._UZ(0,"span",0),j.Hsn(1),j.TgZ(2,"span",1),j.Hsn(3,1),j.qZA(),j.Hsn(4,2),j._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&Ve&&(j.ekj("mdc-button__ripple",!mt._isFab)("mdc-fab__ripple",mt._isFab),j.xp6(6),j.Q6J("matRippleDisabled",mt._isRippleDisabled())("matRippleTrigger",mt._elementRef.nativeElement))},dependencies:[ye.wG],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),rt})(),gt=(()=>{class rt{}return rt.\u0275fac=function(Ve){return new(Ve||rt)},rt.\u0275mod=j.oAB({type:rt}),rt.\u0275inj=j.cJS({imports:[ye.BQ,ye.si,ye.BQ]}),rt})()},2327:(Qt,Ye,U)=>{"use strict";U.d(Ye,{BQ:()=>Bt,wG:()=>In,si:()=>kn,pj:()=>Pr,Kr:()=>at,Id:()=>Gt});var w=U(4650),j=U(4827),h=U(6895);let fe=(()=>{class wt{}return wt.\u0275fac=function(J){return new(J||wt)},wt.\u0275mod=w.oAB({type:wt}),wt.\u0275inj=w.cJS({}),wt})();var ve=U(3353),je=U(1281);const ze=new w.OlP("mat-sanity-checks",{providedIn:"root",factory:function It(){return!0}});let Bt=(()=>{class wt{constructor(J,se,X){this._sanityChecks=se,this._document=X,this._hasDoneGlobalChecks=!1,J._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(J){return!(0,ve.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[J])}}return wt.\u0275fac=function(J){return new(J||wt)(w.LFG(j.qm),w.LFG(ze,8),w.LFG(h.K0))},wt.\u0275mod=w.oAB({type:wt}),wt.\u0275inj=w.cJS({imports:[fe,fe]}),wt})();function Gt(wt){return class extends wt{get disabled(){return this._disabled}set disabled(Me){this._disabled=(0,je.Ig)(Me)}constructor(...Me){super(...Me),this._disabled=!1}}}function Pr(wt,Me){return class extends wt{get color(){return this._color}set color(J){const se=J||this.defaultColor;se!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),se&&this._elementRef.nativeElement.classList.add(`mat-${se}`),this._color=se)}constructor(...J){super(...J),this.defaultColor=Me,this.color=Me}}}function at(wt){return class extends wt{get disableRipple(){return this._disableRipple}set disableRipple(Me){this._disableRipple=(0,je.Ig)(Me)}constructor(...Me){super(...Me),this._disableRipple=!1}}}class $n{constructor(Me,J,se,X=!1){this._renderer=Me,this.element=J,this.config=se,this._animationForciblyDisabledThroughCss=X,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const An=(0,ve.i$)({passive:!0,capture:!0});class Kt{constructor(){this._events=new Map,this._delegateEventHandler=Me=>{const J=(0,ve.sA)(Me);J&&this._events.get(Me.type)?.forEach((se,X)=>{(X===J||X.contains(J))&&se.forEach(oe=>oe.handleEvent(Me))})}}addHandler(Me,J,se,X){const oe=this._events.get(J);if(oe){const ee=oe.get(se);ee?ee.add(X):oe.set(se,new Set([X]))}else this._events.set(J,new Map([[se,new Set([X])]])),Me.runOutsideAngular(()=>{document.addEventListener(J,this._delegateEventHandler,An)})}removeHandler(Me,J,se){const X=this._events.get(Me);if(!X)return;const oe=X.get(J);oe&&(oe.delete(se),0===oe.size&&X.delete(J),0===X.size&&(this._events.delete(Me),document.removeEventListener(Me,this._delegateEventHandler,An)))}}const Pn={enterDuration:225,exitDuration:150},Ar=(0,ve.i$)({passive:!0,capture:!0}),$r=["mousedown","touchstart"],mr=["mouseup","mouseleave","touchend","touchcancel"];class Qn{constructor(Me,J,se,X){this._target=Me,this._ngZone=J,this._platform=X,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,X.isBrowser&&(this._containerElement=(0,je.fI)(se))}fadeInRipple(Me,J,se={}){const X=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),oe={...Pn,...se.animation};se.centered&&(Me=X.left+X.width/2,J=X.top+X.height/2);const ee=se.radius||function Ln(wt,Me,J){const se=Math.max(Math.abs(wt-J.left),Math.abs(wt-J.right)),X=Math.max(Math.abs(Me-J.top),Math.abs(Me-J.bottom));return Math.sqrt(se*se+X*X)}(Me,J,X),ke=Me-X.left,_e=J-X.top,Ce=oe.enterDuration,ue=document.createElement("div");ue.classList.add("mat-ripple-element"),ue.style.left=ke-ee+"px",ue.style.top=_e-ee+"px",ue.style.height=2*ee+"px",ue.style.width=2*ee+"px",null!=se.color&&(ue.style.backgroundColor=se.color),ue.style.transitionDuration=`${Ce}ms`,this._containerElement.appendChild(ue);const Oe=window.getComputedStyle(ue),Rt=Oe.transitionDuration,Zt="none"===Oe.transitionProperty||"0s"===Rt||"0s, 0s"===Rt||0===X.width&&0===X.height,cn=new $n(this,ue,se,Zt);ue.style.transform="scale3d(1, 1, 1)",cn.state=0,se.persistent||(this._mostRecentTransientRipple=cn);let Wn=null;return!Zt&&(Ce||oe.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const xr=()=>this._finishRippleTransition(cn),st=()=>this._destroyRipple(cn);ue.addEventListener("transitionend",xr),ue.addEventListener("transitioncancel",st),Wn={onTransitionEnd:xr,onTransitionCancel:st}}),this._activeRipples.set(cn,Wn),(Zt||!Ce)&&this._finishRippleTransition(cn),cn}fadeOutRipple(Me){if(2===Me.state||3===Me.state)return;const J=Me.element,se={...Pn,...Me.config.animation};J.style.transitionDuration=`${se.exitDuration}ms`,J.style.opacity="0",Me.state=2,(Me._animationForciblyDisabledThroughCss||!se.exitDuration)&&this._finishRippleTransition(Me)}fadeOutAll(){this._getActiveRipples().forEach(Me=>Me.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(Me=>{Me.config.persistent||Me.fadeOut()})}setupTriggerEvents(Me){const J=(0,je.fI)(Me);!this._platform.isBrowser||!J||J===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=J,$r.forEach(se=>{Qn._eventManager.addHandler(this._ngZone,se,J,this)}))}handleEvent(Me){"mousedown"===Me.type?this._onMousedown(Me):"touchstart"===Me.type?this._onTouchStart(Me):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{mr.forEach(J=>{this._triggerElement.addEventListener(J,this,Ar)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(Me){0===Me.state?this._startFadeOutTransition(Me):2===Me.state&&this._destroyRipple(Me)}_startFadeOutTransition(Me){const J=Me===this._mostRecentTransientRipple,{persistent:se}=Me.config;Me.state=1,!se&&(!J||!this._isPointerDown)&&Me.fadeOut()}_destroyRipple(Me){const J=this._activeRipples.get(Me)??null;this._activeRipples.delete(Me),this._activeRipples.size||(this._containerRect=null),Me===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),Me.state=3,null!==J&&(Me.element.removeEventListener("transitionend",J.onTransitionEnd),Me.element.removeEventListener("transitioncancel",J.onTransitionCancel)),Me.element.remove()}_onMousedown(Me){const J=(0,j.X6)(Me),se=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!J&&!se&&(this._isPointerDown=!0,this.fadeInRipple(Me.clientX,Me.clientY,this._target.rippleConfig))}_onTouchStart(Me){if(!this._target.rippleDisabled&&!(0,j.yG)(Me)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const J=Me.changedTouches;for(let se=0;se<J.length;se++)this.fadeInRipple(J[se].clientX,J[se].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(Me=>{!Me.config.persistent&&(1===Me.state||Me.config.terminateOnPointerUp&&0===Me.state)&&Me.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const Me=this._triggerElement;Me&&($r.forEach(J=>Qn._eventManager.removeHandler(J,Me,this)),this._pointerUpEventsRegistered&&mr.forEach(J=>Me.removeEventListener(J,this,Ar)))}}Qn._eventManager=new Kt;const an=new w.OlP("mat-ripple-global-options");let In=(()=>{class wt{get disabled(){return this._disabled}set disabled(J){J&&this.fadeOutAllNonPersistent(),this._disabled=J,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(J){this._trigger=J,this._setupTriggerEventsIfEnabled()}constructor(J,se,X,oe,ee){this._elementRef=J,this._animationMode=ee,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=oe||{},this._rippleRenderer=new Qn(this,se,J,X)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(J,se=0,X){return"number"==typeof J?this._rippleRenderer.fadeInRipple(J,se,{...this.rippleConfig,...X}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...J})}}return wt.\u0275fac=function(J){return new(J||wt)(w.Y36(w.SBq),w.Y36(w.R0b),w.Y36(ve.t4),w.Y36(an,8),w.Y36(w.QbO,8))},wt.\u0275dir=w.lG2({type:wt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(J,se){2&J&&w.ekj("mat-ripple-unbounded",se.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),wt})(),kn=(()=>{class wt{}return wt.\u0275fac=function(J){return new(J||wt)},wt.\u0275mod=w.oAB({type:wt}),wt.\u0275inj=w.cJS({imports:[Bt,Bt]}),wt})()},1481:(Qt,Ye,U)=>{"use strict";U.d(Ye,{Dx:()=>Ln,H7:()=>X,b2:()=>Ir,q6:()=>$n,se:()=>Gt});var w=U(6895),j=U(4650);class h extends w.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ye extends h{static makeCurrent(){(0,w.HT)(new ye)}onAndCancel(Ce,ue,Oe){return Ce.addEventListener(ue,Oe,!1),()=>{Ce.removeEventListener(ue,Oe,!1)}}dispatchEvent(Ce,ue){Ce.dispatchEvent(ue)}remove(Ce){Ce.parentNode&&Ce.parentNode.removeChild(Ce)}createElement(Ce,ue){return(ue=ue||this.getDefaultDocument()).createElement(Ce)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ce){return Ce.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ce){return Ce instanceof DocumentFragment}getGlobalEventTarget(Ce,ue){return"window"===ue?window:"document"===ue?Ce:"body"===ue?Ce.body:null}getBaseHref(Ce){const ue=function ne(){return be=be||document.querySelector("base"),be?be.getAttribute("href"):null}();return null==ue?null:function me(_e){Ne=Ne||document.createElement("a"),Ne.setAttribute("href",_e);const Ce=Ne.pathname;return"/"===Ce.charAt(0)?Ce:`/${Ce}`}(ue)}resetBaseElement(){be=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ce){return(0,w.Mx)(document.cookie,Ce)}}let Ne,be=null;const Se=new j.OlP("TRANSITION_ID"),ge=[{provide:j.ip1,useFactory:function fe(_e,Ce,ue){return()=>{ue.get(j.CZH).donePromise.then(()=>{const Oe=(0,w.q)(),dt=Ce.querySelectorAll(`style[ng-transition="${_e}"]`);for(let Rt=0;Rt<dt.length;Rt++)Oe.remove(dt[Rt])})}},deps:[Se,w.K0,j.zs3],multi:!0}];let je=(()=>{class _e{build(){return new XMLHttpRequest}}return _e.\u0275fac=function(ue){return new(ue||_e)},_e.\u0275prov=j.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const nt=new j.OlP("EventManagerPlugins");let St=(()=>{class _e{constructor(ue,Oe){this._zone=Oe,this._eventNameToPlugin=new Map,ue.forEach(dt=>{dt.manager=this}),this._plugins=ue.slice().reverse()}addEventListener(ue,Oe,dt){return this._findPluginFor(Oe).addEventListener(ue,Oe,dt)}addGlobalEventListener(ue,Oe,dt){return this._findPluginFor(Oe).addGlobalEventListener(ue,Oe,dt)}getZone(){return this._zone}_findPluginFor(ue){const Oe=this._eventNameToPlugin.get(ue);if(Oe)return Oe;const dt=this._plugins;for(let Rt=0;Rt<dt.length;Rt++){const Zt=dt[Rt];if(Zt.supports(ue))return this._eventNameToPlugin.set(ue,Zt),Zt}throw new Error(`No event manager plugin found for event ${ue}`)}}return _e.\u0275fac=function(ue){return new(ue||_e)(j.LFG(nt),j.LFG(j.R0b))},_e.\u0275prov=j.Yz7({token:_e,factory:_e.\u0275fac}),_e})();class Ut{constructor(Ce){this._doc=Ce}addGlobalEventListener(Ce,ue,Oe){const dt=(0,w.q)().getGlobalEventTarget(this._doc,Ce);if(!dt)throw new Error(`Unsupported event target ${dt} for event ${ue}`);return this.addEventListener(dt,ue,Oe)}}let tt=(()=>{class _e{constructor(){this.usageCount=new Map}addStyles(ue){for(const Oe of ue)1===this.changeUsageCount(Oe,1)&&this.onStyleAdded(Oe)}removeStyles(ue){for(const Oe of ue)0===this.changeUsageCount(Oe,-1)&&this.onStyleRemoved(Oe)}onStyleRemoved(ue){}onStyleAdded(ue){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(ue,Oe){const dt=this.usageCount;let Rt=dt.get(ue)??0;return Rt+=Oe,Rt>0?dt.set(ue,Rt):dt.delete(ue),Rt}ngOnDestroy(){for(const ue of this.getAllStyles())this.onStyleRemoved(ue);this.usageCount.clear()}}return _e.\u0275fac=function(ue){return new(ue||_e)},_e.\u0275prov=j.Yz7({token:_e,factory:_e.\u0275fac}),_e})(),ut=(()=>{class _e extends tt{constructor(ue){super(),this.doc=ue,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(ue){for(const Oe of this.hostNodes)this.addStyleToHost(Oe,ue)}onStyleRemoved(ue){const Oe=this.styleRef;Oe.get(ue)?.forEach(Rt=>Rt.remove()),Oe.delete(ue)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(ue){this.hostNodes.add(ue);for(const Oe of this.getAllStyles())this.addStyleToHost(ue,Oe)}removeHost(ue){this.hostNodes.delete(ue)}addStyleToHost(ue,Oe){const dt=this.doc.createElement("style");dt.textContent=Oe,ue.appendChild(dt);const Rt=this.styleRef.get(Oe);Rt?Rt.push(dt):this.styleRef.set(Oe,[dt])}resetHostNodes(){const ue=this.hostNodes;ue.clear(),ue.add(this.doc.head)}}return _e.\u0275fac=function(ue){return new(ue||_e)(j.LFG(w.K0))},_e.\u0275prov=j.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const xe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ot=/%COMP%/g,ze=new j.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Vt(_e,Ce){return Ce.flat(100).map(ue=>ue.replace(ot,_e))}function ln(_e){return Ce=>{if("__ngUnwrap__"===Ce)return _e;!1===_e(Ce)&&(Ce.preventDefault(),Ce.returnValue=!1)}}let Gt=(()=>{class _e{constructor(ue,Oe,dt,Rt){this.eventManager=ue,this.sharedStylesHost=Oe,this.appId=dt,this.removeStylesOnCompDestory=Rt,this.rendererByCompId=new Map,this.defaultRenderer=new Pr(ue)}createRenderer(ue,Oe){if(!ue||!Oe)return this.defaultRenderer;const dt=this.getOrCreateRenderer(ue,Oe);return dt instanceof Xe?dt.applyToHost(ue):dt instanceof rt&&dt.applyStyles(),dt}getOrCreateRenderer(ue,Oe){const dt=this.rendererByCompId;let Rt=dt.get(Oe.id);if(!Rt){const Zt=this.eventManager,cn=this.sharedStylesHost,Wn=this.removeStylesOnCompDestory;switch(Oe.encapsulation){case j.ifc.Emulated:Rt=new Xe(Zt,cn,Oe,this.appId,Wn);break;case j.ifc.ShadowDom:return new gt(Zt,cn,ue,Oe);default:Rt=new rt(Zt,cn,Oe,Wn)}Rt.onDestroy=()=>dt.delete(Oe.id),dt.set(Oe.id,Rt)}return Rt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return _e.\u0275fac=function(ue){return new(ue||_e)(j.LFG(St),j.LFG(ut),j.LFG(j.AFp),j.LFG(ze))},_e.\u0275prov=j.Yz7({token:_e,factory:_e.\u0275fac}),_e})();class Pr{constructor(Ce){this.eventManager=Ce,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Ce,ue){return ue?document.createElementNS(xe[ue]||ue,Ce):document.createElement(Ce)}createComment(Ce){return document.createComment(Ce)}createText(Ce){return document.createTextNode(Ce)}appendChild(Ce,ue){(ct(Ce)?Ce.content:Ce).appendChild(ue)}insertBefore(Ce,ue,Oe){Ce&&(ct(Ce)?Ce.content:Ce).insertBefore(ue,Oe)}removeChild(Ce,ue){Ce&&Ce.removeChild(ue)}selectRootElement(Ce,ue){let Oe="string"==typeof Ce?document.querySelector(Ce):Ce;if(!Oe)throw new Error(`The selector "${Ce}" did not match any elements`);return ue||(Oe.textContent=""),Oe}parentNode(Ce){return Ce.parentNode}nextSibling(Ce){return Ce.nextSibling}setAttribute(Ce,ue,Oe,dt){if(dt){ue=dt+":"+ue;const Rt=xe[dt];Rt?Ce.setAttributeNS(Rt,ue,Oe):Ce.setAttribute(ue,Oe)}else Ce.setAttribute(ue,Oe)}removeAttribute(Ce,ue,Oe){if(Oe){const dt=xe[Oe];dt?Ce.removeAttributeNS(dt,ue):Ce.removeAttribute(`${Oe}:${ue}`)}else Ce.removeAttribute(ue)}addClass(Ce,ue){Ce.classList.add(ue)}removeClass(Ce,ue){Ce.classList.remove(ue)}setStyle(Ce,ue,Oe,dt){dt&(j.JOm.DashCase|j.JOm.Important)?Ce.style.setProperty(ue,Oe,dt&j.JOm.Important?"important":""):Ce.style[ue]=Oe}removeStyle(Ce,ue,Oe){Oe&j.JOm.DashCase?Ce.style.removeProperty(ue):Ce.style[ue]=""}setProperty(Ce,ue,Oe){Ce[ue]=Oe}setValue(Ce,ue){Ce.nodeValue=ue}listen(Ce,ue,Oe){return"string"==typeof Ce?this.eventManager.addGlobalEventListener(Ce,ue,ln(Oe)):this.eventManager.addEventListener(Ce,ue,ln(Oe))}}function ct(_e){return"TEMPLATE"===_e.tagName&&void 0!==_e.content}class gt extends Pr{constructor(Ce,ue,Oe,dt){super(Ce),this.sharedStylesHost=ue,this.hostEl=Oe,this.shadowRoot=Oe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Rt=Vt(dt.id,dt.styles);for(const Zt of Rt){const cn=document.createElement("style");cn.textContent=Zt,this.shadowRoot.appendChild(cn)}}nodeOrShadowRoot(Ce){return Ce===this.hostEl?this.shadowRoot:Ce}appendChild(Ce,ue){return super.appendChild(this.nodeOrShadowRoot(Ce),ue)}insertBefore(Ce,ue,Oe){return super.insertBefore(this.nodeOrShadowRoot(Ce),ue,Oe)}removeChild(Ce,ue){return super.removeChild(this.nodeOrShadowRoot(Ce),ue)}parentNode(Ce){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ce)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class rt extends Pr{constructor(Ce,ue,Oe,dt,Rt=Oe.id){super(Ce),this.sharedStylesHost=ue,this.removeStylesOnCompDestory=dt,this.rendererUsageCount=0,this.styles=Vt(Rt,Oe.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Xe extends rt{constructor(Ce,ue,Oe,dt,Rt){const Zt=dt+"-"+Oe.id;super(Ce,ue,Oe,Rt,Zt),this.contentAttr=function Bt(_e){return"_ngcontent-%COMP%".replace(ot,_e)}(Zt),this.hostAttr=function Wt(_e){return"_nghost-%COMP%".replace(ot,_e)}(Zt)}applyToHost(Ce){this.applyStyles(),this.setAttribute(Ce,this.hostAttr,"")}createElement(Ce,ue){const Oe=super.createElement(Ce,ue);return super.setAttribute(Oe,this.contentAttr,""),Oe}}let Ve=(()=>{class _e extends Ut{constructor(ue){super(ue)}supports(ue){return!0}addEventListener(ue,Oe,dt){return ue.addEventListener(Oe,dt,!1),()=>this.removeEventListener(ue,Oe,dt)}removeEventListener(ue,Oe,dt){return ue.removeEventListener(Oe,dt)}}return _e.\u0275fac=function(ue){return new(ue||_e)(j.LFG(w.K0))},_e.\u0275prov=j.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const mt=["alt","control","meta","shift"],En={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_t={alt:_e=>_e.altKey,control:_e=>_e.ctrlKey,meta:_e=>_e.metaKey,shift:_e=>_e.shiftKey};let zt=(()=>{class _e extends Ut{constructor(ue){super(ue)}supports(ue){return null!=_e.parseEventName(ue)}addEventListener(ue,Oe,dt){const Rt=_e.parseEventName(Oe),Zt=_e.eventCallback(Rt.fullKey,dt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,w.q)().onAndCancel(ue,Rt.domEventName,Zt))}static parseEventName(ue){const Oe=ue.toLowerCase().split("."),dt=Oe.shift();if(0===Oe.length||"keydown"!==dt&&"keyup"!==dt)return null;const Rt=_e._normalizeKey(Oe.pop());let Zt="",cn=Oe.indexOf("code");if(cn>-1&&(Oe.splice(cn,1),Zt="code."),mt.forEach(xr=>{const st=Oe.indexOf(xr);st>-1&&(Oe.splice(st,1),Zt+=xr+".")}),Zt+=Rt,0!=Oe.length||0===Rt.length)return null;const Wn={};return Wn.domEventName=dt,Wn.fullKey=Zt,Wn}static matchEventFullKeyCode(ue,Oe){let dt=En[ue.key]||ue.key,Rt="";return Oe.indexOf("code.")>-1&&(dt=ue.code,Rt="code."),!(null==dt||!dt)&&(dt=dt.toLowerCase()," "===dt?dt="space":"."===dt&&(dt="dot"),mt.forEach(Zt=>{Zt!==dt&&(0,_t[Zt])(ue)&&(Rt+=Zt+".")}),Rt+=dt,Rt===Oe)}static eventCallback(ue,Oe,dt){return Rt=>{_e.matchEventFullKeyCode(Rt,ue)&&dt.runGuarded(()=>Oe(Rt))}}static _normalizeKey(ue){return"esc"===ue?"escape":ue}}return _e.\u0275fac=function(ue){return new(ue||_e)(j.LFG(w.K0))},_e.\u0275prov=j.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const $n=(0,j.eFA)(j._c5,"browser",[{provide:j.Lbi,useValue:w.bD},{provide:j.g9A,useValue:function fr(){ye.makeCurrent()},multi:!0},{provide:w.K0,useFactory:function Vr(){return(0,j.RDi)(document),document},deps:[]}]),An=new j.OlP(""),Kt=[{provide:j.rWj,useClass:class ve{addToWindow(Ce){j.dqk.getAngularTestability=(Oe,dt=!0)=>{const Rt=Ce.findTestabilityInTree(Oe,dt);if(null==Rt)throw new Error("Could not find testability for element.");return Rt},j.dqk.getAllAngularTestabilities=()=>Ce.getAllTestabilities(),j.dqk.getAllAngularRootElements=()=>Ce.getAllRootElements(),j.dqk.frameworkStabilizers||(j.dqk.frameworkStabilizers=[]),j.dqk.frameworkStabilizers.push(Oe=>{const dt=j.dqk.getAllAngularTestabilities();let Rt=dt.length,Zt=!1;const cn=function(Wn){Zt=Zt||Wn,Rt--,0==Rt&&Oe(Zt)};dt.forEach(function(Wn){Wn.whenStable(cn)})})}findTestabilityInTree(Ce,ue,Oe){return null==ue?null:Ce.getTestability(ue)??(Oe?(0,w.q)().isShadowRoot(ue)?this.findTestabilityInTree(Ce,ue.host,!0):this.findTestabilityInTree(Ce,ue.parentElement,!0):null)}},deps:[]},{provide:j.lri,useClass:j.dDg,deps:[j.R0b,j.eoX,j.rWj]},{provide:j.dDg,useClass:j.dDg,deps:[j.R0b,j.eoX,j.rWj]}],Pn=[{provide:j.zSh,useValue:"root"},{provide:j.qLn,useFactory:function yr(){return new j.qLn},deps:[]},{provide:nt,useClass:Ve,multi:!0,deps:[w.K0,j.R0b,j.Lbi]},{provide:nt,useClass:zt,multi:!0,deps:[w.K0]},{provide:Gt,useClass:Gt,deps:[St,ut,j.AFp,ze]},{provide:j.FYo,useExisting:Gt},{provide:tt,useExisting:ut},{provide:ut,useClass:ut,deps:[w.K0]},{provide:St,useClass:St,deps:[nt,j.R0b]},{provide:w.JF,useClass:je,deps:[]},[]];let Ir=(()=>{class _e{constructor(ue){}static withServerTransition(ue){return{ngModule:_e,providers:[{provide:j.AFp,useValue:ue.appId},{provide:Se,useExisting:j.AFp},ge]}}}return _e.\u0275fac=function(ue){return new(ue||_e)(j.LFG(An,12))},_e.\u0275mod=j.oAB({type:_e}),_e.\u0275inj=j.cJS({providers:[...Pn,...Kt],imports:[w.ez,j.hGG]}),_e})(),Ln=(()=>{class _e{constructor(ue){this._doc=ue}getTitle(){return this._doc.title}setTitle(ue){this._doc.title=ue||""}}return _e.\u0275fac=function(ue){return new(ue||_e)(j.LFG(w.K0))},_e.\u0275prov=j.Yz7({token:_e,factory:function(ue){let Oe=null;return Oe=ue?new ue:function Qn(){return new Ln((0,j.LFG)(w.K0))}(),Oe},providedIn:"root"}),_e})();typeof window<"u"&&window;let X=(()=>{class _e{}return _e.\u0275fac=function(ue){return new(ue||_e)},_e.\u0275prov=j.Yz7({token:_e,factory:function(ue){let Oe=null;return Oe=ue?new(ue||_e):j.LFG(ee),Oe},providedIn:"root"}),_e})(),ee=(()=>{class _e extends X{constructor(ue){super(),this._doc=ue}sanitize(ue,Oe){if(null==Oe)return null;switch(ue){case j.q3G.NONE:return Oe;case j.q3G.HTML:return(0,j.qzn)(Oe,"HTML")?(0,j.z3N)(Oe):(0,j.EiD)(this._doc,String(Oe)).toString();case j.q3G.STYLE:return(0,j.qzn)(Oe,"Style")?(0,j.z3N)(Oe):Oe;case j.q3G.SCRIPT:if((0,j.qzn)(Oe,"Script"))return(0,j.z3N)(Oe);throw new Error("unsafe value used in a script context");case j.q3G.URL:return(0,j.qzn)(Oe,"URL")?(0,j.z3N)(Oe):(0,j.mCW)(String(Oe));case j.q3G.RESOURCE_URL:if((0,j.qzn)(Oe,"ResourceURL"))return(0,j.z3N)(Oe);throw new Error(`unsafe value used in a resource URL context (see ${j.JZr})`);default:throw new Error(`Unexpected SecurityContext ${ue} (see ${j.JZr})`)}}bypassSecurityTrustHtml(ue){return(0,j.JVY)(ue)}bypassSecurityTrustStyle(ue){return(0,j.L6k)(ue)}bypassSecurityTrustScript(ue){return(0,j.eBb)(ue)}bypassSecurityTrustUrl(ue){return(0,j.LAX)(ue)}bypassSecurityTrustResourceUrl(ue){return(0,j.pB0)(ue)}}return _e.\u0275fac=function(ue){return new(ue||_e)(j.LFG(w.K0))},_e.\u0275prov=j.Yz7({token:_e,factory:function(ue){let Oe=null;return Oe=ue?new ue:function oe(_e){return new ee(_e.get(w.K0))}(j.LFG(j.zs3)),Oe},providedIn:"root"}),_e})()},9626:(Qt,Ye,U)=>{"use strict";U.d(Ye,{F0:()=>Kr,rH:()=>fa,Bz:()=>Id,lC:()=>Co});var w=U(4650),j=U(8996),h=U(9646),ye=U(1135),be=U(6805),ne=U(9841),Ne=U(7272),me=U(9751),Se=U(8421);function fe(D){return new me.y(S=>{(0,Se.Xf)(D()).subscribe(S)})}var ge=U(9635),ve=U(2843),je=U(515),nt=U(727),St=U(4482),Ut=U(5403);function tt(){return(0,St.e)((D,S)=>{let E=null;D._refCount++;const F=(0,Ut.x)(S,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(E=null);const H=D._connection,te=E;E=null,H&&(!te||H===te)&&H.unsubscribe(),S.unsubscribe()});D.subscribe(F),F.closed||(E=D.connect())})}class ut extends me.y{constructor(S,E){super(),this.source=S,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,St.A)(S)&&(this.lift=S.lift)}_subscribe(S){return this.getSubject().subscribe(S)}getSubject(){const S=this._subject;return(!S||S.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:S}=this;this._subject=this._connection=null,S?.unsubscribe()}connect(){let S=this._connection;if(!S){S=this._connection=new nt.w0;const E=this.getSubject();S.add(this.source.subscribe((0,Ut.x)(E,void 0,()=>{this._teardown(),E.complete()},F=>{this._teardown(),E.error(F)},()=>this._teardown()))),S.closed&&(this._connection=null,S=nt.w0.EMPTY)}return S}refCount(){return tt()(this)}}var xe=U(7579),ot=U(6895),Ge=U(4004),Le=U(3900),Qe=U(5698),Mt=U(8675),It=U(9300),ze=U(5577),Bt=U(590),Wt=U(4351),Vt=U(8505),ln=U(262),Gt=U(5026);function Pr(D){return D<=0?()=>je.E:(0,St.e)((S,E)=>{let F=[];S.subscribe((0,Ut.x)(E,H=>{F.push(H),D<F.length&&F.shift()},()=>{for(const H of F)E.next(H);E.complete()},void 0,()=>{F=null}))})}var at=U(8068),Je=U(6590),ct=U(4671);function gt(D,S){const E=arguments.length>=2;return F=>F.pipe(D?(0,It.h)((H,te)=>D(H,te,F)):ct.y,Pr(1),E?(0,Je.d)(S):(0,at.T)(()=>new be.K))}var Ve=U(8746),mt=U(8189),En=U(1481);const _t="primary",zt=Symbol("RouteTitle");class zn{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const E=this.params[S];return Array.isArray(E)?E[0]:E}return null}getAll(S){if(this.has(S)){const E=this.params[S];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function Rn(D){return new zn(D)}function er(D,S,E){const F=E.path.split("/");if(F.length>D.length||"full"===E.pathMatch&&(S.hasChildren()||F.length<D.length))return null;const H={};for(let te=0;te<F.length;te++){const ce=F[te],Ke=D[te];if(ce.startsWith(":"))H[ce.substring(1)]=Ke;else if(ce!==Ke.path)return null}return{consumed:D.slice(0,F.length),posParams:H}}function Gn(D,S){const E=D?Object.keys(D):void 0,F=S?Object.keys(S):void 0;if(!E||!F||E.length!=F.length)return!1;let H;for(let te=0;te<E.length;te++)if(H=E[te],!fr(D[H],S[H]))return!1;return!0}function fr(D,S){if(Array.isArray(D)&&Array.isArray(S)){if(D.length!==S.length)return!1;const E=[...D].sort(),F=[...S].sort();return E.every((H,te)=>F[te]===H)}return D===S}function yr(D){return Array.prototype.concat.apply([],D)}function Vr(D){return D.length>0?D[D.length-1]:null}function $n(D,S){for(const E in D)D.hasOwnProperty(E)&&S(D[E],E)}function An(D){return(0,w.CqO)(D)?D:(0,w.QGY)(D)?(0,j.D)(Promise.resolve(D)):(0,h.of)(D)}const Kt=!1,Pn={exact:function mr(D,S,E){if(!pr(D.segments,S.segments)||!In(D.segments,S.segments,E)||D.numberOfChildren!==S.numberOfChildren)return!1;for(const F in S.children)if(!D.children[F]||!mr(D.children[F],S.children[F],E))return!1;return!0},subset:Ln},Ir={exact:function $r(D,S){return Gn(D,S)},subset:function Qn(D,S){return Object.keys(S).length<=Object.keys(D).length&&Object.keys(S).every(E=>fr(D[E],S[E]))},ignored:()=>!0};function Ar(D,S,E){return Pn[E.paths](D.root,S.root,E.matrixParams)&&Ir[E.queryParams](D.queryParams,S.queryParams)&&!("exact"===E.fragment&&D.fragment!==S.fragment)}function Ln(D,S,E){return an(D,S,S.segments,E)}function an(D,S,E,F){if(D.segments.length>E.length){const H=D.segments.slice(0,E.length);return!(!pr(H,E)||S.hasChildren()||!In(H,E,F))}if(D.segments.length===E.length){if(!pr(D.segments,E)||!In(D.segments,E,F))return!1;for(const H in S.children)if(!D.children[H]||!Ln(D.children[H],S.children[H],F))return!1;return!0}{const H=E.slice(0,D.segments.length),te=E.slice(D.segments.length);return!!(pr(D.segments,H)&&In(D.segments,H,F)&&D.children[_t])&&an(D.children[_t],S,te,F)}}function In(D,S,E){return S.every((F,H)=>Ir[E](D[H].parameters,F.parameters))}class kn{constructor(S=new yn([],{}),E={},F=null){this.root=S,this.queryParams=E,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rn(this.queryParams)),this._queryParamMap}toString(){return ir.serialize(this)}}class yn{constructor(S,E){this.segments=S,this.children=E,this.parent=null,$n(E,(F,H)=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vr(this)}}class Cr{constructor(S,E){this.path=S,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=Rn(this.parameters)),this._parameterMap}toString(){return Me(this)}}function pr(D,S){return D.length===S.length&&D.every((E,F)=>E.path===S[F].path)}let Un=(()=>{class D{}return D.\u0275fac=function(E){return new(E||D)},D.\u0275prov=w.Yz7({token:D,factory:function(){return new pi},providedIn:"root"}),D})();class pi{parse(S){const E=new ue(S);return new kn(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(S){const E=`/${vn(S.root,!0)}`,F=function se(D){const S=Object.keys(D).map(E=>{const F=D[E];return Array.isArray(F)?F.map(H=>`${re(E)}=${re(H)}`).join("&"):`${re(E)}=${re(F)}`}).filter(E=>!!E);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${E}${F}${"string"==typeof S.fragment?`#${function Ie(D){return encodeURI(D)}(S.fragment)}`:""}`}}const ir=new pi;function vr(D){return D.segments.map(S=>Me(S)).join("/")}function vn(D,S){if(!D.hasChildren())return vr(D);if(S){const E=D.children[_t]?vn(D.children[_t],!1):"",F=[];return $n(D.children,(H,te)=>{te!==_t&&F.push(`${te}:${vn(H,!1)}`)}),F.length>0?`${E}(${F.join("//")})`:E}{const E=function ri(D,S){let E=[];return $n(D.children,(F,H)=>{H===_t&&(E=E.concat(S(F,H)))}),$n(D.children,(F,H)=>{H!==_t&&(E=E.concat(S(F,H)))}),E}(D,(F,H)=>H===_t?[vn(D.children[_t],!1)]:[`${H}:${vn(F,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[_t]?`${vr(D)}/${E[0]}`:`${vr(D)}/(${E.join("//")})`}}function bt(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function re(D){return bt(D).replace(/%3B/gi,";")}function lt(D){return bt(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qt(D){return decodeURIComponent(D)}function wt(D){return qt(D.replace(/\+/g,"%20"))}function Me(D){return`${lt(D.path)}${function J(D){return Object.keys(D).map(S=>`;${lt(S)}=${lt(D[S])}`).join("")}(D.parameters)}`}const X=/^[^\/()?;=#]+/;function oe(D){const S=D.match(X);return S?S[0]:""}const ee=/^[^=?&#]+/,_e=/^[^&#]+/;class ue{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yn([],{}):new yn([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(S.length>0||Object.keys(E).length>0)&&(F[_t]=new yn(S,E)),F}parseSegment(){const S=oe(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new w.vHH(4009,Kt);return this.capture(S),new Cr(qt(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const E=oe(this.remaining);if(!E)return;this.capture(E);let F="";if(this.consumeOptional("=")){const H=oe(this.remaining);H&&(F=H,this.capture(F))}S[qt(E)]=qt(F)}parseQueryParam(S){const E=function ke(D){const S=D.match(ee);return S?S[0]:""}(this.remaining);if(!E)return;this.capture(E);let F="";if(this.consumeOptional("=")){const ce=function Ce(D){const S=D.match(_e);return S?S[0]:""}(this.remaining);ce&&(F=ce,this.capture(F))}const H=wt(E),te=wt(F);if(S.hasOwnProperty(H)){let ce=S[H];Array.isArray(ce)||(ce=[ce],S[H]=ce),ce.push(te)}else S[H]=te}parseParens(S){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=oe(this.remaining),H=this.remaining[F.length];if("/"!==H&&")"!==H&&";"!==H)throw new w.vHH(4010,Kt);let te;F.indexOf(":")>-1?(te=F.slice(0,F.indexOf(":")),this.capture(te),this.capture(":")):S&&(te=_t);const ce=this.parseChildren();E[te]=1===Object.keys(ce).length?ce[_t]:new yn([],ce),this.consumeOptional("//")}return E}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new w.vHH(4011,Kt)}}function Oe(D){return D.segments.length>0?new yn([],{[_t]:D}):D}function dt(D){const S={};for(const F of Object.keys(D.children)){const te=dt(D.children[F]);(te.segments.length>0||te.hasChildren())&&(S[F]=te)}return function Rt(D){if(1===D.numberOfChildren&&D.children[_t]){const S=D.children[_t];return new yn(D.segments.concat(S.segments),S.children)}return D}(new yn(D.segments,S))}function Zt(D){return D instanceof kn}const cn=!1;function it(D,S,E,F,H){if(0===E.length)return Bn(S.root,S.root,S.root,F,H);const te=function Sr(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new wn(!0,0,D);let S=0,E=!1;const F=D.reduce((H,te,ce)=>{if("object"==typeof te&&null!=te){if(te.outlets){const Ke={};return $n(te.outlets,(kt,fn)=>{Ke[fn]="string"==typeof kt?kt.split("/"):kt}),[...H,{outlets:Ke}]}if(te.segmentPath)return[...H,te.segmentPath]}return"string"!=typeof te?[...H,te]:0===ce?(te.split("/").forEach((Ke,kt)=>{0==kt&&"."===Ke||(0==kt&&""===Ke?E=!0:".."===Ke?S++:""!=Ke&&H.push(Ke))}),H):[...H,te]},[]);return new wn(E,S,F)}(E);return te.toRoot()?Bn(S.root,S.root,new yn([],{}),F,H):function ce(kt){const fn=function mi(D,S,E,F){if(D.isAbsolute)return new sr(S.root,!0,0);if(-1===F)return new sr(E,E===S.root,0);return function us(D,S,E){let F=D,H=S,te=E;for(;te>H;){if(te-=H,F=F.parent,!F)throw new w.vHH(4005,cn&&"Invalid number of '../'");H=F.segments.length}return new sr(F,!1,H-te)}(E,F+($t(D.commands[0])?0:1),D.numberOfDoubleDots)}(te,S,D.snapshot?._urlSegment,kt),mn=fn.processChildren?qr(fn.segmentGroup,fn.index,te.commands):wo(fn.segmentGroup,fn.index,te.commands);return Bn(S.root,fn.segmentGroup,mn,F,H)}(D.snapshot?._lastPathIndex)}function $t(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function Ht(D){return"object"==typeof D&&null!=D&&D.outlets}function Bn(D,S,E,F,H){let ce,te={};F&&$n(F,(kt,fn)=>{te[fn]=Array.isArray(kt)?kt.map(mn=>`${mn}`):`${kt}`}),ce=D===S?E:dr(D,S,E);const Ke=Oe(dt(ce));return new kn(Ke,te,H)}function dr(D,S,E){const F={};return $n(D.children,(H,te)=>{F[te]=H===S?E:dr(H,S,E)}),new yn(D.segments,F)}class wn{constructor(S,E,F){if(this.isAbsolute=S,this.numberOfDoubleDots=E,this.commands=F,S&&F.length>0&&$t(F[0]))throw new w.vHH(4003,cn&&"Root segment cannot have matrix parameters");const H=F.find(Ht);if(H&&H!==Vr(F))throw new w.vHH(4004,cn&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class sr{constructor(S,E,F){this.segmentGroup=S,this.processChildren=E,this.index=F}}function wo(D,S,E){if(D||(D=new yn([],{})),0===D.segments.length&&D.hasChildren())return qr(D,S,E);const F=function un(D,S,E){let F=0,H=S;const te={match:!1,pathIndex:0,commandIndex:0};for(;H<D.segments.length;){if(F>=E.length)return te;const ce=D.segments[H],Ke=E[F];if(Ht(Ke))break;const kt=`${Ke}`,fn=F<E.length-1?E[F+1]:null;if(H>0&&void 0===kt)break;if(kt&&fn&&"object"==typeof fn&&void 0===fn.outlets){if(!Eo(kt,fn,ce))return te;F+=2}else{if(!Eo(kt,{},ce))return te;F++}H++}return{match:!0,pathIndex:H,commandIndex:F}}(D,S,E),H=E.slice(F.commandIndex);if(F.match&&F.pathIndex<D.segments.length){const te=new yn(D.segments.slice(0,F.pathIndex),{});return te.children[_t]=new yn(D.segments.slice(F.pathIndex),D.children),qr(te,0,H)}return F.match&&0===H.length?new yn(D.segments,{}):F.match&&!D.hasChildren()?ar(D,S,E):F.match?qr(D,0,H):ar(D,S,E)}function qr(D,S,E){if(0===E.length)return new yn(D.segments,{});{const F=function ki(D){return Ht(D[0])?D[0].outlets:{[_t]:D}}(E),H={};if(!F[_t]&&D.children[_t]&&1===D.numberOfChildren&&0===D.children[_t].segments.length){const te=qr(D.children[_t],S,E);return new yn(D.segments,te.children)}return $n(F,(te,ce)=>{"string"==typeof te&&(te=[te]),null!==te&&(H[ce]=wo(D.children[ce],S,te))}),$n(D.children,(te,ce)=>{void 0===F[ce]&&(H[ce]=te)}),new yn(D.segments,H)}}function ar(D,S,E){const F=D.segments.slice(0,S);let H=0;for(;H<E.length;){const te=E[H];if(Ht(te)){const kt=Xr(te.outlets);return new yn(F,kt)}if(0===H&&$t(E[0])){F.push(new Cr(D.segments[S].path,Lr(E[0]))),H++;continue}const ce=Ht(te)?te.outlets[_t]:`${te}`,Ke=H<E.length-1?E[H+1]:null;ce&&Ke&&$t(Ke)?(F.push(new Cr(ce,Lr(Ke))),H+=2):(F.push(new Cr(ce,{})),H++)}return new yn(F,{})}function Xr(D){const S={};return $n(D,(E,F)=>{"string"==typeof E&&(E=[E]),null!==E&&(S[F]=ar(new yn([],{}),0,E))}),S}function Lr(D){const S={};return $n(D,(E,F)=>S[F]=`${E}`),S}function Eo(D,S,E){return D==E.path&&Gn(S,E.parameters)}const ei="imperative";class Fi{constructor(S,E){this.id=S,this.url=E}}class jr extends Fi{constructor(S,E,F="imperative",H=null){super(S,E),this.type=0,this.navigationTrigger=F,this.restoredState=H}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class We extends Fi{constructor(S,E,F){super(S,E),this.urlAfterRedirects=F,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Be extends Fi{constructor(S,E,F,H){super(S,E),this.reason=F,this.code=H,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ue extends Fi{constructor(S,E,F,H){super(S,E),this.reason=F,this.code=H,this.type=16}}class xt extends Fi{constructor(S,E,F,H){super(S,E),this.error=F,this.target=H,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jt extends Fi{constructor(S,E,F,H){super(S,E),this.urlAfterRedirects=F,this.state=H,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vn extends Fi{constructor(S,E,F,H){super(S,E),this.urlAfterRedirects=F,this.state=H,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cr extends Fi{constructor(S,E,F,H,te){super(S,E),this.urlAfterRedirects=F,this.state=H,this.shouldActivate=te,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qn extends Fi{constructor(S,E,F,H){super(S,E),this.urlAfterRedirects=F,this.state=H,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jn extends Fi{constructor(S,E,F,H){super(S,E),this.urlAfterRedirects=F,this.state=H,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ci{constructor(S){this.route=S,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ii{constructor(S){this.route=S,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Hi{constructor(S){this.snapshot=S,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Di{constructor(S){this.snapshot=S,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mr{constructor(S){this.snapshot=S,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Li{constructor(S){this.snapshot=S,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $o{constructor(S,E,F){this.routerEvent=S,this.position=E,this.anchor=F,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Ho=(()=>{class D{createUrlTree(E,F,H,te,ce,Ke){return it(E||F.root,H,te,ce,Ke)}}return D.\u0275fac=function(E){return new(E||D)},D.\u0275prov=w.Yz7({token:D,factory:D.\u0275fac}),D})(),Vi=(()=>{class D{}return D.\u0275fac=function(E){return new(E||D)},D.\u0275prov=w.Yz7({token:D,factory:function(S){return Ho.\u0275fac(S)},providedIn:"root"}),D})();class xs{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const E=this.pathFromRoot(S);return E.length>1?E[E.length-2]:null}children(S){const E=ji(S,this._root);return E?E.children.map(F=>F.value):[]}firstChild(S){const E=ji(S,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(S){const E=gi(S,this._root);return E.length<2?[]:E[E.length-2].children.map(H=>H.value).filter(H=>H!==S)}pathFromRoot(S){return gi(S,this._root).map(E=>E.value)}}function ji(D,S){if(D===S.value)return S;for(const E of S.children){const F=ji(D,E);if(F)return F}return null}function gi(D,S){if(D===S.value)return[S];for(const E of S.children){const F=gi(D,E);if(F.length)return F.unshift(S),F}return[]}class _i{constructor(S,E){this.value=S,this.children=E}toString(){return`TreeNode(${this.value})`}}function xo(D){const S={};return D&&D.children.forEach(E=>S[E.value.outlet]=E),S}class Xi extends xs{constructor(S,E){super(S),this.snapshot=E,Go(this,S)}toString(){return this.snapshot.toString()}}function zi(D,S){const E=function Nr(D,S){const ce=new Ta([],{},{},"",{},_t,S,null,D.root,-1,{});return new zo("",new _i(ce,[]))}(D,S),F=new ye.X([new Cr("",{})]),H=new ye.X({}),te=new ye.X({}),ce=new ye.X({}),Ke=new ye.X(""),kt=new Gi(F,H,ce,Ke,te,_t,S,E.root);return kt.snapshot=E.root,new Xi(new _i(kt,[]),E)}class Gi{constructor(S,E,F,H,te,ce,Ke,kt){this.url=S,this.params=E,this.queryParams=F,this.fragment=H,this.data=te,this.outlet=ce,this.component=Ke,this.title=this.data?.pipe((0,Ge.U)(fn=>fn[zt]))??(0,h.of)(void 0),this._futureSnapshot=kt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ge.U)(S=>Rn(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ge.U)(S=>Rn(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Hs(D,S="emptyOnly"){const E=D.pathFromRoot;let F=0;if("always"!==S)for(F=E.length-1;F>=1;){const H=E[F],te=E[F-1];if(H.routeConfig&&""===H.routeConfig.path)F--;else{if(te.component)break;F--}}return function lo(D){return D.reduce((S,E)=>({params:{...S.params,...E.params},data:{...S.data,...E.data},resolve:{...E.data,...S.resolve,...E.routeConfig?.data,...E._resolvedData}}),{params:{},data:{},resolve:{}})}(E.slice(F))}class Ta{get title(){return this.data?.[zt]}constructor(S,E,F,H,te,ce,Ke,kt,fn,mn,Rr){this.url=S,this.params=E,this.queryParams=F,this.fragment=H,this.data=te,this.outlet=ce,this.component=Ke,this.routeConfig=kt,this._urlSegment=fn,this._lastPathIndex=mn,this._resolve=Rr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Rn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zo extends xs{constructor(S,E){super(E),this.url=S,Go(this,E)}toString(){return fs(this._root)}}function Go(D,S){S.value._routerState=D,S.children.forEach(E=>Go(D,E))}function fs(D){const S=D.children.length>0?` { ${D.children.map(fs).join(", ")} } `:"";return`${D.value}${S}`}function sa(D){if(D.snapshot){const S=D.snapshot,E=D._futureSnapshot;D.snapshot=E,Gn(S.queryParams,E.queryParams)||D.queryParams.next(E.queryParams),S.fragment!==E.fragment&&D.fragment.next(E.fragment),Gn(S.params,E.params)||D.params.next(E.params),function Or(D,S){if(D.length!==S.length)return!1;for(let E=0;E<D.length;++E)if(!Gn(D[E],S[E]))return!1;return!0}(S.url,E.url)||D.url.next(E.url),Gn(S.data,E.data)||D.data.next(E.data)}else D.snapshot=D._futureSnapshot,D.data.next(D._futureSnapshot.data)}function zs(D,S){const E=Gn(D.params,S.params)&&function hi(D,S){return pr(D,S)&&D.every((E,F)=>Gn(E.parameters,S[F].parameters))}(D.url,S.url);return E&&!(!D.parent!=!S.parent)&&(!D.parent||zs(D.parent,S.parent))}function io(D,S,E){if(E&&D.shouldReuseRoute(S.value,E.value.snapshot)){const F=E.value;F._futureSnapshot=S.value;const H=function _c(D,S,E){return S.children.map(F=>{for(const H of E.children)if(D.shouldReuseRoute(F.value,H.value.snapshot))return io(D,F,H);return io(D,F)})}(D,S,E);return new _i(F,H)}{if(D.shouldAttach(S.value)){const te=D.retrieve(S.value);if(null!==te){const ce=te.route;return ce.value._futureSnapshot=S.value,ce.children=S.children.map(Ke=>io(D,Ke)),ce}}const F=function Mo(D){return new Gi(new ye.X(D.url),new ye.X(D.params),new ye.X(D.queryParams),new ye.X(D.fragment),new ye.X(D.data),D.outlet,D.component,D)}(S.value),H=S.children.map(te=>io(D,te));return new _i(F,H)}}const ns="ngNavigationCancelingError";function Ms(D,S){const{redirectTo:E,navigationBehaviorOptions:F}=Zt(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,H=Ro(!1,0,S);return H.url=E,H.navigationBehaviorOptions=F,H}function Ro(D,S,E){const F=new Error("NavigationCancelingError: "+(D||""));return F[ns]=!0,F.cancellationCode=S,E&&(F.url=E),F}function Gs(D){return ec(D)&&Zt(D.url)}function ec(D){return D&&D[ns]}class Ws{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Po,this.attachRef=null}}let Po=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(E,F){const H=this.getOrCreateContext(E);H.outlet=F,this.contexts.set(E,H)}onChildOutletDestroyed(E){const F=this.getContext(E);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let F=this.getContext(E);return F||(F=new Ws,this.contexts.set(E,F)),F}getContext(E){return this.contexts.get(E)||null}}return D.\u0275fac=function(E){return new(E||D)},D.\u0275prov=w.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const uo=!1;let Co=(()=>{class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=_t,this.activateEvents=new w.vpe,this.deactivateEvents=new w.vpe,this.attachEvents=new w.vpe,this.detachEvents=new w.vpe,this.parentContexts=(0,w.f3M)(Po),this.location=(0,w.f3M)(w.s_b),this.changeDetector=(0,w.f3M)(w.sBO),this.environmentInjector=(0,w.f3M)(w.lqb)}ngOnChanges(E){if(E.name){const{firstChange:F,previousValue:H}=E.name;if(F)return;this.isTrackedInParentContexts(H)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(H)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(E){return this.parentContexts.getContext(E)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const E=this.parentContexts.getContext(this.name);E?.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w.vHH(4012,uo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w.vHH(4012,uo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w.vHH(4012,uo);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,F){this.activated=E,this._activatedRoute=F,this.location.insert(E.hostView),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,F){if(this.isActivated)throw new w.vHH(4013,uo);this._activatedRoute=E;const H=this.location,ce=E.snapshot.component,Ke=this.parentContexts.getOrCreateContext(this.name).children,kt=new Wo(E,Ke,H.injector);if(F&&function rs(D){return!!D.resolveComponentFactory}(F)){const fn=F.resolveComponentFactory(ce);this.activated=H.createComponent(fn,H.length,kt)}else this.activated=H.createComponent(ce,{index:H.length,injector:kt,environmentInjector:F??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return D.\u0275fac=function(E){return new(E||D)},D.\u0275dir=w.lG2({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[w.TTD]}),D})();class Wo{constructor(S,E,F){this.route=S,this.childContexts=E,this.parent=F}get(S,E){return S===Gi?this.route:S===Po?this.childContexts:this.parent.get(S,E)}}let qo=(()=>{class D{}return D.\u0275fac=function(E){return new(E||D)},D.\u0275cmp=w.Xpm({type:D,selectors:[["ng-component"]],standalone:!0,features:[w.jDz],decls:1,vars:0,template:function(E,F){1&E&&w._UZ(0,"router-outlet")},dependencies:[Co],encapsulation:2}),D})();function ho(D,S){return D.providers&&!D._injector&&(D._injector=(0,w.MMx)(D.providers,S,`Route: ${D.path}`)),D._injector??S}function oi(D){const S=D.children&&D.children.map(oi),E=S?{...D,children:S}:{...D};return!E.component&&!E.loadComponent&&(S||E.loadChildren)&&E.outlet&&E.outlet!==_t&&(E.component=qo),E}function Ei(D){return D.outlet||_t}function Ps(D,S){const E=D.filter(F=>Ei(F)===S);return E.push(...D.filter(F=>Ei(F)!==S)),E}function tr(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let S=D.parent;S;S=S.parent){const E=S.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class Ha{constructor(S,E,F,H){this.routeReuseStrategy=S,this.futureState=E,this.currState=F,this.forwardEvent=H}activate(S){const E=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,F,S),sa(this.futureState.root),this.activateChildRoutes(E,F,S)}deactivateChildRoutes(S,E,F){const H=xo(E);S.children.forEach(te=>{const ce=te.value.outlet;this.deactivateRoutes(te,H[ce],F),delete H[ce]}),$n(H,(te,ce)=>{this.deactivateRouteAndItsChildren(te,F)})}deactivateRoutes(S,E,F){const H=S.value,te=E?E.value:null;if(H===te)if(H.component){const ce=F.getContext(H.outlet);ce&&this.deactivateChildRoutes(S,E,ce.children)}else this.deactivateChildRoutes(S,E,F);else te&&this.deactivateRouteAndItsChildren(E,F)}deactivateRouteAndItsChildren(S,E){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,E):this.deactivateRouteAndOutlet(S,E)}detachAndStoreRouteSubtree(S,E){const F=E.getContext(S.value.outlet),H=F&&S.value.component?F.children:E,te=xo(S);for(const ce of Object.keys(te))this.deactivateRouteAndItsChildren(te[ce],H);if(F&&F.outlet){const ce=F.outlet.detach(),Ke=F.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:ce,route:S,contexts:Ke})}}deactivateRouteAndOutlet(S,E){const F=E.getContext(S.value.outlet),H=F&&S.value.component?F.children:E,te=xo(S);for(const ce of Object.keys(te))this.deactivateRouteAndItsChildren(te[ce],H);F&&(F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated()),F.attachRef=null,F.resolver=null,F.route=null)}activateChildRoutes(S,E,F){const H=xo(E);S.children.forEach(te=>{this.activateRoutes(te,H[te.value.outlet],F),this.forwardEvent(new Li(te.value.snapshot))}),S.children.length&&this.forwardEvent(new Di(S.value.snapshot))}activateRoutes(S,E,F){const H=S.value,te=E?E.value:null;if(sa(H),H===te)if(H.component){const ce=F.getOrCreateContext(H.outlet);this.activateChildRoutes(S,E,ce.children)}else this.activateChildRoutes(S,E,F);else if(H.component){const ce=F.getOrCreateContext(H.outlet);if(this.routeReuseStrategy.shouldAttach(H.snapshot)){const Ke=this.routeReuseStrategy.retrieve(H.snapshot);this.routeReuseStrategy.store(H.snapshot,null),ce.children.onOutletReAttached(Ke.contexts),ce.attachRef=Ke.componentRef,ce.route=Ke.route.value,ce.outlet&&ce.outlet.attach(Ke.componentRef,Ke.route.value),sa(Ke.route.value),this.activateChildRoutes(S,null,ce.children)}else{const Ke=tr(H.snapshot),kt=Ke?.get(w._Vd)??null;ce.attachRef=null,ce.route=H,ce.resolver=kt,ce.injector=Ke,ce.outlet&&ce.outlet.activateWith(H,ce.injector),this.activateChildRoutes(S,null,ce.children)}}else this.activateChildRoutes(S,null,F)}}class eo{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class ci{constructor(S,E){this.component=S,this.route=E}}function Io(D,S,E){const F=D._root;return Wi(F,S?S._root:null,E,[F.value])}function is(D,S){const E=Symbol(),F=S.get(D,E);return F===E?"function"!=typeof D||(0,w.Z0I)(D)?S.get(D):D:F}function Wi(D,S,E,F,H={canDeactivateChecks:[],canActivateChecks:[]}){const te=xo(S);return D.children.forEach(ce=>{(function Aa(D,S,E,F,H={canDeactivateChecks:[],canActivateChecks:[]}){const te=D.value,ce=S?S.value:null,Ke=E?E.getContext(D.value.outlet):null;if(ce&&te.routeConfig===ce.routeConfig){const kt=function oo(D,S,E){if("function"==typeof E)return E(D,S);switch(E){case"pathParamsChange":return!pr(D.url,S.url);case"pathParamsOrQueryParamsChange":return!pr(D.url,S.url)||!Gn(D.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zs(D,S)||!Gn(D.queryParams,S.queryParams);default:return!zs(D,S)}}(ce,te,te.routeConfig.runGuardsAndResolvers);kt?H.canActivateChecks.push(new eo(F)):(te.data=ce.data,te._resolvedData=ce._resolvedData),Wi(D,S,te.component?Ke?Ke.children:null:E,F,H),kt&&Ke&&Ke.outlet&&Ke.outlet.isActivated&&H.canDeactivateChecks.push(new ci(Ke.outlet.component,ce))}else ce&&jn(S,Ke,H),H.canActivateChecks.push(new eo(F)),Wi(D,null,te.component?Ke?Ke.children:null:E,F,H)})(ce,te[ce.value.outlet],E,F.concat([ce.value]),H),delete te[ce.value.outlet]}),$n(te,(ce,Ke)=>jn(ce,E.getContext(Ke),H)),H}function jn(D,S,E){const F=xo(D),H=D.value;$n(F,(te,ce)=>{jn(te,H.component?S?S.children.getContext(ce):null:S,E)}),E.canDeactivateChecks.push(new ci(H.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,H))}function os(D){return"function"==typeof D}function nr(D){return D instanceof be.K||"EmptyError"===D?.name}const Et=Symbol("INITIAL_VALUE");function Fe(){return(0,Le.w)(D=>(0,ne.a)(D.map(S=>S.pipe((0,Qe.q)(1),(0,Mt.O)(Et)))).pipe((0,Ge.U)(S=>{for(const E of S)if(!0!==E){if(E===Et)return Et;if(!1===E||E instanceof kn)return E}return!0}),(0,It.h)(S=>S!==Et),(0,Qe.q)(1)))}function Ui(D){return(0,ge.z)((0,Vt.b)(S=>{if(Zt(S))throw Ms(0,S)}),(0,Ge.U)(S=>!0===S))}const Ko={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yo(D,S,E,F,H){const te=Zi(D,S,E);return te.matched?function mo(D,S,E,F){const H=S.canMatch;if(!H||0===H.length)return(0,h.of)(!0);const te=H.map(ce=>{const Ke=is(ce,D);return An(function Os(D){return D&&os(D.canMatch)}(Ke)?Ke.canMatch(S,E):D.runInContext(()=>Ke(S,E)))});return(0,h.of)(te).pipe(Fe(),Ui())}(F=ho(S,F),S,E).pipe((0,Ge.U)(ce=>!0===ce?te:{...Ko})):(0,h.of)(te)}function Zi(D,S,E){if(""===S.path)return"full"===S.pathMatch&&(D.hasChildren()||E.length>0)?{...Ko}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const H=(S.matcher||er)(E,D,S);if(!H)return{...Ko};const te={};$n(H.posParams,(Ke,kt)=>{te[kt]=Ke.path});const ce=H.consumed.length>0?{...te,...H.consumed[H.consumed.length-1].parameters}:te;return{matched:!0,consumedSegments:H.consumed,remainingSegments:E.slice(H.consumed.length),parameters:ce,positionalParamSegments:H.posParams??{}}}function $i(D,S,E,F){if(E.length>0&&function Ga(D,S,E){return E.some(F=>to(D,S,F)&&Ei(F)!==_t)}(D,E,F)){const te=new yn(S,function za(D,S,E,F){const H={};H[_t]=F,F._sourceSegment=D,F._segmentIndexShift=S.length;for(const te of E)if(""===te.path&&Ei(te)!==_t){const ce=new yn([],{});ce._sourceSegment=D,ce._segmentIndexShift=S.length,H[Ei(te)]=ce}return H}(D,S,F,new yn(E,D.children)));return te._sourceSegment=D,te._segmentIndexShift=S.length,{segmentGroup:te,slicedSegments:[]}}if(0===E.length&&function li(D,S,E){return E.some(F=>to(D,S,F))}(D,E,F)){const te=new yn(D.segments,function qs(D,S,E,F,H){const te={};for(const ce of F)if(to(D,E,ce)&&!H[Ei(ce)]){const Ke=new yn([],{});Ke._sourceSegment=D,Ke._segmentIndexShift=S.length,te[Ei(ce)]=Ke}return{...H,...te}}(D,S,E,F,D.children));return te._sourceSegment=D,te._segmentIndexShift=S.length,{segmentGroup:te,slicedSegments:E}}const H=new yn(D.segments,D.children);return H._sourceSegment=D,H._segmentIndexShift=S.length,{segmentGroup:H,slicedSegments:E}}function to(D,S,E){return(!(D.hasChildren()||S.length>0)||"full"!==E.pathMatch)&&""===E.path}function ms(D,S,E,F){return!!(Ei(D)===F||F!==_t&&to(S,E,D))&&("**"===D.path||Zi(S,D,E).matched)}function Zr(D,S,E){return 0===S.length&&!D.children[E]}const Ns=!1;class Zs{constructor(S){this.segmentGroup=S||null}}class ao{constructor(S){this.urlTree=S}}function Qo(D){return(0,ve._)(new Zs(D))}function Ks(D){return(0,ve._)(new ao(D))}class as{constructor(S,E,F,H,te){this.injector=S,this.configLoader=E,this.urlSerializer=F,this.urlTree=H,this.config=te,this.allowRedirects=!0}apply(){const S=$i(this.urlTree.root,[],[],this.config).segmentGroup,E=new yn(S.segments,S.children);return this.expandSegmentGroup(this.injector,this.config,E,_t).pipe((0,Ge.U)(te=>this.createUrlTree(dt(te),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,ln.K)(te=>{if(te instanceof ao)return this.allowRedirects=!1,this.match(te.urlTree);throw te instanceof Zs?this.noMatchError(te):te}))}match(S){return this.expandSegmentGroup(this.injector,this.config,S.root,_t).pipe((0,Ge.U)(H=>this.createUrlTree(dt(H),S.queryParams,S.fragment))).pipe((0,ln.K)(H=>{throw H instanceof Zs?this.noMatchError(H):H}))}noMatchError(S){return new w.vHH(4002,Ns)}createUrlTree(S,E,F){const H=Oe(S);return new kn(H,E,F)}expandSegmentGroup(S,E,F,H){return 0===F.segments.length&&F.hasChildren()?this.expandChildren(S,E,F).pipe((0,Ge.U)(te=>new yn([],te))):this.expandSegment(S,F,E,F.segments,H,!0)}expandChildren(S,E,F){const H=[];for(const te of Object.keys(F.children))"primary"===te?H.unshift(te):H.push(te);return(0,j.D)(H).pipe((0,Wt.b)(te=>{const ce=F.children[te],Ke=Ps(E,te);return this.expandSegmentGroup(S,Ke,ce,te).pipe((0,Ge.U)(kt=>({segment:kt,outlet:te})))}),(0,Gt.R)((te,ce)=>(te[ce.outlet]=ce.segment,te),{}),gt())}expandSegment(S,E,F,H,te,ce){return(0,j.D)(F).pipe((0,Wt.b)(Ke=>this.expandSegmentAgainstRoute(S,E,F,Ke,H,te,ce).pipe((0,ln.K)(fn=>{if(fn instanceof Zs)return(0,h.of)(null);throw fn}))),(0,Bt.P)(Ke=>!!Ke),(0,ln.K)((Ke,kt)=>{if(nr(Ke))return Zr(E,H,te)?(0,h.of)(new yn([],{})):Qo(E);throw Ke}))}expandSegmentAgainstRoute(S,E,F,H,te,ce,Ke){return ms(H,E,te,ce)?void 0===H.redirectTo?this.matchSegmentAgainstRoute(S,E,H,te,ce):Ke&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,E,F,H,te,ce):Qo(E):Qo(E)}expandSegmentAgainstRouteUsingRedirect(S,E,F,H,te,ce){return"**"===H.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,F,H,ce):this.expandRegularSegmentAgainstRouteUsingRedirect(S,E,F,H,te,ce)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,E,F,H){const te=this.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?Ks(te):this.lineralizeSegments(F,te).pipe((0,ze.z)(ce=>{const Ke=new yn(ce,{});return this.expandSegment(S,Ke,E,ce,H,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,E,F,H,te,ce){const{matched:Ke,consumedSegments:kt,remainingSegments:fn,positionalParamSegments:mn}=Zi(E,H,te);if(!Ke)return Qo(E);const Rr=this.applyRedirectCommands(kt,H.redirectTo,mn);return H.redirectTo.startsWith("/")?Ks(Rr):this.lineralizeSegments(H,Rr).pipe((0,ze.z)(Ri=>this.expandSegment(S,E,F,Ri.concat(fn),ce,!1)))}matchSegmentAgainstRoute(S,E,F,H,te){return"**"===F.path?(S=ho(F,S),F.loadChildren?(F._loadedRoutes?(0,h.of)({routes:F._loadedRoutes,injector:F._loadedInjector}):this.configLoader.loadChildren(S,F)).pipe((0,Ge.U)(Ke=>(F._loadedRoutes=Ke.routes,F._loadedInjector=Ke.injector,new yn(H,{})))):(0,h.of)(new yn(H,{}))):Yo(E,F,H,S).pipe((0,Le.w)(({matched:ce,consumedSegments:Ke,remainingSegments:kt})=>ce?this.getChildConfig(S=F._injector??S,F,H).pipe((0,ze.z)(mn=>{const Rr=mn.injector??S,Ri=mn.routes,{segmentGroup:Oa,slicedSegments:bs}=$i(E,Ke,kt,Ri),Xs=new yn(Oa.segments,Oa.children);if(0===bs.length&&Xs.hasChildren())return this.expandChildren(Rr,Ri,Xs).pipe((0,Ge.U)(ou=>new yn(Ke,ou)));if(0===Ri.length&&0===bs.length)return(0,h.of)(new yn(Ke,{}));const ea=Ei(F)===te;return this.expandSegment(Rr,Xs,Ri,bs,ea?_t:te,!0).pipe((0,Ge.U)(ga=>new yn(Ke.concat(ga.segments),ga.children)))})):Qo(E)))}getChildConfig(S,E,F){return E.children?(0,h.of)({routes:E.children,injector:S}):E.loadChildren?void 0!==E._loadedRoutes?(0,h.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function Zo(D,S,E,F){const H=S.canLoad;if(void 0===H||0===H.length)return(0,h.of)(!0);const te=H.map(ce=>{const Ke=is(ce,D);return An(function ss(D){return D&&os(D.canLoad)}(Ke)?Ke.canLoad(S,E):D.runInContext(()=>Ke(S,E)))});return(0,h.of)(te).pipe(Fe(),Ui())}(S,E,F).pipe((0,ze.z)(H=>H?this.configLoader.loadChildren(S,E).pipe((0,Vt.b)(te=>{E._loadedRoutes=te.routes,E._loadedInjector=te.injector})):function Jo(D){return(0,ve._)(Ro(Ns,3))}())):(0,h.of)({routes:[],injector:S})}lineralizeSegments(S,E){let F=[],H=E.root;for(;;){if(F=F.concat(H.segments),0===H.numberOfChildren)return(0,h.of)(F);if(H.numberOfChildren>1||!H.children[_t])return S.redirectTo,(0,ve._)(new w.vHH(4e3,Ns));H=H.children[_t]}}applyRedirectCommands(S,E,F){return this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),S,F)}applyRedirectCreateUrlTree(S,E,F,H){const te=this.createSegmentGroup(S,E.root,F,H);return new kn(te,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(S,E){const F={};return $n(S,(H,te)=>{if("string"==typeof H&&H.startsWith(":")){const Ke=H.substring(1);F[te]=E[Ke]}else F[te]=H}),F}createSegmentGroup(S,E,F,H){const te=this.createSegments(S,E.segments,F,H);let ce={};return $n(E.children,(Ke,kt)=>{ce[kt]=this.createSegmentGroup(S,Ke,F,H)}),new yn(te,ce)}createSegments(S,E,F,H){return E.map(te=>te.path.startsWith(":")?this.findPosParam(S,te,H):this.findOrReturn(te,F))}findPosParam(S,E,F){const H=F[E.path.substring(1)];if(!H)throw new w.vHH(4001,Ns);return H}findOrReturn(S,E){let F=0;for(const H of E){if(H.path===S.path)return E.splice(F),H;F++}return S}}class ko{}class Ls{constructor(S,E,F,H,te,ce,Ke){this.injector=S,this.rootComponentType=E,this.config=F,this.urlTree=H,this.url=te,this.paramsInheritanceStrategy=ce,this.urlSerializer=Ke}recognize(){const S=$i(this.urlTree.root,[],[],this.config.filter(E=>void 0===E.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,S,_t).pipe((0,Ge.U)(E=>{if(null===E)return null;const F=new Ta([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},_t,this.rootComponentType,null,this.urlTree.root,-1,{}),H=new _i(F,E),te=new zo(this.url,H);return this.inheritParamsAndData(te._root),te}))}inheritParamsAndData(S){const E=S.value,F=Hs(E,this.paramsInheritanceStrategy);E.params=Object.freeze(F.params),E.data=Object.freeze(F.data),S.children.forEach(H=>this.inheritParamsAndData(H))}processSegmentGroup(S,E,F,H){return 0===F.segments.length&&F.hasChildren()?this.processChildren(S,E,F):this.processSegment(S,E,F,F.segments,H)}processChildren(S,E,F){return(0,j.D)(Object.keys(F.children)).pipe((0,Wt.b)(H=>{const te=F.children[H],ce=Ps(E,H);return this.processSegmentGroup(S,ce,te,H)}),(0,Gt.R)((H,te)=>H&&te?(H.push(...te),H):null),function rt(D,S=!1){return(0,St.e)((E,F)=>{let H=0;E.subscribe((0,Ut.x)(F,te=>{const ce=D(te,H++);(ce||S)&&F.next(te),!ce&&F.complete()}))})}(H=>null!==H),(0,Je.d)(null),gt(),(0,Ge.U)(H=>{if(null===H)return null;const te=Oi(H);return function Wa(D){D.sort((S,E)=>S.value.outlet===_t?-1:E.value.outlet===_t?1:S.value.outlet.localeCompare(E.value.outlet))}(te),te}))}processSegment(S,E,F,H,te){return(0,j.D)(E).pipe((0,Wt.b)(ce=>this.processSegmentAgainstRoute(ce._injector??S,ce,F,H,te)),(0,Bt.P)(ce=>!!ce),(0,ln.K)(ce=>{if(nr(ce))return Zr(F,H,te)?(0,h.of)([]):(0,h.of)(null);throw ce}))}processSegmentAgainstRoute(S,E,F,H,te){if(E.redirectTo||!ms(E,F,H,te))return(0,h.of)(null);let ce;if("**"===E.path){const Ke=H.length>0?Vr(H).parameters:{},kt=da(F)+H.length,fn=new Ta(H,Ke,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,W(E),Ei(E),E.component??E._loadedComponent??null,E,rc(F),kt,V(E));ce=(0,h.of)({snapshot:fn,consumedSegments:[],remainingSegments:[]})}else ce=Yo(F,E,H,S).pipe((0,Ge.U)(({matched:Ke,consumedSegments:kt,remainingSegments:fn,parameters:mn})=>{if(!Ke)return null;const Rr=da(F)+kt.length;return{snapshot:new Ta(kt,mn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,W(E),Ei(E),E.component??E._loadedComponent??null,E,rc(F),Rr,V(E)),consumedSegments:kt,remainingSegments:fn}}));return ce.pipe((0,Le.w)(Ke=>{if(null===Ke)return(0,h.of)(null);const{snapshot:kt,consumedSegments:fn,remainingSegments:mn}=Ke;S=E._injector??S;const Rr=E._loadedInjector??S,Ri=function Ra(D){return D.children?D.children:D.loadChildren?D._loadedRoutes:[]}(E),{segmentGroup:Oa,slicedSegments:bs}=$i(F,fn,mn,Ri.filter(ea=>void 0===ea.redirectTo));if(0===bs.length&&Oa.hasChildren())return this.processChildren(Rr,Ri,Oa).pipe((0,Ge.U)(ea=>null===ea?null:[new _i(kt,ea)]));if(0===Ri.length&&0===bs.length)return(0,h.of)([new _i(kt,[])]);const Xs=Ei(E)===te;return this.processSegment(Rr,Ri,Oa,bs,Xs?_t:te).pipe((0,Ge.U)(ea=>null===ea?null:[new _i(kt,ea)]))}))}}function Ki(D){const S=D.value.routeConfig;return S&&""===S.path&&void 0===S.redirectTo}function Oi(D){const S=[],E=new Set;for(const F of D){if(!Ki(F)){S.push(F);continue}const H=S.find(te=>F.value.routeConfig===te.value.routeConfig);void 0!==H?(H.children.push(...F.children),E.add(H)):S.push(F)}for(const F of E){const H=Oi(F.children);S.push(new _i(F.value,H))}return S.filter(F=>!E.has(F))}function rc(D){let S=D;for(;S._sourceSegment;)S=S._sourceSegment;return S}function da(D){let S=D,E=S._segmentIndexShift??0;for(;S._sourceSegment;)S=S._sourceSegment,E+=S._segmentIndexShift??0;return E-1}function W(D){return D.data||{}}function V(D){return D.resolve||{}}function et(D){return"string"==typeof D.title||null===D.title}function Xt(D){return(0,Le.w)(S=>{const E=D(S);return E?(0,j.D)(E).pipe((0,Ge.U)(()=>S)):(0,h.of)(S)})}const Ct=new w.OlP("ROUTES");let Sn=(()=>{class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,w.f3M)(w.Sil)}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,h.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const F=An(E.loadComponent()).pipe((0,Ge.U)(no),(0,Vt.b)(te=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=te}),(0,Ve.x)(()=>{this.componentLoaders.delete(E)})),H=new ut(F,()=>new xe.x).pipe(tt());return this.componentLoaders.set(E,H),H}loadChildren(E,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,h.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const te=this.loadModuleFactoryOrRoutes(F.loadChildren).pipe((0,Ge.U)(Ke=>{this.onLoadEndListener&&this.onLoadEndListener(F);let kt,fn,mn=!1;Array.isArray(Ke)?fn=Ke:(kt=Ke.create(E).injector,fn=yr(kt.get(Ct,[],w.XFs.Self|w.XFs.Optional)));return{routes:fn.map(oi),injector:kt}}),(0,Ve.x)(()=>{this.childrenLoaders.delete(F)})),ce=new ut(te,()=>new xe.x).pipe(tt());return this.childrenLoaders.set(F,ce),ce}loadModuleFactoryOrRoutes(E){return An(E()).pipe((0,Ge.U)(no),(0,ze.z)(F=>F instanceof w.YKP||Array.isArray(F)?(0,h.of)(F):(0,j.D)(this.compiler.compileModuleAsync(F))))}}return D.\u0275fac=function(E){return new(E||D)},D.\u0275prov=w.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function no(D){return function Gr(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let Dn=(()=>{class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new xe.x,this.configLoader=(0,w.f3M)(Sn),this.environmentInjector=(0,w.f3M)(w.lqb),this.urlSerializer=(0,w.f3M)(Un),this.rootContexts=(0,w.f3M)(Po),this.navigationId=0,this.afterPreactivation=()=>(0,h.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=H=>this.events.next(new Ii(H)),this.configLoader.onLoadStartListener=H=>this.events.next(new Ci(H))}complete(){this.transitions?.complete()}handleNavigationRequest(E){const F=++this.navigationId;this.transitions?.next({...this.transitions.value,...E,id:F})}setupNavigations(E){return this.transitions=new ye.X({id:0,targetPageId:0,currentUrlTree:E.currentUrlTree,currentRawUrl:E.currentUrlTree,extractedUrl:E.urlHandlingStrategy.extract(E.currentUrlTree),urlAfterRedirects:E.urlHandlingStrategy.extract(E.currentUrlTree),rawUrl:E.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ei,restoredState:null,currentSnapshot:E.routerState.snapshot,targetSnapshot:null,currentRouterState:E.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,It.h)(F=>0!==F.id),(0,Ge.U)(F=>({...F,extractedUrl:E.urlHandlingStrategy.extract(F.rawUrl)})),(0,Le.w)(F=>{let H=!1,te=!1;return(0,h.of)(F).pipe((0,Vt.b)(ce=>{this.currentNavigation={id:ce.id,initialUrl:ce.rawUrl,extractedUrl:ce.extractedUrl,trigger:ce.source,extras:ce.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Le.w)(ce=>{const Ke=E.browserUrlTree.toString(),kt=!E.navigated||ce.extractedUrl.toString()!==Ke||Ke!==E.currentUrlTree.toString();if(!kt&&"reload"!==(ce.extras.onSameUrlNavigation??E.onSameUrlNavigation)){const mn="";return this.events.next(new Ue(ce.id,E.serializeUrl(F.rawUrl),mn,0)),E.rawUrlTree=ce.rawUrl,ce.resolve(null),je.E}if(E.urlHandlingStrategy.shouldProcessUrl(ce.rawUrl))return To(ce.source)&&(E.browserUrlTree=ce.extractedUrl),(0,h.of)(ce).pipe((0,Le.w)(mn=>{const Rr=this.transitions?.getValue();return this.events.next(new jr(mn.id,this.urlSerializer.serialize(mn.extractedUrl),mn.source,mn.restoredState)),Rr!==this.transitions?.getValue()?je.E:Promise.resolve(mn)}),function Do(D,S,E,F){return(0,Le.w)(H=>function Ma(D,S,E,F,H){return new as(D,S,E,F,H).apply()}(D,S,E,H.extractedUrl,F).pipe((0,Ge.U)(te=>({...H,urlAfterRedirects:te}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,E.config),(0,Vt.b)(mn=>{this.currentNavigation={...this.currentNavigation,finalUrl:mn.urlAfterRedirects},F.urlAfterRedirects=mn.urlAfterRedirects}),function ie(D,S,E,F,H){return(0,ze.z)(te=>function Fs(D,S,E,F,H,te,ce="emptyOnly"){return new Ls(D,S,E,F,H,ce,te).recognize().pipe((0,Le.w)(Ke=>null===Ke?function fi(D){return new me.y(S=>S.error(D))}(new ko):(0,h.of)(Ke)))}(D,S,E,te.urlAfterRedirects,F.serialize(te.urlAfterRedirects),F,H).pipe((0,Ge.U)(ce=>({...te,targetSnapshot:ce}))))}(this.environmentInjector,this.rootComponentType,E.config,this.urlSerializer,E.paramsInheritanceStrategy),(0,Vt.b)(mn=>{if(F.targetSnapshot=mn.targetSnapshot,"eager"===E.urlUpdateStrategy){if(!mn.extras.skipLocationChange){const Ri=E.urlHandlingStrategy.merge(mn.urlAfterRedirects,mn.rawUrl);E.setBrowserUrl(Ri,mn)}E.browserUrlTree=mn.urlAfterRedirects}const Rr=new jt(mn.id,this.urlSerializer.serialize(mn.extractedUrl),this.urlSerializer.serialize(mn.urlAfterRedirects),mn.targetSnapshot);this.events.next(Rr)}));if(kt&&E.urlHandlingStrategy.shouldProcessUrl(E.rawUrlTree)){const{id:mn,extractedUrl:Rr,source:Ri,restoredState:Oa,extras:bs}=ce,Xs=new jr(mn,this.urlSerializer.serialize(Rr),Ri,Oa);this.events.next(Xs);const ea=zi(Rr,this.rootComponentType).snapshot;return F={...ce,targetSnapshot:ea,urlAfterRedirects:Rr,extras:{...bs,skipLocationChange:!1,replaceUrl:!1}},(0,h.of)(F)}{const mn="";return this.events.next(new Ue(ce.id,E.serializeUrl(F.extractedUrl),mn,1)),E.rawUrlTree=ce.rawUrl,ce.resolve(null),je.E}}),(0,Vt.b)(ce=>{const Ke=new Vn(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(ce.urlAfterRedirects),ce.targetSnapshot);this.events.next(Ke)}),(0,Ge.U)(ce=>F={...ce,guards:Io(ce.targetSnapshot,ce.currentSnapshot,this.rootContexts)}),function Te(D,S){return(0,ze.z)(E=>{const{targetSnapshot:F,currentSnapshot:H,guards:{canActivateChecks:te,canDeactivateChecks:ce}}=E;return 0===ce.length&&0===te.length?(0,h.of)({...E,guardsResult:!0}):function vt(D,S,E,F){return(0,j.D)(D).pipe((0,ze.z)(H=>function qi(D,S,E,F,H){const te=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!te||0===te.length)return(0,h.of)(!0);const ce=te.map(Ke=>{const kt=tr(S)??H,fn=is(Ke,kt);return An(function ua(D){return D&&os(D.canDeactivate)}(fn)?fn.canDeactivate(D,S,E,F):kt.runInContext(()=>fn(D,S,E,F))).pipe((0,Bt.P)())});return(0,h.of)(ce).pipe(Fe())}(H.component,H.route,E,S,F)),(0,Bt.P)(H=>!0!==H,!0))}(ce,F,H,D).pipe((0,ze.z)(Ke=>Ke&&function Sa(D){return"boolean"==typeof D}(Ke)?function Pt(D,S,E,F){return(0,j.D)(S).pipe((0,Wt.b)(H=>(0,Ne.z)(function rr(D,S){return null!==D&&S&&S(new Hi(D)),(0,h.of)(!0)}(H.route.parent,F),function tn(D,S){return null!==D&&S&&S(new Mr(D)),(0,h.of)(!0)}(H.route,F),function so(D,S,E){const F=S[S.length-1],te=S.slice(0,S.length-1).reverse().map(ce=>function No(D){const S=D.routeConfig?D.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:D,guards:S}:null}(ce)).filter(ce=>null!==ce).map(ce=>fe(()=>{const Ke=ce.guards.map(kt=>{const fn=tr(ce.node)??E,mn=is(kt,fn);return An(function xa(D){return D&&os(D.canActivateChild)}(mn)?mn.canActivateChild(F,D):fn.runInContext(()=>mn(F,D))).pipe((0,Bt.P)())});return(0,h.of)(Ke).pipe(Fe())}));return(0,h.of)(te).pipe(Fe())}(D,H.path,E),function ni(D,S,E){const F=S.routeConfig?S.routeConfig.canActivate:null;if(!F||0===F.length)return(0,h.of)(!0);const H=F.map(te=>fe(()=>{const ce=tr(S)??E,Ke=is(te,ce);return An(function po(D){return D&&os(D.canActivate)}(Ke)?Ke.canActivate(S,D):ce.runInContext(()=>Ke(S,D))).pipe((0,Bt.P)())}));return(0,h.of)(H).pipe(Fe())}(D,H.route,E))),(0,Bt.P)(H=>!0!==H,!0))}(F,te,D,S):(0,h.of)(Ke)),(0,Ge.U)(Ke=>({...E,guardsResult:Ke})))})}(this.environmentInjector,ce=>this.events.next(ce)),(0,Vt.b)(ce=>{if(F.guardsResult=ce.guardsResult,Zt(ce.guardsResult))throw Ms(0,ce.guardsResult);const Ke=new cr(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(ce.urlAfterRedirects),ce.targetSnapshot,!!ce.guardsResult);this.events.next(Ke)}),(0,It.h)(ce=>!!ce.guardsResult||(E.restoreHistory(ce),this.cancelNavigationTransition(ce,"",3),!1)),Xt(ce=>{if(ce.guards.canActivateChecks.length)return(0,h.of)(ce).pipe((0,Vt.b)(Ke=>{const kt=new qn(Ke.id,this.urlSerializer.serialize(Ke.extractedUrl),this.urlSerializer.serialize(Ke.urlAfterRedirects),Ke.targetSnapshot);this.events.next(kt)}),(0,Le.w)(Ke=>{let kt=!1;return(0,h.of)(Ke).pipe(function Ae(D,S){return(0,ze.z)(E=>{const{targetSnapshot:F,guards:{canActivateChecks:H}}=E;if(!H.length)return(0,h.of)(E);let te=0;return(0,j.D)(H).pipe((0,Wt.b)(ce=>function I(D,S,E,F){const H=D.routeConfig,te=D._resolve;return void 0!==H?.title&&!et(H)&&(te[zt]=H.title),function x(D,S,E,F){const H=function z(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===H.length)return(0,h.of)({});const te={};return(0,j.D)(H).pipe((0,ze.z)(ce=>function we(D,S,E,F){const H=tr(S)??F,te=is(D,H);return An(te.resolve?te.resolve(S,E):H.runInContext(()=>te(S,E)))}(D[ce],S,E,F).pipe((0,Bt.P)(),(0,Vt.b)(Ke=>{te[ce]=Ke}))),Pr(1),function Xe(D){return(0,Ge.U)(()=>D)}(te),(0,ln.K)(ce=>nr(ce)?je.E:(0,ve._)(ce)))}(te,D,S,F).pipe((0,Ge.U)(ce=>(D._resolvedData=ce,D.data=Hs(D,E).resolve,H&&et(H)&&(D.data[zt]=H.title),null)))}(ce.route,F,D,S)),(0,Vt.b)(()=>te++),Pr(1),(0,ze.z)(ce=>te===H.length?(0,h.of)(E):je.E))})}(E.paramsInheritanceStrategy,this.environmentInjector),(0,Vt.b)({next:()=>kt=!0,complete:()=>{kt||(E.restoreHistory(Ke),this.cancelNavigationTransition(Ke,"",2))}}))}),(0,Vt.b)(Ke=>{const kt=new Jn(Ke.id,this.urlSerializer.serialize(Ke.extractedUrl),this.urlSerializer.serialize(Ke.urlAfterRedirects),Ke.targetSnapshot);this.events.next(kt)}))}),Xt(ce=>{const Ke=kt=>{const fn=[];kt.routeConfig?.loadComponent&&!kt.routeConfig._loadedComponent&&fn.push(this.configLoader.loadComponent(kt.routeConfig).pipe((0,Vt.b)(mn=>{kt.component=mn}),(0,Ge.U)(()=>{})));for(const mn of kt.children)fn.push(...Ke(mn));return fn};return(0,ne.a)(Ke(ce.targetSnapshot.root)).pipe((0,Je.d)(),(0,Qe.q)(1))}),Xt(()=>this.afterPreactivation()),(0,Ge.U)(ce=>{const Ke=function aa(D,S,E){const F=io(D,S._root,E?E._root:void 0);return new Xi(F,S)}(E.routeReuseStrategy,ce.targetSnapshot,ce.currentRouterState);return F={...ce,targetRouterState:Ke}}),(0,Vt.b)(ce=>{E.currentUrlTree=ce.urlAfterRedirects,E.rawUrlTree=E.urlHandlingStrategy.merge(ce.urlAfterRedirects,ce.rawUrl),E.routerState=ce.targetRouterState,"deferred"===E.urlUpdateStrategy&&(ce.extras.skipLocationChange||E.setBrowserUrl(E.rawUrlTree,ce),E.browserUrlTree=ce.urlAfterRedirects)}),((D,S,E)=>(0,Ge.U)(F=>(new Ha(S,F.targetRouterState,F.currentRouterState,E).activate(D),F)))(this.rootContexts,E.routeReuseStrategy,ce=>this.events.next(ce)),(0,Qe.q)(1),(0,Vt.b)({next:ce=>{H=!0,this.lastSuccessfulNavigation=this.currentNavigation,E.navigated=!0,this.events.next(new We(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(E.currentUrlTree))),E.titleStrategy?.updateTitle(ce.targetRouterState.snapshot),ce.resolve(!0)},complete:()=>{H=!0}}),(0,Ve.x)(()=>{H||te||this.cancelNavigationTransition(F,"",1),this.currentNavigation?.id===F.id&&(this.currentNavigation=null)}),(0,ln.K)(ce=>{if(te=!0,ec(ce)){Gs(ce)||(E.navigated=!0,E.restoreHistory(F,!0));const Ke=new Be(F.id,this.urlSerializer.serialize(F.extractedUrl),ce.message,ce.cancellationCode);if(this.events.next(Ke),Gs(ce)){const kt=E.urlHandlingStrategy.merge(ce.url,E.rawUrlTree),fn={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===E.urlUpdateStrategy||To(F.source)};E.scheduleNavigation(kt,ei,null,fn,{resolve:F.resolve,reject:F.reject,promise:F.promise})}else F.resolve(!1)}else{E.restoreHistory(F,!0);const Ke=new xt(F.id,this.urlSerializer.serialize(F.extractedUrl),ce,F.targetSnapshot??void 0);this.events.next(Ke);try{F.resolve(E.errorHandler(ce))}catch(kt){F.reject(kt)}}return je.E}))}))}cancelNavigationTransition(E,F,H){const te=new Be(E.id,this.urlSerializer.serialize(E.extractedUrl),F,H);this.events.next(te),E.resolve(!1)}}return D.\u0275fac=function(E){return new(E||D)},D.\u0275prov=w.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function To(D){return D!==ei}let en=(()=>{class D{buildTitle(E){let F,H=E.root;for(;void 0!==H;)F=this.getResolvedTitleForRoute(H)??F,H=H.children.find(te=>te.outlet===_t);return F}getResolvedTitleForRoute(E){return E.data[zt]}}return D.\u0275fac=function(E){return new(E||D)},D.\u0275prov=w.Yz7({token:D,factory:function(){return(0,w.f3M)(ht)},providedIn:"root"}),D})(),ht=(()=>{class D extends en{constructor(E){super(),this.title=E}updateTitle(E){const F=this.buildTitle(E);void 0!==F&&this.title.setTitle(F)}}return D.\u0275fac=function(E){return new(E||D)(w.LFG(En.Dx))},D.\u0275prov=w.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),Ft=(()=>{class D{}return D.\u0275fac=function(E){return new(E||D)},D.\u0275prov=w.Yz7({token:D,factory:function(){return(0,w.f3M)(dl)},providedIn:"root"}),D})();class co{shouldDetach(S){return!1}store(S,E){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,E){return S.routeConfig===E.routeConfig}}let dl=(()=>{class D extends co{}return D.\u0275fac=function(){let S;return function(F){return(S||(S=w.n5z(D)))(F||D)}}(),D.\u0275prov=w.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const Rc=new w.OlP("",{providedIn:"root",factory:()=>({})});let ha=(()=>{class D{}return D.\u0275fac=function(E){return new(E||D)},D.\u0275prov=w.Yz7({token:D,factory:function(){return(0,w.f3M)(Ys)},providedIn:"root"}),D})(),Ys=(()=>{class D{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,F){return E}}return D.\u0275fac=function(E){return new(E||D)},D.\u0275prov=w.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Pa(D){throw D}function qa(D,S,E){return S.parse("/")}const Za={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Kr=(()=>{class D{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,w.f3M)(w.c2e),this.isNgZoneEnabled=!1,this.options=(0,w.f3M)(Rc,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Pa,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||qa,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,w.f3M)(ha),this.routeReuseStrategy=(0,w.f3M)(Ft),this.urlCreationStrategy=(0,w.f3M)(Vi),this.titleStrategy=(0,w.f3M)(en),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=yr((0,w.f3M)(Ct,{optional:!0})??[]),this.navigationTransitions=(0,w.f3M)(Dn),this.urlSerializer=(0,w.f3M)(Un),this.location=(0,w.f3M)(ot.Ye),this.isNgZoneEnabled=(0,w.f3M)(w.R0b)instanceof w.R0b&&w.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new kn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=zi(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(E=>{this.lastSuccessfulId=E.id,this.currentPageId=this.browserPageId??0},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)})}resetRootComponentType(E){this.routerState.root.component=E,this.navigationTransitions.rootComponentType=E}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const E=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ei,E)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const F="popstate"===E.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{this.navigateToSyncWithBrowser(E.url,F,E.state)},0)}))}navigateToSyncWithBrowser(E,F,H){const te={replaceUrl:!0},ce=H?.navigationId?H:null;if(H){const kt={...H};delete kt.navigationId,delete kt.\u0275routerPageId,0!==Object.keys(kt).length&&(te.state=kt)}const Ke=this.parseUrl(E);this.scheduleNavigation(Ke,F,ce,te)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(E){this.config=E.map(oi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(E,F={}){const{relativeTo:H,queryParams:te,fragment:ce,queryParamsHandling:Ke,preserveFragment:kt}=F,fn=kt?this.currentUrlTree.fragment:ce;let mn=null;switch(Ke){case"merge":mn={...this.currentUrlTree.queryParams,...te};break;case"preserve":mn=this.currentUrlTree.queryParams;break;default:mn=te||null}return null!==mn&&(mn=this.removeEmptyProps(mn)),this.urlCreationStrategy.createUrlTree(H,this.routerState,this.currentUrlTree,E,mn,fn??null)}navigateByUrl(E,F={skipLocationChange:!1}){const H=Zt(E)?E:this.parseUrl(E),te=this.urlHandlingStrategy.merge(H,this.rawUrlTree);return this.scheduleNavigation(te,ei,null,F)}navigate(E,F={skipLocationChange:!1}){return function or(D){for(let S=0;S<D.length;S++){const E=D[S];if(null==E)throw new w.vHH(4008,false)}}(E),this.navigateByUrl(this.createUrlTree(E,F),F)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let F;try{F=this.urlSerializer.parse(E)}catch(H){F=this.malformedUriErrorHandler(H,this.urlSerializer,E)}return F}isActive(E,F){let H;if(H=!0===F?{...Za}:!1===F?{...hl}:F,Zt(E))return Ar(this.currentUrlTree,E,H);const te=this.parseUrl(E);return Ar(this.currentUrlTree,te,H)}removeEmptyProps(E){return Object.keys(E).reduce((F,H)=>{const te=E[H];return null!=te&&(F[H]=te),F},{})}scheduleNavigation(E,F,H,te,ce){if(this.disposed)return Promise.resolve(!1);let Ke,kt,fn,mn;return ce?(Ke=ce.resolve,kt=ce.reject,fn=ce.promise):fn=new Promise((Rr,Ri)=>{Ke=Rr,kt=Ri}),mn="computed"===this.canceledNavigationResolution?H&&H.\u0275routerPageId?H.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:mn,source:F,restoredState:H,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:E,extras:te,resolve:Ke,reject:kt,promise:fn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),fn.catch(Rr=>Promise.reject(Rr))}setBrowserUrl(E,F){const H=this.urlSerializer.serialize(E);if(this.location.isCurrentPathEqualTo(H)||F.extras.replaceUrl){const ce={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState(H,"",ce)}else{const te={...F.extras.state,...this.generateNgRouterState(F.id,F.targetPageId)};this.location.go(H,"",te)}}restoreHistory(E,F=!1){if("computed"===this.canceledNavigationResolution){const te=this.currentPageId-(this.browserPageId??this.currentPageId);0!==te?this.location.historyGo(te):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===te&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(E,F){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:F}:{navigationId:E}}}return D.\u0275fac=function(E){return new(E||D)},D.\u0275prov=w.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),fa=(()=>{class D{constructor(E,F,H,te,ce,Ke){this.router=E,this.route=F,this.tabIndexAttribute=H,this.renderer=te,this.el=ce,this.locationStrategy=Ke,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new xe.x;const kt=ce.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===kt||"area"===kt,this.isAnchorElement?this.subscription=E.events.subscribe(fn=>{fn instanceof We&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(E){this._preserveFragment=(0,w.D6c)(E)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(E){this._skipLocationChange=(0,w.D6c)(E)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(E){this._replaceUrl=(0,w.D6c)(E)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(E){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",E)}ngOnChanges(E){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(E,F,H,te,ce){return!!(null===this.urlTree||this.isAnchorElement&&(0!==E||F||H||te||ce||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const E=null===this.href?null:(0,w.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",E)}applyAttributeValue(E,F){const H=this.renderer,te=this.el.nativeElement;null!==F?H.setAttribute(te,E,F):H.removeAttribute(te,E)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return D.\u0275fac=function(E){return new(E||D)(w.Y36(Kr),w.Y36(Gi),w.$8M("tabindex"),w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(ot.S$))},D.\u0275dir=w.lG2({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(E,F){1&E&&w.NdJ("click",function(te){return F.onClick(te.button,te.ctrlKey,te.shiftKey,te.altKey,te.metaKey)}),2&E&&w.uIk("target",F.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[w.TTD]}),D})();class Hn{}let fl=(()=>{class D{constructor(E,F,H,te,ce){this.router=E,this.injector=H,this.preloadingStrategy=te,this.loader=ce}setUpPreloading(){this.subscription=this.router.events.pipe((0,It.h)(E=>E instanceof We),(0,Wt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,F){const H=[];for(const te of F){te.providers&&!te._injector&&(te._injector=(0,w.MMx)(te.providers,E,`Route: ${te.path}`));const ce=te._injector??E,Ke=te._loadedInjector??ce;(te.loadChildren&&!te._loadedRoutes&&void 0===te.canLoad||te.loadComponent&&!te._loadedComponent)&&H.push(this.preloadConfig(ce,te)),(te.children||te._loadedRoutes)&&H.push(this.processRoutes(Ke,te.children??te._loadedRoutes))}return(0,j.D)(H).pipe((0,mt.J)())}preloadConfig(E,F){return this.preloadingStrategy.preload(F,()=>{let H;H=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(E,F):(0,h.of)(null);const te=H.pipe((0,ze.z)(ce=>null===ce?(0,h.of)(void 0):(F._loadedRoutes=ce.routes,F._loadedInjector=ce.injector,this.processRoutes(ce.injector??E,ce.routes))));if(F.loadComponent&&!F._loadedComponent){const ce=this.loader.loadComponent(F);return(0,j.D)([te,ce]).pipe((0,mt.J)())}return te})}}return D.\u0275fac=function(E){return new(E||D)(w.LFG(Kr),w.LFG(w.Sil),w.LFG(w.lqb),w.LFG(Hn),w.LFG(Sn))},D.\u0275prov=w.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const gr=new w.OlP("");let hn=(()=>{class D{constructor(E,F,H,te,ce={}){this.urlSerializer=E,this.transitions=F,this.viewportScroller=H,this.zone=te,this.options=ce,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ce.scrollPositionRestoration=ce.scrollPositionRestoration||"disabled",ce.anchorScrolling=ce.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof jr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof We&&(this.lastId=E.id,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof $o&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,F){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $o(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return D.\u0275fac=function(E){w.$Z()},D.\u0275prov=w.Yz7({token:D,factory:D.\u0275fac}),D})();var Wr=(()=>((Wr=Wr||{})[Wr.COMPLETE=0]="COMPLETE",Wr[Wr.FAILED=1]="FAILED",Wr[Wr.REDIRECTING=2]="REDIRECTING",Wr))();const Fo=!1;function cs(D,S){return{\u0275kind:D,\u0275providers:S}}const ic=new w.OlP("",{providedIn:"root",factory:()=>!1});function Ka(){const D=(0,w.f3M)(w.zs3);return S=>{const E=D.get(w.z2F);if(S!==E.components[0])return;const F=D.get(Kr),H=D.get(yi);1===D.get(ui)&&F.initialNavigation(),D.get(Yc,null,w.XFs.Optional)?.setUpPreloading(),D.get(gr,null,w.XFs.Optional)?.init(),F.resetRootComponentType(E.componentTypes[0]),H.closed||(H.next(),H.complete(),H.unsubscribe())}}const yi=new w.OlP(Fo?"bootstrap done indicator":"",{factory:()=>new xe.x}),ui=new w.OlP(Fo?"initial navigation":"",{providedIn:"root",factory:()=>1});function pt(){let D=[];return D=Fo?[{provide:w.Xts,multi:!0,useFactory:()=>{const S=(0,w.f3M)(Kr);return()=>S.events.subscribe(E=>{console.group?.(`Router Event: ${E.constructor.name}`),console.log(function ro(D){if(!("type"in D))return`Unknown Router Event: ${D.constructor.name}`;switch(D.type){case 14:return`ActivationEnd(path: '${D.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${D.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${D.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${D.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state}, shouldActivate: ${D.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case 2:return`NavigationCancel(id: ${D.id}, url: '${D.url}')`;case 16:return`NavigationSkipped(id: ${D.id}, url: '${D.url}')`;case 1:return`NavigationEnd(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${D.id}, url: '${D.url}', error: ${D.error})`;case 0:return`NavigationStart(id: ${D.id}, url: '${D.url}')`;case 6:return`ResolveEnd(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case 5:return`ResolveStart(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case 10:return`RouteConfigLoadEnd(path: ${D.route.path})`;case 9:return`RouteConfigLoadStart(path: ${D.route.path})`;case 4:return`RoutesRecognized(id: ${D.id}, url: '${D.url}', urlAfterRedirects: '${D.urlAfterRedirects}', state: ${D.state})`;case 15:return`Scroll(anchor: '${D.anchor}', position: '${D.position?`${D.position[0]}, ${D.position[1]}`:null}')`}}(E)),console.log(E),console.groupEnd?.()})}}]:[],cs(1,D)}const Yc=new w.OlP(Fo?"router preloader":"");function zr(D){return cs(0,[{provide:Yc,useExisting:fl},{provide:Hn,useExisting:D}])}const wc=!1,ru=new w.OlP(wc?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),iu=[ot.Ye,{provide:Un,useClass:pi},Kr,Po,{provide:Gi,useFactory:function _o(D){return D.routerState.root},deps:[Kr]},Sn,wc?{provide:ic,useValue:!0}:[]];function ac(){return new w.PXZ("Router",Kr)}let Id=(()=>{class D{constructor(E){}static forRoot(E,F){return{ngModule:D,providers:[iu,wc&&F?.enableTracing?pt().\u0275providers:[],{provide:Ct,multi:!0,useValue:E},{provide:ru,useFactory:Cc,deps:[[Kr,new w.FiY,new w.tp0]]},{provide:Rc,useValue:F||{}},F?.useHash?{provide:ot.S$,useClass:ot.Do}:{provide:ot.S$,useClass:ot.b0},{provide:gr,useFactory:()=>{const D=(0,w.f3M)(ot.EM),S=(0,w.f3M)(w.R0b),E=(0,w.f3M)(Rc),F=(0,w.f3M)(Dn),H=(0,w.f3M)(Un);return E.scrollOffset&&D.setOffset(E.scrollOffset),new hn(H,F,D,S,E)}},F?.preloadingStrategy?zr(F.preloadingStrategy).\u0275providers:[],{provide:w.PXZ,multi:!0,useFactory:ac},F?.initialNavigation?yo(F):[],[{provide:vo,useFactory:Ka},{provide:w.tb,multi:!0,useExisting:vo}]]}}static forChild(E){return{ngModule:D,providers:[{provide:Ct,multi:!0,useValue:E}]}}}return D.\u0275fac=function(E){return new(E||D)(w.LFG(ru,8))},D.\u0275mod=w.oAB({type:D}),D.\u0275inj=w.cJS({imports:[qo]}),D})();function Cc(D){if(wc&&D)throw new w.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function yo(D){return["disabled"===D.initialNavigation?cs(3,[{provide:w.ip1,multi:!0,useFactory:()=>{const S=(0,w.f3M)(Kr);return()=>{S.setUpLocationChangeListener()}}},{provide:ui,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?cs(2,[{provide:ui,useValue:0},{provide:w.ip1,multi:!0,deps:[w.zs3],useFactory:S=>{const E=S.get(ot.V_,Promise.resolve());return()=>E.then(()=>new Promise(F=>{const H=S.get(Kr),te=S.get(yi);(function Qs(D,S){D.events.pipe((0,It.h)(E=>E instanceof We||E instanceof Be||E instanceof xt||E instanceof Ue),(0,Ge.U)(E=>E instanceof We||E instanceof Ue?Wr.COMPLETE:E instanceof Be&&(0===E.code||1===E.code)?Wr.REDIRECTING:Wr.FAILED),(0,It.h)(E=>E!==Wr.REDIRECTING),(0,Qe.q)(1)).subscribe(()=>{S()})})(H,()=>{F(!0)}),S.get(Dn).afterPreactivation=()=>(F(!0),te.closed?(0,h.of)(void 0):te),H.initialNavigation()}))}}]).\u0275providers:[]]}const vo=new w.OlP(wc?"Router Initializer":"")},3942:(Qt,Ye,U)=>{"use strict";U.d(Ye,{Z:()=>St});var w=U(2090),j=U(4859),h=U(6881),ye=U(1877);class be{constructor(tt,ut){this._delegate=tt,this.firebase=ut,(0,h._addComponent)(tt,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=tt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(tt){this._delegate.automaticDataCollectionEnabled=tt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(tt=>{this._delegate.checkDestroyed(),tt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,h.deleteApp)(this._delegate)))}_getService(tt,ut=h._DEFAULT_ENTRY_NAME){var xe;this._delegate.checkDestroyed();const ot=this._delegate.container.getProvider(tt);return!ot.isInitialized()&&"EXPLICIT"===(null===(xe=ot.getComponent())||void 0===xe?void 0:xe.instantiationMode)&&ot.initialize(),ot.getImmediate({identifier:ut})}_removeServiceInstance(tt,ut=h._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(tt).clearInstance(ut)}_addComponent(tt){(0,h._addComponent)(this._delegate,tt)}_addOrOverwriteComponent(tt){(0,h._addOrOverwriteComponent)(this._delegate,tt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ne=new w.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),fe=function Se(){const Ut=function me(Ut){const tt={},ut={__esModule:!0,initializeApp:function Ge(It,ze={}){const Bt=h.initializeApp(It,ze);if((0,w.r3)(tt,Bt.name))return tt[Bt.name];const Wt=new Ut(Bt,ut);return tt[Bt.name]=Wt,Wt},app:ot,registerVersion:h.registerVersion,setLogLevel:h.setLogLevel,onLog:h.onLog,apps:null,SDK_VERSION:h.SDK_VERSION,INTERNAL:{registerComponent:function Qe(It){const ze=It.name,Bt=ze.replace("-compat","");if(h._registerComponent(It)&&"PUBLIC"===It.type){const Wt=(Vt=ot())=>{if("function"!=typeof Vt[Bt])throw Ne.create("invalid-app-argument",{appName:ze});return Vt[Bt]()};void 0!==It.serviceProps&&(0,w.ZB)(Wt,It.serviceProps),ut[Bt]=Wt,Ut.prototype[Bt]=function(...Vt){return this._getService.bind(this,ze).apply(this,It.multipleInstances?Vt:[])}}return"PUBLIC"===It.type?ut[Bt]:null},removeApp:function xe(It){delete tt[It]},useAsService:function Mt(It,ze){return"serverAuth"===ze?null:ze},modularAPIs:h}};function ot(It){if(!(0,w.r3)(tt,It=It||h._DEFAULT_ENTRY_NAME))throw Ne.create("no-app",{appName:It});return tt[It]}return ut.default=ut,Object.defineProperty(ut,"apps",{get:function Le(){return Object.keys(tt).map(It=>tt[It])}}),ot.App=Ut,ut}(be);return Ut.INTERNAL=Object.assign(Object.assign({},Ut.INTERNAL),{createFirebaseNamespace:Se,extendNamespace:function tt(ut){(0,w.ZB)(Ut,ut)},createSubscribe:w.ne,ErrorFactory:w.LL,deepExtend:w.ZB}),Ut}(),ge=new ye.Yd("@firebase/app-compat");if((0,w.jU)()&&void 0!==self.firebase){ge.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ut=self.firebase.SDK_VERSION;Ut&&Ut.indexOf("LITE")>=0&&ge.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const St=fe;!function nt(Ut){(0,h.registerVersion)("@firebase/app-compat","0.2.11",Ut)}()},6881:(Qt,Ye,U)=>{"use strict";U.r(Ye),U.d(Ye,{FirebaseError:()=>ye.ZR,SDK_VERSION:()=>pi,_DEFAULT_ENTRY_NAME:()=>$r,_addComponent:()=>an,_addOrOverwriteComponent:()=>In,_apps:()=>Qn,_clearComponents:()=>hi,_components:()=>Ln,_getProvider:()=>yn,_registerComponent:()=>kn,_removeServiceInstance:()=>Cr,deleteApp:()=>bt,getApp:()=>vr,getApps:()=>vn,initializeApp:()=>ir,onLog:()=>lt,registerVersion:()=>Ie,setLogLevel:()=>qt});var w=U(5861),j=U(4859),h=U(1877),ye=U(2090);const be=(st,it)=>it.some($t=>st instanceof $t);let ne,Ne;const fe=new WeakMap,ge=new WeakMap,ve=new WeakMap,je=new WeakMap,nt=new WeakMap;let tt={get(st,it,$t){if(st instanceof IDBTransaction){if("done"===it)return ge.get(st);if("objectStoreNames"===it)return st.objectStoreNames||ve.get(st);if("store"===it)return $t.objectStoreNames[1]?void 0:$t.objectStore($t.objectStoreNames[0])}return Ge(st[it])},set:(st,it,$t)=>(st[it]=$t,!0),has:(st,it)=>st instanceof IDBTransaction&&("done"===it||"store"===it)||it in st};function ot(st){return"function"==typeof st?function xe(st){return st!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Se(){return Ne||(Ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(st)?function(...it){return st.apply(Le(this),it),Ge(fe.get(this))}:function(...it){return Ge(st.apply(Le(this),it))}:function(it,...$t){const Ht=st.call(Le(this),it,...$t);return ve.set(Ht,it.sort?it.sort():[it]),Ge(Ht)}}(st):(st instanceof IDBTransaction&&function Ut(st){if(ge.has(st))return;const it=new Promise(($t,Ht)=>{const Bn=()=>{st.removeEventListener("complete",dr),st.removeEventListener("error",wn),st.removeEventListener("abort",wn)},dr=()=>{$t(),Bn()},wn=()=>{Ht(st.error||new DOMException("AbortError","AbortError")),Bn()};st.addEventListener("complete",dr),st.addEventListener("error",wn),st.addEventListener("abort",wn)});ge.set(st,it)}(st),be(st,function me(){return ne||(ne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(st,tt):st)}function Ge(st){if(st instanceof IDBRequest)return function St(st){const it=new Promise(($t,Ht)=>{const Bn=()=>{st.removeEventListener("success",dr),st.removeEventListener("error",wn)},dr=()=>{$t(Ge(st.result)),Bn()},wn=()=>{Ht(st.error),Bn()};st.addEventListener("success",dr),st.addEventListener("error",wn)});return it.then($t=>{$t instanceof IDBCursor&&fe.set($t,st)}).catch(()=>{}),nt.set(it,st),it}(st);if(je.has(st))return je.get(st);const it=ot(st);return it!==st&&(je.set(st,it),nt.set(it,st)),it}const Le=st=>nt.get(st),It=["get","getKey","getAll","getAllKeys","count"],ze=["put","add","delete","clear"],Bt=new Map;function Wt(st,it){if(!(st instanceof IDBDatabase)||it in st||"string"!=typeof it)return;if(Bt.get(it))return Bt.get(it);const $t=it.replace(/FromIndex$/,""),Ht=it!==$t,Bn=ze.includes($t);if(!($t in(Ht?IDBIndex:IDBObjectStore).prototype)||!Bn&&!It.includes($t))return;const dr=function(){var wn=(0,w.Z)(function*(Sr,...sr){const wi=this.transaction(Sr,Bn?"readwrite":"readonly");let mi=wi.store;return Ht&&(mi=mi.index(sr.shift())),(yield Promise.all([mi[$t](...sr),Bn&&wi.done]))[0]});return function(sr){return wn.apply(this,arguments)}}();return Bt.set(it,dr),dr}!function ut(st){tt=st(tt)}(st=>({...st,get:(it,$t,Ht)=>Wt(it,$t)||st.get(it,$t,Ht),has:(it,$t)=>!!Wt(it,$t)||st.has(it,$t)}));class Vt{constructor(it){this.container=it}getPlatformInfoString(){return this.container.getProviders().map($t=>{if(function ln(st){return"VERSION"===st.getComponent()?.type}($t)){const Ht=$t.getImmediate();return`${Ht.library}/${Ht.version}`}return null}).filter($t=>$t).join(" ")}}const Gt="@firebase/app",at=new h.Yd("@firebase/app"),$r="[DEFAULT]",mr={[Gt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qn=new Map,Ln=new Map;function an(st,it){try{st.container.addComponent(it)}catch($t){at.debug(`Component ${it.name} failed to register with FirebaseApp ${st.name}`,$t)}}function In(st,it){st.container.addOrOverwriteComponent(it)}function kn(st){const it=st.name;if(Ln.has(it))return at.debug(`There were multiple attempts to register component ${it}.`),!1;Ln.set(it,st);for(const $t of Qn.values())an($t,st);return!0}function yn(st,it){const $t=st.container.getProvider("heartbeat").getImmediate({optional:!0});return $t&&$t.triggerHeartbeat(),st.container.getProvider(it)}function Cr(st,it,$t=$r){yn(st,it).clearInstance($t)}function hi(){Ln.clear()}const ri=new ye.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Un{constructor(it,$t,Ht){this._isDeleted=!1,this._options=Object.assign({},it),this._config=Object.assign({},$t),this._name=$t.name,this._automaticDataCollectionEnabled=$t.automaticDataCollectionEnabled,this._container=Ht,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(it){this.checkDestroyed(),this._automaticDataCollectionEnabled=it}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(it){this._isDeleted=it}checkDestroyed(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}}const pi="9.22.1";function ir(st,it={}){let $t=st;"object"!=typeof it&&(it={name:it});const Ht=Object.assign({name:$r,automaticDataCollectionEnabled:!1},it),Bn=Ht.name;if("string"!=typeof Bn||!Bn)throw ri.create("bad-app-name",{appName:String(Bn)});if($t||($t=(0,ye.aH)()),!$t)throw ri.create("no-options");const dr=Qn.get(Bn);if(dr){if((0,ye.vZ)($t,dr.options)&&(0,ye.vZ)(Ht,dr.config))return dr;throw ri.create("duplicate-app",{appName:Bn})}const wn=new j.H0(Bn);for(const sr of Ln.values())wn.addComponent(sr);const Sr=new Un($t,Ht,wn);return Qn.set(Bn,Sr),Sr}function vr(st=$r){const it=Qn.get(st);if(!it&&st===$r&&(0,ye.aH)())return ir();if(!it)throw ri.create("no-app",{appName:st});return it}function vn(){return Array.from(Qn.values())}function bt(st){return re.apply(this,arguments)}function re(){return(re=(0,w.Z)(function*(st){const it=st.name;Qn.has(it)&&(Qn.delete(it),yield Promise.all(st.container.getProviders().map($t=>$t.delete())),st.isDeleted=!0)})).apply(this,arguments)}function Ie(st,it,$t){var Ht;let Bn=null!==(Ht=mr[st])&&void 0!==Ht?Ht:st;$t&&(Bn+=`-${$t}`);const dr=Bn.match(/\s|\//),wn=it.match(/\s|\//);if(dr||wn){const Sr=[`Unable to register library "${Bn}" with version "${it}":`];return dr&&Sr.push(`library name "${Bn}" contains illegal characters (whitespace or "/")`),dr&&wn&&Sr.push("and"),wn&&Sr.push(`version name "${it}" contains illegal characters (whitespace or "/")`),void at.warn(Sr.join(" "))}kn(new j.wA(`${Bn}-version`,()=>({library:Bn,version:it}),"VERSION"))}function lt(st,it){if(null!==st&&"function"!=typeof st)throw ri.create("invalid-log-argument");(0,h.Am)(st,it)}function qt(st){(0,h.Ub)(st)}const wt="firebase-heartbeat-database",Me=1,J="firebase-heartbeat-store";let se=null;function X(){return se||(se=function Qe(st,it,{blocked:$t,upgrade:Ht,blocking:Bn,terminated:dr}={}){const wn=indexedDB.open(st,it),Sr=Ge(wn);return Ht&&wn.addEventListener("upgradeneeded",sr=>{Ht(Ge(wn.result),sr.oldVersion,sr.newVersion,Ge(wn.transaction),sr)}),$t&&wn.addEventListener("blocked",sr=>$t(sr.oldVersion,sr.newVersion,sr)),Sr.then(sr=>{dr&&sr.addEventListener("close",()=>dr()),Bn&&sr.addEventListener("versionchange",wi=>Bn(wi.oldVersion,wi.newVersion,wi))}).catch(()=>{}),Sr}(wt,Me,{upgrade:(st,it)=>{0===it&&st.createObjectStore(J)}}).catch(st=>{throw ri.create("idb-open",{originalErrorMessage:st.message})})),se}function ee(){return(ee=(0,w.Z)(function*(st){try{return yield(yield X()).transaction(J).objectStore(J).get(Ce(st))}catch(it){if(it instanceof ye.ZR)at.warn(it.message);else{const $t=ri.create("idb-get",{originalErrorMessage:it?.message});at.warn($t.message)}}})).apply(this,arguments)}function ke(st,it){return _e.apply(this,arguments)}function _e(){return(_e=(0,w.Z)(function*(st,it){try{const Ht=(yield X()).transaction(J,"readwrite");yield Ht.objectStore(J).put(it,Ce(st)),yield Ht.done}catch($t){if($t instanceof ye.ZR)at.warn($t.message);else{const Ht=ri.create("idb-set",{originalErrorMessage:$t?.message});at.warn(Ht.message)}}})).apply(this,arguments)}function Ce(st){return`${st.name}!${st.options.appId}`}class dt{constructor(it){this.container=it,this._heartbeatsCache=null;const $t=this.container.getProvider("app").getImmediate();this._storage=new cn($t),this._heartbeatsCachePromise=this._storage.read().then(Ht=>(this._heartbeatsCache=Ht,Ht))}triggerHeartbeat(){var it=this;return(0,w.Z)(function*(){const Ht=it.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Bn=Rt();if(null===it._heartbeatsCache&&(it._heartbeatsCache=yield it._heartbeatsCachePromise),it._heartbeatsCache.lastSentHeartbeatDate!==Bn&&!it._heartbeatsCache.heartbeats.some(dr=>dr.date===Bn))return it._heartbeatsCache.heartbeats.push({date:Bn,agent:Ht}),it._heartbeatsCache.heartbeats=it._heartbeatsCache.heartbeats.filter(dr=>{const wn=new Date(dr.date).valueOf();return Date.now()-wn<=2592e6}),it._storage.overwrite(it._heartbeatsCache)})()}getHeartbeatsHeader(){var it=this;return(0,w.Z)(function*(){if(null===it._heartbeatsCache&&(yield it._heartbeatsCachePromise),null===it._heartbeatsCache||0===it._heartbeatsCache.heartbeats.length)return"";const $t=Rt(),{heartbeatsToSend:Ht,unsentEntries:Bn}=function Zt(st,it=1024){const $t=[];let Ht=st.slice();for(const Bn of st){const dr=$t.find(wn=>wn.agent===Bn.agent);if(dr){if(dr.dates.push(Bn.date),Wn($t)>it){dr.dates.pop();break}}else if($t.push({agent:Bn.agent,dates:[Bn.date]}),Wn($t)>it){$t.pop();break}Ht=Ht.slice(1)}return{heartbeatsToSend:$t,unsentEntries:Ht}}(it._heartbeatsCache.heartbeats),dr=(0,ye.L)(JSON.stringify({version:2,heartbeats:Ht}));return it._heartbeatsCache.lastSentHeartbeatDate=$t,Bn.length>0?(it._heartbeatsCache.heartbeats=Bn,yield it._storage.overwrite(it._heartbeatsCache)):(it._heartbeatsCache.heartbeats=[],it._storage.overwrite(it._heartbeatsCache)),dr})()}}function Rt(){return(new Date).toISOString().substring(0,10)}class cn{constructor(it){this.app=it,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,ye.hl)()&&(0,ye.eu)().then(()=>!0).catch(()=>!1)})()}read(){var it=this;return(0,w.Z)(function*(){return(yield it._canUseIndexedDBPromise)&&(yield function oe(st){return ee.apply(this,arguments)}(it.app))||{heartbeats:[]}})()}overwrite(it){var $t=this;return(0,w.Z)(function*(){var Ht;if(yield $t._canUseIndexedDBPromise){const dr=yield $t.read();return ke($t.app,{lastSentHeartbeatDate:null!==(Ht=it.lastSentHeartbeatDate)&&void 0!==Ht?Ht:dr.lastSentHeartbeatDate,heartbeats:it.heartbeats})}})()}add(it){var $t=this;return(0,w.Z)(function*(){var Ht;if(yield $t._canUseIndexedDBPromise){const dr=yield $t.read();return ke($t.app,{lastSentHeartbeatDate:null!==(Ht=it.lastSentHeartbeatDate)&&void 0!==Ht?Ht:dr.lastSentHeartbeatDate,heartbeats:[...dr.heartbeats,...it.heartbeats]})}})()}}function Wn(st){return(0,ye.L)(JSON.stringify({version:2,heartbeats:st})).length}!function xr(st){kn(new j.wA("platform-logger",it=>new Vt(it),"PRIVATE")),kn(new j.wA("heartbeat",it=>new dt(it),"PRIVATE")),Ie(Gt,"0.9.11",st),Ie(Gt,"0.9.11","esm2017"),Ie("fire-js","")}("")},4859:(Qt,Ye,U)=>{"use strict";U.d(Ye,{H0:()=>me,wA:()=>h});var w=U(5861),j=U(2090);class h{constructor(fe,ge,ve){this.name=fe,this.instanceFactory=ge,this.type=ve,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(fe){return this.instantiationMode=fe,this}setMultipleInstances(fe){return this.multipleInstances=fe,this}setServiceProps(fe){return this.serviceProps=fe,this}setInstanceCreatedCallback(fe){return this.onInstanceCreated=fe,this}}const ye="[DEFAULT]";class be{constructor(fe,ge){this.name=fe,this.container=ge,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(fe){const ge=this.normalizeInstanceIdentifier(fe);if(!this.instancesDeferred.has(ge)){const ve=new j.BH;if(this.instancesDeferred.set(ge,ve),this.isInitialized(ge)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:ge});je&&ve.resolve(je)}catch{}}return this.instancesDeferred.get(ge).promise}getImmediate(fe){var ge;const ve=this.normalizeInstanceIdentifier(fe?.identifier),je=null!==(ge=fe?.optional)&&void 0!==ge&&ge;if(!this.isInitialized(ve)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ve})}catch(nt){if(je)return null;throw nt}}getComponent(){return this.component}setComponent(fe){if(fe.name!==this.name)throw Error(`Mismatching Component ${fe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=fe,this.shouldAutoInitialize()){if(function Ne(Se){return"EAGER"===Se.instantiationMode}(fe))try{this.getOrInitializeService({instanceIdentifier:ye})}catch{}for(const[ge,ve]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(ge);try{const nt=this.getOrInitializeService({instanceIdentifier:je});ve.resolve(nt)}catch{}}}}clearInstance(fe=ye){this.instancesDeferred.delete(fe),this.instancesOptions.delete(fe),this.instances.delete(fe)}delete(){var fe=this;return(0,w.Z)(function*(){const ge=Array.from(fe.instances.values());yield Promise.all([...ge.filter(ve=>"INTERNAL"in ve).map(ve=>ve.INTERNAL.delete()),...ge.filter(ve=>"_delete"in ve).map(ve=>ve._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(fe=ye){return this.instances.has(fe)}getOptions(fe=ye){return this.instancesOptions.get(fe)||{}}initialize(fe={}){const{options:ge={}}=fe,ve=this.normalizeInstanceIdentifier(fe.instanceIdentifier);if(this.isInitialized(ve))throw Error(`${this.name}(${ve}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:ve,options:ge});for(const[nt,St]of this.instancesDeferred.entries())ve===this.normalizeInstanceIdentifier(nt)&&St.resolve(je);return je}onInit(fe,ge){var ve;const je=this.normalizeInstanceIdentifier(ge),nt=null!==(ve=this.onInitCallbacks.get(je))&&void 0!==ve?ve:new Set;nt.add(fe),this.onInitCallbacks.set(je,nt);const St=this.instances.get(je);return St&&fe(St,je),()=>{nt.delete(fe)}}invokeOnInitCallbacks(fe,ge){const ve=this.onInitCallbacks.get(ge);if(ve)for(const je of ve)try{je(fe,ge)}catch{}}getOrInitializeService({instanceIdentifier:fe,options:ge={}}){let ve=this.instances.get(fe);if(!ve&&this.component&&(ve=this.component.instanceFactory(this.container,{instanceIdentifier:(Se=fe,Se===ye?void 0:Se),options:ge}),this.instances.set(fe,ve),this.instancesOptions.set(fe,ge),this.invokeOnInitCallbacks(ve,fe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,fe,ve)}catch{}var Se;return ve||null}normalizeInstanceIdentifier(fe=ye){return this.component?this.component.multipleInstances?fe:ye:fe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class me{constructor(fe){this.name=fe,this.providers=new Map}addComponent(fe){const ge=this.getProvider(fe.name);if(ge.isComponentSet())throw new Error(`Component ${fe.name} has already been registered with ${this.name}`);ge.setComponent(fe)}addOrOverwriteComponent(fe){this.getProvider(fe.name).isComponentSet()&&this.providers.delete(fe.name),this.addComponent(fe)}getProvider(fe){if(this.providers.has(fe))return this.providers.get(fe);const ge=new be(fe,this);return this.providers.set(fe,ge),ge}getProviders(){return Array.from(this.providers.values())}}},1877:(Qt,Ye,U)=>{"use strict";U.d(Ye,{Am:()=>Se,Ub:()=>me,Yd:()=>Ne,in:()=>j});const w=[];var j=(()=>{return(fe=j||(j={}))[fe.DEBUG=0]="DEBUG",fe[fe.VERBOSE=1]="VERBOSE",fe[fe.INFO=2]="INFO",fe[fe.WARN=3]="WARN",fe[fe.ERROR=4]="ERROR",fe[fe.SILENT=5]="SILENT",j;var fe})();const h={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},ye=j.INFO,be={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},ne=(fe,ge,...ve)=>{if(ge<fe.logLevel)return;const je=(new Date).toISOString(),nt=be[ge];if(!nt)throw new Error(`Attempted to log a message with an invalid logType (value: ${ge})`);console[nt](`[${je}]  ${fe.name}:`,...ve)};class Ne{constructor(ge){this.name=ge,this._logLevel=ye,this._logHandler=ne,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(ge){if(!(ge in j))throw new TypeError(`Invalid value "${ge}" assigned to \`logLevel\``);this._logLevel=ge}setLogLevel(ge){this._logLevel="string"==typeof ge?h[ge]:ge}get logHandler(){return this._logHandler}set logHandler(ge){if("function"!=typeof ge)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ge}get userLogHandler(){return this._userLogHandler}set userLogHandler(ge){this._userLogHandler=ge}debug(...ge){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...ge),this._logHandler(this,j.DEBUG,...ge)}log(...ge){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...ge),this._logHandler(this,j.VERBOSE,...ge)}info(...ge){this._userLogHandler&&this._userLogHandler(this,j.INFO,...ge),this._logHandler(this,j.INFO,...ge)}warn(...ge){this._userLogHandler&&this._userLogHandler(this,j.WARN,...ge),this._logHandler(this,j.WARN,...ge)}error(...ge){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...ge),this._logHandler(this,j.ERROR,...ge)}}function me(fe){w.forEach(ge=>{ge.setLogLevel(fe)})}function Se(fe,ge){for(const ve of w){let je=null;ge&&ge.level&&(je=h[ge.level]),ve.userLogHandler=null===fe?null:(nt,St,...Ut)=>{const tt=Ut.map(ut=>{if(null==ut)return null;if("string"==typeof ut)return ut;if("number"==typeof ut||"boolean"==typeof ut)return ut.toString();if(ut instanceof Error)return ut.message;try{return JSON.stringify(ut)}catch{return null}}).filter(ut=>ut).join(" ");St>=(je??nt.logLevel)&&fe({level:j[St].toLowerCase(),message:tt,args:Ut,type:nt.name})}}}},259:(Qt,Ye,U)=>{"use strict";U.d(Ye,{C6:()=>w.getApps,KN:()=>w.registerVersion,Mq:()=>w.getApp,ZF:()=>w.initializeApp});var w=U(6881);(0,w.registerVersion)("firebase","9.22.1","app")},9260:(Qt,Ye,U)=>{"use strict";U.d(Ye,{Z:()=>w.Z});var w=U(3942);w.Z.registerVersion("firebase","9.22.1","app-compat")},9568:(Qt,Ye,U)=>{"use strict";U.r(Ye);var w=U(5861),j=U(3942),h=U(1389),ye=U(2090),Ne=(U(6881),U(1877),U(4859));function me(){return window}const Se=2e3;function ge(){return ge=(0,w.Z)(function*(X,oe,ee){var ke;const{BuildInfo:_e}=me();(0,h.as)(oe.sessionId,"AuthEvent did not contain a session ID");const Ce=yield function ut(X){return xe.apply(this,arguments)}(oe.sessionId),ue={};return(0,h.at)()?ue.ibi=_e.packageName:(0,h.au)()?ue.apn=_e.packageName:(0,h.av)(X,"operation-not-supported-in-this-environment"),_e.displayName&&(ue.appDisplayName=_e.displayName),ue.sessionId=Ce,(0,h.aw)(X,ee,oe.type,void 0,null!==(ke=oe.eventId)&&void 0!==ke?ke:void 0,ue)}),ge.apply(this,arguments)}function je(){return(je=(0,w.Z)(function*(X){const{BuildInfo:oe}=me(),ee={};(0,h.at)()?ee.iosBundleId=oe.packageName:(0,h.au)()?ee.androidPackageName=oe.packageName:(0,h.av)(X,"operation-not-supported-in-this-environment"),yield(0,h.ax)(X,ee)})).apply(this,arguments)}function Ut(){return(Ut=(0,w.Z)(function*(X,oe,ee){const{cordova:ke}=me();let _e=()=>{};try{yield new Promise((Ce,ue)=>{let Oe=null;function dt(){var cn;Ce();const Wn=null===(cn=ke.plugins.browsertab)||void 0===cn?void 0:cn.close;"function"==typeof Wn&&Wn(),"function"==typeof ee?.close&&ee.close()}function Rt(){Oe||(Oe=window.setTimeout(()=>{ue((0,h.az)(X,"redirect-cancelled-by-user"))},Se))}function Zt(){"visible"===document?.visibilityState&&Rt()}oe.addPassiveListener(dt),document.addEventListener("resume",Rt,!1),(0,h.au)()&&document.addEventListener("visibilitychange",Zt,!1),_e=()=>{oe.removePassiveListener(dt),document.removeEventListener("resume",Rt,!1),document.removeEventListener("visibilitychange",Zt,!1),Oe&&window.clearTimeout(Oe)}})}finally{_e()}})).apply(this,arguments)}function xe(){return(xe=(0,w.Z)(function*(X){const oe=function ot(X){if((0,h.as)(/[0-9a-zA-Z]+/.test(X),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(X);const oe=new ArrayBuffer(X.length),ee=new Uint8Array(oe);for(let ke=0;ke<X.length;ke++)ee[ke]=X.charCodeAt(ke);return ee}(X),ee=yield crypto.subtle.digest("SHA-256",oe);return Array.from(new Uint8Array(ee)).map(_e=>_e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Ge=20;class Le extends h.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(oe=>{this.resolveInialized=oe})}addPassiveListener(oe){this.passiveListeners.add(oe)}removePassiveListener(oe){this.passiveListeners.delete(oe)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(oe){return this.resolveInialized(),this.passiveListeners.forEach(ee=>ee(oe)),super.onEvent(oe)}initialized(){var oe=this;return(0,w.Z)(function*(){yield oe.initPromise})()}}function It(X){return ze.apply(this,arguments)}function ze(){return(ze=(0,w.Z)(function*(X){const oe=yield Vt()._get(ln(X));return oe&&(yield Vt()._remove(ln(X))),oe})).apply(this,arguments)}function Wt(){const X=[],oe="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ee=0;ee<Ge;ee++){const ke=Math.floor(Math.random()*oe.length);X.push(oe.charAt(ke))}return X.join("")}function Vt(){return(0,h.aC)(h.b)}function ln(X){return(0,h.aD)("authEvent",X.config.apiKey,X.name)}function at(X){if(!X?.includes("?"))return{};const[oe,...ee]=X.split("?");return(0,ye.zd)(ee.join("?"))}const gt=class ct{constructor(){this._redirectPersistence=h.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=h.aE,this._overrideRedirectResult=h.aF}_initialize(oe){var ee=this;return(0,w.Z)(function*(){const ke=oe._key();let _e=ee.eventManagers.get(ke);return _e||(_e=new Le(oe),ee.eventManagers.set(ke,_e),ee.attachCallbackListeners(oe,_e)),_e})()}_openPopup(oe){(0,h.av)(oe,"operation-not-supported-in-this-environment")}_openRedirect(oe,ee,ke,_e){var Ce=this;return(0,w.Z)(function*(){!function tt(X){var oe,ee,ke,_e,Ce,ue,Oe,dt,Rt,Zt;const cn=me();(0,h.aA)("function"==typeof(null===(oe=cn?.universalLinks)||void 0===oe?void 0:oe.subscribe),X,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,h.aA)(typeof(null===(ee=cn?.BuildInfo)||void 0===ee?void 0:ee.packageName)<"u",X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,h.aA)("function"==typeof(null===(Ce=null===(_e=null===(ke=cn?.cordova)||void 0===ke?void 0:ke.plugins)||void 0===_e?void 0:_e.browsertab)||void 0===Ce?void 0:Ce.openUrl),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,h.aA)("function"==typeof(null===(dt=null===(Oe=null===(ue=cn?.cordova)||void 0===ue?void 0:ue.plugins)||void 0===Oe?void 0:Oe.browsertab)||void 0===dt?void 0:dt.isAvailable),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,h.aA)("function"==typeof(null===(Zt=null===(Rt=cn?.cordova)||void 0===Rt?void 0:Rt.InAppBrowser)||void 0===Zt?void 0:Zt.open),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(oe);const ue=yield Ce._initialize(oe);yield ue.initialized(),ue.resetRedirect(),(0,h.aG)(),yield Ce._originValidation(oe);const Oe=function Qe(X,oe,ee=null){return{type:oe,eventId:ee,urlResponse:null,sessionId:Wt(),postBody:null,tenantId:X.tenantId,error:(0,h.az)(X,"no-auth-event")}}(oe,ke,_e);yield function Mt(X,oe){return Vt()._set(ln(X),oe)}(oe,Oe);const dt=yield function fe(X,oe,ee){return ge.apply(this,arguments)}(oe,Oe,ee),Rt=yield function nt(X){const{cordova:oe}=me();return new Promise(ee=>{oe.plugins.browsertab.isAvailable(ke=>{let _e=null;ke?oe.plugins.browsertab.openUrl(X):_e=oe.InAppBrowser.open(X,(0,h.ay)()?"_blank":"_system","location=yes"),ee(_e)})})}(dt);return function St(X,oe,ee){return Ut.apply(this,arguments)}(oe,ue,Rt)})()}_isIframeWebStorageSupported(oe,ee){throw new Error("Method not implemented.")}_originValidation(oe){const ee=oe._key();return this.originValidationPromises[ee]||(this.originValidationPromises[ee]=function ve(X){return je.apply(this,arguments)}(oe)),this.originValidationPromises[ee]}attachCallbackListeners(oe,ee){const{universalLinks:ke,handleOpenURL:_e,BuildInfo:Ce}=me(),ue=setTimeout((0,w.Z)(function*(){yield It(oe),ee.onEvent(rt())}),500),Oe=function(){var Zt=(0,w.Z)(function*(cn){clearTimeout(ue);const Wn=yield It(oe);let xr=null;Wn&&cn?.url&&(xr=function Bt(X,oe){var ee,ke;const _e=function Pr(X){const oe=at(X),ee=oe.link?decodeURIComponent(oe.link):void 0,ke=at(ee).link,_e=oe.deep_link_id?decodeURIComponent(oe.deep_link_id):void 0;return at(_e).link||_e||ke||ee||X}(oe);if(_e.includes("/__/auth/callback")){const Ce=at(_e),ue=Ce.firebaseError?function Gt(X){try{return JSON.parse(X)}catch{return null}}(decodeURIComponent(Ce.firebaseError)):null,Oe=null===(ke=null===(ee=ue?.code)||void 0===ee?void 0:ee.split("auth/"))||void 0===ke?void 0:ke[1],dt=Oe?(0,h.az)(Oe):null;return dt?{type:X.type,eventId:X.eventId,tenantId:X.tenantId,error:dt,urlResponse:null,sessionId:null,postBody:null}:{type:X.type,eventId:X.eventId,tenantId:X.tenantId,sessionId:X.sessionId,urlResponse:_e,postBody:null}}return null}(Wn,cn.url)),ee.onEvent(xr||rt())});return function(Wn){return Zt.apply(this,arguments)}}();typeof ke<"u"&&"function"==typeof ke.subscribe&&ke.subscribe(null,Oe);const dt=_e,Rt=`${Ce.packageName.toLowerCase()}://`;me().handleOpenURL=function(){var Zt=(0,w.Z)(function*(cn){if(cn.toLowerCase().startsWith(Rt)&&Oe({url:cn}),"function"==typeof dt)try{dt(cn)}catch(Wn){console.error(Wn)}});return function(cn){return Zt.apply(this,arguments)}}()}};function rt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,h.az)("no-auth-event")}}const En=1e3;function _t(){var X;return(null===(X=self?.location)||void 0===X?void 0:X.protocol)||null}function zn(X=(0,ye.z$)()){return!("file:"!==_t()&&"ionic:"!==_t()&&"capacitor:"!==_t()||!X.toLowerCase().match(/iphone|ipad|ipod|android/))}function fr(){try{const X=self.localStorage,oe=h.aL();if(X)return X.setItem(oe,"1"),X.removeItem(oe),!function Gn(X=(0,ye.z$)()){return function er(){return(0,ye.w1)()&&11===document?.documentMode}()||function Or(X=(0,ye.z$)()){return/Edge\/\d+/.test(X)}(X)}()||(0,ye.hl)()}catch{return yr()&&(0,ye.hl)()}return!1}function yr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Vr(){return(function zt(){return"http:"===_t()||"https:"===_t()}()||(0,ye.ru)()||zn())&&!function Rn(){return(0,ye.b$)()||(0,ye.UG)()}()&&fr()&&!yr()}function Nn(){return zn()&&typeof document<"u"}function An(){return(An=(0,w.Z)(function*(){return!!Nn()&&new Promise(X=>{const oe=setTimeout(()=>{X(!1)},En);document.addEventListener("deviceready",()=>{clearTimeout(oe),X(!0)})})})).apply(this,arguments)}const Pn={LOCAL:"local",NONE:"none",SESSION:"session"},Ir=h.aA,Ar="persistence";function mr(X){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,w.Z)(function*(X){yield X._initializationPromise;const oe=an(),ee=h.aD(Ar,X.config.apiKey,X.name);oe&&oe.setItem(ee,X._getPersistence())})).apply(this,arguments)}function an(){var X;try{return(null===(X=function Kt(){return typeof window<"u"?window:null}())||void 0===X?void 0:X.sessionStorage)||null}catch{return null}}const In=h.aA;class kn{constructor(){this.browserResolver=h.aC(h.k),this.cordovaResolver=h.aC(gt),this.underlyingResolver=null,this._redirectPersistence=h.a,this._completeRedirectFn=h.aE,this._overrideRedirectResult=h.aF}_initialize(oe){var ee=this;return(0,w.Z)(function*(){return yield ee.selectUnderlyingResolver(),ee.assertedUnderlyingResolver._initialize(oe)})()}_openPopup(oe,ee,ke,_e){var Ce=this;return(0,w.Z)(function*(){return yield Ce.selectUnderlyingResolver(),Ce.assertedUnderlyingResolver._openPopup(oe,ee,ke,_e)})()}_openRedirect(oe,ee,ke,_e){var Ce=this;return(0,w.Z)(function*(){return yield Ce.selectUnderlyingResolver(),Ce.assertedUnderlyingResolver._openRedirect(oe,ee,ke,_e)})()}_isIframeWebStorageSupported(oe,ee){this.assertedUnderlyingResolver._isIframeWebStorageSupported(oe,ee)}_originValidation(oe){return this.assertedUnderlyingResolver._originValidation(oe)}get _shouldInitProactively(){return Nn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return In(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var oe=this;return(0,w.Z)(function*(){if(oe.underlyingResolver)return;const ee=yield function $n(){return An.apply(this,arguments)}();oe.underlyingResolver=ee?oe.cordovaResolver:oe.browserResolver})()}}function yn(X){return X.unwrap()}function hi(X){return ri(X)}function ri(X){const{_tokenResponse:oe}=X instanceof ye.ZR?X.customData:X;if(!oe)return null;if(!(X instanceof ye.ZR)&&"temporaryProof"in oe&&"phoneNumber"in oe)return h.P.credentialFromResult(X);const ee=oe.providerId;if(!ee||ee===h.p.PASSWORD)return null;let ke;switch(ee){case h.p.GOOGLE:ke=h.V;break;case h.p.FACEBOOK:ke=h.U;break;case h.p.GITHUB:ke=h.W;break;case h.p.TWITTER:ke=h.Z;break;default:const{oauthIdToken:_e,oauthAccessToken:Ce,oauthTokenSecret:ue,pendingToken:Oe,nonce:dt}=oe;return Ce||ue||_e||Oe?Oe?ee.startsWith("saml.")?h.aO._create(ee,Oe):h.L._fromParams({providerId:ee,signInMethod:ee,pendingToken:Oe,idToken:_e,accessToken:Ce}):new h.X(ee).credential({idToken:_e,accessToken:Ce,rawNonce:dt}):null}return X instanceof ye.ZR?ke.credentialFromError(X):ke.credentialFromResult(X)}function Un(X,oe){return oe.catch(ee=>{throw ee instanceof ye.ZR&&function pr(X,oe){var ee;const ke=null===(ee=oe.customData)||void 0===ee?void 0:ee._tokenResponse;if("auth/multi-factor-auth-required"===oe?.code)oe.resolver=new vr(X,h.aq(X,oe));else if(ke){const _e=ri(oe),Ce=oe;_e&&(Ce.credential=_e,Ce.tenantId=ke.tenantId||void 0,Ce.email=ke.email||void 0,Ce.phoneNumber=ke.phoneNumber||void 0)}}(X,ee),ee}).then(ee=>{const _e=ee.user;return{operationType:ee.operationType,credential:hi(ee),additionalUserInfo:h.ao(ee),user:vn.getOrCreate(_e)}})}function pi(X,oe){return ir.apply(this,arguments)}function ir(){return(ir=(0,w.Z)(function*(X,oe){const ee=yield oe;return{verificationId:ee.verificationId,confirm:ke=>Un(X,ee.confirm(ke))}})).apply(this,arguments)}class vr{constructor(oe,ee){this.resolver=ee,this.auth=function Cr(X){return X.wrapped()}(oe)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(oe){return Un(yn(this.auth),this.resolver.resolveSignIn(oe))}}class vn{constructor(oe){this._delegate=oe,this.multiFactor=h.ar(oe)}static getOrCreate(oe){return vn.USER_MAP.has(oe)||vn.USER_MAP.set(oe,new vn(oe)),vn.USER_MAP.get(oe)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(oe){return this._delegate.getIdTokenResult(oe)}getIdToken(oe){return this._delegate.getIdToken(oe)}linkAndRetrieveDataWithCredential(oe){return this.linkWithCredential(oe)}linkWithCredential(oe){var ee=this;return(0,w.Z)(function*(){return Un(ee.auth,h.a0(ee._delegate,oe))})()}linkWithPhoneNumber(oe,ee){var ke=this;return(0,w.Z)(function*(){return pi(ke.auth,h.l(ke._delegate,oe,ee))})()}linkWithPopup(oe){var ee=this;return(0,w.Z)(function*(){return Un(ee.auth,h.d(ee._delegate,oe,kn))})()}linkWithRedirect(oe){var ee=this;return(0,w.Z)(function*(){return yield mr(h.aH(ee.auth)),h.g(ee._delegate,oe,kn)})()}reauthenticateAndRetrieveDataWithCredential(oe){return this.reauthenticateWithCredential(oe)}reauthenticateWithCredential(oe){var ee=this;return(0,w.Z)(function*(){return Un(ee.auth,h.a1(ee._delegate,oe))})()}reauthenticateWithPhoneNumber(oe,ee){return pi(this.auth,h.r(this._delegate,oe,ee))}reauthenticateWithPopup(oe){return Un(this.auth,h.e(this._delegate,oe,kn))}reauthenticateWithRedirect(oe){var ee=this;return(0,w.Z)(function*(){return yield mr(h.aH(ee.auth)),h.h(ee._delegate,oe,kn)})()}sendEmailVerification(oe){return h.ae(this._delegate,oe)}unlink(oe){var ee=this;return(0,w.Z)(function*(){return yield h.an(ee._delegate,oe),ee})()}updateEmail(oe){return h.aj(this._delegate,oe)}updatePassword(oe){return h.ak(this._delegate,oe)}updatePhoneNumber(oe){return h.u(this._delegate,oe)}updateProfile(oe){return h.ai(this._delegate,oe)}verifyBeforeUpdateEmail(oe,ee){return h.af(this._delegate,oe,ee)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}vn.USER_MAP=new WeakMap;const bt=h.aA;let re=(()=>{class X{constructor(ee,ke){if(this.app=ee,ke.isInitialized())return this._delegate=ke.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_e}=ee.options;bt(_e,"invalid-api-key",{appName:ee.name}),bt(_e,"invalid-api-key",{appName:ee.name});const Ce=typeof window<"u"?kn:void 0;this._delegate=ke.initialize({options:{persistence:lt(_e,ee.name),popupRedirectResolver:Ce}}),this._delegate._updateErrorMap(h.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?vn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ee){this._delegate.languageCode=ee}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ee){this._delegate.tenantId=ee}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ee,ke){h.I(this._delegate,ee,ke)}applyActionCode(ee){return h.a5(this._delegate,ee)}checkActionCode(ee){return h.a6(this._delegate,ee)}confirmPasswordReset(ee,ke){return h.a4(this._delegate,ee,ke)}createUserWithEmailAndPassword(ee,ke){var _e=this;return(0,w.Z)(function*(){return Un(_e._delegate,h.a8(_e._delegate,ee,ke))})()}fetchProvidersForEmail(ee){return this.fetchSignInMethodsForEmail(ee)}fetchSignInMethodsForEmail(ee){return h.ad(this._delegate,ee)}isSignInWithEmailLink(ee){return h.ab(this._delegate,ee)}getRedirectResult(){var ee=this;return(0,w.Z)(function*(){bt(Vr(),ee._delegate,"operation-not-supported-in-this-environment");const ke=yield h.j(ee._delegate,kn);return ke?Un(ee._delegate,Promise.resolve(ke)):{credential:null,user:null}})()}addFrameworkForLogging(ee){!function Xe(X,oe){(0,h.aH)(X)._logFramework(oe)}(this._delegate,ee)}onAuthStateChanged(ee,ke,_e){const{next:Ce,error:ue,complete:Oe}=Ie(ee,ke,_e);return this._delegate.onAuthStateChanged(Ce,ue,Oe)}onIdTokenChanged(ee,ke,_e){const{next:Ce,error:ue,complete:Oe}=Ie(ee,ke,_e);return this._delegate.onIdTokenChanged(Ce,ue,Oe)}sendSignInLinkToEmail(ee,ke){return h.aa(this._delegate,ee,ke)}sendPasswordResetEmail(ee,ke){return h.a3(this._delegate,ee,ke||void 0)}setPersistence(ee){var ke=this;return(0,w.Z)(function*(){let _e;switch(function $r(X,oe){Ir(Object.values(Pn).includes(oe),X,"invalid-persistence-type"),(0,ye.b$)()?Ir(oe!==Pn.SESSION,X,"unsupported-persistence-type"):(0,ye.UG)()?Ir(oe===Pn.NONE,X,"unsupported-persistence-type"):yr()?Ir(oe===Pn.NONE||oe===Pn.LOCAL&&(0,ye.hl)(),X,"unsupported-persistence-type"):Ir(oe===Pn.NONE||fr(),X,"unsupported-persistence-type")}(ke._delegate,ee),ee){case Pn.SESSION:_e=h.a;break;case Pn.LOCAL:_e=(yield h.aC(h.i)._isAvailable())?h.i:h.b;break;case Pn.NONE:_e=h.N;break;default:return h.av("argument-error",{appName:ke._delegate.name})}return ke._delegate.setPersistence(_e)})()}signInAndRetrieveDataWithCredential(ee){return this.signInWithCredential(ee)}signInAnonymously(){return Un(this._delegate,h._(this._delegate))}signInWithCredential(ee){return Un(this._delegate,h.$(this._delegate,ee))}signInWithCustomToken(ee){return Un(this._delegate,h.a2(this._delegate,ee))}signInWithEmailAndPassword(ee,ke){return Un(this._delegate,h.a9(this._delegate,ee,ke))}signInWithEmailLink(ee,ke){return Un(this._delegate,h.ac(this._delegate,ee,ke))}signInWithPhoneNumber(ee,ke){return pi(this._delegate,h.s(this._delegate,ee,ke))}signInWithPopup(ee){var ke=this;return(0,w.Z)(function*(){return bt(Vr(),ke._delegate,"operation-not-supported-in-this-environment"),Un(ke._delegate,h.c(ke._delegate,ee,kn))})()}signInWithRedirect(ee){var ke=this;return(0,w.Z)(function*(){return bt(Vr(),ke._delegate,"operation-not-supported-in-this-environment"),yield mr(ke._delegate),h.f(ke._delegate,ee,kn)})()}updateCurrentUser(ee){return this._delegate.updateCurrentUser(ee)}verifyPasswordResetCode(ee){return h.a7(this._delegate,ee)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return X.Persistence=Pn,X})();function Ie(X,oe,ee){let ke=X;"function"!=typeof X&&({next:ke,error:oe,complete:ee}=X);const _e=ke;return{next:ue=>_e(ue&&vn.getOrCreate(ue)),error:oe,complete:ee}}function lt(X,oe){const ee=function Ln(X,oe){const ee=an();if(!ee)return[];const ke=h.aD(Ar,X,oe);switch(ee.getItem(ke)){case Pn.NONE:return[h.N];case Pn.LOCAL:return[h.i,h.a];case Pn.SESSION:return[h.a];default:return[]}}(X,oe);if(typeof self<"u"&&!ee.includes(h.i)&&ee.push(h.i),typeof window<"u")for(const ke of[h.b,h.a])ee.includes(ke)||ee.push(ke);return ee.includes(h.N)||ee.push(h.N),ee}class qt{constructor(){this.providerId="phone",this._delegate=new h.P(yn(j.Z.auth()))}static credential(oe,ee){return h.P.credential(oe,ee)}verifyPhoneNumber(oe,ee){return this._delegate.verifyPhoneNumber(oe,ee)}unwrap(){return this._delegate}}qt.PHONE_SIGN_IN_METHOD=h.P.PHONE_SIGN_IN_METHOD,qt.PROVIDER_ID=h.P.PROVIDER_ID;const wt=h.aA;class Me{constructor(oe,ee,ke=j.Z.app()){var _e;wt(null===(_e=ke.options)||void 0===_e?void 0:_e.apiKey,"invalid-api-key",{appName:ke.name}),this._delegate=new h.R(oe,ee,ke.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function se(X){X.INTERNAL.registerComponent(new Ne.wA("auth-compat",oe=>{const ee=oe.getProvider("app-compat").getImmediate(),ke=oe.getProvider("auth");return new re(ee,ke)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:h.A.EMAIL_SIGNIN,PASSWORD_RESET:h.A.PASSWORD_RESET,RECOVER_EMAIL:h.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:h.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:h.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:h.A.VERIFY_EMAIL}},EmailAuthProvider:h.Q,FacebookAuthProvider:h.U,GithubAuthProvider:h.W,GoogleAuthProvider:h.V,OAuthProvider:h.X,SAMLAuthProvider:h.Y,PhoneAuthProvider:qt,PhoneMultiFactorGenerator:h.m,RecaptchaVerifier:Me,TwitterAuthProvider:h.Z,Auth:re,AuthCredential:h.J,Error:ye.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),X.registerVersion("@firebase/auth-compat","0.4.2")}(j.Z)},5861:(Qt,Ye,U)=>{"use strict";function w(h,ye,be,ne,Ne,me,Se){try{var fe=h[me](Se),ge=fe.value}catch(ve){return void be(ve)}fe.done?ye(ge):Promise.resolve(ge).then(ne,Ne)}function j(h){return function(){var ye=this,be=arguments;return new Promise(function(ne,Ne){var me=h.apply(ye,be);function Se(ge){w(me,ne,Ne,Se,fe,"next",ge)}function fe(ge){w(me,ne,Ne,Se,fe,"throw",ge)}Se(void 0)})}}U.d(Ye,{Z:()=>j})},7582:(Qt,Ye,U)=>{"use strict";function ye(at,Je){var ct={};for(var gt in at)Object.prototype.hasOwnProperty.call(at,gt)&&Je.indexOf(gt)<0&&(ct[gt]=at[gt]);if(null!=at&&"function"==typeof Object.getOwnPropertySymbols){var rt=0;for(gt=Object.getOwnPropertySymbols(at);rt<gt.length;rt++)Je.indexOf(gt[rt])<0&&Object.prototype.propertyIsEnumerable.call(at,gt[rt])&&(ct[gt[rt]]=at[gt[rt]])}return ct}function ve(at,Je,ct,gt){return new(ct||(ct=Promise))(function(Xe,Ve){function mt(zt){try{_t(gt.next(zt))}catch(zn){Ve(zn)}}function En(zt){try{_t(gt.throw(zt))}catch(zn){Ve(zn)}}function _t(zt){zt.done?Xe(zt.value):function rt(Xe){return Xe instanceof ct?Xe:new ct(function(Ve){Ve(Xe)})}(zt.value).then(mt,En)}_t((gt=gt.apply(at,Je||[])).next())})}function Ge(at){return this instanceof Ge?(this.v=at,this):new Ge(at)}function Le(at,Je,ct){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var rt,gt=ct.apply(at,Je||[]),Xe=[];return rt={},Ve("next"),Ve("throw"),Ve("return"),rt[Symbol.asyncIterator]=function(){return this},rt;function Ve(Rn){gt[Rn]&&(rt[Rn]=function(er){return new Promise(function(Or,Gn){Xe.push([Rn,er,Or,Gn])>1||mt(Rn,er)})})}function mt(Rn,er){try{!function En(Rn){Rn.value instanceof Ge?Promise.resolve(Rn.value.v).then(_t,zt):zn(Xe[0][2],Rn)}(gt[Rn](er))}catch(Or){zn(Xe[0][3],Or)}}function _t(Rn){mt("next",Rn)}function zt(Rn){mt("throw",Rn)}function zn(Rn,er){Rn(er),Xe.shift(),Xe.length&&mt(Xe[0][0],Xe[0][1])}}function Mt(at){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ct,Je=at[Symbol.asyncIterator];return Je?Je.call(at):(at=function Ut(at){var Je="function"==typeof Symbol&&Symbol.iterator,ct=Je&&at[Je],gt=0;if(ct)return ct.call(at);if(at&&"number"==typeof at.length)return{next:function(){return at&&gt>=at.length&&(at=void 0),{value:at&&at[gt++],done:!at}}};throw new TypeError(Je?"Object is not iterable.":"Symbol.iterator is not defined.")}(at),ct={},gt("next"),gt("throw"),gt("return"),ct[Symbol.asyncIterator]=function(){return this},ct);function gt(Xe){ct[Xe]=at[Xe]&&function(Ve){return new Promise(function(mt,En){!function rt(Xe,Ve,mt,En){Promise.resolve(En).then(function(_t){Xe({value:_t,done:mt})},Ve)}(mt,En,(Ve=at[Xe](Ve)).done,Ve.value)})}}}U.d(Ye,{FC:()=>Le,KL:()=>Mt,_T:()=>ye,mG:()=>ve,qq:()=>Ge})}},Qt=>{Qt(Qt.s=1405)}]);