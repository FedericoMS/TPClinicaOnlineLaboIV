"use strict";(self.webpackChunkClinicaOnlineLaboIV=self.webpackChunkClinicaOnlineLaboIV||[]).push([[512],{6512:(di,h,s)=>{s.r(h),s.d(h,{TurnosModule:()=>li});var p=s(6895),f=s(9626),A=s(5698),t=s(4650),b=s(3071),C=s(9724),Z=s(7938),T=s(4006),w=s(9101);let y=(()=>{class o{transform(i){return i.slice().sort((e,n)=>e.especialidad.localeCompare(n.especialidad))}}return o.\u0275fac=function(i){return new(i||o)},o.\u0275pipe=t.Yjl({name:"ordenarPorEspecialidad",type:o,pure:!0}),o})(),E=(()=>{class o{transform(i){return i.slice().sort((e,n)=>e.especialista.localeCompare(n.especialista))}}return o.\u0275fac=function(i){return new(i||o)},o.\u0275pipe=t.Yjl({name:"ordenarPorEspecialista",type:o,pure:!0}),o})(),N=(()=>{class o{transform(i){return i.slice().sort((e,n)=>e.paciente.localeCompare(n.paciente))}}return o.\u0275fac=function(i){return new(i||o)},o.\u0275pipe=t.Yjl({name:"ordenarPorPaciente",type:o,pure:!0}),o})();function O(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",16),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalCancelacion(n,1,"admin"))}),t._uU(2,"Cancelar"),t.qZA()()}}function P(o,c){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"span",15),t._uU(11),t.qZA()(),t.YNc(12,O,3,0,"td",13),t.qZA()),2&o){const i=c.$implicit;t.xp6(2),t.Oqu(i.fecha),t.xp6(2),t.Oqu(i.hora),t.xp6(2),t.Oqu(i.especialidad),t.xp6(2),t.Oqu(i.especialista),t.xp6(3),t.hij(" ",i.estado," "),t.xp6(1),t.Q6J("ngIf","realizado"!=i.estado&&"rechazado"!=i.estado&&"aceptado"!=i.estado&&"cancelado"!=i.estado)}}function F(o,c){if(1&o&&(t.TgZ(0,"tbody"),t.YNc(1,P,13,6,"tr",14),t.qZA()),2&o){const i=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",i.turnosFiltrados)}}function U(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",16),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalCancelacion(n,1,"admin"))}),t._uU(2,"Cancelar"),t.qZA()()}}function J(o,c){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"span",15),t._uU(11),t.qZA()(),t.YNc(12,U,3,0,"td",13),t.qZA()),2&o){const i=c.$implicit;t.xp6(2),t.Oqu(i.fecha),t.xp6(2),t.Oqu(i.hora),t.xp6(2),t.Oqu(i.especialidad),t.xp6(2),t.Oqu(i.especialista),t.xp6(3),t.hij(" ",i.estado," "),t.xp6(1),t.Q6J("ngIf","realizado"!=i.estado&&"rechazado"!=i.estado&&"aceptado"!=i.estado&&"cancelado"!=i.estado)}}function k(o,c){if(1&o&&(t.TgZ(0,"tbody"),t.YNc(1,J,13,6,"tr",14),t.qZA()),2&o){const i=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",i.listaDeTurnos)}}function Y(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",16),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalCancelacion(n,1,"admin"))}),t._uU(2,"Cancelar"),t.qZA()()}}function I(o,c){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"span",15),t._uU(11),t.qZA()(),t.YNc(12,Y,3,0,"td",13),t.qZA()),2&o){const i=c.$implicit;t.xp6(2),t.Oqu(i.fecha),t.xp6(2),t.Oqu(i.hora),t.xp6(2),t.Oqu(i.especialidad),t.xp6(2),t.Oqu(i.especialista),t.xp6(3),t.hij(" ",i.estado," "),t.xp6(1),t.Q6J("ngIf","realizado"!=i.estado&&"rechazado"!=i.estado&&"aceptado"!=i.estado&&"cancelado"!=i.estado)}}function Q(o,c){if(1&o&&(t.TgZ(0,"tbody"),t.YNc(1,I,13,6,"tr",14),t.ALo(2,"ordenarPorEspecialidad"),t.qZA()),2&o){const i=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,i.listaDeTurnos))}}function H(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",16),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalCancelacion(n,1,"admin"))}),t._uU(2,"Cancelar"),t.qZA()()}}function S(o,c){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"span",15),t._uU(11),t.qZA()(),t.YNc(12,H,3,0,"td",13),t.qZA()),2&o){const i=c.$implicit;t.xp6(2),t.Oqu(i.fecha),t.xp6(2),t.Oqu(i.hora),t.xp6(2),t.Oqu(i.especialidad),t.xp6(2),t.Oqu(i.especialista),t.xp6(3),t.hij(" ",i.estado," "),t.xp6(1),t.Q6J("ngIf","realizado"!=i.estado&&"rechazado"!=i.estado&&"aceptado"!=i.estado&&"cancelado"!=i.estado)}}function z(o,c){if(1&o&&(t.TgZ(0,"tbody"),t.YNc(1,S,13,6,"tr",14),t.ALo(2,"ordenarPorEspecialista"),t.qZA()),2&o){const i=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,i.listaDeTurnos))}}function D(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"div",7)(1,"h1"),t._uU(2,"Gesti\xf3n de turnos de la cl\xednica"),t.qZA(),t.TgZ(3,"tr")(4,"td")(5,"h5"),t._uU(6,"Filtros: "),t.qZA()(),t.TgZ(7,"td")(8,"button",8),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.verPorEspecialidad())}),t._uU(9,"Por especialidad"),t.qZA()(),t.TgZ(10,"td")(11,"button",8),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.verPorEspecialista())}),t._uU(12,"Por especialista"),t.qZA()(),t.TgZ(13,"td")(14,"label",9),t._uU(15,"Buscar: "),t.qZA(),t.TgZ(16,"input",10),t.NdJ("ngModelChange",function(n){t.CHM(i);const a=t.oxw();return t.KtG(a.palabraFiltro=n)})("keyup",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.filtrarPorPalabra(n.listaDeTurnos))}),t.qZA()()(),t.TgZ(17,"table",11)(18,"thead")(19,"tr")(20,"th",12),t._uU(21,"Fecha"),t.qZA(),t.TgZ(22,"th",12),t._uU(23,"Hora"),t.qZA(),t.TgZ(24,"th",12),t._uU(25,"Especialidad"),t.qZA(),t.TgZ(26,"th",12),t._uU(27,"Profesional"),t.qZA(),t.TgZ(28,"th",12),t._uU(29,"Estado"),t.qZA(),t.TgZ(30,"th",12),t._uU(31,"Acci\xf3n"),t.qZA()()(),t.YNc(32,F,2,1,"tbody",13),t.YNc(33,k,2,1,"tbody",13),t.YNc(34,Q,3,3,"tbody",13),t.YNc(35,z,3,3,"tbody",13),t.qZA()()}if(2&o){const i=t.oxw();t.xp6(16),t.Q6J("ngModel",i.palabraFiltro),t.xp6(16),t.Q6J("ngIf",""!=i.palabraFiltro),t.xp6(1),t.Q6J("ngIf",0==i.filtroEspecialidad&&0==i.filtroEspecialista&&""==i.palabraFiltro),t.xp6(1),t.Q6J("ngIf",1==i.filtroEspecialidad&&""==i.palabraFiltro),t.xp6(1),t.Q6J("ngIf",1==i.filtroEspecialista&&""==i.palabraFiltro)}}function $(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",16),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalCancelacion(n,1,"paciente"))}),t._uU(2,"Cancelar"),t.qZA()()}}function K(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",18),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.verResenia(n.resenia))}),t._uU(2,"Ver rese\xf1a"),t.qZA()()}}function G(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",18),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalCalificacion(n,"paciente"))}),t._uU(2,"Calificar atenci\xf3n"),t.qZA()()}}function j(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",18),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalEncuesta(n,"paciente"))}),t._uU(2,"Completar encuesta"),t.qZA()()}}function L(o,c){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"span",15),t._uU(11),t.qZA()(),t.YNc(12,$,3,0,"td",13),t.YNc(13,K,3,0,"td",13),t.YNc(14,G,3,0,"td",13),t.YNc(15,j,3,0,"td",13),t.qZA()),2&o){const i=c.$implicit;t.xp6(2),t.Oqu(i.fecha),t.xp6(2),t.Oqu(i.hora),t.xp6(2),t.Oqu(i.especialidad),t.xp6(2),t.Oqu(i.especialista),t.xp6(3),t.Oqu(i.estado),t.xp6(1),t.Q6J("ngIf","realizado"!=i.estado&&"cancelado"!=i.estado),t.xp6(1),t.Q6J("ngIf",""!=i.resenia&&"realizado"==i.estado),t.xp6(1),t.Q6J("ngIf","realizado"==i.estado&&""==i.calificacion),t.xp6(1),t.Q6J("ngIf","realizado"==i.estado&&""!=i.resenia&&""==i.encuesta)}}function R(o,c){if(1&o&&(t.TgZ(0,"tbody"),t.YNc(1,L,16,9,"tr",14),t.qZA()),2&o){const i=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",i.turnosFiltrados)}}function B(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",16),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalCancelacion(n,1,"paciente"))}),t._uU(2,"Cancelar"),t.qZA()()}}function V(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",18),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.verResenia(n.resenia))}),t._uU(2,"Ver rese\xf1a"),t.qZA()()}}function W(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",18),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalCalificacion(n,"paciente"))}),t._uU(2,"Calificar atenci\xf3n"),t.qZA()()}}function X(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",18),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalEncuesta(n,"paciente"))}),t._uU(2,"Completar encuesta"),t.qZA()()}}function tt(o,c){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"span",15),t._uU(11),t.qZA()(),t.YNc(12,B,3,0,"td",13),t.YNc(13,V,3,0,"td",13),t.YNc(14,W,3,0,"td",13),t.YNc(15,X,3,0,"td",13),t.qZA()),2&o){const i=c.$implicit;t.xp6(2),t.Oqu(i.fecha),t.xp6(2),t.Oqu(i.hora),t.xp6(2),t.Oqu(i.especialidad),t.xp6(2),t.Oqu(i.especialista),t.xp6(3),t.Oqu(i.estado),t.xp6(1),t.Q6J("ngIf","realizado"!=i.estado&&"cancelado"!=i.estado),t.xp6(1),t.Q6J("ngIf",""!=i.resenia&&"realizado"==i.estado),t.xp6(1),t.Q6J("ngIf","realizado"==i.estado&&""==i.calificacion),t.xp6(1),t.Q6J("ngIf","realizado"==i.estado&&""!=i.resenia&&""==i.encuesta)}}function it(o,c){if(1&o&&(t.TgZ(0,"tbody"),t.YNc(1,tt,16,9,"tr",14),t.qZA()),2&o){const i=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",i.listaDeTurnosDelPaciente)}}function ot(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",16),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalCancelacion(n,1,"paciente"))}),t._uU(2,"Cancelar"),t.qZA()()}}function et(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",18),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.verResenia(n.resenia))}),t._uU(2,"Ver rese\xf1a"),t.qZA()()}}function nt(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",18),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalCalificacion(n,"paciente"))}),t._uU(2,"Calificar atenci\xf3n"),t.qZA()()}}function at(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",18),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalEncuesta(n,"paciente"))}),t._uU(2,"Completar encuesta"),t.qZA()()}}function ct(o,c){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"span",15),t._uU(11),t.qZA()(),t.YNc(12,ot,3,0,"td",13),t.YNc(13,et,3,0,"td",13),t.YNc(14,nt,3,0,"td",13),t.YNc(15,at,3,0,"td",13),t.qZA()),2&o){const i=c.$implicit;t.xp6(2),t.Oqu(i.fecha),t.xp6(2),t.Oqu(i.hora),t.xp6(2),t.Oqu(i.especialidad),t.xp6(2),t.Oqu(i.especialista),t.xp6(3),t.Oqu(i.estado),t.xp6(1),t.Q6J("ngIf","realizado"!=i.estado&&"cancelado"!=i.estado),t.xp6(1),t.Q6J("ngIf",""!=i.resenia&&"realizado"==i.estado),t.xp6(1),t.Q6J("ngIf","realizado"==i.estado&&""==i.calificacion),t.xp6(1),t.Q6J("ngIf","realizado"==i.estado&&""!=i.resenia&&""==i.encuesta)}}function st(o,c){if(1&o&&(t.TgZ(0,"tbody"),t.YNc(1,ct,16,9,"tr",14),t.ALo(2,"ordenarPorEspecialidad"),t.qZA()),2&o){const i=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,i.listaDeTurnosDelPaciente))}}function rt(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",16),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalCancelacion(n,1,"paciente"))}),t._uU(2,"Cancelar"),t.qZA()()}}function _t(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",18),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.verResenia(n.resenia))}),t._uU(2,"Ver rese\xf1a"),t.qZA()()}}function lt(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",18),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalCalificacion(n,"paciente"))}),t._uU(2,"Calificar atenci\xf3n"),t.qZA()()}}function dt(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",18),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalEncuesta(n,"paciente"))}),t._uU(2,"Completar encuesta"),t.qZA()()}}function ut(o,c){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"span",15),t._uU(11),t.qZA()(),t.YNc(12,rt,3,0,"td",13),t.YNc(13,_t,3,0,"td",13),t.YNc(14,lt,3,0,"td",13),t.YNc(15,dt,3,0,"td",13),t.qZA()),2&o){const i=c.$implicit;t.xp6(2),t.Oqu(i.fecha),t.xp6(2),t.Oqu(i.hora),t.xp6(2),t.Oqu(i.especialidad),t.xp6(2),t.Oqu(i.especialista),t.xp6(3),t.Oqu(i.estado),t.xp6(1),t.Q6J("ngIf","realizado"!=i.estado&&"cancelado"!=i.estado),t.xp6(1),t.Q6J("ngIf",""!=i.resenia&&"realizado"==i.estado),t.xp6(1),t.Q6J("ngIf","realizado"==i.estado&&""==i.calificacion),t.xp6(1),t.Q6J("ngIf","realizado"==i.estado&&""!=i.resenia&&""==i.encuesta)}}function pt(o,c){if(1&o&&(t.TgZ(0,"tbody"),t.YNc(1,ut,16,9,"tr",14),t.ALo(2,"ordenarPorEspecialista"),t.qZA()),2&o){const i=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,i.listaDeTurnosDelPaciente))}}function mt(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"div",17)(1,"h1"),t._uU(2,"Turnos de paciente"),t.qZA(),t.TgZ(3,"tr")(4,"td")(5,"h5"),t._uU(6,"Filtros: "),t.qZA()(),t.TgZ(7,"td")(8,"button",8),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.verPorEspecialidad())}),t._uU(9,"Por especialidad"),t.qZA()(),t.TgZ(10,"td")(11,"button",8),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.verPorEspecialista())}),t._uU(12,"Por especialista"),t.qZA()(),t.TgZ(13,"td")(14,"label",9),t._uU(15,"Buscar: "),t.qZA(),t.TgZ(16,"input",10),t.NdJ("ngModelChange",function(n){t.CHM(i);const a=t.oxw();return t.KtG(a.palabraFiltro=n)})("keyup",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.filtrarPorPalabra(n.listaDeTurnosDelPaciente))}),t.qZA()()(),t.TgZ(17,"table",11)(18,"thead")(19,"tr")(20,"th",12),t._uU(21,"Fecha"),t.qZA(),t.TgZ(22,"th",12),t._uU(23,"Hora"),t.qZA(),t.TgZ(24,"th",12),t._uU(25,"Especialidad"),t.qZA(),t.TgZ(26,"th",12),t._uU(27,"Profesional"),t.qZA(),t.TgZ(28,"th",12),t._uU(29,"Estado"),t.qZA(),t.TgZ(30,"th",12),t._uU(31,"Acci\xf3n"),t.qZA()()(),t.YNc(32,R,2,1,"tbody",13),t.YNc(33,it,2,1,"tbody",13),t.YNc(34,st,3,3,"tbody",13),t.YNc(35,pt,3,3,"tbody",13),t.qZA()()}if(2&o){const i=t.oxw();t.xp6(16),t.Q6J("ngModel",i.palabraFiltro),t.xp6(16),t.Q6J("ngIf",""!=i.palabraFiltro),t.xp6(1),t.Q6J("ngIf",0==i.filtroEspecialidad&&0==i.filtroEspecialista&&""==i.palabraFiltro),t.xp6(1),t.Q6J("ngIf",1==i.filtroEspecialidad&&""==i.palabraFiltro),t.xp6(1),t.Q6J("ngIf",1==i.filtroEspecialista&&""==i.palabraFiltro)}}function ft(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",18),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalAceptacion(n))}),t._uU(2,"Aceptar"),t.qZA()()}}function Tt(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",18),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalFinalizacion(n))}),t._uU(2,"Finalizar"),t.qZA()()}}function gt(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",16),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalCancelacion(n,1,"especialista"))}),t._uU(2,"Cancelar"),t.qZA()()}}function xt(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",16),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalCancelacion(n,2,"especialista"))}),t._uU(2,"Rechazar"),t.qZA()()}}function ht(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",18),t.NdJ("click",function(){t.CHM(i);const n=t.oxw(2).$implicit,a=t.oxw(3);return t.KtG(a.verResenia(n.resenia))}),t._uU(2,"Ver rese\xf1a"),t.qZA()()}}function bt(o,c){if(1&o&&t.YNc(0,ht,3,0,"td",13),2&o){const i=t.oxw().$implicit;t.Q6J("ngIf",""!=i.resenia&&"realizado"==i.estado)}}function Ct(o,c){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"span",15),t._uU(11),t.qZA()(),t.YNc(12,ft,3,0,"td",13),t.YNc(13,Tt,3,0,"td",20),t.YNc(14,gt,3,0,"td",13),t.YNc(15,xt,3,0,"td",13),t.YNc(16,bt,1,1,"ng-template",null,21,t.W1O),t.qZA()),2&o){const i=c.$implicit,e=t.MAs(17);t.xp6(2),t.Oqu(i.fecha),t.xp6(2),t.Oqu(i.hora),t.xp6(2),t.Oqu(i.especialidad),t.xp6(2),t.Oqu(i.paciente),t.xp6(3),t.Oqu(i.estado),t.xp6(1),t.Q6J("ngIf","realizado"!=i.estado&&"rechazado"!=i.estado&&"aceptado"!=i.estado&&"cancelado"!=i.estado),t.xp6(1),t.Q6J("ngIf","aceptado"==i.estado)("ngIfElse",e),t.xp6(1),t.Q6J("ngIf","aceptado"==i.estado),t.xp6(1),t.Q6J("ngIf","realizado"!=i.estado&&"cancelado"!=i.estado&&"aceptado"!=i.estado&&"rechazado"!=i.estado)}}function Zt(o,c){if(1&o&&(t.TgZ(0,"tbody"),t.YNc(1,Ct,18,10,"tr",14),t.qZA()),2&o){const i=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",i.turnosFiltrados)}}function vt(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",18),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalAceptacion(n))}),t._uU(2,"Aceptar"),t.qZA()()}}function Mt(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",18),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalFinalizacion(n))}),t._uU(2,"Finalizar"),t.qZA()()}}function qt(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",16),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalCancelacion(n,1,"especialista"))}),t._uU(2,"Cancelar"),t.qZA()()}}function At(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",16),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalCancelacion(n,2,"especialista"))}),t._uU(2,"Rechazar"),t.qZA()()}}function wt(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",18),t.NdJ("click",function(){t.CHM(i);const n=t.oxw(2).$implicit,a=t.oxw(3);return t.KtG(a.verResenia(n.resenia))}),t._uU(2,"Ver rese\xf1a"),t.qZA()()}}function yt(o,c){if(1&o&&t.YNc(0,wt,3,0,"td",13),2&o){const i=t.oxw().$implicit;t.Q6J("ngIf",""!=i.resenia&&"realizado"==i.estado)}}function Et(o,c){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"span",15),t._uU(11),t.qZA()(),t.YNc(12,vt,3,0,"td",13),t.YNc(13,Mt,3,0,"td",20),t.YNc(14,qt,3,0,"td",13),t.YNc(15,At,3,0,"td",13),t.YNc(16,yt,1,1,"ng-template",null,21,t.W1O),t.qZA()),2&o){const i=c.$implicit,e=t.MAs(17);t.xp6(2),t.Oqu(i.fecha),t.xp6(2),t.Oqu(i.hora),t.xp6(2),t.Oqu(i.especialidad),t.xp6(2),t.Oqu(i.paciente),t.xp6(3),t.Oqu(i.estado),t.xp6(1),t.Q6J("ngIf","realizado"!=i.estado&&"rechazado"!=i.estado&&"aceptado"!=i.estado&&"cancelado"!=i.estado),t.xp6(1),t.Q6J("ngIf","aceptado"==i.estado)("ngIfElse",e),t.xp6(1),t.Q6J("ngIf","aceptado"==i.estado),t.xp6(1),t.Q6J("ngIf","realizado"!=i.estado&&"cancelado"!=i.estado&&"aceptado"!=i.estado&&"rechazado"!=i.estado)}}function Nt(o,c){if(1&o&&(t.TgZ(0,"tbody"),t.YNc(1,Et,18,10,"tr",14),t.qZA()),2&o){const i=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",i.listaDeTurnosDelEspecialista)}}function Ot(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",18),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalAceptacion(n))}),t._uU(2,"Aceptar"),t.qZA()()}}function Pt(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",18),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalFinalizacion(n))}),t._uU(2,"Finalizar"),t.qZA()()}}function Ft(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",16),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalCancelacion(n,1,"especialista"))}),t._uU(2,"Cancelar"),t.qZA()()}}function Ut(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",16),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalCancelacion(n,2,"especialista"))}),t._uU(2,"Rechazar"),t.qZA()()}}function Jt(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",18),t.NdJ("click",function(){t.CHM(i);const n=t.oxw(2).$implicit,a=t.oxw(3);return t.KtG(a.verResenia(n.resenia))}),t._uU(2,"Ver rese\xf1a"),t.qZA()()}}function kt(o,c){if(1&o&&t.YNc(0,Jt,3,0,"td",13),2&o){const i=t.oxw().$implicit;t.Q6J("ngIf",""!=i.resenia&&"realizado"==i.estado)}}function Yt(o,c){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"span",15),t._uU(11),t.qZA()(),t.YNc(12,Ot,3,0,"td",13),t.YNc(13,Pt,3,0,"td",20),t.YNc(14,Ft,3,0,"td",13),t.YNc(15,Ut,3,0,"td",13),t.YNc(16,kt,1,1,"ng-template",null,21,t.W1O),t.qZA()),2&o){const i=c.$implicit,e=t.MAs(17);t.xp6(2),t.Oqu(i.fecha),t.xp6(2),t.Oqu(i.hora),t.xp6(2),t.Oqu(i.especialidad),t.xp6(2),t.Oqu(i.paciente),t.xp6(3),t.Oqu(i.estado),t.xp6(1),t.Q6J("ngIf","realizado"!=i.estado&&"rechazado"!=i.estado&&"aceptado"!=i.estado&&"cancelado"!=i.estado),t.xp6(1),t.Q6J("ngIf","aceptado"==i.estado)("ngIfElse",e),t.xp6(1),t.Q6J("ngIf","aceptado"==i.estado),t.xp6(1),t.Q6J("ngIf","realizado"!=i.estado&&"cancelado"!=i.estado&&"aceptado"!=i.estado&&"rechazado"!=i.estado)}}function It(o,c){if(1&o&&(t.TgZ(0,"tbody"),t.YNc(1,Yt,18,10,"tr",14),t.ALo(2,"ordenarPorEspecialidad"),t.qZA()),2&o){const i=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,i.listaDeTurnosDelEspecialista))}}function Qt(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",18),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalAceptacion(n))}),t._uU(2,"Aceptar"),t.qZA()()}}function Ht(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",18),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalFinalizacion(n))}),t._uU(2,"Finalizar"),t.qZA()()}}function St(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",16),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalCancelacion(n,1,"especialista"))}),t._uU(2,"Cancelar"),t.qZA()()}}function zt(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",16),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.modalCancelacion(n,2,"especialista"))}),t._uU(2,"Rechazar"),t.qZA()()}}function Dt(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"td")(1,"button",18),t.NdJ("click",function(){t.CHM(i);const n=t.oxw(2).$implicit,a=t.oxw(3);return t.KtG(a.verResenia(n.resenia))}),t._uU(2,"Ver rese\xf1a"),t.qZA()()}}function $t(o,c){if(1&o&&t.YNc(0,Dt,3,0,"td",13),2&o){const i=t.oxw().$implicit;t.Q6J("ngIf",""!=i.resenia&&"realizado"==i.estado)}}function Kt(o,c){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"span",15),t._uU(11),t.qZA()(),t.YNc(12,Qt,3,0,"td",13),t.YNc(13,Ht,3,0,"td",20),t.YNc(14,St,3,0,"td",13),t.YNc(15,zt,3,0,"td",13),t.YNc(16,$t,1,1,"ng-template",null,21,t.W1O),t.qZA()),2&o){const i=c.$implicit,e=t.MAs(17);t.xp6(2),t.Oqu(i.fecha),t.xp6(2),t.Oqu(i.hora),t.xp6(2),t.Oqu(i.especialidad),t.xp6(2),t.Oqu(i.paciente),t.xp6(3),t.Oqu(i.estado),t.xp6(1),t.Q6J("ngIf","realizado"!=i.estado&&"rechazado"!=i.estado&&"aceptado"!=i.estado&&"cancelado"!=i.estado),t.xp6(1),t.Q6J("ngIf","aceptado"==i.estado)("ngIfElse",e),t.xp6(1),t.Q6J("ngIf","aceptado"==i.estado),t.xp6(1),t.Q6J("ngIf","realizado"!=i.estado&&"cancelado"!=i.estado&&"aceptado"!=i.estado&&"rechazado"!=i.estado)}}function Gt(o,c){if(1&o&&(t.TgZ(0,"tbody"),t.YNc(1,Kt,18,10,"tr",14),t.ALo(2,"ordenarPorPaciente"),t.qZA()),2&o){const i=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,i.listaDeTurnosDelEspecialista))}}function jt(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"div",19)(1,"h1"),t._uU(2,"Turnos de especialista"),t.qZA(),t.TgZ(3,"tr")(4,"td")(5,"h5"),t._uU(6,"Filtros: "),t.qZA()(),t.TgZ(7,"td")(8,"button",8),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.verPorEspecialidad())}),t._uU(9,"Por especialidad"),t.qZA()(),t.TgZ(10,"td")(11,"button",8),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.verPorPaciente())}),t._uU(12,"Por paciente"),t.qZA()(),t.TgZ(13,"td")(14,"label",9),t._uU(15,"Buscar: "),t.qZA(),t.TgZ(16,"input",10),t.NdJ("ngModelChange",function(n){t.CHM(i);const a=t.oxw();return t.KtG(a.palabraFiltro=n)})("keyup",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.filtrarPorPalabra(n.listaDeTurnosDelEspecialista))}),t.qZA()()(),t.TgZ(17,"table",11)(18,"thead")(19,"tr")(20,"th",12),t._uU(21,"Fecha"),t.qZA(),t.TgZ(22,"th",12),t._uU(23,"Hora"),t.qZA(),t.TgZ(24,"th",12),t._uU(25,"Mi especialidad"),t.qZA(),t.TgZ(26,"th",12),t._uU(27,"Paciente"),t.qZA(),t.TgZ(28,"th",12),t._uU(29,"Estado"),t.qZA(),t.TgZ(30,"th",12),t._uU(31,"Acci\xf3n"),t.qZA()()(),t.YNc(32,Zt,2,1,"tbody",13),t.YNc(33,Nt,2,1,"tbody",13),t.YNc(34,It,3,3,"tbody",13),t.YNc(35,Gt,3,3,"tbody",13),t.qZA()()}if(2&o){const i=t.oxw();t.xp6(16),t.Q6J("ngModel",i.palabraFiltro),t.xp6(16),t.Q6J("ngIf",""!=i.palabraFiltro),t.xp6(1),t.Q6J("ngIf",0==i.filtroEspecialidad&&0==i.filtroPaciente&&""==i.palabraFiltro),t.xp6(1),t.Q6J("ngIf",1==i.filtroEspecialidad&&""==i.palabraFiltro),t.xp6(1),t.Q6J("ngIf",1==i.filtroPaciente&&""==i.palabraFiltro)}}let Lt=(()=>{class o{constructor(i,e,n){this.userService=i,this.swal=e,this.turnoService=n,this.listaDeTurnos=[],this.listaDeTurnosDelPaciente=[],this.listaDeTurnosDelEspecialista=[],this.listaPorEspecialidad=[],this.turnosFiltrados=[],this.filtroEspecialidad=!1,this.filtroEspecialista=!1,this.filtroPaciente=!1,this.botonCancelar=!1,this.encuestaCompletada=!1,this.palabraFiltro=""}ngOnInit(){setTimeout(()=>{this.turnoService.getCollection("turnos").pipe((0,A.q)(1)).subscribe(i=>{this.listaDeTurnos=i,"admin"==this.userService.getCurrentProfile()?(console.log("HOLA SOY ADMIN"),console.log(this.listaDeTurnos)):(console.log(this.userService.getCurrentProfile()),"paciente"==this.userService.getCurrentProfile()?(console.log("HOLA SOY PACIENTE"),this.listaDeTurnos.forEach(e=>{console.log(e.dniPaciente),e.dniPaciente==this.userService.getCurrentDNI()&&this.listaDeTurnosDelPaciente.push(e)}),console.log(this.listaDeTurnosDelPaciente)):"especialista"==this.userService.getCurrentProfile()&&(console.log("HOLA SOY ESPECIALISTA"),this.listaDeTurnos.forEach(e=>{e.dniEspecialista==this.userService.getCurrentDNI()&&this.listaDeTurnosDelEspecialista.push(e)}),console.log(this.listaDeTurnosDelEspecialista)))})},1500)}cancelarTurno(i,e,n,a="paciente"){1==e?"solicitado"==i.estado&&(i.estado="cancelado",i.comentarioCancelacion=n,this.turnoService.updateAppointment(i),this.swal.showToast("Se cancel\xf3 el turno","info")):2==e&&"solicitado"==i.estado&&(i.estado="rechazado",i.comentarioCancelacion=n,this.turnoService.updateAppointment(i),this.swal.showToast("Se cancel\xf3 el turno","info"))}aceptarTurno(i){i.estado="aceptado",this.turnoService.updateAppointment(i),this.swal.showToast("Se acept\xf3 el turno!","success")}dejarCalificacion(i,e,n="paciente"){"realizado"==i.estado&&(i.calificacion=e,this.turnoService.updateAppointment(i),this.swal.showToast("Se envi\xf3 su opini\xf3n!","success"))}dejarResenia(i,e,n="paciente"){i.resenia=e,i.estado="realizado",this.turnoService.updateAppointment(i),this.swal.showToast("Se envi\xf3 su rese\xf1a!","success")}dejarDatos(i){i.estado="realizado",this.turnoService.updateAppointment(i),this.swal.showToast("Se envi\xf3 su rese\xf1a e historial cl\xednico!","success")}enviarEncuesta(i,e,n="paciente"){"realizado"==i.estado&&(i.encuesta=e,this.turnoService.updateAppointment(i),this.swal.showToast("Se envi\xf3 su opini\xf3n!","success"))}modalAceptacion(i){this.swal.showModal("Aceptar turno","\xbfQuiere aceptar el turno del paciente?","Turno aceptado","Se confirm\xf3 el turno con \xe9xito",()=>{this.aceptarTurno(i)})}modalFinalizacion(i){this.swal.showModalWithInputs(e=>{""==e.resenia||0==e.altura||0==e.peso||0==e.temperatura||""==e.presion?this.swal.swalert("Error","Tiene que completar todos los campos para finalizar el turno","error"):(i.resenia=e.resenia,i.altura=e.altura,i.peso=e.peso,i.temperatura=e.temperatura,i.presion=e.presion,i.dato1=[e.dato1_clave,e.dato1_valor],i.dato2=[e.dato2_clave,e.dato2_valor],i.dato3=[e.dato3_clave,e.dato3_valor],this.dejarDatos(i))})}modalCancelacion(i,e,n){1==e?this.swal.showModalText("Atenci\xf3n","\xbfEst\xe1 seguro que quiere cancelar el turno?","Escriba su motivo",a=>{""!=a?this.cancelarTurno(i,e,a,n):this.swal.swalert("Error","Tiene que escribir un comentario para cancelar el turno","error")}):2==e&&this.swal.showModalText("Atenci\xf3n","\xbfEst\xe1 seguro que quiere rechazar el turno?","Escriba el motivo del rechazo",a=>{""!=a?this.cancelarTurno(i,e,a,n):this.swal.swalert("Error","Tiene que escribir un comentario para rechazar el turno","error")})}modalCalificacion(i,e){this.swal.showModalText("Calificaci\xf3n","\xbfEstuvo satisfecho con la atenci\xf3n recibida?","Escriba su comentario",n=>{""!=n?this.dejarCalificacion(i,n,e):this.swal.swalert("Error","Tiene que escribir un comentario para dar su calificaci\xf3n","error")})}modalEncuesta(i,e){this.swal.showModalText("Encuesta","\xbfQu\xe9 le parece la plataforma de Cl\xednica Online?","Escriba su comentario",n=>{""!=n?this.enviarEncuesta(i,n,e):this.swal.swalert("Error","Tiene que escribir un comentario para dar su calificaci\xf3n","error")})}verResenia(i){this.swal.swalert("Su rese\xf1a",i,"info")}verPorEspecialidad(){this.filtroEspecialista=!1,this.filtroPaciente=!1,this.filtroEspecialidad=!0}verPorEspecialista(){this.filtroEspecialidad=!1,this.filtroPaciente=!1,this.filtroEspecialista=!0}verPorPaciente(){this.filtroEspecialidad=!1,this.filtroEspecialista=!1,this.filtroPaciente=!0}filtrarPorPalabra(i){if(this.turnosFiltrados=[],""==this.palabraFiltro)this.turnosFiltrados=[...i];else{const e=this.palabraFiltro.trim().toLocaleLowerCase();for(let n=0;n<i.length;n++){const a=i[n];(a.especialista.toLocaleLowerCase().includes(e)||a.especialidad.toLocaleLowerCase().includes(e)||a.estado.toLocaleLowerCase().includes(e)||a.paciente.toLocaleLowerCase().includes(e)||a.fecha?.includes(e)||a?.altura?.toString().includes(e)||a?.peso?.toString().includes(e)||a?.temperatura?.toString().includes(e)||a?.presion?.includes(e)||a?.dato1?.[0]?.includes(e)||a?.dato2?.[0]?.includes(e)||a?.dato3?.[0]?.includes(e)||a?.dato1?.[1]?.includes(e)||a?.dato2?.[1]?.includes(e)||a?.dato3?.[1]?.includes(e))&&this.turnosFiltrados.push(a)}}}}return o.\u0275fac=function(i){return new(i||o)(t.Y36(b.K),t.Y36(C.J),t.Y36(Z.D))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-mis-turnos"]],decls:7,vars:3,consts:[[1,"container"],[1,"screen"],[1,"screen__content"],[1,"appointments"],["class","listado-turnos-admin",4,"ngIf"],["class","listado-turnos-paciente",4,"ngIf"],["class","listado-turnos-especialista",4,"ngIf"],[1,"listado-turnos-admin"],[1,"btn","btn-primary",3,"click"],["for","filtroPalabra"],["type","text",3,"ngModel","ngModelChange","keyup"],[1,"table","table-hover",2,"color","rgb(0, 162, 255)"],["scope","col"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"badge","bg-primary"],["mat-raised-button","","color","warn",3,"click"],[1,"listado-turnos-paciente"],["mat-raised-button","","color","accent",3,"click"],[1,"listado-turnos-especialista"],[4,"ngIf","ngIfElse"],["mostrarResenia",""]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,D,36,5,"div",4),t.YNc(5,mt,36,5,"div",5),t.YNc(6,jt,36,5,"div",6),t.qZA()()()()),2&i&&(t.xp6(4),t.Q6J("ngIf","admin"==e.userService.getCurrentProfile()),t.xp6(1),t.Q6J("ngIf","paciente"==e.userService.getCurrentProfile()),t.xp6(1),t.Q6J("ngIf","especialista"==e.userService.getCurrentProfile()))},dependencies:[p.sg,p.O5,T.Fj,T.JJ,T.On,w.lW,y,E,N],styles:['@import"https://fonts.googleapis.com/css?family=Raleway:400,700";*[_ngcontent-%COMP%]{box-sizing:border-box;margin:1;padding:0;font-family:Raleway,sans-serif}.boton-registro[_ngcontent-%COMP%]{margin-right:88%;margin-top:2%}.badge[_ngcontent-%COMP%]{font-size:large;line-height:1.5}.btn-primary[_ngcontent-%COMP%], .btn-main[_ngcontent-%COMP%]{background-color:#6ed9d3;border-color:#6dbfbb;color:#fff;width:150px;height:30px;margin:3px}body[_ngcontent-%COMP%]{background:linear-gradient(90deg,#C7C5F4,#776BCC)}img[_ngcontent-%COMP%]{border-radius:50%;width:35%;height:35%;cursor:pointer}.row[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20%}.center-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative;top:4%}.screen[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f1fcfb,#dafffd);position:relative;height:800px;width:1200px;box-shadow:0 0 24px #8dcac7;border-radius:15px}.screen__content[_ngcontent-%COMP%]{z-index:1;position:relative;height:100%;display:flex;justify-content:center;text-align:center}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#5e8b89}.appointments[_ngcontent-%COMP%]{width:1000px;max-height:850px;overflow-y:auto}.appointments[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.appointments[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#fff}.appointments[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#5cafab;border-radius:7px}.appointments[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#5a918e}.appointments__field[_ngcontent-%COMP%]{padding:7px 0;position:relative}.appointments__input[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #D1D1D4;background:none;padding:10px 10px 10px 24px;font-weight:700;width:75%;transition:.2s}']}),o})();class Rt{constructor(){this.altura=0,this.peso=0,this.presion="",this.temperatura=0,this.dato1="",this.dato2="",this.dato3="",this.id="",this.fecha="",this.hora="",this.especialista="",this.especialidad="",this.paciente="",this.resenia="",this.encuesta="",this.calificacion="",this.dniEspecialista=0,this.dniPaciente=0,this.estado="",this.comentarioCancelacion=""}}var v=s(4846),u=s(5439),Bt=s(2668);function Vt(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"div",11)(1,"img",12),t.NdJ("click",function(){const a=t.CHM(i).$implicit,r=t.oxw(2);return t.KtG(r.asignarEspecialidad(a.nombre))}),t.qZA()()}if(2&o){const i=c.$implicit;t.xp6(1),t.s9C("src",i.img,t.LSH),t.s9C("alt",i.nombre)}}function Wt(o,c){if(1&o&&(t.TgZ(0,"div",8)(1,"h1"),t._uU(2,"Especialidades"),t.qZA(),t.TgZ(3,"div",9),t.YNc(4,Vt,2,2,"div",10),t.qZA()()),2&o){const i=t.oxw();t.xp6(4),t.Q6J("ngForOf",i.listaEspecialidades)}}function Xt(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"div",11)(1,"h4"),t._uU(2),t.qZA(),t.TgZ(3,"img",16),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.asignarProfesional(n))}),t.qZA()()}if(2&o){const i=t.oxw().$implicit;t.xp6(2),t.Oqu(i.apellido+" "+i.nombre),t.xp6(1),t.s9C("src",i.imagen1,t.LSH)}}function ti(o,c){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,Xt,4,2,"div",15),t.qZA()),2&o){const i=c.$implicit,e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",i.especialidad==e.nombreEspecialidad)}}function ii(o,c){if(1&o&&(t.TgZ(0,"div",13)(1,"h1"),t._uU(2,"Especialistas"),t.qZA(),t.TgZ(3,"div",9),t.YNc(4,ti,2,1,"div",14),t.qZA()()),2&o){const i=t.oxw();t.xp6(4),t.Q6J("ngForOf",i.listaEspecialistas)}}function oi(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"div")(1,"td")(2,"button",19),t.NdJ("click",function(){const a=t.CHM(i).$implicit,r=t.oxw(2);return t.KtG(r.asignarDia(a))}),t._uU(3),t.qZA()()()}if(2&o){const i=c.$implicit;t.xp6(3),t.Oqu(i.dia)}}function ei(o,c){if(1&o&&(t.TgZ(0,"div",17)(1,"h1"),t._uU(2,"D\xedas disponibles"),t.qZA(),t.TgZ(3,"div",9)(4,"div",18),t.YNc(5,oi,4,1,"div",14),t.qZA()()()),2&o){const i=t.oxw();t.xp6(5),t.Q6J("ngForOf",i.diasYHorarios)}}function ni(o,c){if(1&o){const i=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.asignarHorario(n))}),t._uU(1),t.qZA()}if(2&o){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",i," ")}}function ai(o,c){if(1&o&&(t.ynx(0),t.YNc(1,ni,2,1,"button",21),t.BQk()),2&o){const i=c.$implicit,e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.esHorarioOcupado(i))}}function ci(o,c){if(1&o&&(t.TgZ(0,"div",20)(1,"h1"),t._uU(2),t.qZA(),t.TgZ(3,"div",9)(4,"div",18),t.YNc(5,ai,2,1,"ng-container",14),t.qZA()()()),2&o){const i=t.oxw();t.xp6(2),t.hij("Horarios disponibles para el d\xeda ",i.fechaElegidaString,""),t.xp6(3),t.Q6J("ngForOf",null==i.diasYHorarios[0]?null:i.diasYHorarios[0].horarios)}}let si=(()=>{class o{constructor(i,e,n,a,r){this.espService=i,this.turnoService=e,this.userService=n,this.swal=a,this.router=r,this.listaEspecialidades=[],this.listaEspecialistas=[],this.listaTurnos=[],this.turnosDelEspecialista=[],this.seleccionEspecialidad=!1,this.seleccionEspecialista=!1,this.seleccionDia=!1,this.seleccionHorario=!1,this.turnoNuevo=new Rt,this.esAdmin=!1,this.diasYHorarios="",this.pacienteActual=new v.b,this.paciente="",this.dniPaciente=0,this.especialistaElegido=new v.b,this.nombreEspecialidad="",this.nombreEspecialista="",this.dniEspecialista=0,this.diaSeleccionado="",this.horarioSeleccionado="",this.fechaElegidaString="",setTimeout(()=>{this.pacienteActual=this.userService.getCurrentUser(),this.paciente=this.pacienteActual.apellido+" "+this.pacienteActual.nombre,this.dniPaciente=this.pacienteActual.dni,"admin"==this.userService.getCurrentProfile()&&(this.esAdmin=!0),this.espService.getCollection("especialidades").subscribe(_=>{this.listaEspecialidades=_}),this.userService.getCollection("usuarios").subscribe(_=>{_.forEach(l=>{null!=l.especialidad&&this.listaEspecialistas.push(l)})}),this.traerTurnos()},3e3)}mostrarEspecialidades(){this.seleccionEspecialidad=!this.seleccionEspecialidad}asignarEspecialidad(i){this.nombreEspecialidad=i,this.seleccionEspecialidad=!0,console.log(this.nombreEspecialidad)}asignarProfesional(i){this.nombreEspecialista=i.apellido+" "+i.nombre,this.dniEspecialista=i.dni,this.seleccionEspecialista=!0,this.especialistaElegido=i,this.diasYHorarios=this.generarDiasYHorariosParaEspecialista(i)}asignarDia(i){this.diaSeleccionado=i,this.fechaElegidaString=i.dia,this.seleccionDia=!0,console.log(this.diaSeleccionado),this.quitarNoDisponibles(this.dniEspecialista,this.fechaElegidaString)}asignarHorario(i){this.horarioSeleccionado=i,console.log(this.horarioSeleccionado),this.generarTurno()}generarTurno(){this.turnoNuevo.id="",this.turnoNuevo.fecha=this.fechaElegidaString,this.turnoNuevo.hora=this.horarioSeleccionado,this.turnoNuevo.especialista=this.nombreEspecialista,this.turnoNuevo.especialidad=this.nombreEspecialidad,this.turnoNuevo.paciente=this.paciente,this.turnoNuevo.resenia="",this.turnoNuevo.encuesta="",this.turnoNuevo.calificacion="",this.turnoNuevo.dniPaciente=this.dniPaciente,this.turnoNuevo.dniEspecialista=this.dniEspecialista,this.turnoNuevo.estado="solicitado",this.turnoNuevo.comentarioCancelacion="";try{this.turnoService.createAppointment(this.turnoNuevo),this.router.navigateByUrl("turnos/misturnos")}catch(i){console.log(i)}}generarDiasYHorariosParaEspecialista(i){const n=u(),r=(u().add(15,"days"),[]);for(let _=0;_<=15;_++){const l=n.clone().add(_,"days");if(0!==l.day()){const q=l.format("DD/MM"),m=[];if(6===l.day()&&i.dias[6]){const d=u("8:00 am","h:mm a"),g=u("1:30 pm","h:mm a"),x=30;for(;d.isSameOrBefore(g);)m.push(d.format("h:mm a")),d.add(x,"minutes");r.push({dia:q,horarios:m})}else if(i.dias[l.day()]){const d=u("8:00 am","h:mm a"),g=u("6:30 pm","h:mm a"),x=30;for(;d.isSameOrBefore(g);)m.push(d.format("h:mm a")),d.add(x,"minutes");r.push({dia:q,horarios:m})}}}return console.log(r),r}traerTurnos(){this.turnoService.getCollection("turnos").subscribe(i=>{this.listaTurnos=i})}quitarNoDisponibles(i,e){this.turnosDelEspecialista=this.listaTurnos.filter(n=>n.dniEspecialista===i&&n.fecha===e)}esHorarioOcupado(i){return this.turnosDelEspecialista.some(e=>e.hora===i)}}return o.\u0275fac=function(i){return new(i||o)(t.Y36(Bt.T),t.Y36(Z.D),t.Y36(b.K),t.Y36(C.J),t.Y36(f.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-solicitar-turno"]],decls:8,vars:4,consts:[[1,"container"],[1,"screen"],[1,"screen__content"],[1,"solicitud"],["class","especialidades",4,"ngIf"],["class","especialistas",4,"ngIf"],["class","dias",4,"ngIf"],["class","horarios",4,"ngIf"],[1,"especialidades"],[1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"img-especialidades",3,"src","alt","click"],[1,"especialistas"],[4,"ngFor","ngForOf"],["class","col",4,"ngIf"],["alt","especialista",1,"img-especialistas",3,"src","click"],[1,"dias"],[1,"d-flex","flex-wrap"],[1,"btn","btn-primary",3,"click"],[1,"horarios"],["class","btn btn-primary m-1",3,"click",4,"ngIf"],[1,"btn","btn-primary","m-1",3,"click"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,Wt,5,1,"div",4),t.YNc(5,ii,5,1,"div",5),t.YNc(6,ei,6,1,"div",6),t.YNc(7,ci,6,2,"div",7),t.qZA()()()()),2&i&&(t.xp6(4),t.Q6J("ngIf",!(e.seleccionEspecialidad||e.seleccionEspecialista||e.seleccionDia||e.seleccionHorario)),t.xp6(1),t.Q6J("ngIf",e.seleccionEspecialidad&&!e.seleccionEspecialista&&!e.seleccionDia&&!e.seleccionHorario),t.xp6(1),t.Q6J("ngIf",e.seleccionEspecialidad&&e.seleccionEspecialista&&!e.seleccionDia&&!e.seleccionHorario),t.xp6(1),t.Q6J("ngIf",e.seleccionEspecialidad&&e.seleccionEspecialista&&e.seleccionDia&&!e.seleccionHorario))},dependencies:[p.sg,p.O5],styles:['@import"https://fonts.googleapis.com/css?family=Raleway:400,700";*[_ngcontent-%COMP%]{box-sizing:border-box;margin:1;padding:0;font-family:Raleway,sans-serif}.boton-registro[_ngcontent-%COMP%]{margin-right:88%;margin-top:2%}.badge[_ngcontent-%COMP%]{font-size:large;line-height:1.5}.btn-primary[_ngcontent-%COMP%]{background-color:#6ed9d3;border-color:#6dbfbb;color:#fff;width:150px;height:30px;margin:3px}body[_ngcontent-%COMP%]{background:linear-gradient(90deg,#C7C5F4,#776BCC)}.especialidades[_ngcontent-%COMP%]{margin-top:5%}.especialistas[_ngcontent-%COMP%], .turnos[_ngcontent-%COMP%]{margin-top:3%}.img-especialidades[_ngcontent-%COMP%]{border-radius:50%;width:65%;height:100%;cursor:pointer;object-fit:cover}.img-especialistas[_ngcontent-%COMP%]{border-radius:50%;width:250px;height:250px;cursor:pointer;object-fit:cover}.row[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20%}.center-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative;top:4%}.screen[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f1fcfb,#dafffd);position:relative;height:800px;width:1200px;box-shadow:0 0 24px #8dcac7;border-radius:15px}.screen__content[_ngcontent-%COMP%]{z-index:1;position:relative;height:100%;display:flex;justify-content:center;text-align:center}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#5e8b89}.solicitud[_ngcontent-%COMP%]{width:1000px}.solicitud__field[_ngcontent-%COMP%]{padding:7px 0;position:relative}.solicitud__icon[_ngcontent-%COMP%]{position:absolute;top:30px;color:#7875b5}.solicitud__input[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #D1D1D4;background:none;padding:10px 10px 10px 24px;font-weight:700;width:75%;transition:.2s}']}),o})();var M=s(386);const ri=[{path:"misturnos",component:Lt,canActivate:[M.Z],data:{animation:"home"}},{path:"solicitarturno",component:si,canActivate:[M.Z],data:{animation:"home"}}];let _i=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[f.Bz.forChild(ri),f.Bz]}),o})(),li=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[p.ez,_i]}),o})()}}]);