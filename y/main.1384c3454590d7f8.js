(self.webpackChunkClinicaOnlineLaboIV=self.webpackChunkClinicaOnlineLaboIV||[]).push([[179],{2011:(St,Oe,U)=>{"use strict";U.d(Oe,{Dh:()=>Ee,GT:()=>$,cc:()=>Ne,hO:()=>Ze,on:()=>X,pX:()=>fe,xv:()=>Te});var d=U(4650),K=U(9260),N=U(4976);St=U.hmd(St);const ae=["ngOnDestroy"],fe=(Fe,je,Ve,ke={})=>new Proxy(Fe,{get:(De,we)=>Ve.runOutsideAngular(()=>{var We;if(Fe[we])return!(null===(We=ke?.spy)||void 0===We)&&We.get&&ke.spy.get(we,Fe[we]),Fe[we];if(ae.indexOf(we)>-1)return()=>{};const ze=je.toPromise().then(de=>{const nt=de&&de[we];return"function"==typeof nt?nt.bind(de):nt&&nt.then?nt.then(Pt=>Ve.run(()=>Pt)):Ve.run(()=>nt)});return new Proxy(()=>{},{get:(de,nt)=>ze[nt],apply:(de,nt,Pt)=>ze.then(ht=>{var qt;const rt=ht&&ht(...Pt);return!(null===(qt=ke?.spy)||void 0===qt)&&qt.apply&&ke.spy.apply(we,Pt,rt),rt})})})}),$=(Fe,je)=>{je.forEach(Ve=>{Object.getOwnPropertyNames(Ve.prototype||Ve).forEach(ke=>{Object.defineProperty(Fe.prototype,ke,Object.getOwnPropertyDescriptor(Ve.prototype||Ve,ke))})})};class Se{constructor(je){return je}}const Ee=new d.OlP("angularfire2.app.options"),Te=new d.OlP("angularfire2.app.name");function X(Fe,je,Ve){const De="object"==typeof Ve&&Ve||{};De.name=De.name||"string"==typeof Ve&&Ve||"[DEFAULT]";const We=K.Z.apps.filter(ze=>ze&&ze.name===De.name)[0]||je.runOutsideAngular(()=>K.Z.initializeApp(Fe,De));try{JSON.stringify(Fe)!==JSON.stringify(We.options)&&Y("error",`${We.name} Firebase App already initialized with different options${St.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Se(We)}const Y=(Fe,...je)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Fe](...je)},se={provide:Se,useFactory:X,deps:[Ee,d.R0b,[new d.FiY,Te]]};let Ze=(()=>{class Fe{constructor(Ve){K.Z.registerVersion("angularfire",N.q4.full,"core"),K.Z.registerVersion("angularfire",N.q4.full,"app-compat"),K.Z.registerVersion("angular",d.q4F.full,Ve.toString())}static initializeApp(Ve,ke){return{ngModule:Fe,providers:[{provide:Ee,useValue:Ve},{provide:Te,useValue:ke}]}}}return Fe.\u0275fac=function(Ve){return new(Ve||Fe)(d.LFG(d.Lbi))},Fe.\u0275mod=d.oAB({type:Fe}),Fe.\u0275inj=d.cJS({providers:[se]}),Fe})();function Ne(Fe,je,Ve,ke,De){const[,we,We]=globalThis.\u0275AngularfireInstanceCache.find(ze=>ze[0]===Fe)||[];if(we)return function et(Fe,je){try{return Fe.toString()===je.toString()}catch{return Fe===je}}(De,We)||(Ie("error",`${je} was already initialized on the ${Ve} Firebase App with different settings.${ct?" You may need to reload as Firebase is not HMR aware.":""}`),Ie("warn",{is:De,was:We})),we;{const ze=ke();return globalThis.\u0275AngularfireInstanceCache.push([Fe,ze,De]),ze}}const ct=!!St.hot,Ie=(Fe,...je)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Fe](...je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(St,Oe,U)=>{"use strict";U.d(Oe,{q4:()=>xc,iC:()=>Kd,HU:()=>ja,vb:()=>Df,JM:()=>Rc,u3:()=>dr});var d=U(4650),K=U(259),N=U(5861),ae=U(6881),fe=U(2090),$=U(4859),Se=U(1877);const Ee=(b,D)=>D.some(R=>b instanceof R);let Te,X;const Ze=new WeakMap,Ne=new WeakMap,et=new WeakMap,ct=new WeakMap,Ie=new WeakMap;let Ve={get(b,D,R){if(b instanceof IDBTransaction){if("done"===D)return Ne.get(b);if("objectStoreNames"===D)return b.objectStoreNames||et.get(b);if("store"===D)return R.objectStoreNames[1]?void 0:R.objectStore(R.objectStoreNames[0])}return We(b[D])},set:(b,D,R)=>(b[D]=R,!0),has:(b,D)=>b instanceof IDBTransaction&&("done"===D||"store"===D)||D in b};function we(b){return"function"==typeof b?function De(b){return b!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function se(){return X||(X=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(b)?function(...D){return b.apply(ze(this),D),We(Ze.get(this))}:function(...D){return We(b.apply(ze(this),D))}:function(D,...R){const H=b.call(ze(this),D,...R);return et.set(H,D.sort?D.sort():[D]),We(H)}}(b):(b instanceof IDBTransaction&&function je(b){if(Ne.has(b))return;const D=new Promise((R,H)=>{const ee=()=>{b.removeEventListener("complete",oe),b.removeEventListener("error",_e),b.removeEventListener("abort",_e)},oe=()=>{R(),ee()},_e=()=>{H(b.error||new DOMException("AbortError","AbortError")),ee()};b.addEventListener("complete",oe),b.addEventListener("error",_e),b.addEventListener("abort",_e)});Ne.set(b,D)}(b),Ee(b,function Y(){return Te||(Te=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(b,Ve):b)}function We(b){if(b instanceof IDBRequest)return function Fe(b){const D=new Promise((R,H)=>{const ee=()=>{b.removeEventListener("success",oe),b.removeEventListener("error",_e)},oe=()=>{R(We(b.result)),ee()},_e=()=>{H(b.error),ee()};b.addEventListener("success",oe),b.addEventListener("error",_e)});return D.then(R=>{R instanceof IDBCursor&&Ze.set(R,b)}).catch(()=>{}),Ie.set(D,b),D}(b);if(ct.has(b))return ct.get(b);const D=we(b);return D!==b&&(ct.set(b,D),Ie.set(D,b)),D}const ze=b=>Ie.get(b),Pt=["get","getKey","getAll","getAllKeys","count"],ht=["put","add","delete","clear"],qt=new Map;function rt(b,D){if(!(b instanceof IDBDatabase)||D in b||"string"!=typeof D)return;if(qt.get(D))return qt.get(D);const R=D.replace(/FromIndex$/,""),H=D!==R,ee=ht.includes(R);if(!(R in(H?IDBIndex:IDBObjectStore).prototype)||!ee&&!Pt.includes(R))return;const oe=function(){var _e=(0,N.Z)(function*(tt,...Xe){const Tt=this.transaction(tt,ee?"readwrite":"readonly");let Gt=Tt.store;return H&&(Gt=Gt.index(Xe.shift())),(yield Promise.all([Gt[R](...Xe),ee&&Tt.done]))[0]});return function(Xe){return _e.apply(this,arguments)}}();return qt.set(D,oe),oe}!function ke(b){Ve=b(Ve)}(b=>({...b,get:(D,R,H)=>rt(D,R)||b.get(D,R,H),has:(D,R)=>!!rt(D,R)||b.has(D,R)}));const ii="@firebase/installations",pe="0.6.4",Ae=1e4,Pe=`w:${pe}`,Le="FIS_v2",Je="https://firebaseinstallations.googleapis.com/v1",He=36e5,yt=new fe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Et(b){return b instanceof fe.ZR&&b.code.includes("request-failed")}function mn({projectId:b}){return`${Je}/projects/${b}/installations`}function Jt(b){return{token:b.token,requestStatus:2,expiresIn:Kt(b.expiresIn),creationTime:Date.now()}}function vn(b,D){return zr.apply(this,arguments)}function zr(){return(zr=(0,N.Z)(function*(b,D){const H=(yield D.json()).error;return yt.create("request-failed",{requestName:b,serverCode:H.code,serverMessage:H.message,serverStatus:H.status})})).apply(this,arguments)}function Dn({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function rr(b){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,N.Z)(function*(b){const D=yield b();return D.status>=500&&D.status<600?b():D})).apply(this,arguments)}function Kt(b){return Number(b.replace("s","000"))}function _t(){return(_t=(0,N.Z)(function*({appConfig:b,heartbeatServiceProvider:D},{fid:R}){const H=mn(b),ee=Dn(b),oe=D.getImmediate({optional:!0});if(oe){const Tt=yield oe.getHeartbeatsHeader();Tt&&ee.append("x-firebase-client",Tt)}const tt={method:"POST",headers:ee,body:JSON.stringify({fid:R,authVersion:Le,appId:b.appId,sdkVersion:Pe})},Xe=yield rr(()=>fetch(H,tt));if(Xe.ok){const Tt=yield Xe.json();return{fid:Tt.fid||R,registrationStatus:2,refreshToken:Tt.refreshToken,authToken:Jt(Tt.authToken)}}throw yield vn("Create Installation",Xe)})).apply(this,arguments)}function hn(b){return new Promise(D=>{setTimeout(D,b)})}const Zn=/^[cdef][\w-]{21}$/,_r="";function Fn(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const R=function En(b){return function $n(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return Zn.test(R)?R:_r}catch{return _r}}function en(b){return`${b.appName}!${b.appId}`}const vt=new Map;function Ut(b,D){const R=en(b);Yn(R,D),function oi(b,D){const R=function Cr(){return!Mn&&"BroadcastChannel"in self&&(Mn=new BroadcastChannel("[Firebase] FID Change"),Mn.onmessage=b=>{Yn(b.data.key,b.data.fid)}),Mn}();R&&R.postMessage({key:b,fid:D}),function sn(){0===vt.size&&Mn&&(Mn.close(),Mn=null)}()}(R,D)}function Yn(b,D){const R=vt.get(b);if(R)for(const H of R)H(D)}let Mn=null;const Ii="firebase-installations-database",ln=1,si="firebase-installations-store";let zt=null;function or(){return zt||(zt=function de(b,D,{blocked:R,upgrade:H,blocking:ee,terminated:oe}={}){const _e=indexedDB.open(b,D),tt=We(_e);return H&&_e.addEventListener("upgradeneeded",Xe=>{H(We(_e.result),Xe.oldVersion,Xe.newVersion,We(_e.transaction))}),R&&_e.addEventListener("blocked",()=>R()),tt.then(Xe=>{oe&&Xe.addEventListener("close",()=>oe()),ee&&Xe.addEventListener("versionchange",()=>ee())}).catch(()=>{}),tt}(Ii,ln,{upgrade:(b,D)=>{0===D&&b.createObjectStore(si)}})),zt}function Kn(b,D){return sr.apply(this,arguments)}function sr(){return(sr=(0,N.Z)(function*(b,D){const R=en(b),ee=(yield or()).transaction(si,"readwrite"),oe=ee.objectStore(si),_e=yield oe.get(R);return yield oe.put(D,R),yield ee.done,(!_e||_e.fid!==D.fid)&&Ut(b,D.fid),D})).apply(this,arguments)}function ar(b){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,N.Z)(function*(b){const D=en(b),H=(yield or()).transaction(si,"readwrite");yield H.objectStore(si).delete(D),yield H.done})).apply(this,arguments)}function Wr(b,D){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,N.Z)(function*(b,D){const R=en(b),ee=(yield or()).transaction(si,"readwrite"),oe=ee.objectStore(si),_e=yield oe.get(R),tt=D(_e);return void 0===tt?yield oe.delete(R):yield oe.put(tt,R),yield ee.done,tt&&(!_e||_e.fid!==tt.fid)&&Ut(b,tt.fid),tt})).apply(this,arguments)}function J(b){return q.apply(this,arguments)}function q(){return q=(0,N.Z)(function*(b){let D;const R=yield Wr(b.appConfig,H=>{const ee=function B(b){return kt(b||{fid:Fn(),registrationStatus:0})}(H),oe=function j(b,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(yt.create("app-offline"))};const R={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},H=function F(b,D){return te.apply(this,arguments)}(b,R);return{installationEntry:R,registrationPromise:H}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:xe(b)}:{installationEntry:D}}(b,ee);return D=oe.registrationPromise,oe.installationEntry});return R.fid===_r?{installationEntry:yield D}:{installationEntry:R,registrationPromise:D}}),q.apply(this,arguments)}function te(){return te=(0,N.Z)(function*(b,D){try{const R=yield function xn(b,D){return _t.apply(this,arguments)}(b,D);return Kn(b.appConfig,R)}catch(R){throw Et(R)&&409===R.customData.serverCode?yield ar(b.appConfig):yield Kn(b.appConfig,{fid:D.fid,registrationStatus:0}),R}}),te.apply(this,arguments)}function xe(b){return lt.apply(this,arguments)}function lt(){return(lt=(0,N.Z)(function*(b){let D=yield Ft(b.appConfig);for(;1===D.registrationStatus;)yield hn(100),D=yield Ft(b.appConfig);if(0===D.registrationStatus){const{installationEntry:R,registrationPromise:H}=yield J(b);return H||R}return D})).apply(this,arguments)}function Ft(b){return Wr(b,D=>{if(!D)throw yt.create("installation-not-found");return kt(D)})}function kt(b){return function nn(b){return 1===b.registrationStatus&&b.registrationTime+Ae<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function Sn(){return(Sn=(0,N.Z)(function*({appConfig:b,heartbeatServiceProvider:D},R){const H=function Zt(b,{fid:D}){return`${mn(b)}/${D}/authTokens:generate`}(b,R),ee=function Er(b,{refreshToken:D}){const R=Dn(b);return R.append("Authorization",function Gr(b){return`${Le} ${b}`}(D)),R}(b,R),oe=D.getImmediate({optional:!0});if(oe){const Tt=yield oe.getHeartbeatsHeader();Tt&&ee.append("x-firebase-client",Tt)}const tt={method:"POST",headers:ee,body:JSON.stringify({installation:{sdkVersion:Pe,appId:b.appId}})},Xe=yield rr(()=>fetch(H,tt));if(Xe.ok)return Jt(yield Xe.json());throw yield vn("Generate Auth Token",Xe)})).apply(this,arguments)}function cr(b){return Qn.apply(this,arguments)}function Qn(){return Qn=(0,N.Z)(function*(b,D=!1){let R;const H=yield Wr(b.appConfig,oe=>{if(!an(oe))throw yt.create("not-registered");const _e=oe.authToken;if(!D&&function At(b){return 2===b.requestStatus&&!function Tn(b){const D=Date.now();return D<b.creationTime||b.creationTime+b.expiresIn<D+He}(b)}(_e))return oe;if(1===_e.requestStatus)return R=function ve(b,D){return ce.apply(this,arguments)}(b,D),oe;{if(!navigator.onLine)throw yt.create("app-offline");const tt=function yn(b){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:D})}(oe);return R=function It(b,D){return Bt.apply(this,arguments)}(b,tt),tt}});return R?yield R:H.authToken}),Qn.apply(this,arguments)}function ce(){return(ce=(0,N.Z)(function*(b,D){let R=yield Ge(b.appConfig);for(;1===R.authToken.requestStatus;)yield hn(100),R=yield Ge(b.appConfig);const H=R.authToken;return 0===H.requestStatus?cr(b,D):H})).apply(this,arguments)}function Ge(b){return Wr(b,D=>{if(!an(D))throw yt.create("not-registered");return function kr(b){return 1===b.requestStatus&&b.requestTime+Ae<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Bt(){return Bt=(0,N.Z)(function*(b,D){try{const R=yield function Lt(b,D){return Sn.apply(this,arguments)}(b,D),H=Object.assign(Object.assign({},D),{authToken:R});return yield Kn(b.appConfig,H),R}catch(R){if(!Et(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const H=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Kn(b.appConfig,H)}else yield ar(b.appConfig);throw R}}),Bt.apply(this,arguments)}function an(b){return void 0!==b&&2===b.registrationStatus}function Ea(){return(Ea=(0,N.Z)(function*(b){const D=b,{installationEntry:R,registrationPromise:H}=yield J(D);return H?H.catch(console.error):cr(D).catch(console.error),R.fid})).apply(this,arguments)}function Ao(){return Ao=(0,N.Z)(function*(b,D=!1){const R=b;return yield function Tr(b){return ot.apply(this,arguments)}(R),(yield cr(R,D)).token}),Ao.apply(this,arguments)}function ot(){return(ot=(0,N.Z)(function*(b){const{registrationPromise:D}=yield J(b);D&&(yield D)})).apply(this,arguments)}function So(b){return yt.create("missing-app-config-values",{valueName:b})}const Yt="installations",Ci=b=>{const D=b.getProvider("app").getImmediate(),R=function fs(b){if(!b||!b.options)throw So("App Configuration");if(!b.name)throw So("App Name");const D=["projectId","apiKey","appId"];for(const R of D)if(!b.options[R])throw So(R);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(D);return{app:D,appConfig:R,heartbeatServiceProvider:(0,ae._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},js=b=>{const D=b.getProvider("app").getImmediate(),R=(0,ae._getProvider)(D,Yt).getImmediate();return{getId:()=>function Dr(b){return Ea.apply(this,arguments)}(R),getToken:ee=>function cu(b){return Ao.apply(this,arguments)}(R,ee)}};(function xo(){(0,ae._registerComponent)(new $.wA(Yt,Ci,"PUBLIC")),(0,ae._registerComponent)(new $.wA("installations-internal",js,"PRIVATE"))})(),(0,ae.registerVersion)(ii,pe),(0,ae.registerVersion)(ii,pe,"esm2017");const vr="@firebase/remote-config",Or=new fe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Dd{constructor(D,R,H,ee){this.client=D,this.storage=R,this.storageCache=H,this.logger=ee}isCachedDataFresh(D,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-R,ee=H<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${ee}.`),ee}fetch(D){var R=this;return(0,N.Z)(function*(){const[H,ee]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(ee&&R.isCachedDataFresh(D.cacheMaxAgeMillis,H))return ee;D.eTag=ee&&ee.eTag;const oe=yield R.client.fetch(D),_e=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===oe.status&&_e.push(R.storage.setLastSuccessfulFetchResponse(oe)),yield Promise.all(_e),oe})()}}function ac(b=navigator){return b.languages&&b.languages[0]||b.language}class gs{constructor(D,R,H,ee,oe,_e){this.firebaseInstallations=D,this.sdkVersion=R,this.namespace=H,this.projectId=ee,this.apiKey=oe,this.appId=_e}fetch(D){var R=this;return(0,N.Z)(function*(){const[H,ee]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),_e=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,tt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},Xe={sdk_version:R.sdkVersion,app_instance_id:H,app_instance_id_token:ee,app_id:R.appId,language_code:ac()},Tt={method:"POST",headers:tt,body:JSON.stringify(Xe)},Gt=fetch(_e,Tt),Qt=new Promise((Oi,no)=>{D.signal.addEventListener(()=>{const Ha=new Error("The operation was aborted.");Ha.name="AbortError",no(Ha)})});let ki;try{yield Promise.race([Gt,Qt]),ki=yield Gt}catch(Oi){let no="fetch-client-network";throw"AbortError"===Oi?.name&&(no="fetch-timeout"),Or.create(no,{originalErrorMessage:Oi?.message})}let ni=ki.status;const ca=ki.headers.get("ETag")||void 0;let ku,$a;if(200===ki.status){let Oi;try{Oi=yield ki.json()}catch(no){throw Or.create("fetch-client-parse",{originalErrorMessage:no?.message})}ku=Oi.entries,$a=Oi.state}if("INSTANCE_STATE_UNSPECIFIED"===$a?ni=500:"NO_CHANGE"===$a?ni=304:("NO_TEMPLATE"===$a||"EMPTY_CONFIG"===$a)&&(ku={}),304!==ni&&200!==ni)throw Or.create("fetch-status",{httpStatus:ni});return{status:ni,eTag:ca,config:ku}})()}}class Qc{constructor(D,R){this.client=D,this.storage=R}fetch(D){var R=this;return(0,N.Z)(function*(){const H=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(D,H)})()}attemptFetch(D,{throttleEndTimeMillis:R,backoffCount:H}){var ee=this;return(0,N.Z)(function*(){yield function Yc(b,D){return new Promise((R,H)=>{const ee=Math.max(D-Date.now(),0),oe=setTimeout(R,ee);b.addEventListener(()=>{clearTimeout(oe),H(Or.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,R);try{const oe=yield ee.client.fetch(D);return yield ee.storage.deleteThrottleMetadata(),oe}catch(oe){if(!function Td(b){if(!(b instanceof fe.ZR&&b.customData))return!1;const D=Number(b.customData.httpStatus);return 429===D||500===D||503===D||504===D}(oe))throw oe;const _e={throttleEndTimeMillis:Date.now()+(0,fe.$s)(H),backoffCount:H+1};return yield ee.storage.setThrottleMetadata(_e),ee.attemptFetch(D,_e)}})()}}class lu{constructor(D,R,H,ee,oe){this.app=D,this._client=R,this._storageCache=H,this._storage=ee,this._logger=oe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Po(b,D){const R=b.target.error||void 0;return Or.create(D,{originalErrorMessage:R&&R?.message})}const ys="app_namespace_store";class tl{constructor(D,R,H,ee=function el(){return new Promise((b,D)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=H=>{D(Po(H,"storage-open"))},R.onsuccess=H=>{b(H.target.result)},R.onupgradeneeded=H=>{0===H.oldVersion&&H.target.result.createObjectStore(ys,{keyPath:"compositeKey"})}}catch(R){D(Or.create("storage-open",{originalErrorMessage:R?.message}))}})}()){this.appId=D,this.appName=R,this.namespace=H,this.openDbPromise=ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var R=this;return(0,N.Z)(function*(){const H=yield R.openDbPromise;return new Promise((ee,oe)=>{const tt=H.transaction([ys],"readonly").objectStore(ys),Xe=R.createCompositeKey(D);try{const Tt=tt.get(Xe);Tt.onerror=Gt=>{oe(Po(Gt,"storage-get"))},Tt.onsuccess=Gt=>{const Qt=Gt.target.result;ee(Qt?Qt.value:void 0)}}catch(Tt){oe(Or.create("storage-get",{originalErrorMessage:Tt?.message}))}})})()}set(D,R){var H=this;return(0,N.Z)(function*(){const ee=yield H.openDbPromise;return new Promise((oe,_e)=>{const Xe=ee.transaction([ys],"readwrite").objectStore(ys),Tt=H.createCompositeKey(D);try{const Gt=Xe.put({compositeKey:Tt,value:R});Gt.onerror=Qt=>{_e(Po(Qt,"storage-set"))},Gt.onsuccess=()=>{oe()}}catch(Gt){_e(Or.create("storage-set",{originalErrorMessage:Gt?.message}))}})})()}delete(D){var R=this;return(0,N.Z)(function*(){const H=yield R.openDbPromise;return new Promise((ee,oe)=>{const tt=H.transaction([ys],"readwrite").objectStore(ys),Xe=R.createCompositeKey(D);try{const Tt=tt.delete(Xe);Tt.onerror=Gt=>{oe(Po(Gt,"storage-delete"))},Tt.onsuccess=()=>{ee()}}catch(Tt){oe(Or.create("storage-delete",{originalErrorMessage:Tt?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Wi{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,N.Z)(function*(){const R=D.storage.getLastFetchStatus(),H=D.storage.getLastSuccessfulFetchTimestampMillis(),ee=D.storage.getActiveConfig(),oe=yield R;oe&&(D.lastFetchStatus=oe);const _e=yield H;_e&&(D.lastSuccessfulFetchTimestampMillis=_e);const tt=yield ee;tt&&(D.activeConfig=tt)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Ca(){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,N.Z)(function*(){if(!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}!function _s(){(0,ae._registerComponent)(new $.wA("remote-config",function b(D,{instanceIdentifier:R}){const H=D.getProvider("app").getImmediate(),ee=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Or.create("registration-window");if(!(0,fe.hl)())throw Or.create("indexed-db-unavailable");const{projectId:oe,apiKey:_e,appId:tt}=H.options;if(!oe)throw Or.create("registration-project-id");if(!_e)throw Or.create("registration-api-key");if(!tt)throw Or.create("registration-app-id");const Xe=new tl(tt,H.name,R=R||"firebase"),Tt=new Wi(Xe),Gt=new Se.Yd(vr);Gt.logLevel=Se.in.ERROR;const Qt=new gs(ee,ae.SDK_VERSION,R,oe,_e,tt),ki=new Qc(Qt,Xe),ni=new Dd(ki,Xe,Tt,Gt),ca=new lu(H,ni,Tt,Xe,Gt);return function ei(b){const D=(0,fe.m9)(b);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(ca),ca},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(vr,"0.4.4"),(0,ae.registerVersion)(vr,"0.4.4","esm2017")}();const rl=(b,D)=>D.some(R=>b instanceof R);let Ki,vs;const Jo=new WeakMap,Oo=new WeakMap,Gn=new WeakMap,bs=new WeakMap,zs=new WeakMap;let Fo={get(b,D,R){if(b instanceof IDBTransaction){if("done"===D)return Oo.get(b);if("objectStoreNames"===D)return b.objectStoreNames||Gn.get(b);if("store"===D)return R.objectStoreNames[1]?void 0:R.objectStore(R.objectStoreNames[0])}return ti(b[D])},set:(b,D,R)=>(b[D]=R,!0),has:(b,D)=>b instanceof IDBTransaction&&("done"===D||"store"===D)||D in b};function Ta(b){return"function"==typeof b?function du(b){return b!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function cc(){return vs||(vs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(b)?function(...D){return b.apply(br(this),D),ti(Jo.get(this))}:function(...D){return ti(b.apply(br(this),D))}:function(D,...R){const H=b.call(br(this),D,...R);return Gn.set(H,D.sort?D.sort():[D]),ti(H)}}(b):(b instanceof IDBTransaction&&function No(b){if(Oo.has(b))return;const D=new Promise((R,H)=>{const ee=()=>{b.removeEventListener("complete",oe),b.removeEventListener("error",_e),b.removeEventListener("abort",_e)},oe=()=>{R(),ee()},_e=()=>{H(b.error||new DOMException("AbortError","AbortError")),ee()};b.addEventListener("complete",oe),b.addEventListener("error",_e),b.addEventListener("abort",_e)});Oo.set(b,D)}(b),rl(b,function Da(){return Ki||(Ki=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(b,Fo):b)}function ti(b){if(b instanceof IDBRequest)return function pr(b){const D=new Promise((R,H)=>{const ee=()=>{b.removeEventListener("success",oe),b.removeEventListener("error",_e)},oe=()=>{R(ti(b.result)),ee()},_e=()=>{H(b.error),ee()};b.addEventListener("success",oe),b.addEventListener("error",_e)});return D.then(R=>{R instanceof IDBCursor&&Jo.set(R,b)}).catch(()=>{}),zs.set(D,b),D}(b);if(bs.has(b))return bs.get(b);const D=Ta(b);return D!==b&&(bs.set(b,D),zs.set(D,b)),D}const br=b=>zs.get(b);function ws(b,D,{blocked:R,upgrade:H,blocking:ee,terminated:oe}={}){const _e=indexedDB.open(b,D),tt=ti(_e);return H&&_e.addEventListener("upgradeneeded",Xe=>{H(ti(_e.result),Xe.oldVersion,Xe.newVersion,ti(_e.transaction))}),R&&_e.addEventListener("blocked",()=>R()),tt.then(Xe=>{oe&&Xe.addEventListener("close",()=>oe()),ee&&Xe.addEventListener("versionchange",()=>ee())}).catch(()=>{}),tt}function fo(b,{blocked:D}={}){const R=indexedDB.deleteDatabase(b);return D&&R.addEventListener("blocked",()=>D()),ti(R).then(()=>{})}const il=["get","getKey","getAll","getAllKeys","count"],po=["put","add","delete","clear"],Gs=new Map;function Es(b,D){if(!(b instanceof IDBDatabase)||D in b||"string"!=typeof D)return;if(Gs.get(D))return Gs.get(D);const R=D.replace(/FromIndex$/,""),H=D!==R,ee=po.includes(R);if(!(R in(H?IDBIndex:IDBObjectStore).prototype)||!ee&&!il.includes(R))return;const oe=function(){var _e=(0,N.Z)(function*(tt,...Xe){const Tt=this.transaction(tt,ee?"readwrite":"readonly");let Gt=Tt.store;return H&&(Gt=Gt.index(Xe.shift())),(yield Promise.all([Gt[R](...Xe),ee&&Tt.done]))[0]});return function(Xe){return _e.apply(this,arguments)}}();return Gs.set(D,oe),oe}!function Jn(b){Fo=b(Fo)}(b=>({...b,get:(D,R,H)=>Es(D,R)||b.get(D,R,H),has:(D,R)=>!!Es(D,R)||b.has(D,R)}));const jt="/firebase-messaging-sw.js",Aa="/firebase-cloud-messaging-push-scope",ol="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",lc="https://fcmregistrations.googleapis.com/v1",Sa="google.c.a.c_id",Ws="google.c.a.c_l",sl="google.c.a.ts",al="google.c.a.e";var be=(()=>{return(b=be||(be={})).PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",be;var b})();function $t(b){const D=new Uint8Array(b);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function uc(b){const R=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(R),ee=new Uint8Array(H.length);for(let oe=0;oe<H.length;++oe)ee[oe]=H.charCodeAt(oe);return ee}const qs="fcm_token_details_db",lr=5,cl="fcm_token_object_Store";function Ai(){return Ai=(0,N.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(oe=>oe.name).includes(qs))return null;let D=null;return(yield ws(qs,lr,{upgrade:(H=(0,N.Z)(function*(ee,oe,_e,tt){var Xe;if(oe<2||!ee.objectStoreNames.contains(cl))return;const Tt=tt.objectStore(cl),Gt=yield Tt.index("fcmSenderId").get(b);if(yield Tt.clear(),Gt)if(2===oe){const Qt=Gt;if(!Qt.auth||!Qt.p256dh||!Qt.endpoint)return;D={token:Qt.fcmToken,createTime:null!==(Xe=Qt.createTime)&&void 0!==Xe?Xe:Date.now(),subscriptionOptions:{auth:Qt.auth,p256dh:Qt.p256dh,endpoint:Qt.endpoint,swScope:Qt.swScope,vapidKey:"string"==typeof Qt.vapidKey?Qt.vapidKey:$t(Qt.vapidKey)}}}else if(3===oe){const Qt=Gt;D={token:Qt.fcmToken,createTime:Qt.createTime,subscriptionOptions:{auth:$t(Qt.auth),p256dh:$t(Qt.p256dh),endpoint:Qt.endpoint,swScope:Qt.swScope,vapidKey:$t(Qt.vapidKey)}}}else if(4===oe){const Qt=Gt;D={token:Qt.fcmToken,createTime:Qt.createTime,subscriptionOptions:{auth:$t(Qt.auth),p256dh:$t(Qt.p256dh),endpoint:Qt.endpoint,swScope:Qt.swScope,vapidKey:$t(Qt.vapidKey)}}}}),function(oe,_e,tt,Xe){return H.apply(this,arguments)})})).close(),yield fo(qs),yield fo("fcm_vapid_details_db"),yield fo("undefined"),function xa(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:D}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(D)?D:null;var H}),Ai.apply(this,arguments)}const ll="firebase-messaging-database",ul=1,mo="firebase-messaging-store";let es=null;function Fr(){return es||(es=ws(ll,ul,{upgrade:(b,D)=>{0===D&&b.createObjectStore(mo)}})),es}function ci(b){return Lo.apply(this,arguments)}function Lo(){return Lo=(0,N.Z)(function*(b){const D=hl(b),H=yield(yield Fr()).transaction(mo).objectStore(mo).get(D);if(H)return H;{const ee=yield function Xo(b){return Ai.apply(this,arguments)}(b.appConfig.senderId);if(ee)return yield Zi(b,ee),ee}}),Lo.apply(this,arguments)}function Zi(b,D){return Si.apply(this,arguments)}function Si(){return(Si=(0,N.Z)(function*(b,D){const R=hl(b),ee=(yield Fr()).transaction(mo,"readwrite");return yield ee.objectStore(mo).put(D,R),yield ee.done,D})).apply(this,arguments)}function ts(){return(ts=(0,N.Z)(function*(b){const D=hl(b),H=(yield Fr()).transaction(mo,"readwrite");yield H.objectStore(mo).delete(D),yield H.done})).apply(this,arguments)}function hl({appConfig:b}){return b.appId}const Xn=new fe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ma(b,D){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,N.Z)(function*(b,D){const R=yield Zs(b),H=Yi(D),ee={method:"POST",headers:R,body:JSON.stringify(H)};let oe;try{oe=yield(yield fetch(dc(b.appConfig),ee)).json()}catch(_e){throw Xn.create("token-subscribe-failed",{errorInfo:_e?.toString()})}if(oe.error)throw Xn.create("token-subscribe-failed",{errorInfo:oe.error.message});if(!oe.token)throw Xn.create("token-subscribe-no-token");return oe.token})).apply(this,arguments)}function Ra(){return(Ra=(0,N.Z)(function*(b,D){const R=yield Zs(b),H=Yi(D.subscriptionOptions),ee={method:"PATCH",headers:R,body:JSON.stringify(H)};let oe;try{oe=yield(yield fetch(`${dc(b.appConfig)}/${D.token}`,ee)).json()}catch(_e){throw Xn.create("token-update-failed",{errorInfo:_e?.toString()})}if(oe.error)throw Xn.create("token-update-failed",{errorInfo:oe.error.message});if(!oe.token)throw Xn.create("token-update-no-token");return oe.token})).apply(this,arguments)}function pl(b,D){return Is.apply(this,arguments)}function Is(){return(Is=(0,N.Z)(function*(b,D){const H={method:"DELETE",headers:yield Zs(b)};try{const oe=yield(yield fetch(`${dc(b.appConfig)}/${D}`,H)).json();if(oe.error)throw Xn.create("token-unsubscribe-failed",{errorInfo:oe.error.message})}catch(ee){throw Xn.create("token-unsubscribe-failed",{errorInfo:ee?.toString()})}})).apply(this,arguments)}function dc({projectId:b}){return`${lc}/projects/${b}/registrations`}function Zs(b){return hc.apply(this,arguments)}function hc(){return(hc=(0,N.Z)(function*({appConfig:b,installations:D}){const R=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function Yi({p256dh:b,auth:D,endpoint:R,vapidKey:H}){const ee={web:{endpoint:R,auth:D,p256dh:b}};return H!==ol&&(ee.web.applicationPubKey=H),ee}const fc=6048e5;function mc(){return mc=(0,N.Z)(function*(b){const D=yield function xd(b,D){return xi.apply(this,arguments)}(b.swRegistration,b.vapidKey),R={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:D.endpoint,auth:$t(D.getKey("auth")),p256dh:$t(D.getKey("p256dh"))},H=yield ci(b.firebaseDependencies);if(H){if(function mr(b,D){return D.vapidKey===b.vapidKey&&D.endpoint===b.endpoint&&D.auth===b.auth&&D.p256dh===b.p256dh}(H.subscriptionOptions,R))return Date.now()>=H.createTime+fc?function Wn(b,D){return gc.apply(this,arguments)}(b,{token:H.token,createTime:Date.now(),subscriptionOptions:R}):H.token;try{yield pl(b.firebaseDependencies,H.token)}catch(ee){console.warn(ee)}return Cs(b.firebaseDependencies,R)}return Cs(b.firebaseDependencies,R)}),mc.apply(this,arguments)}function Qi(){return Qi=(0,N.Z)(function*(b){const D=yield ci(b.firebaseDependencies);D&&(yield pl(b.firebaseDependencies,D.token),yield function dl(b){return ts.apply(this,arguments)}(b.firebaseDependencies));const R=yield b.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()}),Qi.apply(this,arguments)}function gc(){return gc=(0,N.Z)(function*(b,D){try{const R=yield function fl(b,D){return Ra.apply(this,arguments)}(b.firebaseDependencies,D),H=Object.assign(Object.assign({},D),{token:R,createTime:Date.now()});return yield Zi(b.firebaseDependencies,H),R}catch(R){throw yield function Kr(b){return Qi.apply(this,arguments)}(b),R}}),gc.apply(this,arguments)}function Cs(b,D){return yc.apply(this,arguments)}function yc(){return(yc=(0,N.Z)(function*(b,D){const H={token:yield Ma(b,D),createTime:Date.now(),subscriptionOptions:D};return yield Zi(b,H),H.token})).apply(this,arguments)}function xi(){return(xi=(0,N.Z)(function*(b,D){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:uc(D)})})).apply(this,arguments)}function Pa(b){const D={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function _c(b,D){if(!D.notification)return;b.notification={};const R=D.notification.title;R&&(b.notification.title=R);const H=D.notification.body;H&&(b.notification.body=H);const ee=D.notification.image;ee&&(b.notification.image=ee);const oe=D.notification.icon;oe&&(b.notification.icon=oe)}(D,b),function ml(b,D){D.data&&(b.data=D.data)}(D,b),function gl(b,D){var R,H,ee,oe,_e;if(!(D.fcmOptions||null!==(R=D.notification)&&void 0!==R&&R.click_action))return;b.fcmOptions={};const tt=null!==(ee=null===(H=D.fcmOptions)||void 0===H?void 0:H.link)&&void 0!==ee?ee:null===(oe=D.notification)||void 0===oe?void 0:oe.click_action;tt&&(b.fcmOptions.link=tt);const Xe=null===(_e=D.fcmOptions)||void 0===_e?void 0:_e.analytics_label;Xe&&(b.fcmOptions.analyticsLabel=Xe)}(D,b),D}function Ds(b,D){const R=[];for(let H=0;H<b.length;H++)R.push(b.charAt(H)),H<D.length&&R.push(D.charAt(H));return R.join("")}function Mi(b){return Xn.create("missing-app-config-values",{valueName:b})}Ds("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ds("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class C{constructor(D,R,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ee=function Ys(b){if(!b||!b.options)throw Mi("App Configuration Object");if(!b.name)throw Mi("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:R}=b;for(const H of D)if(!R[H])throw Mi(H);return{appName:b.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:ee,installations:R,analyticsProvider:H}}_delete(){return Promise.resolve()}}function T(b){return k.apply(this,arguments)}function k(){return(k=(0,N.Z)(function*(b){try{b.swRegistration=yield navigator.serviceWorker.register(jt,{scope:Aa}),b.swRegistration.update().catch(()=>{})}catch(D){throw Xn.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function me(){return(me=(0,N.Z)(function*(b,D){if(!D&&!b.swRegistration&&(yield T(b)),D||!b.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw Xn.create("invalid-sw-registration");b.swRegistration=D}})).apply(this,arguments)}function bn(){return(bn=(0,N.Z)(function*(b,D){D?b.vapidKey=D:b.vapidKey||(b.vapidKey=ol)})).apply(this,arguments)}function tr(){return tr=(0,N.Z)(function*(b,D){if(!navigator)throw Xn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Xn.create("permission-blocked");return yield function Mt(b,D){return bn.apply(this,arguments)}(b,D?.vapidKey),yield function W(b,D){return me.apply(this,arguments)}(b,D?.serviceWorkerRegistration),function pc(b){return mc.apply(this,arguments)}(b)}),tr.apply(this,arguments)}function Ji(){return(Ji=(0,N.Z)(function*(b,D,R){const H=function Qs(b){switch(b){case be.NOTIFICATION_CLICKED:return"notification_open";case be.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(D);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:R[Sa],message_name:R[Ws],message_time:R[sl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Js(){return Js=(0,N.Z)(function*(b,D){const R=D.data;if(!R.isFirebaseMessaging)return;b.onMessageHandler&&R.messageType===be.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(Pa(R)):b.onMessageHandler.next(Pa(R)));const H=R.data;(function ka(b){return"object"==typeof b&&!!b&&Sa in b})(H)&&"1"===H[al]&&(yield function ns(b,D,R){return Ji.apply(this,arguments)}(b,R.messageType,H))}),Js.apply(this,arguments)}const Na="@firebase/messaging",bc=b=>{const D=new C(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function Oa(b,D){return Js.apply(this,arguments)}(D,R)),D},hu=b=>{const D=b.getProvider("messaging").getImmediate();return{getToken:H=>function er(b,D){return tr.apply(this,arguments)}(D,H)}};function mf(){return fu.apply(this,arguments)}function fu(){return(fu=(0,N.Z)(function*(){try{yield(0,fe.eu)()}catch{return!1}return typeof window<"u"&&(0,fe.hl)()&&(0,fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function wc(){(0,ae._registerComponent)(new $.wA("messaging",bc,"PUBLIC")),(0,ae._registerComponent)(new $.wA("messaging-internal",hu,"PRIVATE")),(0,ae.registerVersion)(Na,"0.12.4"),(0,ae.registerVersion)(Na,"0.12.4","esm2017")}();const Ts="analytics",_l="firebase_id",Pd="origin",Ec=6e4,kd="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vl="https://www.googletagmanager.com/gtag/js",Lr=new Se.Yd("@firebase/analytics"),ur=new fe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function gf(b){if(!b.startsWith(vl)){const D=ur.create("invalid-gtag-resource",{gtagURL:b});return Lr.warn(D.message),""}return b}function As(b){return Promise.all(b.map(D=>D.catch(R=>R)))}function Ss(){return(Ss=(0,N.Z)(function*(b,D,R,H,ee,oe){const _e=H[ee];try{if(_e)yield D[_e];else{const Xe=(yield As(R)).find(Tt=>Tt.measurementId===ee);Xe&&(yield D[Xe.appId])}}catch(tt){Lr.error(tt)}b("config",ee,oe)})).apply(this,arguments)}function Xs(){return(Xs=(0,N.Z)(function*(b,D,R,H,ee){try{let oe=[];if(ee&&ee.send_to){let _e=ee.send_to;Array.isArray(_e)||(_e=[_e]);const tt=yield As(R);for(const Xe of _e){const Tt=tt.find(Qt=>Qt.measurementId===Xe),Gt=Tt&&D[Tt.appId];if(!Gt){oe=[];break}oe.push(Gt)}}0===oe.length&&(oe=Object.values(D)),yield Promise.all(oe),b("event",H,ee||{})}catch(oe){Lr.error(oe)}})).apply(this,arguments)}const wl=30,na=new class Od{constructor(D={},R=1e3){this.throttleMetadata=D,this.intervalMillis=R}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,R){this.throttleMetadata[D]=R}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function _f(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function In(){return(In=(0,N.Z)(function*(b){var D;const{appId:R,apiKey:H}=b,ee={method:"GET",headers:_f(H)},oe=kd.replace("{app-id}",R),_e=yield fetch(oe,ee);if(200!==_e.status&&304!==_e.status){let tt="";try{const Xe=yield _e.json();null!==(D=Xe.error)&&void 0!==D&&D.message&&(tt=Xe.error.message)}catch{}throw ur.create("config-fetch-failed",{httpStatus:_e.status,responseMessage:tt})}return _e.json()})).apply(this,arguments)}function Fd(){return(Fd=(0,N.Z)(function*(b,D=na,R){const{appId:H,apiKey:ee,measurementId:oe}=b.options;if(!H)throw ur.create("no-app-id");if(!ee){if(oe)return{measurementId:oe,appId:H};throw ur.create("no-api-key")}const _e=D.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},tt=new Ky;return setTimeout((0,N.Z)(function*(){tt.abort()}),void 0!==R?R:Ec),bu({appId:H,apiKey:ee,measurementId:oe},_e,tt,D)})).apply(this,arguments)}function bu(b,D,R){return wu.apply(this,arguments)}function wu(){return wu=(0,N.Z)(function*(b,{throttleEndTimeMillis:D,backoffCount:R},H,ee=na){var oe;const{appId:_e,measurementId:tt}=b;try{yield function vf(b,D){return new Promise((R,H)=>{const ee=Math.max(D-Date.now(),0),oe=setTimeout(R,ee);b.addEventListener(()=>{clearTimeout(oe),H(ur.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(H,D)}catch(Xe){if(tt)return Lr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${tt} provided in the "measurementId" field in the local Firebase config. [${Xe?.message}]`),{appId:_e,measurementId:tt};throw Xe}try{const Xe=yield function Nd(b){return In.apply(this,arguments)}(b);return ee.deleteThrottleMetadata(_e),Xe}catch(Xe){const Tt=Xe;if(!function qy(b){if(!(b instanceof fe.ZR&&b.customData))return!1;const D=Number(b.customData.httpStatus);return 429===D||500===D||503===D||504===D}(Tt)){if(ee.deleteThrottleMetadata(_e),tt)return Lr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${tt} provided in the "measurementId" field in the local Firebase config. [${Tt?.message}]`),{appId:_e,measurementId:tt};throw Xe}const Gt=503===Number(null===(oe=Tt?.customData)||void 0===oe?void 0:oe.httpStatus)?(0,fe.$s)(R,ee.intervalMillis,wl):(0,fe.$s)(R,ee.intervalMillis),Qt={throttleEndTimeMillis:Date.now()+Gt,backoffCount:R+1};return ee.setThrottleMetadata(_e,Qt),Lr.debug(`Calling attemptFetch again in ${Gt} millis`),bu(b,Qt,H,ee)}}),wu.apply(this,arguments)}class Ky{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let ra,Ba;function bf(){return(bf=(0,N.Z)(function*(b,D,R,H,ee){if(ee&&ee.global)b("event",R,H);else{const oe=yield D;b("event",R,Object.assign(Object.assign({},H),{send_to:oe}))}})).apply(this,arguments)}function eo(){return(eo=(0,N.Z)(function*(){if(!(0,fe.hl)())return Lr.warn(ur.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,fe.eu)()}catch(b){return Lr.warn(ur.create("indexeddb-unavailable",{errorInfo:b?.toString()}).message),!1}return!0})).apply(this,arguments)}function ut(){return ut=(0,N.Z)(function*(b,D,R,H,ee,oe,_e){var tt;const Xe=function vu(b){return Fd.apply(this,arguments)}(b);Xe.then(ni=>{R[ni.measurementId]=ni.appId,b.options.measurementId&&ni.measurementId!==b.options.measurementId&&Lr.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${ni.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ni=>Lr.error(ni)),D.push(Xe);const Tt=function Xi(){return eo.apply(this,arguments)}().then(ni=>{if(ni)return H.getId()}),[Gt,Qt]=yield Promise.all([Xe,Tt]);(function ta(b){const D=window.document.getElementsByTagName("script");for(const R of Object.values(D))if(R.src&&R.src.includes(vl)&&R.src.includes(b))return R;return null})(oe)||function La(b,D){const R=function bl(b,D){let R;return window.trustedTypes&&(R=window.trustedTypes.createPolicy(b,D)),R}("firebase-js-sdk-policy",{createScriptURL:gf}),H=document.createElement("script"),ee=`${vl}?l=${b}&id=${D}`;H.src=R?R?.createScriptURL(ee):ee,H.async=!0,document.head.appendChild(H)}(oe,Gt.measurementId),Ba&&(ee("consent","default",Ba),function Dc(b){Ba=b}(void 0)),ee("js",new Date);const ki=null!==(tt=_e?.config)&&void 0!==tt?tt:{};return ki[Pd]="firebase",ki.update=!0,null!=Qt&&(ki[_l]=Qt),ee("config",Gt.measurementId,ki),ra&&(ee("set",ra),function Cl(b){ra=b}(void 0)),Gt.measurementId}),ut.apply(this,arguments)}class Ri{constructor(D){this.app=D}_delete(){return delete nr[this.app.options.appId],Promise.resolve()}}let nr={},Dl=[];const rs={};let Pi,mt,gr="dataLayer",Sr="gtag",go=!1;function wf(b,D,R){!function mi(){const b=[];if((0,fe.ru)()&&b.push("This is a browser extension environment."),(0,fe.zI)()||b.push("Cookies are not available."),b.length>0){const D=b.map((H,ee)=>`(${ee+1}) ${H}`).join(" "),R=ur.create("invalid-analytics-context",{errorInfo:D});Lr.warn(R.message)}}();const H=b.options.appId;if(!H)throw ur.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw ur.create("no-api-key");Lr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=nr[H])throw ur.create("already-exists",{id:H});if(!go){!function gu(b){let D=[];Array.isArray(window[b])?D=window[b]:window[b]=D}(gr);const{wrappedGtag:oe,gtagCore:_e}=function ea(b,D,R,H,ee){let oe=function(..._e){window[H].push(arguments)};return window[ee]&&"function"==typeof window[ee]&&(oe=window[ee]),window[ee]=function Ic(b,D,R,H){function oe(){return oe=(0,N.Z)(function*(_e,...tt){try{if("event"===_e){const[Xe,Tt]=tt;yield function yf(b,D,R,H,ee){return Xs.apply(this,arguments)}(b,D,R,Xe,Tt)}else if("config"===_e){const[Xe,Tt]=tt;yield function yu(b,D,R,H,ee,oe){return Ss.apply(this,arguments)}(b,D,R,H,Xe,Tt)}else if("consent"===_e){const[Xe]=tt;b("consent","update",Xe)}else if("get"===_e){const[Xe,Tt,Gt]=tt;b("get",Xe,Tt,Gt)}else if("set"===_e){const[Xe]=tt;b("set",Xe)}else b(_e,...tt)}catch(Xe){Lr.error(Xe)}}),oe.apply(this,arguments)}return function ee(_e){return oe.apply(this,arguments)}}(oe,b,D,R),{gtagCore:oe,wrappedGtag:window[ee]}}(nr,Dl,rs,gr,Sr);mt=oe,Pi=_e,go=!0}return nr[H]=function Rn(b,D,R,H,ee,oe,_e){return ut.apply(this,arguments)}(b,Dl,rs,D,Pi,gr,R),new Ri(b)}function Vd(){return yo.apply(this,arguments)}function yo(){return(yo=(0,N.Z)(function*(){if((0,fe.ru)()||!(0,fe.zI)()||!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}const jd="@firebase/analytics";!function yr(){(0,ae._registerComponent)(new $.wA(Ts,(D,{options:R})=>wf(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,ae._registerComponent)(new $.wA("analytics-internal",function b(D){try{const R=D.getProvider(Ts).getImmediate();return{logEvent:(H,ee,oe)=>function Ud(b,D,R,H){b=(0,fe.m9)(b),function Zy(b,D,R,H,ee){return bf.apply(this,arguments)}(mt,nr[b.app.options.appId],D,R,H).catch(ee=>Lr.error(ee))}(R,H,ee,oe)}}catch(R){throw ur.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,ae.registerVersion)(jd,"0.10.0"),(0,ae.registerVersion)(jd,"0.10.0","esm2017")}();var Tu=U(4408),is=U(7565);const xu=new class Su extends is.v{}(class Au extends Tu.o{constructor(D,R){super(D,R),this.scheduler=D,this.work=R}schedule(D,R=0){return R>0?super.schedule(D,R):(this.delay=R,this.state=D,this.scheduler.flush(this),this)}execute(D,R){return R>0||this.closed?super.execute(D,R):this._execute(D,R)}requestAsyncId(D,R,H=0){return null!=H&&H>0||null==H&&this.delay>0?super.requestAsyncId(D,R,H):(D.flush(this),0)}});var If=U(4986),Sc=U(9751),$d=U(8505),Ml=U(9468),oa=U(5363);const xc=new d.GfV("7.6.1"),Mu="__angularfire_symbol__analyticsIsSupportedValue",Hd="__angularfire_symbol__analyticsIsSupported",Mc="__angularfire_symbol__remoteConfigIsSupportedValue",zd="__angularfire_symbol__remoteConfigIsSupported",Cf="__angularfire_symbol__messagingIsSupportedValue",Gd="__angularfire_symbol__messagingIsSupported";function Rc(b,D,R){if(D){if(1===D.length)return D[0];const oe=D.filter(_e=>_e.app===R);if(1===oe.length)return oe[0]}return R.container.getProvider(b).getImmediate({optional:!0})}globalThis[Hd]||(globalThis[Hd]=Vd().then(b=>globalThis[Mu]=b).catch(()=>globalThis[Mu]=!1)),globalThis[Gd]||(globalThis[Gd]=mf().then(b=>globalThis[Cf]=b).catch(()=>globalThis[Cf]=!1)),globalThis[zd]||(globalThis[zd]=Ca().then(b=>globalThis[Mc]=b).catch(()=>globalThis[Mc]=!1));const Df=(b,D)=>{const R=D?[D]:(0,K.C6)(),H=[];return R.forEach(ee=>{ee.container.getProvider(b).instances.forEach(_e=>{H.includes(_e)||H.push(_e)})}),H};function sa(){}class Rl{constructor(D,R=xu){this.zone=D,this.delegate=R}now(){return this.delegate.now()}schedule(D,R,H){const ee=this.zone;return this.delegate.schedule(function(_e){ee.runGuarded(()=>{D.apply(this,[_e])})},R,H)}}class _o{constructor(D){this.zone=D,this.task=null}call(D,R){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",sa,{},sa,sa)),R.pipe((0,$d.b)({next:H,complete:H,error:H})).subscribe(D).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ja=(()=>{class b{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Rl(Zone.current)),this.insideAngular=R.run(()=>new Rl(Zone.current,If.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(R){return new(R||b)(d.LFG(d.R0b))},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function aa(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function Ms(b){return aa().ngZone.run(()=>b())}function Kd(b){return aa(),function Af(b){return function(R){return(R=R.lift(new _o(b.ngZone))).pipe((0,Ml.R)(b.outsideAngular),(0,oa.Q)(b.insideAngular))}}(aa())(b)}const Sf=(b,D)=>function(){const H=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),Ms(()=>b.apply(void 0,H))},dr=(b,D)=>function(){let R;const H=arguments;for(let oe=0;oe<arguments.length;oe++)"function"==typeof H[oe]&&(D&&(R||(R=Ms(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",sa,{},sa,sa)))),H[oe]=Sf(H[oe],R));const ee=function qd(b){return aa().ngZone.runOutsideAngular(()=>b())}(()=>b.apply(this,H));if(!D){if(ee instanceof Sc.y){const oe=aa();return ee.pipe((0,Ml.R)(oe.outsideAngular),(0,oa.Q)(oe.insideAngular))}return Ms(()=>ee)}return ee instanceof Sc.y?ee.pipe(Kd):ee instanceof Promise?Ms(()=>new Promise((oe,_e)=>ee.then(tt=>Ms(()=>oe(tt)),tt=>Ms(()=>_e(tt))))):"function"==typeof ee&&R?function(){return setTimeout(()=>{R&&"scheduled"===R.state&&R.invoke()},10),ee.apply(this,arguments)}:Ms(()=>ee)}},1389:(St,Oe,U)=>{"use strict";U.d(Oe,{$:()=>jt,A:()=>Y,D:()=>Ne,I:()=>Ln,J:()=>Ci,L:()=>Gi,N:()=>Wr,P:()=>Rn,Q:()=>tl,R:()=>Il,U:()=>nl,V:()=>Ca,W:()=>Hs,X:()=>qi,Y:()=>Da,Z:()=>cc,_:()=>zs,a:()=>pi,a0:()=>ol,a1:()=>Sa,a2:()=>Ad,a3:()=>cl,a4:()=>Ai,a5:()=>ll,a6:()=>mo,a7:()=>Fr,a8:()=>Lo,a9:()=>Si,aA:()=>de,aB:()=>Hd,aC:()=>ar,aD:()=>Pr,aE:()=>$d,aF:()=>Bd,aG:()=>xl,aH:()=>An,aL:()=>Vo,aO:()=>Ki,aa:()=>dl,ab:()=>hl,ac:()=>Sd,ad:()=>fl,ae:()=>pl,af:()=>dc,ai:()=>fc,aj:()=>mc,ak:()=>Kr,an:()=>du,ao:()=>_c,aq:()=>bn,ar:()=>Na,as:()=>Pt,at:()=>kt,au:()=>xe,av:()=>ke,aw:()=>Qt,ax:()=>Gd,ay:()=>nn,az:()=>De,b:()=>yl,c:()=>mt,d:()=>wf,e:()=>Tl,f:()=>jd,g:()=>Su,h:()=>Tu,i:()=>_u,j:()=>If,k:()=>$a,l:()=>Cc,m:()=>Ha,o:()=>Qd,p:()=>Ee,r:()=>Ld,s:()=>xs,u:()=>Xi});var d=U(5861),K=U(2090),N=U(6881),ae=U(7582),fe=U(1877),$=U(4859);const Ee={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Y={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ne=function se(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},et=function Ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ct=new K.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Fe=new fe.Yd("@firebase/auth");function Ve(v,...p){Fe.logLevel<=fe.in.ERROR&&Fe.error(`Auth (${N.SDK_VERSION}): ${v}`,...p)}function ke(v,...p){throw ze(v,...p)}function De(v,...p){return ze(v,...p)}function we(v,p,g){const E=Object.assign(Object.assign({},et()),{[p]:g});return new K.LL("auth","Firebase",E).create(p,{appName:v.name})}function We(v,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&ke(v,"argument-error"),we(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ze(v,...p){if("string"!=typeof v){const g=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(g,...E)}return ct.create(v,...p)}function de(v,p,...g){if(!v)throw ze(p,...g)}function nt(v){const p="INTERNAL ASSERTION FAILED: "+v;throw Ve(p),new Error(p)}function Pt(v,p){v||nt(p)}function ht(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function qt(){return"http:"===rt()||"https:"===rt()}function rt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Ae{constructor(p,g){this.shortDelay=p,this.longDelay=g,Pt(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,K.uI)()||(0,K.b$)()}get(){return function ii(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(qt()||(0,K.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pe(v,p){Pt(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Le{static initialize(p,g,E){this.fetchImpl=p,g&&(this.headersImpl=g),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void nt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void nt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void nt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Je={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},He=new Ae(3e4,6e4);function Be(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function bt(v,p,g,E){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,d.Z)(function*(v,p,g,E,P={}){return yt(v,P,(0,d.Z)(function*(){let V={},ne={};E&&("GET"===p?ne=E:V={body:JSON.stringify(E)});const ge=(0,K.xO)(Object.assign({key:v.config.apiKey},ne)).slice(1),Qe=yield v._getAdditionalHeaders();return Qe["Content-Type"]="application/json",v.languageCode&&(Qe["X-Firebase-Locale"]=v.languageCode),Le.fetch()(vn(v,v.config.apiHost,g,ge),Object.assign({method:p,headers:Qe,referrerPolicy:"no-referrer"},V))}))})).apply(this,arguments)}function yt(v,p,g){return Et.apply(this,arguments)}function Et(){return(Et=(0,d.Z)(function*(v,p,g){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},Je),p);try{const P=new zr(v),V=yield Promise.race([g(),P.promise]);P.clearNetworkTimeout();const ne=yield V.json();if("needConfirmation"in ne)throw Dn(v,"account-exists-with-different-credential",ne);if(V.ok&&!("errorMessage"in ne))return ne;{const ge=V.ok?ne.errorMessage:ne.error.message,[Qe,st]=ge.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Qe)throw Dn(v,"credential-already-in-use",ne);if("EMAIL_EXISTS"===Qe)throw Dn(v,"email-already-in-use",ne);if("USER_DISABLED"===Qe)throw Dn(v,"user-disabled",ne);const xt=E[Qe]||Qe.toLowerCase().replace(/[_\s]+/g,"-");if(st)throw we(v,xt,st);ke(v,xt)}}catch(P){if(P instanceof K.ZR)throw P;ke(v,"network-request-failed",{message:String(P)})}})).apply(this,arguments)}function mn(v,p,g,E){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,d.Z)(function*(v,p,g,E,P={}){const V=yield bt(v,p,g,E,P);return"mfaPendingCredential"in V&&ke(v,"multi-factor-auth-required",{_serverResponse:V}),V})).apply(this,arguments)}function vn(v,p,g,E){const P=`${p}${g}?${E}`;return v.config.emulator?Pe(v.config,P):`${v.config.apiScheme}://${P}`}class zr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,E)=>{this.timer=setTimeout(()=>E(De(this.auth,"network-request-failed")),He.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dn(v,p,g){const E={appName:v.name};g.email&&(E.email=g.email),g.phoneNumber&&(E.phoneNumber=g.phoneNumber);const P=De(v,p,E);return P.customData._tokenResponse=g,P}function rr(){return(rr=(0,d.Z)(function*(v,p){return bt(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Kt(){return(Kt=(0,d.Z)(function*(v,p){return bt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function xn(){return(xn=(0,d.Z)(function*(v,p){return bt(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function _t(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Zn(){return(Zn=(0,d.Z)(function*(v,p=!1){const g=(0,K.m9)(v),E=yield g.getIdToken(p),P=Fn(E);de(P&&P.exp&&P.auth_time&&P.iat,g.auth,"internal-error");const V="object"==typeof P.firebase?P.firebase:void 0,ne=V?.sign_in_provider;return{claims:P,token:E,authTime:_t(_r(P.auth_time)),issuedAtTime:_t(_r(P.iat)),expirationTime:_t(_r(P.exp)),signInProvider:ne||null,signInSecondFactor:V?.sign_in_second_factor||null}})).apply(this,arguments)}function _r(v){return 1e3*Number(v)}function Fn(v){const[p,g,E]=v.split(".");if(void 0===p||void 0===g||void 0===E)return Ve("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,K.tV)(g);return P?JSON.parse(P):(Ve("Failed to decode base64 JWT payload"),null)}catch(P){return Ve("Caught error parsing JWT payload as JSON",P?.toString()),null}}function en(v,p){return vt.apply(this,arguments)}function vt(){return(vt=(0,d.Z)(function*(v,p,g=!1){if(g)return p;try{return yield p}catch(E){throw E instanceof K.ZR&&function Ut({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}class ir{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const P=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,P)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,d.Z)(function*(){yield g.iteration()}),E)}iteration(){var p=this;return(0,d.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&p.schedule(!0))}p.schedule()})()}}class Ir{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=_t(this.lastLoginAt),this.creationTime=_t(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Yn(v){return oi.apply(this,arguments)}function oi(){return oi=(0,d.Z)(function*(v){var p;const g=v.auth,E=yield v.getIdToken(),P=yield en(v,function Gr(v,p){return xn.apply(this,arguments)}(g,{idToken:E}));de(P?.users.length,g,"internal-error");const V=P.users[0];v._notifyReloadListener(V);const ne=null!==(p=V.providerUserInfo)&&void 0!==p&&p.length?function Ii(v){return v.map(p=>{var{providerId:g}=p,E=(0,ae._T)(p,["providerId"]);return{providerId:g,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(V.providerUserInfo):[],ge=function sn(v,p){return[...v.filter(E=>!p.some(P=>P.providerId===E.providerId)),...p]}(v.providerData,ne),xt=!!v.isAnonymous&&!(v.email&&V.passwordHash||ge?.length),cn={uid:V.localId,displayName:V.displayName||null,photoURL:V.photoUrl||null,email:V.email||null,emailVerified:V.emailVerified||!1,phoneNumber:V.phoneNumber||null,tenantId:V.tenantId||null,providerData:ge,metadata:new Ir(V.createdAt,V.lastLoginAt),isAnonymous:xt};Object.assign(v,cn)}),oi.apply(this,arguments)}function Cr(){return(Cr=(0,d.Z)(function*(v){const p=(0,K.m9)(v);yield Yn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function si(){return(si=(0,d.Z)(function*(v,p){const g=yield yt(v,{},(0,d.Z)(function*(){const E=(0,K.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:P,apiKey:V}=v.config,ne=vn(v,P,"/v1/token",`key=${V}`),ge=yield v._getAdditionalHeaders();return ge["Content-Type"]="application/x-www-form-urlencoded",Le.fetch()(ne,{method:"POST",headers:ge,body:E})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class zt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){de(p.idToken,"internal-error"),de(typeof p.idToken<"u","internal-error"),de(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function En(v){const p=Fn(v);return de(p,"internal-error"),de(typeof p.exp<"u","internal-error"),de(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var E=this;return(0,d.Z)(function*(){return de(!E.accessToken||E.refreshToken,p,"user-token-expired"),g||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var E=this;return(0,d.Z)(function*(){const{accessToken:P,refreshToken:V,expiresIn:ne}=yield function ln(v,p){return si.apply(this,arguments)}(p,g);E.updateTokensAndExpiration(P,V,Number(ne))})()}updateTokensAndExpiration(p,g,E){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,g){const{refreshToken:E,accessToken:P,expirationTime:V}=g,ne=new zt;return E&&(de("string"==typeof E,"internal-error",{appName:p}),ne.refreshToken=E),P&&(de("string"==typeof P,"internal-error",{appName:p}),ne.accessToken=P),V&&(de("number"==typeof V,"internal-error",{appName:p}),ne.expirationTime=V),ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new zt,this.toJSON())}_performRefresh(){return nt("not implemented")}}function or(v,p){de("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class Kn{constructor(p){var{uid:g,auth:E,stsTokenManager:P}=p,V=(0,ae._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ir(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=E,this.stsTokenManager=P,this.accessToken=P.accessToken,this.displayName=V.displayName||null,this.email=V.email||null,this.emailVerified=V.emailVerified||!1,this.phoneNumber=V.phoneNumber||null,this.photoURL=V.photoURL||null,this.isAnonymous=V.isAnonymous||!1,this.tenantId=V.tenantId||null,this.providerData=V.providerData?[...V.providerData]:[],this.metadata=new Ir(V.createdAt||void 0,V.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,d.Z)(function*(){const E=yield en(g,g.stsTokenManager.getToken(g.auth,p));return de(E,g.auth,"internal-error"),g.accessToken!==E&&(g.accessToken=E,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),E})()}getIdTokenResult(p){return function $n(v){return Zn.apply(this,arguments)}(this,p)}reload(){return function Mn(v){return Cr.apply(this,arguments)}(this)}_assign(p){this!==p&&(de(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const g=new Kn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(p){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var E=this;return(0,d.Z)(function*(){let P=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),P=!0),g&&(yield Yn(E)),yield E.auth._persistUserIfCurrent(E),P&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,d.Z)(function*(){const g=yield p.getIdToken();return yield en(p,function Er(v,p){return rr.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var E,P,V,ne,ge,Qe,st,xt;const cn=null!==(E=g.displayName)&&void 0!==E?E:void 0,Ni=null!==(P=g.email)&&void 0!==P?P:void 0,Rs=null!==(V=g.phoneNumber)&&void 0!==V?V:void 0,Nu=null!==(ne=g.photoURL)&&void 0!==ne?ne:void 0,Jd=null!==(ge=g.tenantId)&&void 0!==ge?ge:void 0,kc=null!==(Qe=g._redirectEventId)&&void 0!==Qe?Qe:void 0,Pf=null!==(st=g.createdAt)&&void 0!==st?st:void 0,Xd=null!==(xt=g.lastLoginAt)&&void 0!==xt?xt:void 0,{uid:Fu,emailVerified:kf,isAnonymous:Lu,providerData:Vu,stsTokenManager:Oc}=g;de(Fu&&Oc,p,"internal-error");const Bu=zt.fromJSON(this.name,Oc);de("string"==typeof Fu,p,"internal-error"),or(cn,p.name),or(Ni,p.name),de("boolean"==typeof kf,p,"internal-error"),de("boolean"==typeof Lu,p,"internal-error"),or(Rs,p.name),or(Nu,p.name),or(Jd,p.name),or(kc,p.name),or(Pf,p.name),or(Xd,p.name);const Pl=new Kn({uid:Fu,auth:p,email:Ni,emailVerified:kf,displayName:cn,isAnonymous:Lu,photoURL:Nu,phoneNumber:Rs,tenantId:Jd,stsTokenManager:Bu,createdAt:Pf,lastLoginAt:Xd});return Vu&&Array.isArray(Vu)&&(Pl.providerData=Vu.map(eh=>Object.assign({},eh))),kc&&(Pl._redirectEventId=kc),Pl}static _fromIdTokenResponse(p,g,E=!1){return(0,d.Z)(function*(){const P=new zt;P.updateFromServerResponse(g);const V=new Kn({uid:g.localId,auth:p,stsTokenManager:P,isAnonymous:E});return yield Yn(V),V})()}}const sr=new Map;function ar(v){Pt(v instanceof Function,"Expected a class definition");let p=sr.get(v);return p?(Pt(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,sr.set(v,p),p)}const Wr=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(g,E){var P=this;return(0,d.Z)(function*(){P.storage[g]=E})()}_get(g){var E=this;return(0,d.Z)(function*(){const P=E.storage[g];return void 0===P?null:P})()}_remove(g){var E=this;return(0,d.Z)(function*(){delete E.storage[g]})()}_addListener(g,E){}_removeListener(g,E){}}return v.type="NONE",v})();function Pr(v,p,g){return`firebase:${v}:${p}:${g}`}class J{constructor(p,g,E){this.persistence=p,this.auth=g,this.userKey=E;const{config:P,name:V}=this.auth;this.fullUserKey=Pr(this.userKey,P.apiKey,V),this.fullPersistenceKey=Pr("persistence",P.apiKey,V),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Kn._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,d.Z)(function*(){if(g.persistence===p)return;const E=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,E?g.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,E="authUser"){return(0,d.Z)(function*(){if(!g.length)return new J(ar(Wr),p,E);const P=(yield Promise.all(g.map(function(){var st=(0,d.Z)(function*(xt){if(yield xt._isAvailable())return xt});return function(xt){return st.apply(this,arguments)}}()))).filter(st=>st);let V=P[0]||ar(Wr);const ne=Pr(E,p.config.apiKey,p.name);let ge=null;for(const st of g)try{const xt=yield st._get(ne);if(xt){const cn=Kn._fromJSON(p,xt);st!==V&&(ge=cn),V=st;break}}catch{}const Qe=P.filter(st=>st._shouldAllowMigration);return V._shouldAllowMigration&&Qe.length?(V=Qe[0],ge&&(yield V._set(ne,ge.toJSON())),yield Promise.all(g.map(function(){var st=(0,d.Z)(function*(xt){if(xt!==V)try{yield xt._remove(ne)}catch{}});return function(xt){return st.apply(this,arguments)}}())),new J(V,p,E)):new J(V,p,E)})()}}function q(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(te(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(B(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(lt(p))return"Blackberry";if(Ft(p))return"Webos";if(j(p))return"Safari";if((p.includes("chrome/")||F(p))&&!p.includes("edge/"))return"Chrome";if(xe(p))return"Android";{const E=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function B(v=(0,K.z$)()){return/firefox\//i.test(v)}function j(v=(0,K.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function F(v=(0,K.z$)()){return/crios\//i.test(v)}function te(v=(0,K.z$)()){return/iemobile/i.test(v)}function xe(v=(0,K.z$)()){return/android/i.test(v)}function lt(v=(0,K.z$)()){return/blackberry/i.test(v)}function Ft(v=(0,K.z$)()){return/webos/i.test(v)}function kt(v=(0,K.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function nn(v=(0,K.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Zt(v=(0,K.z$)()){return kt(v)||xe(v)||Ft(v)||lt(v)||/windows phone/i.test(v)||te(v)}function Qn(v,p=[]){let g;switch(v){case"Browser":g=q((0,K.z$)());break;case"Worker":g=`${q((0,K.z$)())}-${v}`;break;default:g=v}const E=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${N.SDK_VERSION}/${E}`}function ce(){return(ce=(0,d.Z)(function*(v){return(yield bt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ge(v,p){return It.apply(this,arguments)}function It(){return(It=(0,d.Z)(function*(v,p){return bt(v,"GET","/v2/recaptchaConfig",Be(v,p))})).apply(this,arguments)}function Bt(v){return void 0!==v&&void 0!==v.getResponse}function an(v){return void 0!==v&&void 0!==v.enterprise}class At{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function yn(v){return new Promise((p,g)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=p,E.onerror=P=>{const V=De("internal-error");V.customData=P,g(V)},E.type="text/javascript",E.charset="UTF-8",function Tn(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(E)})}function kr(v){return`__${v}${Math.floor(1e6*Math.random())}`}const cu="NO_RECAPTCHA";class Ao{constructor(p){this.type="recaptcha-enterprise",this.auth=An(p)}verify(p="verify",g=!1){var E=this;return(0,d.Z)(function*(){function V(){return V=(0,d.Z)(function*(ge){if(!g){if(null==ge.tenantId&&null!=ge._agentRecaptchaConfig)return ge._agentRecaptchaConfig.siteKey;if(null!=ge.tenantId&&void 0!==ge._tenantRecaptchaConfigs[ge.tenantId])return ge._tenantRecaptchaConfigs[ge.tenantId].siteKey}return new Promise(function(){var Qe=(0,d.Z)(function*(st,xt){Ge(ge,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(cn=>{if(void 0!==cn.recaptchaKey){const Ni=new At(cn);return null==ge.tenantId?ge._agentRecaptchaConfig=Ni:ge._tenantRecaptchaConfigs[ge.tenantId]=Ni,st(Ni.siteKey)}xt(new Error("recaptcha Enterprise site key undefined"))}).catch(cn=>{xt(cn)})});return function(st,xt){return Qe.apply(this,arguments)}}())}),V.apply(this,arguments)}function ne(ge,Qe,st){const xt=window.grecaptcha;an(xt)?xt.enterprise.ready(()=>{xt.enterprise.execute(ge,{action:p}).then(cn=>{Qe(cn)}).catch(()=>{Qe(cu)})}):st(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ge,Qe)=>{(function P(ge){return V.apply(this,arguments)})(E.auth).then(st=>{if(!g&&an(window.grecaptcha))ne(st,ge,Qe);else{if(typeof window>"u")return void Qe(new Error("RecaptchaVerifier is only supported in browser"));yn("https://www.google.com/recaptcha/enterprise.js?render="+st).then(()=>{ne(st,ge,Qe)}).catch(xt=>{Qe(xt)})}}).catch(st=>{Qe(st)})})})()}}function Tr(v,p,g){return ot.apply(this,arguments)}function ot(){return(ot=(0,d.Z)(function*(v,p,g,E=!1){const P=new Ao(v);let V;try{V=yield P.verify(g)}catch{V=yield P.verify(g,!0)}const ne=Object.assign({},p);return Object.assign(ne,E?{captchaResp:V}:{captchaResponse:V}),Object.assign(ne,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ne,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ne})).apply(this,arguments)}class rn{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const E=V=>new Promise((ne,ge)=>{try{ne(p(V))}catch(Qe){ge(Qe)}});E.onAbort=g,this.queue.push(E);const P=this.queue.length-1;return()=>{this.queue[P]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,d.Z)(function*(){if(g.auth.currentUser===p)return;const E=[];try{for(const P of g.queue)yield P(p),P.onAbort&&E.push(P.onAbort)}catch(P){E.reverse();for(const V of E)try{V()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:P?.message})}})()}}class Hn{constructor(p,g,E,P){this.app=p,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=E,this.config=P,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lo(this),this.idTokenSubscription=new lo(this),this.beforeStateQueue=new rn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ct,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=P.sdkClientVersion}_initializeWithPersistence(p,g){var E=this;return g&&(this._popupRedirectResolver=ar(g)),this._initializationPromise=this.queue((0,d.Z)(function*(){var P,V;if(!E._deleted&&(E.persistenceManager=yield J.create(E,p),!E._deleted)){if(null!==(P=E._popupRedirectResolver)&&void 0!==P&&P._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(g),E.lastNotifiedUid=(null===(V=E.currentUser)||void 0===V?void 0:V.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,d.Z)(function*(){var E;const P=yield g.assertedPersistence.getCurrentUser();let V=P,ne=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ge=null===(E=g.redirectUser)||void 0===E?void 0:E._redirectEventId,Qe=V?._redirectEventId,st=yield g.tryRedirectSignIn(p);(!ge||ge===Qe)&&st?.user&&(V=st.user,ne=!0)}if(!V)return g.directlySetCurrentUser(null);if(!V._redirectEventId){if(ne)try{yield g.beforeStateQueue.runMiddleware(V)}catch(ge){V=P,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ge))}return V?g.reloadAndSetCurrentUserOrClear(V):g.directlySetCurrentUser(null)}return de(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===V._redirectEventId?g.directlySetCurrentUser(V):g.reloadAndSetCurrentUserOrClear(V)})()}tryRedirectSignIn(p){var g=this;return(0,d.Z)(function*(){let E=null;try{E=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,d.Z)(function*(){try{yield Yn(p)}catch(E){if("auth/network-request-failed"!==E?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function pe(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,d.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,d.Z)(function*(){const E=p?(0,K.m9)(p):null;return E&&de(E.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(E&&E._clone(g))})()}_updateCurrentUser(p,g=!1){var E=this;return(0,d.Z)(function*(){if(!E._deleted)return p&&de(E.tenantId===p.tenantId,E,"tenant-id-mismatch"),g||(yield E.beforeStateQueue.runMiddleware(p)),E.queue((0,d.Z)(function*(){yield E.directlySetCurrentUser(p),E.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,d.Z)(function*(){yield g.assertedPersistence.setPersistence(ar(p))}))}initializeRecaptchaConfig(){var p=this;return(0,d.Z)(function*(){const g=yield Ge(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new At(g);null==p.tenantId?p._agentRecaptchaConfig=E:p._tenantRecaptchaConfigs[p.tenantId]=E,E.emailPasswordEnabled&&new Ao(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new K.LL("auth","Firebase",p())}onAuthStateChanged(p,g,E){return this.registerStateListener(this.authStateSubscription,p,g,E)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,E){return this.registerStateListener(this.idTokenSubscription,p,g,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var E=this;return(0,d.Z)(function*(){const P=yield E.getOrInitRedirectPersistenceManager(g);return null===p?P.removeCurrentUser():P.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,d.Z)(function*(){if(!g.redirectPersistenceManager){const E=p&&ar(p)||g._popupRedirectResolver;de(E,g,"argument-error"),g.redirectPersistenceManager=yield J.create(g,[ar(E._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,d.Z)(function*(){var E,P;return g._isInitialized&&(yield g.queue((0,d.Z)(function*(){}))),(null===(E=g._currentUser)||void 0===E?void 0:E._redirectEventId)===p?g._currentUser:(null===(P=g.redirectUser)||void 0===P?void 0:P._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,d.Z)(function*(){if(p===g.currentUser)return g.queue((0,d.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,E,P){if(this._deleted)return()=>{};const V="function"==typeof g?g:g.next.bind(g),ne=this._isInitialized?Promise.resolve():this._initializationPromise;return de(ne,this,"internal-error"),ne.then(()=>V(this.currentUser)),"function"==typeof g?p.addObserver(g,E,P):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,d.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Qn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,d.Z)(function*(){var g;const E={"X-Client-Version":p.clientVersion};p.app.options.appId&&(E["X-Firebase-gmpid"]=p.app.options.appId);const P=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();P&&(E["X-Firebase-Client"]=P);const V=yield p._getAppCheckToken();return V&&(E["X-Firebase-AppCheck"]=V),E})()}_getAppCheckToken(){var p=this;return(0,d.Z)(function*(){var g;const E=yield null===(g=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return E?.error&&function je(v,...p){Fe.logLevel<=fe.in.WARN&&Fe.warn(`Auth (${N.SDK_VERSION}): ${v}`,...p)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function An(v){return(0,K.m9)(v)}class lo{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,K.ne)(g=>this.observer=g)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ln(v,p,g){const E=An(v);de(E._canInitEmulator,E,"emulator-config-failed"),de(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const P=!!g?.disableWarnings,V=fs(p),{host:ne,port:ge}=function So(v){const p=fs(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!g)return{host:"",port:null};const E=g[2].split("@").pop()||"",P=/^(\[[^\]]+\])(:|$)/.exec(E);if(P){const V=P[1];return{host:V,port:Yt(E.substr(V.length+1))}}{const[V,ne]=E.split(":");return{host:V,port:Yt(ne)}}}(p);E.config.emulator={url:`${V}//${ne}${null===ge?"":`:${ge}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:ne,port:ge,protocol:V.replace(":",""),options:Object.freeze({disableWarnings:P})}),P||function Us(){function v(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function fs(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Yt(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Ci{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return nt("not implemented")}_getIdTokenResponse(p){return nt("not implemented")}_linkToIdToken(p,g){return nt("not implemented")}_getReauthenticationResolver(p){return nt("not implemented")}}function js(v,p){return xo.apply(this,arguments)}function xo(){return(xo=(0,d.Z)(function*(v,p){return bt(v,"POST","/v1/accounts:resetPassword",Be(v,p))})).apply(this,arguments)}function vr(v,p){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,d.Z)(function*(v,p){return bt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function qr(){return(qr=(0,d.Z)(function*(v,p){return bt(v,"POST","/v1/accounts:update",Be(v,p))})).apply(this,arguments)}function ps(v,p){return Or.apply(this,arguments)}function Or(){return(Or=(0,d.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signInWithPassword",Be(v,p))})).apply(this,arguments)}function Vn(v,p){return Di.apply(this,arguments)}function Di(){return(Di=(0,d.Z)(function*(v,p){return bt(v,"POST","/v1/accounts:sendOobCode",Be(v,p))})).apply(this,arguments)}function $s(){return($s=(0,d.Z)(function*(v,p){return Vn(v,p)})).apply(this,arguments)}function ms(v,p){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,d.Z)(function*(v,p){return Vn(v,p)})).apply(this,arguments)}function Yo(v,p){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,d.Z)(function*(v,p){return Vn(v,p)})).apply(this,arguments)}function ei(){return(ei=(0,d.Z)(function*(v,p){return Vn(v,p)})).apply(this,arguments)}function Ro(){return(Ro=(0,d.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signInWithEmailLink",Be(v,p))})).apply(this,arguments)}function Ti(){return(Ti=(0,d.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signInWithEmailLink",Be(v,p))})).apply(this,arguments)}class ai extends Ci{constructor(p,g,E,P=null){super("password",E),this._email=p,this._password=g,this._tenantId=P}static _fromEmailAndPassword(p,g){return new ai(p,g,"password")}static _fromEmailAndCode(p,g,E=null){return new ai(p,g,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,d.Z)(function*(){var E;switch(g.signInMethod){case"password":const P={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=p._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const V=yield Tr(p,P,"signInWithPassword");return ps(p,V)}return ps(p,P).catch(function(){var V=(0,d.Z)(function*(ne){if("auth/missing-recaptcha-token"===ne.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ge=yield Tr(p,P,"signInWithPassword");return ps(p,ge)}return Promise.reject(ne)});return function(ne){return V.apply(this,arguments)}}());case"emailLink":return function Ui(v,p){return Ro.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:ke(p,"internal-error")}})()}_linkToIdToken(p,g){var E=this;return(0,d.Z)(function*(){switch(E.signInMethod){case"password":return vr(p,{idToken:g,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Ia(v,p){return Ti.apply(this,arguments)}(p,{idToken:g,email:E._email,oobCode:E._password});default:ke(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function uo(v,p){return ho.apply(this,arguments)}function ho(){return(ho=(0,d.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signInWithIdp",Be(v,p))})).apply(this,arguments)}class Gi extends Ci{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Gi(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):ke("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:P}=g,V=(0,ae._T)(g,["providerId","signInMethod"]);if(!E||!P)return null;const ne=new Gi(E,P);return ne.idToken=V.idToken||void 0,ne.accessToken=V.accessToken||void 0,ne.secret=V.secret,ne.nonce=V.nonce,ne.pendingToken=V.pendingToken||null,ne}_getIdTokenResponse(p){return uo(p,this.buildRequest())}_linkToIdToken(p,g){const E=this.buildRequest();return E.idToken=g,uo(p,E)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,uo(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,K.xO)(g)}return p}}function ac(){return(ac=(0,d.Z)(function*(v,p){return bt(v,"POST","/v1/accounts:sendVerificationCode",Be(v,p))})).apply(this,arguments)}function Yc(){return(Yc=(0,d.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signInWithPhoneNumber",Be(v,p))})).apply(this,arguments)}function Qc(){return(Qc=(0,d.Z)(function*(v,p){const g=yield mn(v,"POST","/v1/accounts:signInWithPhoneNumber",Be(v,p));if(g.temporaryProof)throw Dn(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Jc={USER_NOT_FOUND:"user-not-found"};function lu(){return(lu=(0,d.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signInWithPhoneNumber",Be(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Jc)})).apply(this,arguments)}class Po extends Ci{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Po({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Po({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function gs(v,p){return Yc.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function Td(v,p){return Qc.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Xc(v,p){return lu.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:E,verificationCode:P}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:E,code:P}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:E,phoneNumber:P,temporaryProof:V}=p;return E||g||P||V?new Po({verificationId:g,verificationCode:E,phoneNumber:P,temporaryProof:V}):null}}class ko{constructor(p){var g,E,P,V,ne,ge;const Qe=(0,K.zd)((0,K.pd)(p)),st=null!==(g=Qe.apiKey)&&void 0!==g?g:null,xt=null!==(E=Qe.oobCode)&&void 0!==E?E:null,cn=function ys(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(P=Qe.mode)&&void 0!==P?P:null);de(st&&xt&&cn,"argument-error"),this.apiKey=st,this.operation=cn,this.code=xt,this.continueUrl=null!==(V=Qe.continueUrl)&&void 0!==V?V:null,this.languageCode=null!==(ne=Qe.languageCode)&&void 0!==ne?ne:null,this.tenantId=null!==(ge=Qe.tenantId)&&void 0!==ge?ge:null}static parseLink(p){const g=function uu(v){const p=(0,K.zd)((0,K.pd)(v)).link,g=p?(0,K.zd)((0,K.pd)(p)).deep_link_id:null,E=(0,K.zd)((0,K.pd)(v)).deep_link_id;return(E?(0,K.zd)((0,K.pd)(E)).link:null)||E||g||p||v}(p);try{return new ko(g)}catch{return null}}}let tl=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,E){return ai._fromEmailAndPassword(g,E)}static credentialWithLink(g,E){const P=ko.parseLink(E);return de(P,"argument-error"),ai._fromEmailAndCode(g,P.code,P.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Wi{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class _s extends Wi{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class qi extends _s{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return de("providerId"in g&&"signInMethod"in g,"argument-error"),Gi._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return de(p.idToken||p.accessToken,"argument-error"),Gi._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return qi.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return qi.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:E,oauthTokenSecret:P,pendingToken:V,nonce:ne,providerId:ge}=p;if(!E&&!P&&!g&&!V||!ge)return null;try{return new qi(ge)._credential({idToken:g,accessToken:E,nonce:ne,pendingToken:V})}catch{return null}}}let nl=(()=>{class v extends _s{constructor(){super("facebook.com")}static credential(g){return Gi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Ca=(()=>{class v extends _s{constructor(){super("google.com"),this.addScope("profile")}static credential(g,E){return Gi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:E})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:E,oauthAccessToken:P}=g;if(!E&&!P)return null;try{return v.credential(E,P)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Hs=(()=>{class v extends _s{constructor(){super("github.com")}static credential(g){return Gi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Ki extends Ci{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return uo(p,this.buildRequest())}_linkToIdToken(p,g){const E=this.buildRequest();return E.idToken=g,uo(p,E)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,uo(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:P,pendingToken:V}=g;return E&&P&&V&&E===P?new Ki(E,V):null}static _create(p,g){return new Ki(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Da extends Wi{constructor(p){de(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Da.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Da.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Ki.fromJSON(p);return de(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:E}=p;if(!g||!E)return null;try{return Ki._create(E,g)}catch{return null}}}let cc=(()=>{class v extends _s{constructor(){super("twitter.com")}static credential(g,E){return Gi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:E})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:E,oauthTokenSecret:P}=g;if(!E||!P)return null;try{return v.credential(E,P)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Jo(v,p){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,d.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signUp",Be(v,p))})).apply(this,arguments)}class Gn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,E,P=!1){return(0,d.Z)(function*(){const V=yield Kn._fromIdTokenResponse(p,E,P),ne=bs(E);return new Gn({user:V,providerId:ne,_tokenResponse:E,operationType:g})})()}static _forOperation(p,g,E){return(0,d.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const P=bs(E);return new Gn({user:p,providerId:P,_tokenResponse:E,operationType:g})})()}}function bs(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function zs(v){return pr.apply(this,arguments)}function pr(){return(pr=(0,d.Z)(function*(v){var p;const g=An(v);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new Gn({user:g.currentUser,providerId:null,operationType:"signIn"});const E=yield Jo(g,{returnSecureToken:!0}),P=yield Gn._fromIdTokenResponse(g,"signIn",E,!0);return yield g._updateCurrentUser(P.user),P})).apply(this,arguments)}class No extends K.ZR{constructor(p,g,E,P){var V;super(g.code,g.message),this.operationType=E,this.user=P,Object.setPrototypeOf(this,No.prototype),this.customData={appName:p.name,tenantId:null!==(V=p.tenantId)&&void 0!==V?V:void 0,_serverResponse:g.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,g,E,P){return new No(p,g,E,P)}}function Fo(v,p,g,E){return("reauthenticate"===p?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(V=>{throw"auth/multi-factor-auth-required"===V.code?No._fromErrorAndOperation(v,V,p,E):V})}function Jn(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function du(v,p){return Ta.apply(this,arguments)}function Ta(){return Ta=(0,d.Z)(function*(v,p){const g=(0,K.m9)(v);yield ws(!0,g,p);const{providerUserInfo:E}=yield function Jr(v,p){return Kt.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),P=Jn(E||[]);return g.providerData=g.providerData.filter(V=>P.has(V.providerId)),P.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Ta.apply(this,arguments)}function ti(v,p){return br.apply(this,arguments)}function br(){return(br=(0,d.Z)(function*(v,p,g=!1){const E=yield en(v,p._linkToIdToken(v.auth,yield v.getIdToken()),g);return Gn._forOperation(v,"link",E)})).apply(this,arguments)}function ws(v,p,g){return fo.apply(this,arguments)}function fo(){return(fo=(0,d.Z)(function*(v,p,g){yield Yn(p);const P=!1===v?"provider-already-linked":"no-such-provider";de(Jn(p.providerData).has(g)===v,p.auth,P)})).apply(this,arguments)}function il(v,p){return po.apply(this,arguments)}function po(){return(po=(0,d.Z)(function*(v,p,g=!1){const{auth:E}=v,P="reauthenticate";try{const V=yield en(v,Fo(E,P,p,v),g);de(V.idToken,E,"internal-error");const ne=Fn(V.idToken);de(ne,E,"internal-error");const{sub:ge}=ne;return de(v.uid===ge,E,"user-mismatch"),Gn._forOperation(v,P,V)}catch(V){throw"auth/user-not-found"===V?.code&&ke(E,"user-mismatch"),V}})).apply(this,arguments)}function Gs(v,p){return Es.apply(this,arguments)}function Es(){return(Es=(0,d.Z)(function*(v,p,g=!1){const E="signIn",P=yield Fo(v,E,p),V=yield Gn._fromIdTokenResponse(v,E,P);return g||(yield v._updateCurrentUser(V.user)),V})).apply(this,arguments)}function jt(v,p){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,d.Z)(function*(v,p){return Gs(An(v),p)})).apply(this,arguments)}function ol(v,p){return lc.apply(this,arguments)}function lc(){return(lc=(0,d.Z)(function*(v,p){const g=(0,K.m9)(v);return yield ws(!1,g,p.providerId),ti(g,p)})).apply(this,arguments)}function Sa(v,p){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,d.Z)(function*(v,p){return il((0,K.m9)(v),p)})).apply(this,arguments)}function al(){return(al=(0,d.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signInWithCustomToken",Be(v,p))})).apply(this,arguments)}function Ad(v,p){return be.apply(this,arguments)}function be(){return be=(0,d.Z)(function*(v,p){const g=An(v),E=yield function sl(v,p){return al.apply(this,arguments)}(g,{token:p,returnSecureToken:!0}),P=yield Gn._fromIdTokenResponse(g,"signIn",E);return yield g._updateCurrentUser(P.user),P}),be.apply(this,arguments)}class $t{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?uc._fromServerResponse(p,g):"totpInfo"in g?qs._fromServerResponse(p,g):ke(p,"internal-error")}}class uc extends $t{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new uc(g)}}class qs extends $t{constructor(p){super("totp",p)}static _fromServerResponse(p,g){return new qs(g)}}function lr(v,p,g){var E;de((null===(E=g.url)||void 0===E?void 0:E.length)>0,v,"invalid-continue-uri"),de(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(de(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(de(g.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function cl(v,p,g){return Xo.apply(this,arguments)}function Xo(){return Xo=(0,d.Z)(function*(v,p,g){var E;const P=An(v),V={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=P._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const ne=yield Tr(P,V,"getOobCode",!0);g&&lr(P,ne,g),yield ms(P,ne)}else g&&lr(P,V,g),yield ms(P,V).catch(function(){var ne=(0,d.Z)(function*(ge){if("auth/missing-recaptcha-token"!==ge.code)return Promise.reject(ge);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Qe=yield Tr(P,V,"getOobCode",!0);g&&lr(P,Qe,g),yield ms(P,Qe)}});return function(ge){return ne.apply(this,arguments)}}())}),Xo.apply(this,arguments)}function Ai(v,p,g){return xa.apply(this,arguments)}function xa(){return(xa=(0,d.Z)(function*(v,p,g){yield js((0,K.m9)(v),{oobCode:p,newPassword:g})})).apply(this,arguments)}function ll(v,p){return ul.apply(this,arguments)}function ul(){return ul=(0,d.Z)(function*(v,p){yield function Zo(v,p){return qr.apply(this,arguments)}((0,K.m9)(v),{oobCode:p})}),ul.apply(this,arguments)}function mo(v,p){return es.apply(this,arguments)}function es(){return(es=(0,d.Z)(function*(v,p){const g=(0,K.m9)(v),E=yield js(g,{oobCode:p}),P=E.requestType;switch(de(P,g,"internal-error"),P){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":de(E.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":de(E.mfaInfo,g,"internal-error");default:de(E.email,g,"internal-error")}let V=null;return E.mfaInfo&&(V=$t._fromServerResponse(An(g),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:V},operation:P}})).apply(this,arguments)}function Fr(v,p){return ci.apply(this,arguments)}function ci(){return(ci=(0,d.Z)(function*(v,p){const{data:g}=yield mo((0,K.m9)(v),p);return g.email})).apply(this,arguments)}function Lo(v,p,g){return Zi.apply(this,arguments)}function Zi(){return Zi=(0,d.Z)(function*(v,p,g){var E;const P=An(v),V={returnSecureToken:!0,email:p,password:g,clientType:"CLIENT_TYPE_WEB"};let ne;if(null!==(E=P._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const st=yield Tr(P,V,"signUpPassword");ne=Jo(P,st)}else ne=Jo(P,V).catch(function(){var st=(0,d.Z)(function*(xt){if("auth/missing-recaptcha-token"===xt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const cn=yield Tr(P,V,"signUpPassword");return Jo(P,cn)}return Promise.reject(xt)});return function(xt){return st.apply(this,arguments)}}());const ge=yield ne.catch(st=>Promise.reject(st)),Qe=yield Gn._fromIdTokenResponse(P,"signIn",ge);return yield P._updateCurrentUser(Qe.user),Qe}),Zi.apply(this,arguments)}function Si(v,p,g){return jt((0,K.m9)(v),tl.credential(p,g))}function dl(v,p,g){return ts.apply(this,arguments)}function ts(){return ts=(0,d.Z)(function*(v,p,g){var E;const P=An(v),V={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function ne(ge,Qe){de(Qe.handleCodeInApp,P,"argument-error"),Qe&&lr(P,ge,Qe)}if(null!==(E=P._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const ge=yield Tr(P,V,"getOobCode",!0);ne(ge,g),yield Yo(P,ge)}else ne(V,g),yield Yo(P,V).catch(function(){var ge=(0,d.Z)(function*(Qe){if("auth/missing-recaptcha-token"!==Qe.code)return Promise.reject(Qe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const st=yield Tr(P,V,"getOobCode",!0);ne(st,g),yield Yo(P,st)}});return function(Qe){return ge.apply(this,arguments)}}())}),ts.apply(this,arguments)}function hl(v,p){return"EMAIL_SIGNIN"===ko.parseLink(p)?.operation}function Sd(v,p,g){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,d.Z)(function*(v,p,g){const E=(0,K.m9)(v),P=tl.credentialWithLink(p,g||ht());return de(P._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),jt(E,P)})).apply(this,arguments)}function Ks(){return(Ks=(0,d.Z)(function*(v,p){return bt(v,"POST","/v1/accounts:createAuthUri",Be(v,p))})).apply(this,arguments)}function fl(v,p){return Ra.apply(this,arguments)}function Ra(){return Ra=(0,d.Z)(function*(v,p){const E={identifier:p,continueUri:qt()?ht():"http://localhost"},{signinMethods:P}=yield function Ma(v,p){return Ks.apply(this,arguments)}((0,K.m9)(v),E);return P||[]}),Ra.apply(this,arguments)}function pl(v,p){return Is.apply(this,arguments)}function Is(){return Is=(0,d.Z)(function*(v,p){const g=(0,K.m9)(v),P={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&lr(g.auth,P,p);const{email:V}=yield function sc(v,p){return $s.apply(this,arguments)}(g.auth,P);V!==v.email&&(yield v.reload())}),Is.apply(this,arguments)}function dc(v,p,g){return Zs.apply(this,arguments)}function Zs(){return Zs=(0,d.Z)(function*(v,p,g){const E=(0,K.m9)(v),V={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};g&&lr(E.auth,V,g);const{email:ne}=yield function Qo(v,p){return ei.apply(this,arguments)}(E.auth,V);ne!==v.email&&(yield v.reload())}),Zs.apply(this,arguments)}function Yi(){return(Yi=(0,d.Z)(function*(v,p){return bt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function fc(v,p){return pc.apply(this,arguments)}function pc(){return pc=(0,d.Z)(function*(v,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const E=(0,K.m9)(v),V={idToken:yield E.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},ne=yield en(E,function hc(v,p){return Yi.apply(this,arguments)}(E.auth,V));E.displayName=ne.displayName||null,E.photoURL=ne.photoUrl||null;const ge=E.providerData.find(({providerId:Qe})=>"password"===Qe);ge&&(ge.displayName=E.displayName,ge.photoURL=E.photoURL),yield E._updateTokensIfNecessary(ne)}),pc.apply(this,arguments)}function mc(v,p){return Qi((0,K.m9)(v),p,null)}function Kr(v,p){return Qi((0,K.m9)(v),null,p)}function Qi(v,p,g){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,d.Z)(function*(v,p,g){const{auth:E}=v,V={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(V.email=p),g&&(V.password=g);const ne=yield en(v,vr(E,V));yield v._updateTokensIfNecessary(ne,!0)})).apply(this,arguments)}class Cs{constructor(p,g,E={}){this.isNewUser=p,this.providerId=g,this.profile=E}}class yc extends Cs{constructor(p,g,E,P){super(p,g,E),this.username=P}}class xd extends Cs{constructor(p,g){super(p,"facebook.com",g)}}class xi extends yc{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class mr extends Cs{constructor(p,g){super(p,"google.com",g)}}class Pa extends yc{constructor(p,g,E){super(p,"twitter.com",g,E)}}function _c(v){const{user:p,_tokenResponse:g}=v;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function gc(v){var p,g;if(!v)return null;const{providerId:E}=v,P=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},V=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!E&&v?.idToken){const ne=null===(g=null===(p=Fn(v.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(ne)return new Cs(V,"anonymous"!==ne&&"custom"!==ne?ne:null)}if(!E)return null;switch(E){case"facebook.com":return new xd(V,P);case"github.com":return new xi(V,P);case"google.com":return new mr(V,P);case"twitter.com":return new Pa(V,P,v.screenName||null);case"custom":case"anonymous":return new Cs(V,null);default:return new Cs(V,E,P)}}(g)}class me{constructor(p,g,E){this.type=p,this.credential=g,this.auth=E}static _fromIdtoken(p,g){return new me("enroll",p,g)}static _fromMfaPendingCredential(p){return new me("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,E;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return me._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(E=p.multiFactorSession)&&void 0!==E&&E.idToken)return me._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Mt{constructor(p,g,E){this.session=p,this.hints=g,this.signInResolver=E}static _fromError(p,g){const E=An(p),P=g.customData._serverResponse,V=(P.mfaInfo||[]).map(ge=>$t._fromServerResponse(E,ge));de(P.mfaPendingCredential,E,"internal-error");const ne=me._fromMfaPendingCredential(P.mfaPendingCredential);return new Mt(ne,V,function(){var ge=(0,d.Z)(function*(Qe){const st=yield Qe._process(E,ne);delete P.mfaInfo,delete P.mfaPendingCredential;const xt=Object.assign(Object.assign({},P),{idToken:st.idToken,refreshToken:st.refreshToken});switch(g.operationType){case"signIn":const cn=yield Gn._fromIdTokenResponse(E,g.operationType,xt);return yield E._updateCurrentUser(cn.user),cn;case"reauthenticate":return de(g.user,E,"internal-error"),Gn._forOperation(g.user,g.operationType,xt);default:ke(E,"internal-error")}});return function(Qe){return ge.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,d.Z)(function*(){return g.signInResolver(p)})()}}function bn(v,p){var g;const E=(0,K.m9)(v),P=p;return de(p.customData.operationType,E,"argument-error"),de(null===(g=P.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,E,"argument-error"),Mt._fromError(E,P)}class Oa{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(E=>$t._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new Oa(p)}getSession(){var p=this;return(0,d.Z)(function*(){return me._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var E=this;return(0,d.Z)(function*(){const P=p,V=yield E.getSession(),ne=yield en(E.user,P._process(E.user.auth,V,g));return yield E.user._updateTokensIfNecessary(ne),E.user.reload()})()}unenroll(p){var g=this;return(0,d.Z)(function*(){const E="string"==typeof p?p:p.uid,P=yield g.user.getIdToken();try{const V=yield en(g.user,function Qs(v,p){return bt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Be(v,p))}(g.user.auth,{idToken:P,mfaEnrollmentId:E}));g.enrolledFactors=g.enrolledFactors.filter(({uid:ne})=>ne!==E),yield g.user._updateTokensIfNecessary(V),yield g.user.reload()}catch(V){throw V}})()}}const Js=new WeakMap;function Na(v){const p=(0,K.m9)(v);return Js.has(p)||Js.set(p,Oa._fromUser(p)),Js.get(p)}const vc="__sak";class bc{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(vc,"1"),this.storage.removeItem(vc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const yl=(()=>{class v extends bc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,E)=>this.onStorageEvent(g,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function hu(){const v=(0,K.z$)();return j(v)||kt(v)}()&&function cr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Zt(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const E of Object.keys(this.listeners)){const P=this.storage.getItem(E),V=this.localCache[E];P!==V&&g(E,V,P)}}onStorageEvent(g,E=!1){if(!g.key)return void this.forAllChangedKeys((ge,Qe,st)=>{this.notifyListeners(ge,st)});const P=g.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ge=this.storage.getItem(P);if(g.newValue!==ge)null!==g.newValue?this.storage.setItem(P,g.newValue):this.storage.removeItem(P);else if(this.localCache[P]===g.newValue&&!E)return}const V=()=>{const ge=this.storage.getItem(P);!E&&this.localCache[P]===ge||this.notifyListeners(P,ge)},ne=this.storage.getItem(P);!function Sn(){return(0,K.w1)()&&10===document.documentMode}()||ne===g.newValue||g.newValue===g.oldValue?V():setTimeout(V,10)}notifyListeners(g,E){this.localCache[g]=E;const P=this.listeners[g];if(P)for(const V of Array.from(P))V(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,E,P)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:E,newValue:P}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,E){var P=()=>super._set,V=this;return(0,d.Z)(function*(){yield P().call(V,g,E),V.localCache[g]=JSON.stringify(E)})()}_get(g){var E=()=>super._get,P=this;return(0,d.Z)(function*(){const V=yield E().call(P,g);return P.localCache[g]=JSON.stringify(V),V})()}_remove(g){var E=()=>super._remove,P=this;return(0,d.Z)(function*(){yield E().call(P,g),delete P.localCache[g]})()}}return v.type="LOCAL",v})(),pi=(()=>{class v extends bc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,E){}_removeListener(g,E){}}return v.type="SESSION",v})();let mu=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const E=this.receivers.find(V=>V.isListeningto(g));if(E)return E;const P=new v(g);return this.receivers.push(P),P}isListeningto(g){return this.eventTarget===g}handleEvent(g){var E=this;return(0,d.Z)(function*(){const P=g,{eventId:V,eventType:ne,data:ge}=P.data,Qe=E.handlersMap[ne];if(!Qe?.size)return;P.ports[0].postMessage({status:"ack",eventId:V,eventType:ne});const st=Array.from(Qe).map(function(){var cn=(0,d.Z)(function*(Ni){return Ni(P.origin,ge)});return function(Ni){return cn.apply(this,arguments)}}()),xt=yield function Md(v){return Promise.all(v.map(function(){var p=(0,d.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(E){return{fulfilled:!1,reason:E}}});return function(g){return p.apply(this,arguments)}}()))}(st);P.ports[0].postMessage({status:"done",eventId:V,eventType:ne,response:xt})})()}_subscribe(g,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(E)}_unsubscribe(g,E){this.handlersMap[g]&&E&&this.handlersMap[g].delete(E),(!E||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Vo(v="",p=10){let g="";for(let E=0;E<p;E++)g+=Math.floor(10*Math.random());return v+g}class Rd{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,E=50){var P=this;return(0,d.Z)(function*(){const V=typeof MessageChannel<"u"?new MessageChannel:null;if(!V)throw new Error("connection_unavailable");let ne,ge;return new Promise((Qe,st)=>{const xt=Vo("",20);V.port1.start();const cn=setTimeout(()=>{st(new Error("unsupported_event"))},E);ge={messageChannel:V,onMessage(Ni){const Rs=Ni;if(Rs.data.eventId===xt)switch(Rs.data.status){case"ack":clearTimeout(cn),ne=setTimeout(()=>{st(new Error("timeout"))},3e3);break;case"done":clearTimeout(ne),Qe(Rs.data.response);break;default:clearTimeout(cn),clearTimeout(ne),st(new Error("invalid_response"))}}},P.handlers.add(ge),V.port1.addEventListener("message",ge.onMessage),P.target.postMessage({eventType:p,eventId:xt,data:g},[V.port2])}).finally(()=>{ge&&P.removeMessageHandler(ge)})})()}}function wr(){return window}function _l(){return typeof wr().WorkerGlobalScope<"u"&&"function"==typeof wr().importScripts}function Ec(){return(Ec=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Lr="firebaseLocalStorageDb",Fa=1,ur="firebaseLocalStorage",gf="fbase_key";class As{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function bl(v,p){return v.transaction([ur],p?"readwrite":"readonly").objectStore(ur)}function gu(){const v=indexedDB.open(Lr,Fa);return new Promise((p,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(ur,{keyPath:gf})}catch(P){g(P)}}),v.addEventListener("success",(0,d.Z)(function*(){const E=v.result;E.objectStoreNames.contains(ur)?p(E):(E.close(),yield function La(){const v=indexedDB.deleteDatabase(Lr);return new As(v).toPromise()}(),p(yield gu()))}))})}function yu(v,p,g){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,d.Z)(function*(v,p,g){const E=bl(v,!0).put({[gf]:p,value:g});return new As(E).toPromise()})).apply(this,arguments)}function Xs(){return(Xs=(0,d.Z)(function*(v,p){const g=bl(v,!1).get(p),E=yield new As(g).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Ic(v,p){const g=bl(v,!0).delete(p);return new As(g).toPromise()}const _u=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,d.Z)(function*(){return g.db||(g.db=yield gu()),g.db})()}_withRetries(g){var E=this;return(0,d.Z)(function*(){let P=0;for(;;)try{const V=yield E._openDb();return yield g(V)}catch(V){if(P++>3)throw V;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,d.Z)(function*(){return _l()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,d.Z)(function*(){g.receiver=mu._getInstance(function vl(){return _l()?self:null}()),g.receiver._subscribe("keyChanged",function(){var E=(0,d.Z)(function*(P,V){return{keyProcessed:(yield g._poll()).includes(V.key)}});return function(P,V){return E.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var E=(0,d.Z)(function*(P,V){return["keyChanged"]});return function(P,V){return E.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,d.Z)(function*(){var E,P;if(g.activeServiceWorker=yield function Pd(){return Ec.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Rd(g.activeServiceWorker);const V=yield g.sender._send("ping",{},800);V&&null!==(E=V[0])&&void 0!==E&&E.fulfilled&&null!==(P=V[0])&&void 0!==P&&P.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var E=this;return(0,d.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function kd(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:g},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const g=yield gu();return yield yu(g,vc,"1"),yield Ic(g,vc),!0}catch{}return!1})()}_withPendingWrite(g){var E=this;return(0,d.Z)(function*(){E.pendingWrites++;try{yield g()}finally{E.pendingWrites--}})()}_set(g,E){var P=this;return(0,d.Z)(function*(){return P._withPendingWrite((0,d.Z)(function*(){return yield P._withRetries(V=>yu(V,g,E)),P.localCache[g]=E,P.notifyServiceWorker(g)}))})()}_get(g){var E=this;return(0,d.Z)(function*(){const P=yield E._withRetries(V=>function yf(v,p){return Xs.apply(this,arguments)}(V,g));return E.localCache[g]=P,P})()}_remove(g){var E=this;return(0,d.Z)(function*(){return E._withPendingWrite((0,d.Z)(function*(){return yield E._withRetries(P=>Ic(P,g)),delete E.localCache[g],E.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,d.Z)(function*(){const E=yield g._withRetries(ne=>{const ge=bl(ne,!1).getAll();return new As(ge).toPromise()});if(!E)return[];if(0!==g.pendingWrites)return[];const P=[],V=new Set;for(const{fbase_key:ne,value:ge}of E)V.add(ne),JSON.stringify(g.localCache[ne])!==JSON.stringify(ge)&&(g.notifyListeners(ne,ge),P.push(ne));for(const ne of Object.keys(g.localCache))g.localCache[ne]&&!V.has(ne)&&(g.notifyListeners(ne,null),P.push(ne));return P})()}notifyListeners(g,E){this.localCache[g]=E;const P=this.listeners[g];if(P)for(const V of Array.from(P))V(E)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),vu=1e12;class Fd{constructor(p){this.auth=p,this.counter=vu,this._widgets=new Map}render(p,g){const E=this.counter;return this._widgets.set(E,new bu(p,this.auth.name,g||{})),this.counter++,E}reset(p){var g;const E=p||vu;null===(g=this._widgets.get(E))||void 0===g||g.delete(),this._widgets.delete(E)}getResponse(p){var g;return(null===(g=this._widgets.get(p||vu))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,d.Z)(function*(){var E;return null===(E=g._widgets.get(p||vu))||void 0===E||E.execute(),""})()}}class bu{constructor(p,g,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const P="string"==typeof p?document.getElementById(p):p;de(P,"argument-error",{appName:g}),this.container=P,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function wu(v){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<v;E++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const vf=kr("rcb"),qy=new Ae(3e4,6e4);class ra{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=wr().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return de(function Zy(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(g),p,"argument-error"),this.shouldResolveImmediately(g)&&Bt(wr().grecaptcha)?Promise.resolve(wr().grecaptcha):new Promise((E,P)=>{const V=wr().setTimeout(()=>{P(De(p,"network-request-failed"))},qy.get());wr()[vf]=()=>{wr().clearTimeout(V),delete wr()[vf];const ge=wr().grecaptcha;if(!ge||!Bt(ge))return void P(De(p,"internal-error"));const Qe=ge.render;ge.render=(st,xt)=>{const cn=Qe(st,xt);return this.counter++,cn},this.hostLanguage=g,E(ge)},yn(`https://www.google.com/recaptcha/api.js??${(0,K.xO)({onload:vf,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(V),P(De(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=wr().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class bf{load(p){return(0,d.Z)(function*(){return new Fd(p)})()}clearedOneInstance(){}}const Vr="recaptcha",El={theme:"light",type:"image"};class Il{constructor(p,g=Object.assign({},El),E){this.parameters=g,this.type=Vr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=An(E),this.isInvisible="invisible"===this.parameters.size,de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const P="string"==typeof p?document.getElementById(p):p;de(P,this.auth,"argument-error"),this.container=P,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bf:new ra,this.validateStartingState()}verify(){var p=this;return(0,d.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(g)||new Promise(V=>{const ne=ge=>{ge&&(p.tokenChangeListeners.delete(ne),V(ge))};p.tokenChangeListeners.add(ne),p.isInvisible&&E.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(E=>E(g)),"function"==typeof p)p(g);else if("string"==typeof p){const E=wr()[p];"function"==typeof E&&E(g)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const E=document.createElement("div");g.appendChild(E),g=E}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.Z)(function*(){de(qt()&&!_l(),p.auth,"internal-error"),yield function Eu(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function ve(v){return ce.apply(this,arguments)}(p.auth);de(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ji{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Po._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function xs(v,p,g){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,d.Z)(function*(v,p,g){const E=An(v),P=yield Dc(E,p,(0,K.m9)(g));return new ji(P,V=>jt(E,V))})).apply(this,arguments)}function Cc(v,p,g){return Va.apply(this,arguments)}function Va(){return(Va=(0,d.Z)(function*(v,p,g){const E=(0,K.m9)(v);yield ws(!1,E,"phone");const P=yield Dc(E.auth,p,(0,K.m9)(g));return new ji(P,V=>ol(E,V))})).apply(this,arguments)}function Ld(v,p,g){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,d.Z)(function*(v,p,g){const E=(0,K.m9)(v),P=yield Dc(E.auth,p,(0,K.m9)(g));return new ji(P,V=>Sa(E,V))})).apply(this,arguments)}function Dc(v,p,g){return Cl.apply(this,arguments)}function Cl(){return Cl=(0,d.Z)(function*(v,p,g){var E;const P=yield g.verify();try{let V;if(de("string"==typeof P,v,"argument-error"),de(g.type===Vr,v,"argument-error"),V="string"==typeof p?{phoneNumber:p}:p,"session"in V){const ne=V.session;if("phoneNumber"in V)return de("enroll"===ne.type,v,"internal-error"),(yield function er(v,p){return bt(v,"POST","/v2/accounts/mfaEnrollment:start",Be(v,p))}(v,{idToken:ne.credential,phoneEnrollmentInfo:{phoneNumber:V.phoneNumber,recaptchaToken:P}})).phoneSessionInfo.sessionInfo;{de("signin"===ne.type,v,"internal-error");const ge=(null===(E=V.multiFactorHint)||void 0===E?void 0:E.uid)||V.multiFactorUid;return de(ge,v,"missing-multi-factor-info"),(yield function Od(v,p){return bt(v,"POST","/v2/accounts/mfaSignIn:start",Be(v,p))}(v,{mfaPendingCredential:ne.credential,mfaEnrollmentId:ge,phoneSignInInfo:{recaptchaToken:P}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ne}=yield function Dd(v,p){return ac.apply(this,arguments)}(v,{phoneNumber:V.phoneNumber,recaptchaToken:P});return ne}}finally{g._reset()}}),Cl.apply(this,arguments)}function Xi(v,p){return eo.apply(this,arguments)}function eo(){return(eo=(0,d.Z)(function*(v,p){yield ti((0,K.m9)(v),p)})).apply(this,arguments)}let Rn=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=An(g)}verifyPhoneNumber(g,E){return Dc(this.auth,g,(0,K.m9)(E))}static credential(g,E){return Po._fromVerification(g,E)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:E,temporaryProof:P}=g;return E&&P?Po._fromTokenResponse(E,P):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function ut(v,p){return p?ar(p):(de(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Ri extends Ci{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return uo(p,this._buildIdpRequest())}_linkToIdToken(p,g){return uo(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return uo(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function nr(v){return Gs(v.auth,new Ri(v),v.bypassAuthState)}function Dl(v){const{auth:p,user:g}=v;return de(g,p,"internal-error"),il(g,new Ri(v),v.bypassAuthState)}function rs(v){return gr.apply(this,arguments)}function gr(){return(gr=(0,d.Z)(function*(v){const{auth:p,user:g}=v;return de(g,p,"internal-error"),ti(g,new Ri(v),v.bypassAuthState)})).apply(this,arguments)}class Sr{constructor(p,g,E,P,V=!1){this.auth=p,this.resolver=E,this.user=P,this.bypassAuthState=V,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,d.Z)(function*(E,P){p.pendingPromise={resolve:E,reject:P};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(V){p.reject(V)}});return function(E,P){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,d.Z)(function*(){const{urlResponse:E,sessionId:P,postBody:V,tenantId:ne,error:ge,type:Qe}=p;if(ge)return void g.reject(ge);const st={auth:g.auth,requestUri:E,sessionId:P,tenantId:ne||void 0,postBody:V||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Qe)(st))}catch(xt){g.reject(xt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return nr;case"linkViaPopup":case"linkViaRedirect":return rs;case"reauthViaPopup":case"reauthViaRedirect":return Dl;default:ke(this.auth,"internal-error")}}resolve(p){Pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Pi=new Ae(2e3,1e4);function mt(v,p,g){return go.apply(this,arguments)}function go(){return(go=(0,d.Z)(function*(v,p,g){const E=An(v);We(v,p,Wi);const P=ut(E,g);return new Cu(E,"signInViaPopup",p,P).executeNotNull()})).apply(this,arguments)}function Tl(v,p,g){return mi.apply(this,arguments)}function mi(){return(mi=(0,d.Z)(function*(v,p,g){const E=(0,K.m9)(v);We(E.auth,p,Wi);const P=ut(E.auth,g);return new Cu(E.auth,"reauthViaPopup",p,P,E).executeNotNull()})).apply(this,arguments)}function wf(v,p,g){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,d.Z)(function*(v,p,g){const E=(0,K.m9)(v);We(E.auth,p,Wi);const P=ut(E.auth,g);return new Cu(E.auth,"linkViaPopup",p,P,E).executeNotNull()})).apply(this,arguments)}let Cu=(()=>{class v extends Sr{constructor(g,E,P,V,ne){super(g,E,V,ne),this.provider=P,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,d.Z)(function*(){const E=yield g.execute();return de(E,g.auth,"internal-error"),E})()}onExecution(){var g=this;return(0,d.Z)(function*(){Pt(1===g.filter.length,"Popup operations only handle one event");const E=Vo();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],E),g.authWindow.associatedEvent=E,g.resolver._originValidation(g.auth).catch(P=>{g.reject(P)}),g.resolver._isIframeWebStorageSupported(g.auth,P=>{P||g.reject(De(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(De(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var E,P;this.pollId=null!==(P=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==P&&P.closed?window.setTimeout(()=>{this.pollId=null,this.reject(De(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Pi.get())};g()}}return v.currentPopupAction=null,v})();const Vd="pendingRedirect",yo=new Map;class Al extends Sr{constructor(p,g,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,d.Z)(function*(){let E=yo.get(g.auth._key());if(!E){try{const V=(yield function Sl(v,p){return to.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;E=()=>Promise.resolve(V)}catch(P){E=()=>Promise.reject(P)}yo.set(g.auth._key(),E)}return g.bypassAuthState||yo.set(g.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,E=this;return(0,d.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(E,p);if("unknown"!==p.type){if(p.eventId){const P=yield E.auth._redirectUserForId(p.eventId);if(P)return E.user=P,g().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function to(){return(to=(0,d.Z)(function*(v,p){const g=Du(p),E=Ud(v);if(!(yield E._isAvailable()))return!1;const P="true"===(yield E._get(g));return yield E._remove(g),P})).apply(this,arguments)}function Ef(v,p){return ia.apply(this,arguments)}function ia(){return(ia=(0,d.Z)(function*(v,p){return Ud(v)._set(Du(p),"true")})).apply(this,arguments)}function xl(){yo.clear()}function Bd(v,p){yo.set(v._key(),p)}function Ud(v){return ar(v._redirectPersistence)}function Du(v){return Pr(Vd,v.config.apiKey,v.name)}function jd(v,p,g){return function Tc(v,p,g){return yr.apply(this,arguments)}(v,p,g)}function yr(){return(yr=(0,d.Z)(function*(v,p,g){const E=An(v);We(v,p,Wi),yield E._initializationPromise;const P=ut(E,g);return yield Ef(P,E),P._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function Tu(v,p,g){return function Au(v,p,g){return is.apply(this,arguments)}(v,p,g)}function is(){return(is=(0,d.Z)(function*(v,p,g){const E=(0,K.m9)(v);We(E.auth,p,Wi),yield E.auth._initializationPromise;const P=ut(E.auth,g);yield Ef(P,E.auth);const V=yield oa(E);return P._openRedirect(E.auth,p,"reauthViaRedirect",V)})).apply(this,arguments)}function Su(v,p,g){return function xu(v,p,g){return Ac.apply(this,arguments)}(v,p,g)}function Ac(){return(Ac=(0,d.Z)(function*(v,p,g){const E=(0,K.m9)(v);We(E.auth,p,Wi),yield E.auth._initializationPromise;const P=ut(E.auth,g);yield ws(!1,E,p.providerId),yield Ef(P,E.auth);const V=yield oa(E);return P._openRedirect(E.auth,p,"linkViaRedirect",V)})).apply(this,arguments)}function If(v,p){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,d.Z)(function*(v,p){return yield An(v)._initializationPromise,$d(v,p,!1)})).apply(this,arguments)}function $d(v,p){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,d.Z)(function*(v,p,g=!1){const E=An(v),P=ut(E,p),ne=yield new Al(E,P,g).execute();return ne&&!g&&(delete ne.user._redirectEventId,yield E._persistUserIfCurrent(ne.user),yield E._setRedirectUser(null,p)),ne})).apply(this,arguments)}function oa(v){return xc.apply(this,arguments)}function xc(){return(xc=(0,d.Z)(function*(v){const p=Vo(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class Hd{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(g=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Cf(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zd(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var E;if(p.error&&!zd(p)){const P=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";g.onError(De(this.auth,P))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const E=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mc(p))}saveEventToCache(p){this.cachedEventUids.add(Mc(p)),this.lastProcessedEventTime=Date.now()}}function Mc(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function zd({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function Gd(v){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,d.Z)(function*(v,p={}){return bt(v,"GET","/v1/projects",p)})).apply(this,arguments)}const Yy=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_m=/^https?/;function Rc(){return(Rc=(0,d.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield Gd(v);for(const g of p)try{if(Df(g))return}catch{}ke(v,"unauthorized-domain")})).apply(this,arguments)}function Df(v){const p=ht(),{protocol:g,hostname:E}=new URL(p);if(v.startsWith("chrome-extension://")){const ne=new URL(v);return""===ne.hostname&&""===E?"chrome-extension:"===g&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&ne.hostname===E}if(!_m.test(g))return!1;if(Yy.test(v))return E===v;const P=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+P+"|"+P+")$","i").test(E)}const sa=new Ae(3e4,6e4);function Rl(){const v=wr().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let ja=null;const qd=new Ae(5e3,15e3),Ms="__/auth/iframe",Pu="emulator/auth/iframe",Tf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Af(v){const p=v.config;de(p.authDomain,v,"auth-domain-config-required");const g=p.emulator?Pe(p,Pu):`https://${v.config.authDomain}/${Ms}`,E={apiKey:p.apiKey,appName:v.name,v:N.SDK_VERSION},P=Kd.get(v.config.apiHost);P&&(E.eid=P);const V=v._getFrameworks();return V.length&&(E.fw=V.join(",")),`${g}?${(0,K.xO)(E).slice(1)}`}function dr(){return dr=(0,d.Z)(function*(v){const p=yield function aa(v){return ja=ja||function _o(v){return new Promise((p,g)=>{var E,P,V;function ne(){Rl(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Rl(),g(De(v,"network-request-failed"))},timeout:sa.get()})}if(null!==(P=null===(E=wr().gapi)||void 0===E?void 0:E.iframes)&&void 0!==P&&P.Iframe)p(gapi.iframes.getContext());else{if(null===(V=wr().gapi)||void 0===V||!V.load){const ge=kr("iframefcb");return wr()[ge]=()=>{gapi.load?ne():g(De(v,"network-request-failed"))},yn(`https://apis.google.com/js/api.js?onload=${ge}`).catch(Qe=>g(Qe))}ne()}}).catch(p=>{throw ja=null,p})}(v),ja}(v),g=wr().gapi;return de(g,v,"internal-error"),p.open({where:document.body,url:Af(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tf,dontclear:!0},E=>new Promise(function(){var P=(0,d.Z)(function*(V,ne){yield E.restyle({setHideOnLeave:!1});const ge=De(v,"network-request-failed"),Qe=wr().setTimeout(()=>{ne(ge)},qd.get());function st(){wr().clearTimeout(Qe),V(E)}E.ping(st).then(st,()=>{ne(ge)})});return function(V,ne){return P.apply(this,arguments)}}()))}),dr.apply(this,arguments)}const b={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},D=500,R=600,H="_blank",ee="http://localhost";class oe{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Xe="__/auth/handler",Tt="emulator/auth/handler",Gt=encodeURIComponent("fac");function Qt(v,p,g,E,P,V){return ki.apply(this,arguments)}function ki(){return(ki=(0,d.Z)(function*(v,p,g,E,P,V){de(v.config.authDomain,v,"auth-domain-config-required"),de(v.config.apiKey,v,"invalid-api-key");const ne={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:E,v:N.SDK_VERSION,eventId:P};if(p instanceof Wi){p.setDefaultLanguage(v.languageCode),ne.providerId=p.providerId||"",(0,K.xb)(p.getCustomParameters())||(ne.customParameters=JSON.stringify(p.getCustomParameters()));for(const[xt,cn]of Object.entries(V||{}))ne[xt]=cn}if(p instanceof _s){const xt=p.getScopes().filter(cn=>""!==cn);xt.length>0&&(ne.scopes=xt.join(","))}v.tenantId&&(ne.tid=v.tenantId);const ge=ne;for(const xt of Object.keys(ge))void 0===ge[xt]&&delete ge[xt];const Qe=yield v._getAppCheckToken(),st=Qe?`#${Gt}=${encodeURIComponent(Qe)}`:"";return`${function ni({config:v}){return v.emulator?Pe(v,Tt):`https://${v.authDomain}/${Xe}`}(v)}?${(0,K.xO)(ge).slice(1)}${st}`})).apply(this,arguments)}const ca="webStorageSupport",$a=class ku{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pi,this._completeRedirectFn=$d,this._overrideRedirectResult=Bd}_openPopup(p,g,E,P){var V=this;return(0,d.Z)(function*(){var ne;Pt(null===(ne=V.eventManagers[p._key()])||void 0===ne?void 0:ne.manager,"_initialize() not called before _openPopup()");const ge=yield Qt(p,g,E,ht(),P);return function _e(v,p,g,E=D,P=R){const V=Math.max((window.screen.availHeight-P)/2,0).toString(),ne=Math.max((window.screen.availWidth-E)/2,0).toString();let ge="";const Qe=Object.assign(Object.assign({},b),{width:E.toString(),height:P.toString(),top:V,left:ne}),st=(0,K.z$)().toLowerCase();g&&(ge=F(st)?H:g),B(st)&&(p=p||ee,Qe.scrollbars="yes");const xt=Object.entries(Qe).reduce((Ni,[Rs,Nu])=>`${Ni}${Rs}=${Nu},`,"");if(function Lt(v=(0,K.z$)()){var p;return kt(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(st)&&"_self"!==ge)return function tt(v,p){const g=document.createElement("a");g.href=v,g.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(E)}(p||"",ge),new oe(null);const cn=window.open(p||"",ge,xt);de(cn,v,"popup-blocked");try{cn.focus()}catch{}return new oe(cn)}(p,ge,Vo())})()}_openRedirect(p,g,E,P){var V=this;return(0,d.Z)(function*(){return yield V._originValidation(p),function Ts(v){wr().location.href=v}(yield Qt(p,g,E,ht(),P)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:P,promise:V}=this.eventManagers[g];return P?Promise.resolve(P):(Pt(V,"If manager is not set, promise should be"),V)}const E=this.initAndGetManager(p);return this.eventManagers[g]={promise:E},E.catch(()=>{delete this.eventManagers[g]}),E}initAndGetManager(p){var g=this;return(0,d.Z)(function*(){const E=yield function Sf(v){return dr.apply(this,arguments)}(p),P=new Hd(p);return E.register("authEvent",V=>(de(V?.authEvent,p,"invalid-auth-event"),{status:P.onEvent(V.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:P},g.iframes[p._key()]=E,P})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(ca,{type:ca},P=>{var V;const ne=null===(V=P?.[0])||void 0===V?void 0:V[ca];void 0!==ne&&g(!!ne),ke(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Wd(v){return Rc.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Zt()||j()||kt()}};class Oi{constructor(p){this.factorId=p}_process(p,g,E){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,E);case"signin":return this._finalizeSignIn(p,g.credential);default:return nt("unexpected MultiFactorSessionType")}}}class no extends Oi{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new no(p)}_finalizeEnroll(p,g,E){return function tr(v,p){return bt(v,"POST","/v2/accounts/mfaEnrollment:finalize",Be(v,p))}(p,{idToken:g,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function na(v,p){return bt(v,"POST","/v2/accounts/mfaSignIn:finalize",Be(v,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ha=(()=>{class v{constructor(){}static assertion(g){return no._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var Ou="@firebase/auth";class Bo{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,d.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(E=>{p(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);g&&(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Rf=(0,K.Pz)("authIdTokenMaxAge")||300;let wm=null;const Qy=v=>function(){var p=(0,d.Z)(function*(g){const E=g&&(yield g.getIdTokenResult()),P=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(P&&P>Rf)return;const V=E?.token;wm!==V&&(wm=V,yield fetch(v,{method:V?"POST":"DELETE",headers:V?{Authorization:`Bearer ${V}`}:{}}))});return function(g){return p.apply(this,arguments)}}();function Qd(v=(0,N.getApp)()){const p=(0,N._getProvider)(v,"auth");if(p.isInitialized())return p.getImmediate();const g=function Ar(v,p){const g=(0,N._getProvider)(v,"auth");if(g.isInitialized()){const P=g.getImmediate(),V=g.getOptions();if((0,K.vZ)(V,p??{}))return P;ke(P,"already-initialized")}return g.initialize({options:p})}(v,{popupRedirectResolver:$a,persistence:[_u,yl,pi]}),E=(0,K.Pz)("authTokenSyncURL");if(E){const V=Qy(E);(function Ds(v,p,g){(0,K.m9)(v).beforeAuthStateChanged(p,g)})(g,V,()=>V(g.currentUser)),function ka(v,p,g,E){(0,K.m9)(v).onIdTokenChanged(p,g,E)}(g,ne=>V(ne))}const P=(0,K.q4)("auth");return P&&Ln(g,`http://${P}`),g}!function vm(v){(0,N._registerComponent)(new $.wA("auth",(p,{options:g})=>{const E=p.getProvider("app").getImmediate(),P=p.getProvider("heartbeat"),V=p.getProvider("app-check-internal"),{apiKey:ne,authDomain:ge}=E.options;de(ne&&!ne.includes(":"),"invalid-api-key",{appName:E.name});const Qe={apiKey:ne,authDomain:ge,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qn(v)},st=new Hn(E,P,V,Qe);return function Bs(v,p){const g=p?.persistence||[],E=(Array.isArray(g)?g:[g]).map(ar);p?.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(E,p?.popupRedirectResolver)}(st,g),st},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,E)=>{p.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new $.wA("auth-internal",p=>{const g=An(p.getProvider("auth").getImmediate());return new Bo(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(Ou,"0.23.2",function Uo(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,N.registerVersion)(Ou,"0.23.2","esm2017")}("Browser")},2090:(St,Oe,U)=>{"use strict";U.d(Oe,{$s:()=>ar,BH:()=>we,G6:()=>Pe,L:()=>Te,LL:()=>Nn,P0:()=>Ve,Pz:()=>De,Sg:()=>We,UG:()=>nt,US:()=>$,ZB:()=>se,ZR:()=>bt,aH:()=>ke,b$:()=>qt,eu:()=>Je,hl:()=>Le,jU:()=>Pt,m9:()=>Pr,ne:()=>en,pd:()=>Fn,q4:()=>je,r3:()=>Jr,ru:()=>ht,tV:()=>X,uI:()=>de,vZ:()=>_t,w1:()=>ii,xO:()=>Zn,xb:()=>Gr,z$:()=>ze,zI:()=>He,zd:()=>_r});const ae=function(J){const q=[];let B=0;for(let j=0;j<J.length;j++){let F=J.charCodeAt(j);F<128?q[B++]=F:F<2048?(q[B++]=F>>6|192,q[B++]=63&F|128):55296==(64512&F)&&j+1<J.length&&56320==(64512&J.charCodeAt(j+1))?(F=65536+((1023&F)<<10)+(1023&J.charCodeAt(++j)),q[B++]=F>>18|240,q[B++]=F>>12&63|128,q[B++]=F>>6&63|128,q[B++]=63&F|128):(q[B++]=F>>12|224,q[B++]=F>>6&63|128,q[B++]=63&F|128)}return q},$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(J,q){if(!Array.isArray(J))throw Error("encodeByteArray takes an array as a parameter");this.init_();const B=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,j=[];for(let F=0;F<J.length;F+=3){const te=J[F],xe=F+1<J.length,lt=xe?J[F+1]:0,Ft=F+2<J.length,kt=Ft?J[F+2]:0;let Sn=(15&lt)<<2|kt>>6,Zt=63&kt;Ft||(Zt=64,xe||(Sn=64)),j.push(B[te>>2],B[(3&te)<<4|lt>>4],B[Sn],B[Zt])}return j.join("")},encodeString(J,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(J):this.encodeByteArray(ae(J),q)},decodeString(J,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(J):function(J){const q=[];let B=0,j=0;for(;B<J.length;){const F=J[B++];if(F<128)q[j++]=String.fromCharCode(F);else if(F>191&&F<224){const te=J[B++];q[j++]=String.fromCharCode((31&F)<<6|63&te)}else if(F>239&&F<365){const Ft=((7&F)<<18|(63&J[B++])<<12|(63&J[B++])<<6|63&J[B++])-65536;q[j++]=String.fromCharCode(55296+(Ft>>10)),q[j++]=String.fromCharCode(56320+(1023&Ft))}else{const te=J[B++],xe=J[B++];q[j++]=String.fromCharCode((15&F)<<12|(63&te)<<6|63&xe)}}return q.join("")}(this.decodeStringToByteArray(J,q))},decodeStringToByteArray(J,q){this.init_();const B=q?this.charToByteMapWebSafe_:this.charToByteMap_,j=[];for(let F=0;F<J.length;){const te=B[J.charAt(F++)],lt=F<J.length?B[J.charAt(F)]:0;++F;const kt=F<J.length?B[J.charAt(F)]:64;++F;const Lt=F<J.length?B[J.charAt(F)]:64;if(++F,null==te||null==lt||null==kt||null==Lt)throw new Se;j.push(te<<2|lt>>4),64!==kt&&(j.push(lt<<4&240|kt>>2),64!==Lt&&j.push(kt<<6&192|Lt))}return j},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let J=0;J<this.ENCODED_VALS.length;J++)this.byteToCharMap_[J]=this.ENCODED_VALS.charAt(J),this.charToByteMap_[this.byteToCharMap_[J]]=J,this.byteToCharMapWebSafe_[J]=this.ENCODED_VALS_WEBSAFE.charAt(J),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[J]]=J,J>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(J)]=J,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(J)]=J)}}};class Se extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Te=function(J){return function(J){const q=ae(J);return $.encodeByteArray(q,!0)}(J).replace(/\./g,"")},X=function(J){try{return $.decodeString(J,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};function se(J,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===J&&(J={});break;case Array:J=[];break;default:return q}for(const B in q)!q.hasOwnProperty(B)||!Ze(B)||(J[B]=se(J[B],q[B]));return J}function Ze(J){return"__proto__"!==J}const Fe=()=>{try{return function Ne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const J=process.env.__FIREBASE_DEFAULTS__;return J?JSON.parse(J):void 0})()||(()=>{if(typeof document>"u")return;let J;try{J=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const q=J&&X(J[1]);return q&&JSON.parse(q)})()}catch(J){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${J}`)}},je=J=>{var q,B;return null===(B=null===(q=Fe())||void 0===q?void 0:q.emulatorHosts)||void 0===B?void 0:B[J]},Ve=J=>{const q=je(J);if(!q)return;const B=q.lastIndexOf(":");if(B<=0||B+1===q.length)throw new Error(`Invalid host ${q} with no separate hostname and port!`);const j=parseInt(q.substring(B+1),10);return"["===q[0]?[q.substring(1,B-1),j]:[q.substring(0,B),j]},ke=()=>{var J;return null===(J=Fe())||void 0===J?void 0:J.config},De=J=>{var q;return null===(q=Fe())||void 0===q?void 0:q[`_${J}`]};class we{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,B)=>{this.resolve=q,this.reject=B})}wrapCallback(q){return(B,j)=>{B?this.reject(B):this.resolve(j),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q(B):q(B,j))}}}function We(J,q){if(J.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const j=q||"demo-project",F=J.iat||0,te=J.sub||J.user_id;if(!te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const xe=Object.assign({iss:`https://securetoken.google.com/${j}`,aud:j,iat:F,exp:F+3600,auth_time:F,sub:te,user_id:te,firebase:{sign_in_provider:"custom",identities:{}}},J);return[Te(JSON.stringify({alg:"none",type:"JWT"})),Te(JSON.stringify(xe)),""].join(".")}function ze(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function nt(){var J;const q=null===(J=Fe())||void 0===J?void 0:J.forceEnvironment;if("node"===q)return!0;if("browser"===q)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Pt(){return"object"==typeof self&&self.self===self}function ht(){const J="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof J&&void 0!==J.id}function qt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ii(){const J=ze();return J.indexOf("MSIE ")>=0||J.indexOf("Trident/")>=0}function Pe(){return!nt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Le(){try{return"object"==typeof indexedDB}catch{return!1}}function Je(){return new Promise((J,q)=>{try{let B=!0;const j="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(j);F.onsuccess=()=>{F.result.close(),B||self.indexedDB.deleteDatabase(j),J(!0)},F.onupgradeneeded=()=>{B=!1},F.onerror=()=>{var te;q((null===(te=F.error)||void 0===te?void 0:te.message)||"")}}catch(B){q(B)}})}function He(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class bt extends Error{constructor(q,B,j){super(B),this.code=q,this.customData=j,this.name="FirebaseError",Object.setPrototypeOf(this,bt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nn.prototype.create)}}class Nn{constructor(q,B,j){this.service=q,this.serviceName=B,this.errors=j}create(q,...B){const j=B[0]||{},F=`${this.service}/${q}`,te=this.errors[q],xe=te?function yt(J,q){return J.replace(Et,(B,j)=>{const F=q[j];return null!=F?String(F):`<${j}?>`})}(te,j):"Error";return new bt(F,`${this.serviceName}: ${xe} (${F}).`,j)}}const Et=/\{\$([^}]+)}/g;function Jr(J,q){return Object.prototype.hasOwnProperty.call(J,q)}function Gr(J){for(const q in J)if(Object.prototype.hasOwnProperty.call(J,q))return!1;return!0}function _t(J,q){if(J===q)return!0;const B=Object.keys(J),j=Object.keys(q);for(const F of B){if(!j.includes(F))return!1;const te=J[F],xe=q[F];if(hn(te)&&hn(xe)){if(!_t(te,xe))return!1}else if(te!==xe)return!1}for(const F of j)if(!B.includes(F))return!1;return!0}function hn(J){return null!==J&&"object"==typeof J}function Zn(J){const q=[];for(const[B,j]of Object.entries(J))Array.isArray(j)?j.forEach(F=>{q.push(encodeURIComponent(B)+"="+encodeURIComponent(F))}):q.push(encodeURIComponent(B)+"="+encodeURIComponent(j));return q.length?"&"+q.join("&"):""}function _r(J){const q={};return J.replace(/^\?/,"").split("&").forEach(j=>{if(j){const[F,te]=j.split("=");q[decodeURIComponent(F)]=decodeURIComponent(te)}}),q}function Fn(J){const q=J.indexOf("?");if(!q)return"";const B=J.indexOf("#",q);return J.substring(q,B>0?B:void 0)}function en(J,q){const B=new vt(J,q);return B.subscribe.bind(B)}class vt{constructor(q,B){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=B,this.task.then(()=>{q(this)}).catch(j=>{this.error(j)})}next(q){this.forEachObserver(B=>{B.next(q)})}error(q){this.forEachObserver(B=>{B.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,B,j){let F;if(void 0===q&&void 0===B&&void 0===j)throw new Error("Missing Observer.");F=function ir(J,q){if("object"!=typeof J||null===J)return!1;for(const B of q)if(B in J&&"function"==typeof J[B])return!0;return!1}(q,["next","error","complete"])?q:{next:q,error:B,complete:j},void 0===F.next&&(F.next=Ir),void 0===F.error&&(F.error=Ir),void 0===F.complete&&(F.complete=Ir);const te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?F.error(this.finalError):F.complete()}catch{}}),this.observers.push(F),te}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let B=0;B<this.observers.length;B++)this.sendOne(B,q)}sendOne(q,B){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{B(this.observers[q])}catch(j){typeof console<"u"&&console.error&&console.error(j)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ir(){}const zt=1e3,or=2,Kn=144e5,sr=.5;function ar(J,q=zt,B=or){const j=q*Math.pow(B,J),F=Math.round(sr*j*(Math.random()-.5)*2);return Math.min(Kn,j+F)}function Pr(J){return J&&J._delegate?J._delegate:J}},4528:(St,Oe,U)=>{"use strict";var d=U(4650);let K=null;function N(){return K}class fe{}const $=new d.OlP("DocumentToken");let Se=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Ee(){return(0,d.LFG)(X)}()},providedIn:"platform"}),n})();const Te=new d.OlP("Location Initialized");let X=(()=>{class n extends Se{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){Y()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){Y()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG($))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function se(){return new X((0,d.LFG)($))}()},providedIn:"platform"}),n})();function Y(){return!!window.history.pushState}function Ze(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ne(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function et(n){return n&&"?"!==n[0]?"?"+n:n}let ct=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(Fe)},providedIn:"root"}),n})();const Ie=new d.OlP("appBaseHref");let Fe=(()=>{class n extends ct{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)($).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ze(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+et(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const l=this.prepareExternalUrl(i+et(a));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){const l=this.prepareExternalUrl(i+et(a));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Se),d.LFG(Ie,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),je=(()=>{class n extends ct{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ze(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let l=this.prepareExternalUrl(i+et(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){let l=this.prepareExternalUrl(i+et(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Se),d.LFG(Ie,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Ve=(()=>{class n{constructor(t){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function We(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Ne(we(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+et(r))}normalize(t){return n.stripTrailingSlash(function De(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,we(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+et(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+et(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=et,n.joinWithSlash=Ze,n.stripTrailingSlash=Ne,n.\u0275fac=function(t){return new(t||n)(d.LFG(ct))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function ke(){return new Ve((0,d.LFG)(ct))}()},providedIn:"root"}),n})();function we(n){return n.replace(/\/index.html$/,"")}function Ao(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}let So=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Yt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Us("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Us("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Yt{constructor(){this.$implicit=null,this.ngIf=null}}function Us(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}let ys=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const uu="browser",ko="server";function Wi(n){return n===uu}function _s(n){return n===ko}let Hs=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new rl((0,d.LFG)($),window)}),n})();class rl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function vs(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const l=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ki(this.window.history)||Ki(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ki(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class cc{}class gl extends fe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ka extends gl{static makeCurrent(){!function ae(n){K||(K=n)}(new ka)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ys(){return Ds=Ds||document.querySelector("base"),Ds?Ds.getAttribute("href"):null}();return null==t?null:function C(n){Mi=Mi||document.createElement("a"),Mi.setAttribute("href",n);const e=Mi.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ds=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ao(document.cookie,e)}}let Mi,Ds=null;const T=new d.OlP("TRANSITION_ID"),W=[{provide:d.ip1,useFactory:function k(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=N(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[T,$,d.zs3],multi:!0}];let Mt=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const bn=new d.OlP("EventManagerPlugins");let er=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const l=i[a];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(bn),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class tr{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=N().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let ns=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let a=i.get(t)??0;return a+=r,a>0?i.set(t,a):i.delete(t),a}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Ji=(()=>{class n extends ns{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(a=>a.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const a=this.styleRef.get(r);a?a.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG($))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Qs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Oa=/%COMP%/g,wc=new d.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function yl(n,e){return e.flat(100).map(t=>t.replace(Oa,n))}function pu(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let pi=(()=>{class n{constructor(t,r,i,a){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=a,this.rendererByCompId=new Map,this.defaultRenderer=new Md(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof _l?i.applyToHost(t):i instanceof Ts&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let a=i.get(r.id);if(!a){const l=this.eventManager,f=this.sharedStylesHost,y=this.removeStylesOnCompDestory;switch(r.encapsulation){case d.ifc.Emulated:a=new _l(l,f,r,this.appId,y);break;case d.ifc.ShadowDom:return new wr(l,f,t,r);default:a=new Ts(l,f,r,y)}a.onDestroy=()=>i.delete(r.id),i.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(er),d.LFG(Ji),d.LFG(d.AFp),d.LFG(wc))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Md{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Qs[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Rd(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Rd(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Qs[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Qs[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,i&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,pu(r)):this.eventManager.addEventListener(e,t,pu(r))}}function Rd(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class wr extends Md{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=yl(i.id,i.styles);for(const l of a){const f=document.createElement("style");f.textContent=l,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ts extends Md{constructor(e,t,r,i,a=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=yl(a,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class _l extends Ts{constructor(e,t,r,i,a){const l=i+"-"+r.id;super(e,t,r,a,l),this.contentAttr=function mf(n){return"_ngcontent-%COMP%".replace(Oa,n)}(l),this.hostAttr=function fu(n){return"_nghost-%COMP%".replace(Oa,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Pd=(()=>{class n extends tr{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG($))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Ec=["alt","control","meta","shift"],kd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vl={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Lr=(()=>{class n extends tr{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),l=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,a.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let l="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),l="code."),Ec.forEach(w=>{const x=r.indexOf(w);x>-1&&(r.splice(x,1),l+=w+".")}),l+=a,0!=r.length||0===a.length)return null;const y={};return y.domEventName=i,y.fullKey=l,y}static matchEventFullKeyCode(t,r){let i=kd[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ec.forEach(l=>{l!==i&&(0,vl[l])(t)&&(a+=l+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG($))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const yf=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:uu},{provide:d.g9A,useValue:function La(){ka.makeCurrent()},multi:!0},{provide:$,useFactory:function yu(){return(0,d.RDi)(document),document},deps:[]}]),Xs=new d.OlP(""),Ic=[{provide:d.rWj,useClass:class me{addToWindow(e){d.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const i=d.dqk.getAllAngularTestabilities();let a=i.length,l=!1;const f=function(y){l=l||y,a--,0==a&&r(l)};i.forEach(function(y){y.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],ea=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function gu(){return new d.qLn},deps:[]},{provide:bn,useClass:Pd,multi:!0,deps:[$,d.R0b,d.Lbi]},{provide:bn,useClass:Lr,multi:!0,deps:[$]},{provide:pi,useClass:pi,deps:[er,Ji,d.AFp,wc]},{provide:d.FYo,useExisting:pi},{provide:ns,useExisting:Ji},{provide:Ji,useClass:Ji,deps:[$]},{provide:er,useClass:er,deps:[bn,d.R0b]},{provide:cc,useClass:Mt,deps:[]},[]];let ta=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:T,useExisting:d.AFp},W]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Xs,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[...ea,...Ic],imports:[ys,d.hGG]}),n})(),_f=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(d.LFG($))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function na(){return new _f((0,d.LFG)($))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Ba=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):d.LFG(Cl),r},providedIn:"root"}),n})(),Cl=(()=>{class n extends Ba{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case d.q3G.NONE:return r;case d.q3G.HTML:return(0,d.qzn)(r,"HTML")?(0,d.z3N)(r):(0,d.EiD)(this._doc,String(r)).toString();case d.q3G.STYLE:return(0,d.qzn)(r,"Style")?(0,d.z3N)(r):r;case d.q3G.SCRIPT:if((0,d.qzn)(r,"Script"))return(0,d.z3N)(r);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.qzn)(r,"URL")?(0,d.z3N)(r):(0,d.mCW)(String(r));case d.q3G.RESOURCE_URL:if((0,d.qzn)(r,"ResourceURL"))return(0,d.z3N)(r);throw new Error(`unsafe value used in a resource URL context (see ${d.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${d.JZr})`)}}bypassSecurityTrustHtml(t){return(0,d.JVY)(t)}bypassSecurityTrustStyle(t){return(0,d.L6k)(t)}bypassSecurityTrustScript(t){return(0,d.eBb)(t)}bypassSecurityTrustUrl(t){return(0,d.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,d.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG($))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Dc(n){return new Cl(n.get($))}(d.LFG(d.zs3)),r},providedIn:"root"}),n})();var eo=U(7669),Rn=U(8996);function ut(...n){const e=(0,eo.yG)(n);return(0,Rn.D)(n,e)}var Ri=U(9751),nr=U(5577),Dl=U(576);function rs(n,e){return(0,Dl.m)(e)?(0,nr.z)(n,e,1):(0,nr.z)(n,1)}var gr=U(4482),Sr=U(5403);function Pi(n,e){return(0,gr.e)((t,r)=>{let i=0;t.subscribe((0,Sr.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var mt=U(4004);class go{}class Tl{}class mi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(l):this.headers.set(a,[l])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(a=>a.toString()),i.length>0){const a=t.toLowerCase();this.headers.set(a,i),this.maybeSetNormalizedName(t,a)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof mi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new mi;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof mi?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let l=this.headers.get(t);if(!l)return;l=l.filter(f=>-1===a.indexOf(f)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Ua{encodeKey(e){return Al(e)}encodeValue(e){return Al(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Vd=/%(\d[a-f0-9])/gi,yo={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Al(n){return encodeURIComponent(n).replace(Vd,(e,t)=>yo[t]??e)}function Sl(n){return`${n}`}class to{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ua,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Cu(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[l,f]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],y=t.get(l)||[];y.push(f),t.set(l,y)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Sl):[Sl(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new to({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Sl(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Sl(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class ia{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Bd(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Ud(n){return typeof Blob<"u"&&n instanceof Blob}function Du(n){return typeof FormData<"u"&&n instanceof FormData}class Tc{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function xl(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new mi),this.context||(this.context=new ia),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+l}}else this.params=new to,this.urlWithParams=t}serializeBody(){return null===this.body?null:Bd(this.body)||Ud(this.body)||Du(this.body)||function jd(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof to?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Du(this.body)?null:Ud(this.body)?this.body.type||null:Bd(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof to?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let y=e.headers||this.headers,w=e.params||this.params;const x=e.context??this.context;return void 0!==e.setHeaders&&(y=Object.keys(e.setHeaders).reduce((O,G)=>O.set(G,e.setHeaders[G]),y)),e.setParams&&(w=Object.keys(e.setParams).reduce((O,G)=>O.set(G,e.setParams[G]),w)),new Tc(t,r,a,{params:w,headers:y,context:x,reportProgress:f,responseType:i,withCredentials:l})}}var yr=(()=>((yr=yr||{})[yr.Sent=0]="Sent",yr[yr.UploadProgress=1]="UploadProgress",yr[yr.ResponseHeader=2]="ResponseHeader",yr[yr.DownloadProgress=3]="DownloadProgress",yr[yr.Response=4]="Response",yr[yr.User=5]="User",yr))();class Tu{constructor(e,t=200,r="OK"){this.headers=e.headers||new mi,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Au extends Tu{constructor(e={}){super(e),this.type=yr.ResponseHeader}clone(e={}){return new Au({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class is extends Tu{constructor(e={}){super(e),this.type=yr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new is({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Su extends Tu{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function xu(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Ac=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof Tc)a=t;else{let y,w;y=i.headers instanceof mi?i.headers:new mi(i.headers),i.params&&(w=i.params instanceof to?i.params:new to({fromObject:i.params})),a=new Tc(t,r,void 0!==i.body?i.body:null,{headers:y,context:i.context,params:w,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=ut(a).pipe(rs(y=>this.handler.handle(y)));if(t instanceof Tc||"events"===i.observe)return l;const f=l.pipe(Pi(y=>y instanceof is));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,mt.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return f.pipe((0,mt.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return f.pipe((0,mt.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return f.pipe((0,mt.U)(y=>y.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new to).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,xu(i,r))}post(t,r,i={}){return this.request("POST",t,xu(i,r))}put(t,r,i={}){return this.request("PUT",t,xu(i,r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(go))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function If(n,e){return e(n)}function Sc(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const Ml=new d.OlP("HTTP_INTERCEPTORS"),oa=new d.OlP("HTTP_INTERCEPTOR_FNS");function xc(){let n=null;return(e,t)=>(null===n&&(n=((0,d.f3M)(Ml,{optional:!0})??[]).reduceRight(Sc,If)),n(e,t))}let Mu=(()=>{class n extends go{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(oa)));this.chain=r.reduceRight((i,a)=>function $d(n,e,t){return(r,i)=>t.runInContext(()=>e(r,a=>n(a,i)))}(i,a,this.injector),If)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Tl),d.LFG(d.lqb))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const sa=/^\)\]\}',?\n/;let _o=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ri.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((Q,ie)=>i.setRequestHeader(Q,ie.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const Q=t.detectContentTypeHeader();null!==Q&&i.setRequestHeader("Content-Type",Q)}if(t.responseType){const Q=t.responseType.toLowerCase();i.responseType="json"!==Q?Q:"text"}const a=t.serializeBody();let l=null;const f=()=>{if(null!==l)return l;const Q=i.statusText||"OK",ie=new mi(i.getAllResponseHeaders()),ue=function Rl(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return l=new Au({headers:ie,status:i.status,statusText:Q,url:ue}),l},y=()=>{let{headers:Q,status:ie,statusText:ue,url:Ce}=f(),qe=null;204!==ie&&(qe=typeof i.response>"u"?i.responseText:i.response),0===ie&&(ie=qe?200:0);let at=ie>=200&&ie<300;if("json"===t.responseType&&"string"==typeof qe){const gt=qe;qe=qe.replace(sa,"");try{qe=""!==qe?JSON.parse(qe):null}catch(wt){qe=gt,at&&(at=!1,qe={error:wt,text:qe})}}at?(r.next(new is({body:qe,headers:Q,status:ie,statusText:ue,url:Ce||void 0})),r.complete()):r.error(new Su({error:qe,headers:Q,status:ie,statusText:ue,url:Ce||void 0}))},w=Q=>{const{url:ie}=f(),ue=new Su({error:Q,status:i.status||0,statusText:i.statusText||"Unknown Error",url:ie||void 0});r.error(ue)};let x=!1;const O=Q=>{x||(r.next(f()),x=!0);let ie={type:yr.DownloadProgress,loaded:Q.loaded};Q.lengthComputable&&(ie.total=Q.total),"text"===t.responseType&&i.responseText&&(ie.partialText=i.responseText),r.next(ie)},G=Q=>{let ie={type:yr.UploadProgress,loaded:Q.loaded};Q.lengthComputable&&(ie.total=Q.total),r.next(ie)};return i.addEventListener("load",y),i.addEventListener("error",w),i.addEventListener("timeout",w),i.addEventListener("abort",w),t.reportProgress&&(i.addEventListener("progress",O),null!==a&&i.upload&&i.upload.addEventListener("progress",G)),i.send(a),r.next({type:yr.Sent}),()=>{i.removeEventListener("error",w),i.removeEventListener("abort",w),i.removeEventListener("load",y),i.removeEventListener("timeout",w),t.reportProgress&&(i.removeEventListener("progress",O),null!==a&&i.upload&&i.upload.removeEventListener("progress",G)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(cc))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const ja=new d.OlP("XSRF_ENABLED"),qd=new d.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Pu=new d.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Tf{}let Kd=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ao(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(d.LFG($),d.LFG(d.Lbi),d.LFG(qd))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Af(n,e){const t=n.url.toLowerCase();if(!(0,d.f3M)(ja)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,d.f3M)(Tf).getToken(),i=(0,d.f3M)(Pu);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var dr=(()=>((dr=dr||{})[dr.Interceptors=0]="Interceptors",dr[dr.LegacyInterceptors=1]="LegacyInterceptors",dr[dr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",dr[dr.NoXsrfProtection=3]="NoXsrfProtection",dr[dr.JsonpSupport=4]="JsonpSupport",dr[dr.RequestsMadeViaParent=5]="RequestsMadeViaParent",dr))();function b(n,e){return{\u0275kind:n,\u0275providers:e}}function D(...n){const e=[Ac,_o,Mu,{provide:go,useExisting:Mu},{provide:Tl,useExisting:_o},{provide:oa,useValue:Af,multi:!0},{provide:ja,useValue:!0},{provide:Tf,useClass:Kd}];for(const t of n)e.push(...t.\u0275providers);return(0,d.MR2)(e)}const H=new d.OlP("LEGACY_INTERCEPTOR_FN");let Gt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[D(b(dr.LegacyInterceptors,[{provide:H,useFactory:xc},{provide:oa,useExisting:H,multi:!0}]))]}),n})();const{isArray:ni}=Array,{getPrototypeOf:ca,prototype:ku,keys:$a}=Object;function Oi(n){if(1===n.length){const e=n[0];if(ni(e))return{args:e,keys:null};if(function no(n){return n&&"object"==typeof n&&ca(n)===ku}(e)){const t=$a(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ha=U(8421);const{isArray:Zd}=Array;function Mf(n){return(0,mt.U)(e=>function xf(n,e){return Zd(e)?n(...e):n(e)}(n,e))}function Pc(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Ou(...n){const e=(0,eo.jO)(n),{args:t,keys:r}=Oi(n),i=new Ri.y(a=>{const{length:l}=t;if(!l)return void a.complete();const f=new Array(l);let y=l,w=l;for(let x=0;x<l;x++){let O=!1;(0,Ha.Xf)(t[x]).subscribe((0,Sr.x)(a,G=>{O||(O=!0,w--),f[x]=G},()=>y--,void 0,()=>{(!y||!O)&&(w||a.next(r?Pc(r,f):f),a.complete())}))}});return e?i.pipe(Mf(e)):i}let Yd=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),Bo=(()=>{class n extends Yd{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const Uo=new d.OlP("NgValueAccessor"),Rf={provide:Uo,useExisting:(0,d.Gpc)(()=>Qd),multi:!0},Qy=new d.OlP("CompositionEventMode");let Qd=(()=>{class n extends Yd{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function wm(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Qy,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[d._Bn([Rf]),d.qOj]}),n})();const v=!1;function p(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function g(n){return null!=n&&"number"==typeof n.length}const E=new d.OlP("NgValidators"),P=new d.OlP("NgAsyncValidators"),V=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ne{static min(e){return function ge(n){return e=>{if(p(e.value)||p(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Qe(n){return e=>{if(p(e.value)||p(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function st(n){return p(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function xt(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function cn(n){return p(n.value)||V.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Ni(n){return e=>p(e.value)||!g(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Rs(n){return e=>g(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Nu(n){if(!n)return Jd;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(p(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Vu(e)}static composeAsync(e){return Bu(e)}}function Jd(n){return null}function kc(n){return null!=n}function Pf(n){const e=(0,d.QGY)(n)?(0,Rn.D)(n):n;if(v&&!(0,d.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new d.vHH(-1101,t)}return e}function Xd(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Fu(n,e){return e.map(t=>t(n))}function Lu(n){return n.map(e=>function kf(n){return!n.validate}(e)?e:t=>e.validate(t))}function Vu(n){if(!n)return null;const e=n.filter(kc);return 0==e.length?null:function(t){return Xd(Fu(t,e))}}function Oc(n){return null!=n?Vu(Lu(n)):null}function Bu(n){if(!n)return null;const e=n.filter(kc);return 0==e.length?null:function(t){return Ou(Fu(t,e).map(Pf)).pipe((0,mt.U)(Xd))}}function Pl(n){return null!=n?Bu(Lu(n)):null}function eh(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Uu(n){return n?Array.isArray(n)?n:[n]:[]}function Cm(n,e){return Array.isArray(n)?n.includes(e):n===e}function Jy(n,e){const t=Uu(e);return Uu(n).forEach(i=>{Cm(t,i)||t.push(i)}),t}function S0(n,e){return Uu(e).filter(t=>!Cm(n,t))}class x0{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Oc(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Pl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class vo extends x0{get formDirective(){return null}get path(){return null}}class Nc extends x0{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Xy{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ju=(()=>{class n extends Xy{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Nc,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[d.qOj]}),n})();function P0(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const la=!1,za="VALID",Dm="INVALID",nh="PENDING",Nf="DISABLED";function i_(n){return(Tm(n)?n.validators:n)||null}function o_(n,e){return(Tm(e)?e.asyncValidators:n)||null}function Tm(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function O0(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new d.vHH(1e3,la?function ND(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new d.vHH(1001,la?function FD(n,e){return`Cannot find form control ${P0(n,e)}`}(e,t):"")}function N0(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new d.vHH(1002,la?function LD(n,e){return`Must supply a value for form control ${P0(n,e)}`}(e,i):"")})}class Am{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===za}get invalid(){return this.status===Dm}get pending(){return this.status==nh}get disabled(){return this.status===Nf}get enabled(){return this.status!==Nf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Jy(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Jy(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(S0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(S0(e,this._rawAsyncValidators))}hasValidator(e){return Cm(this._rawValidators,e)}hasAsyncValidator(e){return Cm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=nh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Nf,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=za,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===za||this.status===nh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nf:za}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=nh,this._hasOwnPendingAsyncValidator=!0;const t=Pf(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Nf:this.errors?Dm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nh)?nh:this._anyControlsHaveStatus(Dm)?Dm:za}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Tm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function VD(n){return Array.isArray(n)?Oc(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function k0(n){return Array.isArray(n)?Pl(n):n||null}(this._rawAsyncValidators)}}class kl extends Am{constructor(e,t,r){super(i_(t),o_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){N0(this,!0,e),Object.keys(e).forEach(r=>{O0(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class s_ extends kl{}const Nl=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>xm}),xm="always";function Mm(n,e,t=xm){(function F0(n,e){const t=function Em(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(eh(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Im(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(eh(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();ih(e._rawValidators,i),ih(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function UD(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&L0(n,e)})}(n,e),function $D(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function jD(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&L0(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function J1(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ih(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function L0(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function WD(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function sh(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const $u=class extends Am{constructor(e=null,t,r){super(i_(t),o_(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Tm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=sh(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){WD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){WD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){sh(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},g_={provide:Nc,useExisting:(0,d.Gpc)(()=>Lf)},j0=(()=>Promise.resolve())();let Lf=(()=>{class n extends Nc{constructor(t,r,i,a,l,f){super(),this._changeDetectorRef=l,this.callSetDisabledState=f,this.control=new $u,this._registered=!1,this.update=new d.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function f_(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===Qd?t=a:function V0(n){return Object.getPrototypeOf(n.constructor)===Bo}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function d_(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Mm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){j0.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,d.D6c)(r);j0.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function a_(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(vo,9),d.Y36(E,10),d.Y36(P,10),d.Y36(Uo,10),d.Y36(d.sBO,8),d.Y36(Nl,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([g_]),d.qOj,d.TTD]}),n})(),Vf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const Om=new d.OlP("NgModelWithFormControlWarning");let T_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Vf]}),n})();class cT extends Am{constructor(e,t,r){super(i_(t),o_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){N0(this,!1,e),e.forEach((r,i)=>{O0(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function ew(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let tw=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let a={};return ew(r)?a=r:null!==r&&(a.validators=r.validator,a.asyncValidators=r.asyncValidator),new kl(i,a)}record(t,r=null){const i=this._reduceControls(t);return new s_(i,r)}control(t,r,i){let a={};return this.useNonNullable?(ew(r)?a=r:(a.validators=r,a.asyncValidators=i),new $u(t,{...a,nonNullable:!0})):new $u(t,r,i)}array(t,r,i){const a=t.map(l=>this._createControl(l));return new cT(a,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof $u||t instanceof Am?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nw=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Nl,useValue:t.callSetDisabledState??xm}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[T_]}),n})(),rw=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Om,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Nl,useValue:t.callSetDisabledState??xm}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[T_]}),n})();var ua=U(7579);class os extends ua.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Bm=(0,U(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ch=U(4671),hT=U(9672);function A_(...n){const e=(0,eo.yG)(n),t=(0,eo.jO)(n),{args:r,keys:i}=Oi(n);if(0===r.length)return(0,Rn.D)([],e);const a=new Ri.y(function fT(n,e,t=ch.y){return r=>{un(e,()=>{const{length:i}=n,a=new Array(i);let l=i,f=i;for(let y=0;y<i;y++)un(e,()=>{const w=(0,Rn.D)(n[y],e);let x=!1;w.subscribe((0,Sr.x)(r,O=>{a[y]=O,x||(x=!0,f--),f||r.next(t(a.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>Pc(i,l):ch.y));return t?a.pipe(Mf(t)):a}function un(n,e,t){n?(0,hT.f)(t,n,e):e()}var lh=U(8189);function $f(...n){return function iw(){return(0,lh.J)(1)}()((0,Rn.D)(n,(0,eo.yG)(n)))}function ow(n){return new Ri.y(e=>{(0,Ha.Xf)(n()).subscribe(e)})}var pT=U(9635);function Gu(n,e){const t=(0,Dl.m)(n)?n:()=>n,r=i=>i.error(t());return new Ri.y(e?i=>e.schedule(r,0,i):r)}var Bl=U(515),Um=U(727);function S_(){return(0,gr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Sr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class sw extends Ri.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,gr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Um.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Sr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Um.w0.EMPTY)}return e}refCount(){return S_()(this)}}function Fi(n,e){return(0,gr.e)((t,r)=>{let i=null,a=0,l=!1;const f=()=>l&&!i&&r.complete();t.subscribe((0,Sr.x)(r,y=>{i?.unsubscribe();let w=0;const x=a++;(0,Ha.Xf)(n(y,x)).subscribe(i=(0,Sr.x)(r,O=>r.next(e?e(y,O,x,w++):O),()=>{i=null,f()}))},()=>{l=!0,f()}))})}function Lc(n){return n<=0?()=>Bl.E:(0,gr.e)((e,t)=>{let r=0;e.subscribe((0,Sr.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function uh(...n){const e=(0,eo.yG)(n);return(0,gr.e)((t,r)=>{(e?$f(n,t,e):$f(n,t)).subscribe(r)})}function Wa(n){return(0,gr.e)((e,t)=>{let r=!1;e.subscribe((0,Sr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function aw(n=x_){return(0,gr.e)((e,t)=>{let r=!1;e.subscribe((0,Sr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function x_(){return new Bm}function da(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Pi((i,a)=>n(i,a,r)):ch.y,Lc(1),t?Wa(e):aw(()=>new Bm))}var gi=U(8505);function Ul(n){return(0,gr.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,Sr.x)(t,void 0,void 0,l=>{a=(0,Ha.Xf)(n(l,Ul(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function jm(n,e){return(0,gr.e)(function cR(n,e,t,r,i){return(a,l)=>{let f=t,y=e,w=0;a.subscribe((0,Sr.x)(l,x=>{const O=w++;y=f?n(y,x,O):(f=!0,x),r&&l.next(y)},i&&(()=>{f&&l.next(y),l.complete()})))}}(n,e,arguments.length>=2,!0))}function M_(n){return n<=0?()=>Bl.E:(0,gr.e)((e,t)=>{let r=[];e.subscribe((0,Sr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function R_(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Pi((i,a)=>n(i,a,r)):ch.y,M_(1),t?Wa(e):aw(()=>new Bm))}function Vc(n){return(0,gr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const gn="primary",dh=Symbol("RouteTitle");class $m{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function hh(n){return new $m(n)}function cw(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const l=r[a],f=n[a];if(l.startsWith(":"))i[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function qa(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!lw(n[i],e[i]))return!1;return!0}function lw(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function uw(n){return Array.prototype.concat.apply([],n)}function dw(n){return n.length>0?n[n.length-1]:null}function $i(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Bc(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,Rn.D)(Promise.resolve(n)):ut(n)}const Hf=!1,P_={exact:function bT(n,e,t){if(!Uc(n.segments,e.segments)||!zf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!bT(n.children[r],e.children[r],t))return!1;return!0},subset:k_},_T={exact:function vT(n,e){return qa(n,e)},subset:function fh(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>lw(n[t],e[t]))},ignored:()=>!0};function Hm(n,e,t){return P_[t.paths](n.root,e.root,t.matrixParams)&&_T[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function k_(n,e,t){return hw(n,e,e.segments,t)}function hw(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Uc(i,t)||e.hasChildren()||!zf(i,t,r))}if(n.segments.length===t.length){if(!Uc(n.segments,t)||!zf(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!k_(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Uc(n.segments,i)&&zf(n.segments,i,r)&&n.children[gn])&&hw(n.children[gn],e,a,r)}}function zf(n,e,t){return e.every((r,i)=>_T[t](n[i].parameters,r.parameters))}class jl{constructor(e=new Cn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hh(this.queryParams)),this._queryParamMap}toString(){return fw.serialize(this)}}class Cn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,$i(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gh(this)}}class $l{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=hh(this.parameters)),this._parameterMap}toString(){return pw(this)}}function Uc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Wu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return new mh},providedIn:"root"}),n})();class mh{parse(e){const t=new L_(e);return new jl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${qu(e.root,!0)}`,r=function gw(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Wf(t)}=${Wf(i)}`).join("&"):`${Wf(t)}=${Wf(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function O_(n){return encodeURI(n)}(e.fragment)}`:""}`}}const fw=new mh;function gh(n){return n.segments.map(e=>pw(e)).join("/")}function qu(n,e){if(!n.hasChildren())return gh(n);if(e){const t=n.children[gn]?qu(n.children[gn],!1):"",r=[];return $i(n.children,(i,a)=>{a!==gn&&r.push(`${a}:${qu(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Gf(n,e){let t=[];return $i(n.children,(r,i)=>{i===gn&&(t=t.concat(e(r,i)))}),$i(n.children,(r,i)=>{i!==gn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===gn?[qu(n.children[gn],!1)]:[`${i}:${qu(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[gn]?`${gh(n)}/${t[0]}`:`${gh(n)}/(${t.join("//")})`}}function zm(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wf(n){return zm(n).replace(/%3B/gi,";")}function N_(n){return zm(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gm(n){return decodeURIComponent(n)}function F_(n){return Gm(n.replace(/\+/g,"%20"))}function pw(n){return`${N_(n.path)}${function mw(n){return Object.keys(n).map(e=>`;${N_(e)}=${N_(n[e])}`).join("")}(n.parameters)}`}const wT=/^[^\/()?;=#]+/;function Wm(n){const e=n.match(wT);return e?e[0]:""}const ss=/^[^=?&#]+/,IT=/^[^&#]+/;class L_{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Cn([],{}):new Cn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[gn]=new Cn(e,t)),r}parseSegment(){const e=Wm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,Hf);return this.capture(e),new $l(Gm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Wm(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Wm(this.remaining);i&&(r=i,this.capture(r))}e[Gm(t)]=Gm(r)}parseQueryParam(e){const t=function ET(n){const e=n.match(ss);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function uR(n){const e=n.match(IT);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=F_(t),a=F_(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Wm(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new d.vHH(4010,Hf);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=gn);const l=this.parseChildren();t[a]=1===Object.keys(l).length?l[gn]:new Cn([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,Hf)}}function qm(n){return n.segments.length>0?new Cn([],{[gn]:n}):n}function Km(n){const e={};for(const r of Object.keys(n.children)){const a=Km(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function CT(n){if(1===n.numberOfChildren&&n.children[gn]){const e=n.children[gn];return new Cn(n.segments.concat(e.segments),e.children)}return n}(new Cn(n.segments,e))}function Ku(n){return n instanceof jl}const Zm=!1;function DT(n,e,t,r,i){if(0===t.length)return yh(e.root,e.root,e.root,r,i);const a=function Qm(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ha(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,l)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return $i(a.outlets,(y,w)=>{f[w]="string"==typeof y?y.split("/"):y}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===l?(a.split("/").forEach((f,y)=>{0==y&&"."===f||(0==y&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new ha(t,e,r)}(t);return a.toRoot()?yh(e.root,e.root,new Cn([],{}),r,i):function l(y){const w=function vw(n,e,t,r){if(n.isAbsolute)return new _h(e.root,!0,0);if(-1===r)return new _h(t,t===e.root,0);return function bw(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new d.vHH(4005,Zm&&"Invalid number of '../'");i=r.segments.length}return new _h(r,!1,i-a)}(t,r+(qf(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,y),x=w.processChildren?Hl(w.segmentGroup,w.index,a.commands):V_(w.segmentGroup,w.index,a.commands);return yh(e.root,w.segmentGroup,x,r,i)}(n.snapshot?._lastPathIndex)}function qf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Kf(n){return"object"==typeof n&&null!=n&&n.outlets}function yh(n,e,t,r,i){let l,a={};r&&$i(r,(y,w)=>{a[w]=Array.isArray(y)?y.map(x=>`${x}`):`${y}`}),l=n===e?t:_w(n,e,t);const f=qm(Km(l));return new jl(f,a,i)}function _w(n,e,t){const r={};return $i(n.children,(i,a)=>{r[a]=i===e?t:_w(i,e,t)}),new Cn(n.segments,r)}class ha{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&qf(r[0]))throw new d.vHH(4003,Zm&&"Root segment cannot have matrix parameters");const i=r.find(Kf);if(i&&i!==dw(r))throw new d.vHH(4004,Zm&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _h{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function V_(n,e,t){if(n||(n=new Cn([],{})),0===n.segments.length&&n.hasChildren())return Hl(n,e,t);const r=function ST(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const l=n.segments[i],f=t[r];if(Kf(f))break;const y=`${f}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&w&&"object"==typeof w&&void 0===w.outlets){if(!Yf(y,w,l))return a;r+=2}else{if(!Yf(y,{},l))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new Cn(n.segments.slice(0,r.pathIndex),{});return a.children[gn]=new Cn(n.segments.slice(r.pathIndex),n.children),Hl(a,0,i)}return r.match&&0===i.length?new Cn(n.segments,{}):r.match&&!n.hasChildren()?B_(n,e,t):r.match?Hl(n,0,i):B_(n,e,t)}function Hl(n,e,t){if(0===t.length)return new Cn(n.segments,{});{const r=function AT(n){return Kf(n[0])?n[0].outlets:{[gn]:n}}(t),i={};if(!r[gn]&&n.children[gn]&&1===n.numberOfChildren&&0===n.children[gn].segments.length){const a=Hl(n.children[gn],e,t);return new Cn(n.segments,a.children)}return $i(r,(a,l)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[l]=V_(n.children[l],e,a))}),$i(n.children,(a,l)=>{void 0===r[l]&&(i[l]=a)}),new Cn(n.segments,i)}}function B_(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Kf(a)){const y=Jm(a.outlets);return new Cn(r,y)}if(0===i&&qf(t[0])){r.push(new $l(n.segments[e].path,Zf(t[0]))),i++;continue}const l=Kf(a)?a.outlets[gn]:`${a}`,f=i<t.length-1?t[i+1]:null;l&&f&&qf(f)?(r.push(new $l(l,Zf(f))),i+=2):(r.push(new $l(l,{})),i++)}return new Cn(r,{})}function Jm(n){const e={};return $i(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=B_(new Cn([],{}),0,t))}),e}function Zf(n){const e={};return $i(n,(t,r)=>e[r]=`${t}`),e}function Yf(n,e,t){return n==t.path&&qa(e,t.parameters)}const Xm="imperative";class Ps{constructor(e,t){this.id=e,this.url=t}}class ww extends Ps{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zl extends Ps{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Qf extends Ps{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jf extends Ps{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class eg extends Ps{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class U_ extends Ps{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jc extends Ps{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tg extends Ps{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ng extends Ps{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xf extends Ps{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xT{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ew{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Iw{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MT{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RT{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ep{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cw{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let kT=(()=>{class n{createUrlTree(t,r,i,a,l,f){return DT(t||r.root,i,a,l,f)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),NT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(e){return kT.\u0275fac(e)},providedIn:"root"}),n})();class Dw{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=j_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=j_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=$_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return $_(e,this._root).map(t=>t.value)}}function j_(n,e){if(n===e.value)return e;for(const t of e.children){const r=j_(n,t);if(r)return r}return null}function $_(n,e){if(n===e.value)return[e];for(const t of e.children){const r=$_(n,t);if(r.length)return r.unshift(e),r}return[]}class Ka{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Gl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Tw extends Dw{constructor(e,t){super(e),this.snapshot=t,H_(this,e)}toString(){return this.snapshot.toString()}}function rg(n,e){const t=function FT(n,e){const l=new ig([],{},{},"",{},gn,e,null,n.root,-1,{});return new Sw("",new Ka(l,[]))}(n,e),r=new os([new $l("",{})]),i=new os({}),a=new os({}),l=new os({}),f=new os(""),y=new vh(r,i,l,f,a,gn,e,t.root);return y.snapshot=t.root,new Tw(new Ka(y,[]),t)}class vh{constructor(e,t,r,i,a,l,f,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=f,this.title=this.data?.pipe((0,mt.U)(w=>w[dh]))??ut(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,mt.U)(e=>hh(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,mt.U)(e=>hh(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Aw(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function LT(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ig{get title(){return this.data?.[dh]}constructor(e,t,r,i,a,l,f,y,w,x,O){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=f,this.routeConfig=y,this._urlSegment=w,this._lastPathIndex=x,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=hh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Sw extends Dw{constructor(e,t){super(t),this.url=e,H_(this,t)}toString(){return z_(this._root)}}function H_(n,e){e.value._routerState=n,e.children.forEach(t=>H_(n,t))}function z_(n){const e=n.children.length>0?` { ${n.children.map(z_).join(", ")} } `:"";return`${n.value}${e}`}function og(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,qa(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),qa(e.params,t.params)||n.params.next(t.params),function gT(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!qa(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),qa(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function G_(n,e){const t=qa(n.params,e.params)&&function ph(n,e){return Uc(n,e)&&n.every((t,r)=>qa(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||G_(n.parent,e.parent))}function bh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function pR(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return bh(n,r,i);return bh(n,r)})}(n,e,t);return new Ka(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const l=a.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(f=>bh(n,f)),l}}const r=function sg(n){return new vh(new os(n.url),new os(n.params),new os(n.queryParams),new os(n.fragment),new os(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>bh(n,a));return new Ka(r,i)}}const W_="ngNavigationCancelingError";function xw(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ku(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ag(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function ag(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[W_]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Mw(n){return fa(n)&&Ku(n.url)}function fa(n){return n&&n[W_]}class tp{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ui,this.attachRef=null}}let ui=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new tp,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Za=!1;let wh=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=gn,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(ui),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,Za);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,Za);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,Za);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new d.vHH(4013,Za);this._activatedRoute=t;const i=this.location,l=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,y=new ks(t,f,i.injector);if(r&&function q_(n){return!!n.resolveComponentFactory}(r)){const w=r.resolveComponentFactory(l);this.activated=i.createComponent(w,i.length,y)}else this.activated=i.createComponent(l,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),n})();class ks{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===vh?this.route:e===ui?this.childContexts:this.parent.get(e,t)}}let Wl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},dependencies:[wh],encapsulation:2}),n})();function Zu(n,e){return n.providers&&!n._injector&&(n._injector=(0,d.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function cg(n){const e=n.children&&n.children.map(cg),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==gn&&(t.component=Wl),t}function as(n){return n.outlet||gn}function K_(n,e){const t=n.filter(r=>as(r)===e);return t.push(...n.filter(r=>as(r)!==e)),t}function Ch(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class kw{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),og(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Gl(t);e.children.forEach(a=>{const l=a.value.outlet;this.deactivateRoutes(a,i[l],r),delete i[l]}),$i(i,(a,l)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Gl(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);if(r&&r.outlet){const l=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Gl(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Gl(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new ep(a.value.snapshot))}),e.children.length&&this.forwardEvent(new MT(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(og(i),i===a)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),og(f.route.value),this.activateChildRoutes(e,null,l.children)}else{const f=Ch(i.snapshot),y=f?.get(d._Vd)??null;l.attachRef=null,l.route=i,l.resolver=y,l.injector=f,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class Z_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class sp{constructor(e,t){this.component=e,this.route=t}}function VT(n,e,t){const r=n._root;return ap(r,e?e._root:null,t,[r.value])}function Yu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,d.Z0I)(n)?e.get(n):n:r}function ap(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Gl(e);return n.children.forEach(l=>{(function Ow(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,l=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){const y=function Y_(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Uc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Uc(n.url,e.url)||!qa(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!G_(n,e)||!qa(n.queryParams,e.queryParams);default:return!G_(n,e)}}(l,a,a.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new Z_(r)):(a.data=l.data,a._resolvedData=l._resolvedData),ap(n,e,a.component?f?f.children:null:t,r,i),y&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new sp(f.outlet.component,l))}else l&&Qu(e,f,i),i.canActivateChecks.push(new Z_(r)),ap(n,null,a.component?f?f.children:null:t,r,i)})(l,a[l.value.outlet],t,r.concat([l.value]),i),delete a[l.value.outlet]}),$i(a,(l,f)=>Qu(l,t.getContext(f),i)),i}function Qu(n,e,t){const r=Gl(n),i=n.value;$i(r,(a,l)=>{Qu(a,i.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new sp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function cp(n){return"function"==typeof n}function lp(n){return n instanceof Bm||"EmptyError"===n?.name}const up=Symbol("INITIAL_VALUE");function Ju(){return Fi(n=>A_(n.map(e=>e.pipe(Lc(1),uh(up)))).pipe((0,mt.U)(e=>{for(const t of e)if(!0!==t){if(t===up)return up;if(!1===t||t instanceof jl)return t}return!0}),Pi(e=>e!==up),Lc(1)))}function tv(n){return(0,pT.z)((0,gi.b)(e=>{if(Ku(e))throw xw(0,e)}),(0,mt.U)(e=>!0===e))}const dp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nv(n,e,t,r,i){const a=dg(n,e,t);return a.matched?function $w(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?ut(i.map(l=>{const f=Yu(l,n);return Bc(function X_(n){return n&&cp(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(Ju(),tv()):ut(!0)}(r=Zu(e,r),e,t).pipe((0,mt.U)(l=>!0===l?a:{...dp})):ut(a)}function dg(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...dp}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||cw)(t,n,e);if(!i)return{...dp};const a={};$i(i.posParams,(f,y)=>{a[y]=f.path});const l=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function hp(n,e,t,r){if(t.length>0&&function Gw(n,e,t){return t.some(r=>fp(n,e,r)&&as(r)!==gn)}(n,t,r)){const a=new Cn(e,function zw(n,e,t,r){const i={};i[gn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&as(a)!==gn){const l=new Cn([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,i[as(a)]=l}return i}(n,e,r,new Cn(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function Ww(n,e,t){return t.some(r=>fp(n,e,r))}(n,t,r)){const a=new Cn(n.segments,function Hw(n,e,t,r,i){const a={};for(const l of r)if(fp(n,t,l)&&!i[as(l)]){const f=new Cn([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,a[as(l)]=f}return{...i,...a}}(n,e,t,r,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const i=new Cn(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function fp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function pp(n,e,t,r){return!!(as(n)===r||r!==gn&&fp(e,t,n))&&("**"===n.path||dg(e,n,t).matched)}function $c(n,e,t){return 0===e.length&&!n.children[t]}const hg=!1;class fg{constructor(e){this.segmentGroup=e||null}}class pg{constructor(e){this.urlTree=e}}function pa(n){return Gu(new fg(n))}function mg(n){return Gu(new pg(n))}class gR{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=hp(this.urlTree.root,[],[],this.config).segmentGroup,t=new Cn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,gn).pipe((0,mt.U)(a=>this.createUrlTree(Km(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ul(a=>{if(a instanceof pg)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof fg?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,gn).pipe((0,mt.U)(i=>this.createUrlTree(Km(i),e.queryParams,e.fragment))).pipe(Ul(i=>{throw i instanceof fg?this.noMatchError(i):i}))}noMatchError(e){return new d.vHH(4002,hg)}createUrlTree(e,t,r){const i=qm(e);return new jl(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,mt.U)(a=>new Cn([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,Rn.D)(i).pipe(rs(a=>{const l=r.children[a],f=K_(t,a);return this.expandSegmentGroup(e,f,l,a).pipe((0,mt.U)(y=>({segment:y,outlet:a})))}),jm((a,l)=>(a[l.outlet]=l.segment,a),{}),R_())}expandSegment(e,t,r,i,a,l){return(0,Rn.D)(r).pipe(rs(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,l).pipe(Ul(w=>{if(w instanceof fg)return ut(null);throw w}))),da(f=>!!f),Ul((f,y)=>{if(lp(f))return $c(t,i,a)?ut(new Cn([],{})):pa(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,l,f){return pp(i,t,a,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,l):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l):pa(t):pa(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?mg(a):this.lineralizeSegments(r,a).pipe((0,nr.z)(l=>{const f=new Cn(l,{});return this.expandSegment(e,f,t,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){const{matched:f,consumedSegments:y,remainingSegments:w,positionalParamSegments:x}=dg(t,i,a);if(!f)return pa(t);const O=this.applyRedirectCommands(y,i.redirectTo,x);return i.redirectTo.startsWith("/")?mg(O):this.lineralizeSegments(i,O).pipe((0,nr.z)(G=>this.expandSegment(e,t,r,G.concat(w),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=Zu(r,e),r.loadChildren?(r._loadedRoutes?ut({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,mt.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new Cn(i,{})))):ut(new Cn(i,{}))):nv(t,r,i,e).pipe(Fi(({matched:l,consumedSegments:f,remainingSegments:y})=>l?this.getChildConfig(e=r._injector??e,r,i).pipe((0,nr.z)(x=>{const O=x.injector??e,G=x.routes,{segmentGroup:Q,slicedSegments:ie}=hp(t,f,y,G),ue=new Cn(Q.segments,Q.children);if(0===ie.length&&ue.hasChildren())return this.expandChildren(O,G,ue).pipe((0,mt.U)(gt=>new Cn(f,gt)));if(0===G.length&&0===ie.length)return ut(new Cn(f,{}));const Ce=as(r)===a;return this.expandSegment(O,ue,G,ie,Ce?gn:a,!0).pipe((0,mt.U)(at=>new Cn(f.concat(at.segments),at.children)))})):pa(t)))}getChildConfig(e,t,r){return t.children?ut({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ut({routes:t._loadedRoutes,injector:t._loadedInjector}):function jw(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?ut(!0):ut(i.map(l=>{const f=Yu(l,n);return Bc(function ug(n){return n&&cp(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(Ju(),tv())}(e,t,r).pipe((0,nr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,gi.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function rv(n){return Gu(ag(hg,3))}())):ut({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ut(r);if(i.numberOfChildren>1||!i.children[gn])return e.redirectTo,Gu(new d.vHH(4e3,hg));i=i.children[gn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new jl(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return $i(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let l={};return $i(t.children,(f,y)=>{l[y]=this.createSegmentGroup(e,f,r,i)}),new Cn(a,l)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new d.vHH(4001,hg);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class Kw{}class Zw{constructor(e,t,r,i,a,l,f){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=l,this.urlSerializer=f}recognize(){const e=hp(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,gn).pipe((0,mt.U)(t=>{if(null===t)return null;const r=new ig([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},gn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ka(r,t),a=new Sw(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=Aw(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Rn.D)(Object.keys(r.children)).pipe(rs(i=>{const a=r.children[i],l=K_(t,i);return this.processSegmentGroup(e,l,a,i)}),jm((i,a)=>i&&a?(i.push(...a),i):null),function lR(n,e=!1){return(0,gr.e)((t,r)=>{let i=0;t.subscribe((0,Sr.x)(r,a=>{const l=n(a,i++);(l||e)&&r.next(a),!l&&r.complete()}))})}(i=>null!==i),Wa(null),R_(),(0,mt.U)(i=>{if(null===i)return null;const a=Qw(i);return function qT(n){n.sort((e,t)=>e.value.outlet===gn?-1:t.value.outlet===gn?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,Rn.D)(t).pipe(rs(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,i,a)),da(l=>!!l),Ul(l=>{if(lp(l))return $c(r,i,a)?ut([]):ut(null);throw l}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!pp(t,r,i,a))return ut(null);let l;if("**"===t.path){const f=i.length>0?dw(i).parameters:{},y=Xu(r)+i.length;l=ut({snapshot:new ig(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Xw(t),as(t),t.component??t._loadedComponent??null,t,iv(r),y,ov(t)),consumedSegments:[],remainingSegments:[]})}else l=nv(r,t,i,e).pipe((0,mt.U)(({matched:f,consumedSegments:y,remainingSegments:w,parameters:x})=>{if(!f)return null;const O=Xu(r)+y.length;return{snapshot:new ig(y,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Xw(t),as(t),t.component??t._loadedComponent??null,t,iv(r),O,ov(t)),consumedSegments:y,remainingSegments:w}}));return l.pipe(Fi(f=>{if(null===f)return ut(null);const{snapshot:y,consumedSegments:w,remainingSegments:x}=f;e=t._injector??e;const O=t._loadedInjector??e,G=function KT(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:Q,slicedSegments:ie}=hp(r,w,x,G.filter(Ce=>void 0===Ce.redirectTo));if(0===ie.length&&Q.hasChildren())return this.processChildren(O,G,Q).pipe((0,mt.U)(Ce=>null===Ce?null:[new Ka(y,Ce)]));if(0===G.length&&0===ie.length)return ut([new Ka(y,[])]);const ue=as(t)===a;return this.processSegment(O,G,Q,ie,ue?gn:a).pipe((0,mt.U)(Ce=>null===Ce?null:[new Ka(y,Ce)]))}))}}function Yw(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Qw(n){const e=[],t=new Set;for(const r of n){if(!Yw(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Qw(r.children);e.push(new Ka(r.value,i))}return e.filter(r=>!t.has(r))}function iv(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Xu(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Xw(n){return n.data||{}}function ov(n){return n.resolve||{}}function nE(n){return"string"==typeof n.title||null===n.title}function av(n){return Fi(e=>{const t=n(e);return t?(0,Rn.D)(t).pipe((0,mt.U)(()=>e)):ut(e)})}const ro=new d.OlP("ROUTES");let cs=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ut(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Bc(t.loadComponent()).pipe((0,mt.U)(cv),(0,gi.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Vc(()=>{this.componentLoaders.delete(t)})),i=new sw(r,()=>new ua.x).pipe(S_());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ut({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,mt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,w,x=!1;Array.isArray(f)?w=f:(y=f.create(t).injector,w=uw(y.get(ro,[],d.XFs.Self|d.XFs.Optional)));return{routes:w.map(cg),injector:y}}),Vc(()=>{this.childrenLoaders.delete(r)})),l=new sw(a,()=>new ua.x).pipe(S_());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return Bc(t()).pipe((0,mt.U)(cv),(0,nr.z)(r=>r instanceof d.YKP||Array.isArray(r)?ut(r):(0,Rn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cv(n){return function rE(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let yg=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ua.x,this.configLoader=(0,d.f3M)(cs),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(Wu),this.rootContexts=(0,d.f3M)(ui),this.navigationId=0,this.afterPreactivation=()=>ut(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Ew(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new xT(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new os({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Xm,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Pi(r=>0!==r.id),(0,mt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Fi(r=>{let i=!1,a=!1;return ut(r).pipe((0,gi.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Fi(l=>{const f=t.browserUrlTree.toString(),y=!t.navigated||l.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!y&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const x="";return this.events.next(new Jf(l.id,t.serializeUrl(r.rawUrl),x,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),Bl.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return iE(l.source)&&(t.browserUrlTree=l.extractedUrl),ut(l).pipe(Fi(x=>{const O=this.transitions?.getValue();return this.events.next(new ww(x.id,this.urlSerializer.serialize(x.extractedUrl),x.source,x.restoredState)),O!==this.transitions?.getValue()?Bl.E:Promise.resolve(x)}),function GT(n,e,t,r){return Fi(i=>function mR(n,e,t,r,i){return new gR(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,mt.U)(a=>({...i,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,gi.b)(x=>{this.currentNavigation={...this.currentNavigation,finalUrl:x.urlAfterRedirects},r.urlAfterRedirects=x.urlAfterRedirects}),function ZT(n,e,t,r,i){return(0,nr.z)(a=>function yi(n,e,t,r,i,a,l="emptyOnly"){return new Zw(n,e,t,r,i,l,a).recognize().pipe(Fi(f=>null===f?function WT(n){return new Ri.y(e=>e.error(n))}(new Kw):ut(f)))}(n,e,t,a.urlAfterRedirects,r.serialize(a.urlAfterRedirects),r,i).pipe((0,mt.U)(l=>({...a,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,gi.b)(x=>{if(r.targetSnapshot=x.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!x.extras.skipLocationChange){const G=t.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);t.setBrowserUrl(G,x)}t.browserUrlTree=x.urlAfterRedirects}const O=new U_(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(O)}));if(y&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:x,extractedUrl:O,source:G,restoredState:Q,extras:ie}=l,ue=new ww(x,this.urlSerializer.serialize(O),G,Q);this.events.next(ue);const Ce=rg(O,this.rootComponentType).snapshot;return ut(r={...l,targetSnapshot:Ce,urlAfterRedirects:O,extras:{...ie,skipLocationChange:!1,replaceUrl:!1}})}{const x="";return this.events.next(new Jf(l.id,t.serializeUrl(r.extractedUrl),x,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),Bl.E}}),(0,gi.b)(l=>{const f=new jc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),(0,mt.U)(l=>r={...l,guards:VT(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function ev(n,e){return(0,nr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:l}}=t;return 0===l.length&&0===a.length?ut({...t,guardsResult:!0}):function Fw(n,e,t,r){return(0,Rn.D)(n).pipe((0,nr.z)(i=>function HT(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?ut(a.map(f=>{const y=Ch(e)??i,w=Yu(f,y);return Bc(function J_(n){return n&&cp(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):y.runInContext(()=>w(n,e,t,r))).pipe(da())})).pipe(Ju()):ut(!0)}(i.component,i.route,t,e,r)),da(i=>!0!==i,!0))}(l,r,i,n).pipe((0,nr.z)(f=>f&&function lg(n){return"boolean"==typeof n}(f)?function $T(n,e,t,r){return(0,Rn.D)(e).pipe(rs(i=>$f(function Vw(n,e){return null!==n&&e&&e(new Iw(n)),ut(!0)}(i.route.parent,r),function Lw(n,e){return null!==n&&e&&e(new RT(n)),ut(!0)}(i.route,r),function Uw(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(l=>function BT(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>ow(()=>ut(l.guards.map(y=>{const w=Ch(l.node)??t,x=Yu(y,w);return Bc(function UT(n){return n&&cp(n.canActivateChild)}(x)?x.canActivateChild(r,n):w.runInContext(()=>x(r,n))).pipe(da())})).pipe(Ju())));return ut(a).pipe(Ju())}(n,i.path,t),function Bw(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ut(!0);const i=r.map(a=>ow(()=>{const l=Ch(e)??t,f=Yu(a,l);return Bc(function Q_(n){return n&&cp(n.canActivate)}(f)?f.canActivate(e,n):l.runInContext(()=>f(e,n))).pipe(da())}));return ut(i).pipe(Ju())}(n,i.route,t))),da(i=>!0!==i,!0))}(r,a,n,e):ut(f)),(0,mt.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,l=>this.events.next(l)),(0,gi.b)(l=>{if(r.guardsResult=l.guardsResult,Ku(l.guardsResult))throw xw(0,l.guardsResult);const f=new tg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),Pi(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),av(l=>{if(l.guards.canActivateChecks.length)return ut(l).pipe((0,gi.b)(f=>{const y=new ng(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(y)}),Fi(f=>{let y=!1;return ut(f).pipe(function eE(n,e){return(0,nr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ut(t);let a=0;return(0,Rn.D)(i).pipe(rs(l=>function _R(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!nE(i)&&(a[dh]=i.title),function tE(n,e,t,r){const i=function sv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return ut({});const a={};return(0,Rn.D)(i).pipe((0,nr.z)(l=>function Ya(n,e,t,r){const i=Ch(e)??r,a=Yu(n,i);return Bc(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[l],e,t,r).pipe(da(),(0,gi.b)(f=>{a[l]=f}))),M_(1),function mT(n){return(0,mt.U)(()=>n)}(a),Ul(l=>lp(l)?Bl.E:Gu(l)))}(a,n,e,r).pipe((0,mt.U)(l=>(n._resolvedData=l,n.data=Aw(n,t).resolve,i&&nE(i)&&(n.data[dh]=i.title),null)))}(l.route,r,n,e)),(0,gi.b)(()=>a++),M_(1),(0,nr.z)(l=>a===i.length?ut(t):Bl.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,gi.b)({next:()=>y=!0,complete:()=>{y||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,gi.b)(f=>{const y=new Xf(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(y)}))}),av(l=>{const f=y=>{const w=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(y.routeConfig).pipe((0,gi.b)(x=>{y.component=x}),(0,mt.U)(()=>{})));for(const x of y.children)w.push(...f(x));return w};return A_(f(l.targetSnapshot.root)).pipe(Wa(),Lc(1))}),av(()=>this.afterPreactivation()),(0,mt.U)(l=>{const f=function fR(n,e,t){const r=bh(n,e._root,t?t._root:void 0);return new Tw(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:f}}),(0,gi.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>(0,mt.U)(r=>(new kw(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l)),Lc(1),(0,gi.b)({next:l=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new zl(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{i=!0}}),Vc(()=>{i||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ul(l=>{if(a=!0,fa(l)){Mw(l)||(t.navigated=!0,t.restoreHistory(r,!0));const f=new Qf(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(f),Mw(l)){const y=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),w={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||iE(r.source)};t.scheduleNavigation(y,Xm,null,w,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const f=new eg(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(f);try{r.resolve(t.errorHandler(l))}catch(y){r.reject(y)}}return Bl.E}))}))}cancelNavigationTransition(t,r,i){const a=new Qf(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function iE(n){return n!==Xm}let oE=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===gn);return r}getResolvedTitleForRoute(t){return t.data[dh]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(lv)},providedIn:"root"}),n})(),lv=(()=>{class n extends oE{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(_f))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(sE)},providedIn:"root"}),n})();class YT{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let sE=(()=>{class n extends YT{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _g=new d.OlP("",{providedIn:"root",factory:()=>({})});let aE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(cE)},providedIn:"root"}),n})(),cE=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function JT(n){throw n}function lE(n,e,t){return e.parse("/")}const uE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let di=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this.options=(0,d.f3M)(_g,{optional:!0})||{},this.errorHandler=this.options.errorHandler||JT,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||lE,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(aE),this.routeReuseStrategy=(0,d.f3M)(mp),this.urlCreationStrategy=(0,d.f3M)(NT),this.titleStrategy=(0,d.f3M)(oE),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=uw((0,d.f3M)(ro,{optional:!0})??[]),this.navigationTransitions=(0,d.f3M)(yg),this.urlSerializer=(0,d.f3M)(Wu),this.location=(0,d.f3M)(Ve),this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new jl,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=rg(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Xm,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const a={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const y={...i};delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(a.state=y)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,l,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(cg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:l,queryParamsHandling:f,preserveFragment:y}=r,w=y?this.currentUrlTree.fragment:l;let x=null;switch(f){case"merge":x={...this.currentUrlTree.queryParams,...a};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=a||null}return null!==x&&(x=this.removeEmptyProps(x)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,x,w??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ku(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,Xm,null,r)}navigate(t,r={skipLocationChange:!1}){return function hE(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new d.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...uE}:!1===r?{...dE}:r,Ku(t))return Hm(this.currentUrlTree,t,i);const a=this.parseUrl(t);return Hm(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(t,r,i,a,l){if(this.disposed)return Promise.resolve(!1);let f,y,w,x;return l?(f=l.resolve,y=l.reject,w=l.promise):w=new Promise((O,G)=>{f=O,y=G}),x="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:x,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:f,reject:y,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(O=>Promise.reject(O))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",l)}else{const a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",a)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-(this.browserPageId??this.currentPageId);0!==a?this.location.historyGo(a):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gp=(()=>{class n{constructor(t,r,i,a,l,f){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=l,this.locationStrategy=f,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new ua.x;const y=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===y||"area"===y,this.isAnchorElement?this.subscription=t.events.subscribe(w=>{w instanceof zl&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,d.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,d.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,d.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,a,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||a||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,a=this.el.nativeElement;null!==r?i.setAttribute(a,t,r):i.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(di),d.Y36(vh),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(ct))},n.\u0275dir=d.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&d.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&d.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),n})();class uv{}let mE=(()=>{class n{constructor(t,r,i,a,l){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Pi(t=>t instanceof zl),rs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,d.MMx)(a.providers,t,`Route: ${a.path}`));const l=a._injector??t,f=a._loadedInjector??l;(a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&i.push(this.preloadConfig(l,a)),(a.children||a._loadedRoutes)&&i.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,Rn.D)(i).pipe((0,lh.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ut(null);const a=i.pipe((0,nr.z)(l=>null===l?ut(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,Rn.D)([a,l]).pipe((0,lh.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(di),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(uv),d.LFG(cs))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dv=new d.OlP("");let gE=(()=>{class n{constructor(t,r,i,a,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ww?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof zl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Cw&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Cw(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();var ls=(()=>((ls=ls||{})[ls.COMPLETE=0]="COMPLETE",ls[ls.FAILED=1]="FAILED",ls[ls.REDIRECTING=2]="REDIRECTING",ls))();const Th=!1;function Kl(n,e){return{\u0275kind:n,\u0275providers:e}}const hv=new d.OlP("",{providedIn:"root",factory:()=>!1});function _E(){const n=(0,d.f3M)(d.zs3);return e=>{const t=n.get(d.z2F);if(e!==t.components[0])return;const r=n.get(di),i=n.get(vE);1===n.get(fv)&&r.initialNavigation(),n.get(pv,null,d.XFs.Optional)?.setUpPreloading(),n.get(dv,null,d.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const vE=new d.OlP(Th?"bootstrap done indicator":"",{factory:()=>new ua.x}),fv=new d.OlP(Th?"initial navigation":"",{providedIn:"root",factory:()=>1});function oA(){let n=[];return n=Th?[{provide:d.Xts,multi:!0,useFactory:()=>{const e=(0,d.f3M)(di);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function hR(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Kl(1,n)}const pv=new d.OlP(Th?"router preloader":"");function bE(n){return Kl(0,[{provide:pv,useExisting:mE},{provide:uv,useExisting:n}])}const Ah=!1,mv=new d.OlP(Ah?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),wE=[Ve,{provide:Wu,useClass:mh},di,ui,{provide:vh,useFactory:function yE(n){return n.routerState.root},deps:[di]},cs,Ah?{provide:hv,useValue:!0}:[]];function EE(){return new d.PXZ("Router",di)}let gv=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[wE,Ah&&r?.enableTracing?oA().\u0275providers:[],{provide:ro,multi:!0,useValue:t},{provide:mv,useFactory:Sh,deps:[[di,new d.FiY,new d.tp0]]},{provide:_g,useValue:r||{}},r?.useHash?{provide:ct,useClass:je}:{provide:ct,useClass:Fe},{provide:dv,useFactory:()=>{const n=(0,d.f3M)(Hs),e=(0,d.f3M)(d.R0b),t=(0,d.f3M)(_g),r=(0,d.f3M)(yg),i=(0,d.f3M)(Wu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new gE(i,r,n,e,t)}},r?.preloadingStrategy?bE(r.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:EE},r?.initialNavigation?ER(r):[],[{provide:vg,useFactory:_E},{provide:d.tb,multi:!0,useExisting:vg}]]}}static forChild(t){return{ngModule:n,providers:[{provide:ro,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(mv,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Wl]}),n})();function Sh(n){if(Ah&&n)throw new d.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ER(n){return["disabled"===n.initialNavigation?Kl(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const e=(0,d.f3M)(di);return()=>{e.setUpLocationChangeListener()}}},{provide:fv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Kl(2,[{provide:fv,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:e=>{const t=e.get(Te,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(di),a=e.get(vE);(function tA(n,e){n.events.pipe(Pi(t=>t instanceof zl||t instanceof Qf||t instanceof eg||t instanceof Jf),(0,mt.U)(t=>t instanceof zl||t instanceof Jf?ls.COMPLETE:t instanceof Qf&&(0===t.code||1===t.code)?ls.REDIRECTING:ls.FAILED),Pi(t=>t!==ls.REDIRECTING),Lc(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(yg).afterPreactivation=()=>(r(!0),a.closed?ut(void 0):a),i.initialNavigation()}))}}]).\u0275providers:[]]}const vg=new d.OlP(Ah?"Router Initializer":"");class bg{constructor(){this.id=0,this.perfil="",this.nombre="",this.apellido="",this.edad=0,this.dni=0,this.obraSocial="",this.especialidad="",this.email="",this.clave="",this.imagen1="",this.imagen2="",this.aprobado=!1}}var Pn=U(4976),Ot=U(259);class xh{constructor(e){return e}}class yv{constructor(){return(0,Ot.C6)()}}const _v=new d.OlP("angularfire2._apps"),wg={provide:xh,useFactory:function Mh(n){return n&&1===n.length?n[0]:new xh((0,Ot.Mq)())},deps:[[new d.FiY,_v]]},Eg={provide:yv,deps:[[new d.FiY,_v]]};function Zr(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new xh(r)}}let DR=(()=>{class n{constructor(t){(0,Ot.KN)("angularfire",Pn.q4.full,"core"),(0,Ot.KN)("angularfire",Pn.q4.full,"app"),(0,Ot.KN)("angular",d.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[wg,Eg]}),n})();function IE(n,...e){return{ngModule:DR,providers:[{provide:_v,useFactory:Zr(n),multi:!0,deps:[d.R0b,d.zs3,Pn.HU,...e]}]}}const CE=(0,Pn.u3)(Ot.ZF,!0);var Re=U(5861),Hc=U(6881),Zl=U(4859),Bn=U(2090),Yl=U(1877);const vv=new Map,yp={activated:!1,tokenObservers:[]},DE={initialized:!1,enabled:!1};function Br(n){return vv.get(n)||Object.assign({},yp)}function Ig(){return DE}const td="https://content-firebaseappcheck.googleapis.com/v1",_A="exchangeDebugToken",AE={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class xE{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Re.Z)(function*(){t.stop();try{t.pending=new Bn.BH,yield function ME(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Bn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Li=new Bn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function bv(n){if(!Br(n).activated)throw Li.create("use-before-activation",{appName:n.name})}function Ev(n,e){return PE.apply(this,arguments)}function PE(){return(PE=(0,Re.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const O=yield i.getHeartbeatsHeader();O&&(r["X-Firebase-Client"]=O)}const a={method:"POST",body:JSON.stringify(e),headers:r};let l,f;try{l=yield fetch(n,a)}catch(O){throw Li.create("fetch-network-error",{originalErrorMessage:O?.message})}if(200!==l.status)throw Li.create("fetch-status-error",{httpStatus:l.status});try{f=yield l.json()}catch(O){throw Li.create("fetch-parse-error",{originalErrorMessage:O?.message})}const y=f.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw Li.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const w=1e3*Number(y[1]),x=Date.now();return{token:f.token,expireTimeMillis:x+w,issuedAtTimeMillis:x}})).apply(this,arguments)}function OE(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${td}/projects/${t}/apps/${r}:${_A}?key=${i}`,body:{debug_token:e}}}const bA="firebase-app-check-database",NE=1,zc="firebase-app-check-store";let Tg=null;function BE(n,e){return Iv.apply(this,arguments)}function Iv(){return(Iv=(0,Re.Z)(function*(n,e){const r=(yield function LE(){return Tg||(Tg=new Promise((n,e)=>{try{const t=indexedDB.open(bA,NE);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Li.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(zc,{keyPath:"compositeKey"})}}catch(t){e(Li.create("storage-open",{originalErrorMessage:t?.message}))}}),Tg)}()).transaction(zc,"readwrite"),a=r.objectStore(zc).put({compositeKey:n,value:e});return new Promise((l,f)=>{a.onsuccess=y=>{l()},r.onerror=y=>{var w;f(Li.create("storage-set",{originalErrorMessage:null===(w=y.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const vp=new Yl.Yd("@firebase/app-check");function Ag(n,e){return(0,Bn.hl)()?function SR(n,e){return BE(function Dv(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{vp.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Av(){return Ig().enabled}function Sg(){return xg.apply(this,arguments)}function xg(){return(xg=(0,Re.Z)(function*(){const n=Ig();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const DA={error:"UNKNOWN_ERROR"};function TA(n){return Bn.US.encodeString(JSON.stringify(n),!1)}function Ph(n){return Sv.apply(this,arguments)}function Sv(){return(Sv=(0,Re.Z)(function*(n,e=!1){const t=n.app;bv(t);const r=Br(t);let a,i=r.token;if(i&&!kh(i)&&(r.token=void 0,i=void 0),!i){const y=yield r.cachedTokenPromise;y&&(kh(y)?i=y:yield Ag(t,void 0))}if(!e&&i&&kh(i))return{token:i.token};let f,l=!1;if(Av()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Ev(OE(t,yield Sg()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const y=yield r.exchangeTokenPromise;return yield Ag(t,y),r.token=y,{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield Br(t).exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?vp.warn(y.message):vp.error(y),a=y}return i?a?f=kh(i)?{token:i.token,internalError:a}:HE(a):(f={token:i.token},r.token=i,yield Ag(t,i)):f=HE(a),l&&function $E(n,e){const t=Br(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,f),f})).apply(this,arguments)}function xv(n){return Mv.apply(this,arguments)}function Mv(){return(Mv=(0,Re.Z)(function*(n){const e=n.app;bv(e);const{provider:t}=Br(e);if(Av()){const r=yield Sg(),{token:i}=yield Ev(OE(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function Pv(n,e){const t=Br(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function jE(n){const{app:e}=n,t=Br(e);let r=t.tokenRefresher;r||(r=function AA(n){const{app:e}=n;return new xE((0,Re.Z)(function*(){let r;if(r=Br(e).token?yield Ph(n,!0):yield Ph(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Br(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},AE.RETRIAL_MIN_WAIT,AE.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function kh(n){return n.expireTimeMillis-Date.now()>0}function HE(n){return{token:TA(DA),error:n}}class zE{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Br(this.app);for(const t of e)Pv(this.app,t.next);return Promise.resolve()}}const jv="app-check-internal";!function QE(){(0,Hc._registerComponent)(new Zl.wA("app-check",n=>function GE(n,e){return new zE(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(jv).initialize()})),(0,Hc._registerComponent)(new Zl.wA(jv,n=>function SA(n){return{getToken:e=>Ph(n,e),getLimitedUseToken:()=>xv(n),addTokenListener:e=>function Rv(n,e,t,r){const{app:i}=n,a=Br(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&kh(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),jE(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>jE(n))}(n,"INTERNAL",e),removeTokenListener:e=>Pv(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Hc.registerVersion)("@firebase/app-check","0.8.0")}();class wp{constructor(){return(0,Pn.vb)("app-check")}}typeof window<"u"&&window;var Rg=U(1389);class Pg{constructor(e){return e}}class XE{constructor(){return(0,Pn.vb)("auth")}}const rd=new d.OlP("angularfire2.auth-instances");function tI(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Pg(r)}}const nI={provide:XE,deps:[[new d.FiY,rd]]},rI={provide:Pg,useFactory:function eI(n,e){const t=(0,Pn.JM)("auth",n,e);return t&&new Pg(t)},deps:[[new d.FiY,rd],xh]};let iI=(()=>{class n{constructor(){(0,Ot.KN)("angularfire",Pn.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[rI,nI]}),n})();function HA(n,...e){return{ngModule:iI,providers:[{provide:rd,useFactory:tI(n),multi:!0,deps:[d.R0b,d.zs3,Pn.HU,yv,[new d.FiY,wp],...e]}]}}const zA=(0,Pn.u3)(Rg.a8,!0),Gv=(0,Pn.u3)(Rg.o,!0),ZA=(0,Pn.u3)(Rg.ae,!0),hI=(0,Pn.u3)(Rg.a9,!0);var Ip=U(5226),Kv=U.n(Ip);let Cp=(()=>{class n{constructor(){}swalert(t,r,i,a="Ok"){Kv().fire({title:t,text:r,icon:i,confirmButtonText:a})}showToast(t,r="success",i="white",a=2e3){Kv().fire({title:t,icon:r,toast:!0,position:"top-end",showConfirmButton:!1,background:i,timer:a})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var oS=U(6451),Dp=U(5363),sS=U(6063);class aS extends ua.x{constructor(e=1/0,t=1/0,r=sS.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:l}=this;t||(r.push(e),!i&&r.push(a.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let l=0;l<a.length&&!e.closed;l+=r?1:2)e.next(a[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const l=t.now();let f=0;for(let y=1;y<r.length&&r[y]<=l;y+=2)f=y;f&&r.splice(0,f+1)}}}var pI=U(3099);function Ng(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,pI.B)({connector:()=>new aS(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Zv(n,e){return(0,Dl.m)(e)?Fi(()=>n,e):Fi(()=>n)}var Fg=U(9468),bo=U(2011),Lg=U(9260);const Yv=new d.OlP("angularfire2.auth.use-emulator"),mI=new d.OlP("angularfire2.auth.settings"),Qv=new d.OlP("angularfire2.auth.tenant-id"),id=new d.OlP("angularfire2.auth.langugage-code"),gI=new d.OlP("angularfire2.auth.use-device-language"),Jv=new d.OlP("angularfire.auth.persistence"),Vg=(n,e,t,r,i,a,l,f)=>(0,bo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,a&&y.useDeviceLanguage(),l)for(const[w,x]of Object.entries(l))y.settings[w]=x;return f&&y.setPersistence(f),y},[t,r,i,a,l,f]);let Xv=(()=>{class n{constructor(t,r,i,a,l,f,y,w,x,O,G,Q){const ie=new ua.x,ue=ut(void 0).pipe((0,Dp.Q)(l.outsideAngular),Fi(()=>a.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,9568)))),(0,mt.U)(()=>(0,bo.on)(t,a,r)),(0,mt.U)(Ce=>Vg(Ce,a,f,w,x,O,y,G)),Ng({bufferSize:1,refCount:!1}));if(_s(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ut(null);else{ue.pipe(da()).subscribe();const qe=ue.pipe(Fi(wt=>wt.getRedirectResult().then(tn=>tn,()=>null)),Pn.iC,Ng({bufferSize:1,refCount:!1})),at=ue.pipe(Fi(wt=>new Ri.y(tn=>({unsubscribe:a.runOutsideAngular(()=>wt.onAuthStateChanged(pn=>tn.next(pn),pn=>tn.error(pn),()=>tn.complete()))})))),gt=ue.pipe(Fi(wt=>new Ri.y(tn=>({unsubscribe:a.runOutsideAngular(()=>wt.onIdTokenChanged(pn=>tn.next(pn),pn=>tn.error(pn),()=>tn.complete()))}))));this.authState=qe.pipe(Zv(at),(0,Fg.R)(l.outsideAngular),(0,Dp.Q)(l.insideAngular)),this.user=qe.pipe(Zv(gt),(0,Fg.R)(l.outsideAngular),(0,Dp.Q)(l.insideAngular)),this.idToken=this.user.pipe(Fi(wt=>wt?(0,Rn.D)(wt.getIdToken()):ut(null))),this.idTokenResult=this.user.pipe(Fi(wt=>wt?(0,Rn.D)(wt.getIdTokenResult()):ut(null))),this.credential=(0,oS.T)(qe,ie,this.authState.pipe(Pi(wt=>!wt))).pipe((0,mt.U)(wt=>wt?.user?wt:null),(0,Fg.R)(l.outsideAngular),(0,Dp.Q)(l.insideAngular))}return(0,bo.pX)(this,ue,a,{spy:{apply:(Ce,qe,at)=>{(Ce.startsWith("signIn")||Ce.startsWith("createUser"))&&at.then(gt=>ie.next(gt))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(bo.Dh),d.LFG(bo.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Pn.HU),d.LFG(Yv,8),d.LFG(mI,8),d.LFG(Qv,8),d.LFG(id,8),d.LFG(gI,8),d.LFG(Jv,8),d.LFG(wp,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),cS=(()=>{class n{constructor(){Lg.Z.registerVersion("angularfire",Pn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Xv]}),n})();var lS=U(4986);function eb(){return(0,gr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Sr.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function yI(n,e=ch.y){return n=n??uS,(0,gr.e)((t,r)=>{let i,a=!0;t.subscribe((0,Sr.x)(r,l=>{const f=e(l);(a||!n(i,f))&&(a=!1,i=f,r.next(l))}))})}function uS(n,e){return n===e}U(9568);var ft,_I=U(3942),hS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Os={},tb=tb||{},dn=hS||self;function Tp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ap(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Bg="closure_uid_"+(1e9*Math.random()>>>0),bI=0;function wI(n,e,t){return n.call.apply(n.bind,arguments)}function fS(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function io(n,e,t){return(io=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wI:fS).apply(null,arguments)}function nb(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function _i(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,a){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return e.prototype[i].apply(r,l)}}function od(){this.s=this.s,this.o=this.o}od.prototype.s=!1,od.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function vI(n){Object.prototype.hasOwnProperty.call(n,Bg)&&n[Bg]||(n[Bg]=++bI)}(this)},od.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const pS=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function EI(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function mS(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Tp(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let l=0;l<a;l++)n[i+l]=r[l]}else n.push(r)}}function wo(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}wo.prototype.h=function(){this.defaultPrevented=!0};var sP=function(){if(!dn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{dn.addEventListener("test",()=>{},e),dn.removeEventListener("test",()=>{},e)}catch{}return n}();function Ug(n){return/^[\s\xa0]*$/.test(n)}function sd(){var n=dn.navigator;return n&&(n=n.userAgent)?n:""}function Wc(n){return-1!=sd().indexOf(n)}function jg(n){return jg[" "](n),n}jg[" "]=function(){};var ib,n,II=Wc("Opera"),ad=Wc("Trident")||Wc("MSIE"),gS=Wc("Edge"),Sp=gS||ad,rb=Wc("Gecko")&&!(-1!=sd().toLowerCase().indexOf("webkit")&&!Wc("Edge"))&&!(Wc("Trident")||Wc("MSIE"))&&!Wc("Edge"),yS=-1!=sd().toLowerCase().indexOf("webkit")&&!Wc("Edge");function _S(){var n=dn.document;return n?n.documentMode:void 0}e:{var ob="",sb=(n=sd(),rb?/rv:([^\);]+)(\)|;)/.exec(n):gS?/Edge\/([\d\.]+)/.exec(n):ad?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):yS?/WebKit\/(\S+)/.exec(n):II?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(sb&&(ob=sb?sb[1]:""),ad){var Nh=_S();if(null!=Nh&&Nh>parseFloat(ob)){ib=String(Nh);break e}}ib=ob}var aP=dn.document&&ad&&(_S()||parseInt(ib,10))||void 0;function Hg(n,e){if(wo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(rb){e:{try{jg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:bS[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Hg.$.h.call(this)}}_i(Hg,wo);var bS={2:"touch",3:"pen",4:"mouse"};Hg.prototype.h=function(){Hg.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var xp="closure_listenable_"+(1e6*Math.random()|0),wS=0;function cP(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++wS,this.fa=this.ia=!1}function zg(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Gg(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function ES(n){const e={};for(const t in n)e[t]=n[t];return e}const Ns="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function DI(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<Ns.length;a++)t=Ns[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Fh(n){this.src=n,this.g={},this.h=0}function cb(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=pS(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(zg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function TI(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return i}return-1}Fh.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var l=TI(n,e,r,i);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new cP(e,this.src,a,!!r,i)).ia=t,n.push(e)),e};var $o="closure_lm_"+(1e6*Math.random()|0),lb={};function Wg(n,e,t,r,i){if(r&&r.once)return qg(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)Wg(n,e[a],t,r,i);return null}return t=Yg(t),n&&n[xp]?n.O(e,t,Ap(r)?!!r.capture:!!r,i):AI(n,e,t,!1,r,i)}function AI(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var l=Ap(i)?!!i.capture:!!i,f=Zg(n);if(f||(n[$o]=f=new Fh(n)),(t=f.add(e,t,r,l,a)).proxy)return t;if(r=function IS(){const e=xI;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)sP||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(SI(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function qg(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)qg(n,e[a],t,r,i);return null}return t=Yg(t),n&&n[xp]?n.P(e,t,Ap(r)?!!r.capture:!!r,i):AI(n,e,t,!0,r,i)}function ub(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)ub(n,e[a],t,r,i);else r=Ap(r)?!!r.capture:!!r,t=Yg(t),n&&n[xp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=TI(a=n.g[e],t,r,i))&&(zg(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Zg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=TI(e,t,r,i)),(t=-1<n?e[n]:null)&&Kg(t))}function Kg(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[xp])cb(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(SI(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Zg(e))?(cb(t,n),0==t.h&&(t.src=null,e[$o]=null)):zg(n)}}}function SI(n){return n in lb?lb[n]:lb[n]="on"+n}function xI(n,e){if(n.fa)n=!0;else{e=new Hg(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Kg(n),n=t.call(r,e)}return n}function Zg(n){return(n=n[$o])instanceof Fh?n:null}var db="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yg(n){return"function"==typeof n?n:(n[db]||(n[db]=function(e){return n.handleEvent(e)}),n[db])}function Vi(){od.call(this),this.i=new Fh(this),this.S=this,this.J=null}function vi(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new wo(e,n);else if(e instanceof wo)e.target=e.target||n;else{var i=e;DI(e=new wo(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var l=e.g=t[a];i=Fs(l,r,!0,e)&&i}if(i=Fs(l=e.g=n,r,!0,e)&&i,i=Fs(l,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=Fs(l=e.g=t[a],r,!1,e)&&i}function Fs(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.fa&&l.capture==t){var f=l.listener,y=l.la||l.src;l.ia&&cb(n.i,l),i=!1!==f.call(y,r)&&i}}return i&&!r.defaultPrevented}_i(Vi,od),Vi.prototype[xp]=!0,Vi.prototype.removeEventListener=function(n,e,t,r){ub(this,n,e,t,r)},Vi.prototype.N=function(){if(Vi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)zg(t[r]);delete n.g[e],n.h--}}this.J=null},Vi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Vi.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Qa=dn.JSON.stringify;function hb(){var n=Qg;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var PI=new class MI{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new lP,n=>n.reset());class lP{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function CS(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function DS(n){dn.setTimeout(()=>{throw n},0)}let Mp,Rp=!1,Qg=new class RI{constructor(){this.h=this.g=null}add(e,t){const r=PI.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},TS=()=>{const n=dn.Promise.resolve(void 0);Mp=()=>{n.then(kI)}};var kI=()=>{for(var n;n=hb();){try{n.h.call(n.g)}catch(t){DS(t)}var e=PI;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Rp=!1};function Jg(n,e){Vi.call(this),this.h=n||1,this.g=e||dn,this.j=io(this.qb,this),this.l=Date.now()}function Xg(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function OI(n,e,t){if("function"==typeof n)t&&(n=io(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=io(n.handleEvent,n)}return 2147483647<Number(e)?-1:dn.setTimeout(n,e||0)}function ey(n){n.g=OI(()=>{n.g=null,n.i&&(n.i=!1,ey(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}_i(Jg,Vi),(ft=Jg.prototype).ga=!1,ft.T=null,ft.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),vi(this,"tick"),this.ga&&(Xg(this),this.start()))}},ft.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ft.N=function(){Jg.$.N.call(this),Xg(this),delete this.g};class NI extends od{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ey(this)}N(){super.N(),this.g&&(dn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lh(n){od.call(this),this.h=n,this.g={}}_i(Lh,od);var fb=[];function pb(n,e,t,r){Array.isArray(t)||(t&&(fb[0]=t.toString()),t=fb);for(var i=0;i<t.length;i++){var a=Wg(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function mb(n){Gg(n.g,function(e,t){this.g.hasOwnProperty(t)&&Kg(e)},n),n.g={}}function cd(){this.g=!0}function Vh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function uP(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var l=1;l<i.length;l++)i[l]=""}}}return Qa(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Lh.prototype.N=function(){Lh.$.N.call(this),mb(this)},Lh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cd.prototype.Ea=function(){this.g=!1},cd.prototype.info=function(){};var Bh={},SS=null;function Pp(){return SS=SS||new Vi}function LI(n){wo.call(this,Bh.Ta,n)}function kp(n){const e=Pp();vi(e,new LI(e))}function VI(n,e){wo.call(this,Bh.STAT_EVENT,n),this.stat=e}function Ho(n){const e=Pp();vi(e,new VI(e,n))}function xS(n,e){wo.call(this,Bh.Ua,n),this.size=e}function ny(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return dn.setTimeout(function(){n()},e)}Bh.Ta="serverreachability",_i(LI,wo),Bh.STAT_EVENT="statevent",_i(VI,wo),Bh.Ua="timingevent",_i(xS,wo);var gb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},MS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function yb(){}function BI(){}yb.prototype.h=null;var iy,Np={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ry(){wo.call(this,"d")}function qc(){wo.call(this,"c")}function Uh(){}function ld(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Lh(this),this.P=_b,this.V=new Jg(n=Sp?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new UI}function UI(){this.i=null,this.g="",this.h=!1}_i(ry,wo),_i(qc,wo),_i(Uh,yb),Uh.prototype.g=function(){return new XMLHttpRequest},Uh.prototype.i=function(){return{}},iy=new Uh;var _b=45e3,Fp={},ud={};function jI(n,e,t){n.L=1,n.v=wb(Ja(e)),n.s=t,n.S=!0,RS(n,null)}function RS(n,e){n.G=Date.now(),Lp(n),n.A=Ja(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),US(t.i,"t",r),n.C=0,t=n.l.J,n.h=new UI,n.g=MP(n.l,t?e:null,!n.s),0<n.O&&(n.M=new NI(io(n.Pa,n,n.g),n.O)),pb(n.U,n.g,"readystatechange",n.nb),e=n.I?ES(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),kp(),function ty(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var l="",f=a.split("&"),y=0;y<f.length;y++){var w=f[y].split("=");if(1<w.length){var x=w[0];w=w[1];var O=x.split("_");l=2<=O.length&&"type"==O[1]?l+(x+"=")+w+"&":l+(x+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function PS(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function kS(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=$I(n,t),i==ud){4==e&&(n.o=4,Ho(14),r=!1),Vh(n.j,n.m,null,"[Incomplete Response]");break}if(i==Fp){n.o=4,Ho(15),Vh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Vh(n.j,n.m,i,null),sy(n,i)}PS(n)&&i!=ud&&i!=Fp&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ho(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),GS(e),e.M=!0,Ho(11))):(Vh(n.j,n.m,t,"[Invalid Chunked Response]"),Ql(n),Vp(n))}function $I(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ud:(t=Number(e.substring(t,r)),isNaN(t)?Fp:(r+=1)+t>e.length?ud:(e=e.slice(r,r+t),n.C=r+t,e))}function Lp(n){n.Y=Date.now()+n.P,HI(n,n.P)}function HI(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ny(io(n.lb,n),e)}function oy(n){n.B&&(dn.clearTimeout(n.B),n.B=null)}function Vp(n){0==n.l.H||n.J||TP(n.l,n)}function Ql(n){oy(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Xg(n.V),mb(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function sy(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||_(t.i,n)))if(!n.K&&_(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;YI(t),KI(t)}zS(t),Ho(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=ny(io(t.ib,t),6e3));if(1>=m(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else $p(t,11)}else if((n.K||t.g==n)&&YI(t),!Ug(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.V=w[0],w=w[1],2==t.H)if("c"==w[0]){t.K=w[1],t.pa=w[2];const x=w[3];null!=x&&(t.ra=x,t.l.info("VER="+t.ra));const O=w[4];null!=O&&(t.Ga=O,t.l.info("SVER="+t.Ga));const G=w[5];null!=G&&"number"==typeof G&&0<G&&(t.L=r=1.5*G,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const Q=n.g;if(Q){const ie=Q.g?Q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ie){var a=r.i;a.g||-1==ie.indexOf("spdy")&&-1==ie.indexOf("quic")&&-1==ie.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(I(a,a.h),a.h=null))}if(r.F){const ue=Q.g?Q.g.getResponseHeader("X-HTTP-Session-Id"):null;ue&&(r.Da=ue,xr(r.I,r.F,ue))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=xP(r,r.J?r.pa:null,r.Y),l.K){S(r.i,l);var f=l,y=r.L;y&&f.setTimeout(y),f.B&&(oy(f),Lp(f)),r.g=l}else CP(r);0<t.j.length&&ZI(t)}else"stop"!=w[0]&&"close"!=w[0]||$p(t,7);else 3==t.H&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?$p(t,7):HS(t):"noop"!=w[0]&&t.h&&t.h.Aa(w),t.A=0)}kp()}catch{}}function GI(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Tp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function OS(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Tp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function zI(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Tp(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(ft=ld.prototype).setTimeout=function(n){this.P=n},ft.nb=function(n){n=n.target;const e=this.M;e&&3==Jl(n)?e.l():this.Pa(n)},ft.Pa=function(n){try{if(n==this.g)e:{const x=Jl(this.g);var e=this.g.Ia();if(this.g.da(),!(3>x)&&(3!=x||Sp||this.g&&(this.h.h||this.g.ja()||_P(this.g)))){this.J||4!=x||7==e||kp(),oy(this);var t=this.g.da();this.ca=t;t:if(PS(this)){var r=_P(this.g);n="";var i=r.length,a=4==Jl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ql(this),Vp(this);var l="";break t}this.h.i=new dn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function FI(n,e,t,r,i,a,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+l})}(this.j,this.u,this.A,this.m,this.W,x,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,y=this.g;if((f=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ug(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Ho(12),Ql(this),Vp(this);break e}Vh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sy(this,t)}this.S?(kS(this,x,l),Sp&&this.i&&3==x&&(pb(this.U,this.V,"tick",this.mb),this.V.start())):(Vh(this.j,this.m,l,null),sy(this,l)),4==x&&Ql(this),this.i&&!this.J&&(4==x?TP(this.l,this):(this.i=!1,Lp(this)))}else(function XL(n){const e={};n=(n.g&&2<=Jl(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Ug(n[r]))continue;var t=CS(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const a=e[i]||[];e[i]=a,a.push(t)}!function CI(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Ho(12)):(this.o=0,Ho(13)),Ql(this),Vp(this)}}}catch{}},ft.mb=function(){if(this.g){var n=Jl(this.g),e=this.g.ja();this.C<e.length&&(oy(this),kS(this,n,e),this.i&&4!=n&&Lp(this))}},ft.cancel=function(){this.J=!0,Ql(this)},ft.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function AS(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(kp(),Ho(17)),Ql(this),this.o=2,Vp(this)):HI(this,this.Y-n)};var vb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jh(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof jh){this.h=n.h,$h(this,n.j),this.s=n.s,this.g=n.g,ay(this,n.m),this.l=n.l;var e=n.i,t=new cy;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),WI(this,t),this.o=n.o}else n&&(e=String(n).match(vb))?(this.h=!1,$h(this,e[1]||"",!0),this.s=Bp(e[2]||""),this.g=Bp(e[3]||"",!0),ay(this,e[4]),this.l=Bp(e[5]||"",!0),WI(this,e[6]||"",!0),this.o=Bp(e[7]||"")):(this.h=!1,this.i=new cy(null,this.h))}function Ja(n){return new jh(n)}function $h(n,e,t){n.j=t?Bp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ay(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function WI(n,e,t){e instanceof cy?(n.i=e,function o(n,e){e&&!n.j&&(dd(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(VS(this,r),US(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Up(e,fP)),n.i=new cy(e,n.h))}function xr(n,e,t){n.i.set(e,t)}function wb(n){return xr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Bp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Up(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,NS),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function NS(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}jh.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Up(e,FS,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Up(e,FS,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Up(t,"/"==t.charAt(0)?hP:dP,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Up(t,LS)),n.join("")};var FS=/[#\/\?@]/g,dP=/[#\?:]/g,hP=/[#\?]/g,fP=/[#\?@]/g,LS=/#/g;function cy(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function dd(n){n.g||(n.g=new Map,n.h=0,n.i&&function bb(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function VS(n,e){dd(n),e=jp(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function BS(n,e){return dd(n),e=jp(n,e),n.g.has(e)}function US(n,e,t){VS(n,e),0<t.length&&(n.i=null,n.g.set(jp(n,e),EI(t)),n.h+=t.length)}function jp(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function c(n){this.l=n||u,n=dn.PerformanceNavigationTiming?0<(n=dn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(dn.g&&dn.g.Ka&&dn.g.Ka()&&dn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ft=cy.prototype).add=function(n,e){dd(this),this.i=null,n=jp(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ft.forEach=function(n,e){dd(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},ft.ta=function(){dd(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},ft.Z=function(n){dd(this);let e=[];if("string"==typeof n)BS(this,n)&&(e=e.concat(this.g.get(jp(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ft.set=function(n,e){return dd(this),this.i=null,BS(this,n=jp(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ft.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},ft.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=a;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var u=10;function h(n){return!!n.h||!!n.g&&n.g.size>=n.j}function m(n){return n.h?1:n.g?n.g.size:0}function _(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function I(n,e){n.g?n.g.add(e):n.h=e}function S(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function M(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return EI(n.i)}c.prototype.cancel=function(){if(this.i=M(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var L=class{stringify(n){return dn.JSON.stringify(n,void 0)}parse(n){return dn.JSON.parse(n,void 0)}};function z(){this.g=new L}function re(n,e,t){const r=t||"";try{GI(n,function(i,a){let l=i;Ap(i)&&(l=Qa(i)),e.push(r+a+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Me(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ye(n){this.l=n.fc||null,this.j=n.ob||!1}function it(n,e){Vi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Ct,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_i(Ye,yb),Ye.prototype.g=function(){return new it(this.l,this.j)},Ye.prototype.i=function(n){return function(){return n}}({}),_i(it,Vi);var Ct=0;function Ht(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function $e(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Xt(n)}function Xt(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ft=it.prototype).open=function(n,e){if(this.readyState!=Ct)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Xt(this)},ft.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||dn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ft.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$e(this)),this.readyState=Ct},ft.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Xt(this)),this.g&&(this.readyState=3,Xt(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof dn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ht(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ft.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?$e(this):Xt(this),3==this.readyState&&Ht(this)}},ft.Za=function(n){this.g&&(this.response=this.responseText=n,$e(this))},ft.Ya=function(n){this.g&&(this.response=n,$e(this))},ft.ka=function(){this.g&&$e(this)},ft.setRequestHeader=function(n,e){this.v.append(n,e)},ft.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ft.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(it.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Mr=dn.JSON.parse;function _n(n){Vi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=jS,this.L=this.M=!1}_i(_n,Vi);var jS="",YL=/^https?$/i,QL=["POST","PUT"];function pP(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,mP(n),qI(n)}function mP(n){n.F||(n.F=!0,vi(n,"complete"),vi(n,"error"))}function gP(n){if(n.h&&typeof tb<"u"&&(!n.C[1]||4!=Jl(n)||2!=n.da()))if(n.v&&4==Jl(n))OI(n.La,0,n);else if(vi(n,"readystatechange"),4==Jl(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var i=String(n.I).match(vb)[1]||null;!i&&dn.self&&dn.self.location&&(i=dn.self.location.protocol.slice(0,-1)),r=!YL.test(i?i.toLowerCase():"")}t=r}if(t)vi(n,"complete"),vi(n,"success");else{n.m=6;try{var a=2<Jl(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",mP(n)}}finally{qI(n)}}}function qI(n,e){if(n.g){yP(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||vi(n,"ready");try{t.onreadystatechange=r}catch{}}}function yP(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(dn.clearTimeout(n.A),n.A=null)}function Jl(n){return n.g?n.g.readyState:0}function _P(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case jS:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function vP(n){let e="";return Gg(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function $S(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=vP(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):xr(n,e,t))}function Eb(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function bP(n){this.Ga=0,this.j=[],this.l=new cd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Eb("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Eb("baseRetryDelayMs",5e3,n),this.hb=Eb("retryDelaySeedMs",1e4,n),this.eb=Eb("forwardChannelMaxRetries",2,n),this.xa=Eb("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new c(n&&n.concurrentRequestLimit),this.Ja=new z,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function HS(n){if(wP(n),3==n.H){var e=n.W++,t=Ja(n.I);if(xr(t,"SID",n.K),xr(t,"RID",e),xr(t,"TYPE","terminate"),Ib(n,t),(e=new ld(n,n.l,e)).L=2,e.v=wb(Ja(t)),t=!1,dn.navigator&&dn.navigator.sendBeacon)try{t=dn.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&dn.Image&&((new Image).src=e.v,t=!0),t||(e.g=MP(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Lp(e)}SP(n)}function KI(n){n.g&&(GS(n),n.g.cancel(),n.g=null)}function wP(n){KI(n),n.u&&(dn.clearTimeout(n.u),n.u=null),YI(n),n.i.cancel(),n.m&&("number"==typeof n.m&&dn.clearTimeout(n.m),n.m=null)}function ZI(n){if(!h(n.i)&&!n.m){n.m=!0;var e=n.Na;Mp||TS(),Rp||(Mp(),Rp=!0),Qg.add(e,n),n.C=0}}function EP(n,e){var t;t=e?e.m:n.W++;const r=Ja(n.I);xr(r,"SID",n.K),xr(r,"RID",t),xr(r,"AID",n.V),Ib(n,r),n.o&&n.s&&$S(r,n.o,n.s),t=new ld(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=IP(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),I(n.i,t),jI(t,r,e)}function Ib(n,e){n.na&&Gg(n.na,function(t,r){xr(e,r,t)}),n.h&&GI({},function(t,r){xr(e,r,t)})}function IP(n,e,t){t=Math.min(n.j.length,t);var r=n.h?io(n.h.Va,n.h,n):null;e:{var i=n.j;let a=-1;for(;;){const l=["count="+t];-1==a?0<t?(a=i[0].g,l.push("ofs="+a)):a=0:l.push("ofs="+a);let f=!0;for(let y=0;y<t;y++){let w=i[y].g;const x=i[y].map;if(w-=a,0>w)a=Math.max(0,i[y].g-100),f=!1;else try{re(x,l,"req"+w+"_")}catch{r&&r(x)}}if(f){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function CP(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Mp||TS(),Rp||(Mp(),Rp=!0),Qg.add(e,n),n.A=0}}function zS(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=ny(io(n.Ma,n),AP(n,n.A)),n.A++,0))}function GS(n){null!=n.B&&(dn.clearTimeout(n.B),n.B=null)}function DP(n){n.g=new ld(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ja(n.wa);xr(e,"RID","rpc"),xr(e,"SID",n.K),xr(e,"AID",n.V),xr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&xr(e,"TO",n.qa),xr(e,"TYPE","xmlhttp"),Ib(n,e),n.o&&n.s&&$S(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=wb(Ja(e)),t.s=null,t.S=!0,RS(t,n)}function YI(n){null!=n.v&&(dn.clearTimeout(n.v),n.v=null)}function TP(n,e){var t=null;if(n.g==e){YI(n),GS(n),n.g=null;var r=2}else{if(!_(n.i,e))return;t=e.F,S(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;vi(r=Pp(),new xS(r,t)),ZI(n)}else CP(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function e2(n,e){return!(m(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=ny(io(n.Na,n,e),AP(n,n.C)),n.C++,0)))}(n,e)||2==r&&zS(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:$p(n,5);break;case 4:$p(n,10);break;case 3:$p(n,6);break;default:$p(n,2)}}function AP(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function $p(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=io(n.pb,n);t||(t=new jh("//www.google.com/images/cleardot.gif"),dn.location&&"http"==dn.location.protocol||$h(t,"https"),wb(t)),function le(n,e){const t=new cd;if(dn.Image){const r=new Image;r.onload=nb(Me,t,r,"TestLoadImage: loaded",!0,e),r.onerror=nb(Me,t,r,"TestLoadImage: error",!1,e),r.onabort=nb(Me,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=nb(Me,t,r,"TestLoadImage: timeout",!1,e),dn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ho(2);n.H=0,n.h&&n.h.za(e),SP(n),wP(n)}function SP(n){if(n.H=0,n.ma=[],n.h){const e=M(n.i);(0!=e.length||0!=n.j.length)&&(mS(n.ma,e),mS(n.ma,n.j),n.i.i.length=0,EI(n.j),n.j.length=0),n.h.ya()}}function xP(n,e,t){var r=t instanceof jh?Ja(t):new jh(t);if(""!=r.g)e&&(r.g=e+"."+r.g),ay(r,r.m);else{var i=dn.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new jh(null);r&&$h(a,r),e&&(a.g=e),i&&ay(a,i),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&xr(r,t,e),xr(r,"VER",n.ra),Ib(n,r),r}function MP(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new _n(t&&n.Ha&&!n.va?new Ye({ob:!0}):n.va)).Oa(n.J),e}function RP(){}function QI(){if(ad&&!(10<=Number(aP)))throw Error("Environmental error: no available transport.")}function ga(n,e){Vi.call(this),this.g=new bP(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Ug(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ug(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ly(this)}function PP(n){ry.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function kP(){qc.call(this),this.status=1}function ly(n){this.g=n}function Kc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function WS(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],l=(e=n.g[0])+(a^(t=n.g[1])&((i=n.g[2])^a))+r[0]+3614090360&4294967295;l=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=t+(l<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^a&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((a=(e=t+((l=e+(i^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=a+((l=i+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+a&4294967295}function hr(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var a=0|n[i];r&&a==e||(t[i]=a,r=!1)}this.g=t}(ft=_n.prototype).Oa=function(n){this.M=n},ft.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():iy.g(),this.C=function Op(n){return n.h||(n.h=n.i())}(this.u?this.u:iy),this.g.onreadystatechange=io(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void pP(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=dn.FormData&&n instanceof dn.FormData,!(0<=pS(QL,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of t)this.g.setRequestHeader(a,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{yP(this),0<this.B&&((this.L=function JL(n){return ad&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=io(this.ua,this)):this.A=OI(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){pP(this,a)}},ft.ua=function(){typeof tb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vi(this,"timeout"),this.abort(8))},ft.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,vi(this,"complete"),vi(this,"abort"),qI(this))},ft.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qI(this,!0)),_n.$.N.call(this)},ft.La=function(){this.s||(this.G||this.v||this.l?gP(this):this.kb())},ft.kb=function(){gP(this)},ft.isActive=function(){return!!this.g},ft.da=function(){try{return 2<Jl(this)?this.g.status:-1}catch{return-1}},ft.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ft.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Mr(e)}},ft.Ia=function(){return this.m},ft.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ft=bP.prototype).ra=8,ft.H=1,ft.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new ld(this,this.l,n);let a=this.s;if(this.U&&(a?(a=ES(a),DI(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=IP(this,i,e),xr(t=Ja(this.I),"RID",n),xr(t,"CVER",22),this.F&&xr(t,"X-HTTP-Session-Id",this.F),Ib(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(vP(a)))+"&"+e:this.o&&$S(t,this.o,a)),I(this.i,i),this.bb&&xr(t,"TYPE","init"),this.P?(xr(t,"$req",e),xr(t,"SID","null"),i.aa=!0,jI(i,t,null)):jI(i,t,e),this.H=2}}else 3==this.H&&(n?EP(this,n):0==this.j.length||h(this.i)||EP(this))},ft.Ma=function(){if(this.u=null,DP(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=ny(io(this.jb,this),n)}},ft.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ho(10),KI(this),DP(this))},ft.ib=function(){null!=this.v&&(this.v=null,KI(this),zS(this),Ho(19))},ft.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Ho(2)):(this.l.info("Failed to ping google.com"),Ho(1))},ft.isActive=function(){return!!this.h&&this.h.isActive(this)},(ft=RP.prototype).Ba=function(){},ft.Aa=function(){},ft.za=function(){},ft.ya=function(){},ft.isActive=function(){return!0},ft.Va=function(){},QI.prototype.g=function(n,e){return new ga(n,e)},_i(ga,Vi),ga.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Ho(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=xP(n,null,n.Y),ZI(n)},ga.prototype.close=function(){HS(this.g)},ga.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Qa(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&ZI(e)},ga.prototype.N=function(){this.g.h=null,delete this.j,HS(this.g),delete this.g,ga.$.N.call(this)},_i(PP,ry),_i(kP,qc),_i(ly,RP),ly.prototype.Ba=function(){vi(this.g,"a")},ly.prototype.Aa=function(n){vi(this.g,new PP(n))},ly.prototype.za=function(n){vi(this.g,new kP)},ly.prototype.ya=function(){vi(this.g,"b")},_i(Kc,function t2(){this.blockSize=-1}),Kc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Kc.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,a=0;a<e;){if(0==i)for(;a<=t;)WS(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[i++]=n.charCodeAt(a++),i==this.blockSize){WS(this,r),i=0;break}}else for(;a<e;)if(r[i++]=n[a++],i==this.blockSize){WS(this,r),i=0;break}}this.h=i,this.i+=e},Kc.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var n2={};function qS(n){return-128<=n&&128>n?function $g(n,e){var t=n2;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new hr([0|e],0>e?-1:0)}):new hr([0|n],0>n?-1:0)}function Xl(n){if(isNaN(n)||!isFinite(n))return uy;if(0>n)return Eo(Xl(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=KS;return new hr(e,0)}var KS=4294967296,uy=qS(0),ZS=qS(1),NP=qS(16777216);function hd(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Xa(n){return-1==n.h}function Eo(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new hr(t,~n.h).add(ZS)}function JI(n,e){return n.add(Eo(e))}function XI(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Cb(n,e){this.g=n,this.h=e}function eC(n,e){if(hd(e))throw Error("division by zero");if(hd(n))return new Cb(uy,uy);if(Xa(n))return e=eC(Eo(n),e),new Cb(Eo(e.g),Eo(e.h));if(Xa(e))return e=eC(n,Eo(e)),new Cb(Eo(e.g),e.h);if(30<n.g.length){if(Xa(n)||Xa(e))throw Error("slowDivide_ only works with positive integers.");for(var t=ZS,r=e;0>=r.X(n);)t=FP(t),r=FP(r);var i=dy(t,1),a=dy(r,1);for(r=dy(r,2),t=dy(t,2);!hd(r);){var l=a.add(r);0>=l.X(n)&&(i=i.add(t),a=l),r=dy(r,1),t=dy(t,1)}return e=JI(n,i.R(e)),new Cb(i,e)}for(i=uy;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(a=Xl(t)).R(e);Xa(l)||0<l.X(n);)l=(a=Xl(t-=r)).R(e);hd(a)&&(a=ZS),i=i.add(a),n=JI(n,l)}return new Cb(i,n)}function FP(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new hr(t,n.h)}function dy(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],a=0;a<r;a++)i[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new hr(i,n.h)}(ft=hr.prototype).ea=function(){if(Xa(this))return-Eo(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:KS+r)*e,e*=KS}return n},ft.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(hd(this))return"0";if(Xa(this))return"-"+Eo(this).toString(n);for(var e=Xl(Math.pow(n,6)),t=this,r="";;){var i=eC(t,e).g,a=((0<(t=JI(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(hd(t=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},ft.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ft.X=function(n){return Xa(n=JI(this,n))?-1:hd(n)?0:1},ft.abs=function(){return Xa(this)?Eo(this):this},ft.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var a=r+(65535&this.D(i))+(65535&n.D(i)),l=(a>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=l>>>16,t[i]=(l&=65535)<<16|(a&=65535)}return new hr(t,-2147483648&t[t.length-1]?-1:0)},ft.R=function(n){if(hd(this)||hd(n))return uy;if(Xa(this))return Xa(n)?Eo(this).R(Eo(n)):Eo(Eo(this).R(n));if(Xa(n))return Eo(this.R(Eo(n)));if(0>this.X(NP)&&0>n.X(NP))return Xl(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var a=this.D(r)>>>16,l=65535&this.D(r),f=n.D(i)>>>16,y=65535&n.D(i);t[2*r+2*i]+=l*y,XI(t,2*r+2*i),t[2*r+2*i+1]+=a*y,XI(t,2*r+2*i+1),t[2*r+2*i+1]+=l*f,XI(t,2*r+2*i+1),t[2*r+2*i+2]+=a*f,XI(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new hr(t,0)},ft.gb=function(n){return eC(this,n).h},ft.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new hr(t,this.h&n.h)},ft.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new hr(t,this.h|n.h)},ft.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new hr(t,this.h^n.h)},QI.prototype.createWebChannel=QI.prototype.g,ga.prototype.send=ga.prototype.u,ga.prototype.open=ga.prototype.m,ga.prototype.close=ga.prototype.close,gb.NO_ERROR=0,gb.TIMEOUT=8,gb.HTTP_ERROR=6,MS.COMPLETE="complete",BI.EventType=Np,Np.OPEN="a",Np.CLOSE="b",Np.ERROR="c",Np.MESSAGE="d",Vi.prototype.listen=Vi.prototype.O,_n.prototype.listenOnce=_n.prototype.P,_n.prototype.getLastError=_n.prototype.Sa,_n.prototype.getLastErrorCode=_n.prototype.Ia,_n.prototype.getStatus=_n.prototype.da,_n.prototype.getResponseJson=_n.prototype.Wa,_n.prototype.getResponseText=_n.prototype.ja,_n.prototype.send=_n.prototype.ha,_n.prototype.setWithCredentials=_n.prototype.Oa,Kc.prototype.digest=Kc.prototype.l,Kc.prototype.reset=Kc.prototype.reset,Kc.prototype.update=Kc.prototype.j,hr.prototype.add=hr.prototype.add,hr.prototype.multiply=hr.prototype.R,hr.prototype.modulo=hr.prototype.gb,hr.prototype.compare=hr.prototype.X,hr.prototype.toNumber=hr.prototype.ea,hr.prototype.toString=hr.prototype.toString,hr.prototype.getBits=hr.prototype.D,hr.fromNumber=Xl,hr.fromString=function OP(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Eo(OP(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Xl(Math.pow(e,8)),r=uy,i=0;i<n.length;i+=8){var a=Math.min(8,n.length-i),l=parseInt(n.substring(i,i+a),e);8>a?(a=Xl(Math.pow(e,a)),r=r.R(a).add(Xl(l))):r=(r=r.R(t)).add(Xl(l))}return r};var r2=Os.createWebChannelTransport=function(){return new QI},o2=Os.getStatEventTarget=function(){return Pp()},YS=Os.ErrorCode=gb,s2=Os.EventType=MS,a2=Os.Event=Bh,LP=Os.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},c2=Os.FetchXmlHttpFactory=Ye,tC=Os.WebChannel=BI,l2=Os.XhrIo=_n,u2=Os.Md5=Kc,hy=Os.Integer=hr;const VP="@firebase/firestore";class oo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}oo.UNAUTHENTICATED=new oo(null),oo.GOOGLE_CREDENTIALS=new oo("google-credentials-uid"),oo.FIRST_PARTY=new oo("first-party-uid"),oo.MOCK_USER=new oo("mock-user");let fy="9.22.1";const Hh=new Yl.Yd("@firebase/firestore");function QS(){return Hh.logLevel}function Ke(n,...e){if(Hh.logLevel<=Yl.in.DEBUG){const t=e.map(JS);Hh.debug(`Firestore (${fy}): ${n}`,...t)}}function bi(n,...e){if(Hh.logLevel<=Yl.in.ERROR){const t=e.map(JS);Hh.error(`Firestore (${fy}): ${n}`,...t)}}function ec(n,...e){if(Hh.logLevel<=Yl.in.WARN){const t=e.map(JS);Hh.warn(`Firestore (${fy}): ${n}`,...t)}}function JS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Dt(n="Unexpected state"){const e=`FIRESTORE (${fy}) INTERNAL ASSERTION FAILED: `+n;throw bi(e),new Error(e)}function Nt(n,e){n||Dt()}function pt(n,e){return n}const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends Bn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class BP{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class f2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(oo.UNAUTHENTICATED))}shutdown(){}}class p2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class m2{constructor(e){this.t=e,this.currentUser=oo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let l=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Hi,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const w=l;e.enqueueRetryable((0,Re.Z)(function*(){yield w.promise,yield a(r.currentUser)}))},y=w=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>y(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?y(w):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Hi)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Nt("string"==typeof r.accessToken),new BP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Nt(null===e||"string"==typeof e),new oo(e)}}class g2{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=oo.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class y2{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new g2(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(oo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _2{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=a=>{null!=a.error&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.T;return this.T=a.token,Ke("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?i(a):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Nt("string"==typeof t.token),this.T=t.token,new UP(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function v2(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class jP{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=v2(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function fn(n,e){return n<e?-1:n>e?1:0}function py(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function $P(n){return n+"\0"}class Yr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ue(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ue(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ue(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ue(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Yr.fromMillis(Date.now())}static fromDate(e){return Yr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Yr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fn(this.nanoseconds,e.nanoseconds):fn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Vt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Vt(e)}static min(){return new Vt(new Yr(0,0))}static max(){return new Vt(new Yr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Db{constructor(e,t,r){void 0===t?t=0:t>e.length&&Dt(),void 0===r?r=e.length-t:r>e.length-t&&Dt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Db.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Db?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),l=t.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Un extends Db{construct(e,t,r){return new Un(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ue(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Un(t)}static emptyPath(){return new Un([])}}const b2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hi extends Db{construct(e,t,r){return new hi(e,t,r)}static isValidIdentifier(e){return b2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hi(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Ue(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Ue(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Ue(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===f?(l=!l,i++):"."!==f||l?(r+=f,i++):(a(),i++)}if(a(),l)throw new Ue(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hi(t)}static emptyPath(){return new hi([])}}class dt{constructor(e){this.path=e}static fromPath(e){return new dt(Un.fromString(e))}static fromName(e){return new dt(Un.fromString(e).popFirst(5))}static empty(){return new dt(Un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Un.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Un.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new Un(e.slice()))}}class nC{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function XS(n){return n.fields.find(e=>2===e.kind)}function Hp(n){return n.fields.filter(e=>2!==e.kind)}nC.UNKNOWN_ID=-1;class rC{constructor(e,t){this.fieldPath=e,this.kind=t}}class Tb{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Tb(0,ya.min())}}function HP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Vt.fromTimestamp(1e9===r?new Yr(t+1,0):new Yr(t,r));return new ya(i,dt.empty(),e)}function zP(n){return new ya(n.readTime,n.key,-1)}class ya{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ya(Vt.min(),dt.empty(),-1)}static max(){return new ya(Vt.max(),dt.empty(),-1)}}function ex(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=dt.comparator(n.documentKey,e.documentKey),0!==t?t:fn(n.largestBatchId,e.largestBatchId))}const GP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function zh(n){return tx.apply(this,arguments)}function tx(){return tx=(0,Re.Z)(function*(n){if(n.code!==ye.FAILED_PRECONDITION||n.message!==GP)throw n;Ke("LocalStore","Unexpectedly lost primary lease")}),tx.apply(this,arguments)}class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,r)=>{t(e)})}static reject(e){return new he((t,r)=>{r(e)})}static waitFor(e){return new he((t,r)=>{let i=0,a=0,l=!1;e.forEach(f=>{++i,f.next(()=>{++a,l&&a===i&&t()},y=>r(y))}),l=!0,a===i&&t()})}static or(e){let t=he.resolve(!1);for(const r of e)t=t.next(i=>i?he.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new he((r,i)=>{const a=e.length,l=new Array(a);let f=0;for(let y=0;y<a;y++){const w=y;t(e[w]).next(x=>{l[w]=x,++f,f===a&&r(l)},x=>i(x))}})}static doWhile(e,t){return new he((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class iC{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Hi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Ab(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=nx(r.target.error);this.v.reject(new Ab(e,i))}}static open(e,t,r,i){try{return new iC(t,e.transaction(i,r))}catch(a){throw new Ab(t,a)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new C2(t)}}class Zc{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Zc.S((0,Bn.z$)())&&bi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ke("SimpleDb","Removing database:",e),zp(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Bn.hl)())return!1;if(Zc.C())return!0;const e=(0,Bn.z$)(),t=Zc.S(e),r=0<t&&t<10,i=Zc.N(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,Re.Z)(function*(){return t.db||(Ke("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=l=>{r(l.target.result)},a.onblocked=()=>{i(new Ab(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const f=l.target.error;i("VersionError"===f.name?new Ue(ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Ue(ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Ab(e,f))},a.onupgradeneeded=l=>{Ke("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,a.transaction,l.oldVersion,t.version).next(()=>{Ke("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,Re.Z)(function*(){const l="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.$(e);const y=iC.open(a.db,e,l?"readonly":"readwrite",r),w=i(y).next(x=>(y.P(),x)).catch(x=>(y.abort(x),he.reject(x))).toPromise();return w.catch(()=>{}),yield y.R,w}catch(y){const w=y,x="FirebaseError"!==w.name&&f<3;if(Ke("SimpleDb","Transaction failed with error:",w.message,"Retrying:",x),a.close(),!x)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class I2{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return zp(this.L.delete())}}class Ab extends Ue{constructor(e,t){super(ye.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Gh(n){return"IndexedDbTransactionError"===n.name}class C2{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ke("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),zp(r)}add(e){return Ke("SimpleDb","ADD",this.store.name,e,e),zp(this.store.add(e))}get(e){return zp(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ke("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ke("SimpleDb","DELETE",this.store.name,e),zp(this.store.delete(e))}count(){return Ke("SimpleDb","COUNT",this.store.name),zp(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.W(i,(l,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new he((a,l)=>{i.onerror=f=>{l(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new he((i,a)=>{r.onerror=l=>{a(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}J(e,t){Ke("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(a,l,f)=>f.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new he((r,i)=>{t.onerror=a=>{const l=nx(a.target.error);i(l)},t.onsuccess=a=>{const l=a.target.result;l?e(l.primaryKey,l.value).next(f=>{f?l.continue():r()}):r()}})}W(e,t){const r=[];return new he((i,a)=>{e.onerror=l=>{a(l.target.error)},e.onsuccess=l=>{const f=l.target.result;if(!f)return void i();const y=new I2(f),w=t(f.primaryKey,f.value,y);if(w instanceof he){const x=w.catch(O=>(y.done(),he.reject(O)));r.push(x)}y.isDone?i():null===y.K?f.continue():f.continue(y.K)}}).next(()=>he.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function zp(n){return new he((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=nx(r.target.error);t(i)}})}let qP=!1;function nx(n){const e=Zc.S((0,Bn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ue("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return qP||(qP=!0,setTimeout(()=>{throw r},0)),r}}return n}class D2{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Ke("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Re.Z)(function*(){t.task=null;try{Ke("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Gh(r)?Ke("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield zh(r)}yield t.et(6e4)}))}}class T2{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Re.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,a=!0;return he.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return Ke("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,i).next(f=>{i-=f,r.add(l)});a=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const l=a.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(i,a)).next(f=>(Ke("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>l.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,a)=>{const l=zP(a);ex(l,r)>0&&(r=l)}),new ya(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let _a=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Sb(n){return null==n}function xb(n){return 0===n&&1/n==-1/0}function KP(n){return"number"==typeof n&&Number.isInteger(n)&&!xb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function zo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ZP(e)),e=A2(n.get(t),e);return ZP(e)}function A2(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function ZP(n){return n+"\x01\x01"}function eu(n){const e=n.length;if(Nt(e>=2),2===e)return Nt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Un.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const l=n.indexOf("\x01",a);switch((l<0||l>t)&&Dt(),n.charAt(l+1)){case"\x01":const f=n.substring(a,l);let y;0===i.length?y=f:(i+=f,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(a,l),i+="\0";break;case"\x11":i+=n.substring(a,l+1);break;default:Dt()}a=l+2}return new Un(r)}const YP=["userId","batchId"];function oC(n,e){return[n,zo(e)]}function QP(n,e,t){return[n,zo(e),t]}const S2={},x2=["prefixPath","collectionGroup","readTime","documentId"],M2=["prefixPath","collectionGroup","documentId"],R2=["collectionGroup","readTime","prefixPath","documentId"],P2=["canonicalId","targetId"],k2=["targetId","path"],O2=["path","targetId"],N2=["collectionId","parent"],F2=["indexId","uid"],L2=["uid","sequenceNumber"],V2=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],B2=["indexId","uid","orderedDocumentKey"],U2=["userId","collectionPath","documentId"],j2=["userId","collectionPath","largestBatchId"],$2=["userId","collectionGroup","largestBatchId"],JP=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],H2=[...JP,"documentOverlays"],XP=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ek=XP,z2=[...ek,"indexConfiguration","indexState","indexEntries"];class rx extends WP{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function so(n,e){const t=pt(n);return Zc.M(t.ht,e)}function tk(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Wh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function nk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Rr{constructor(e,t){this.comparator=e,this.root=t||Io.EMPTY}insert(e,t){return new Rr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Io.BLACK,null,null))}remove(e){return new Rr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Io.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sC(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sC(this.root,e,this.comparator,!1)}getReverseIterator(){return new sC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sC(this.root,e,this.comparator,!0)}}class sC{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Io{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Io.RED,this.left=i??Io.EMPTY,this.right=a??Io.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Io(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Io.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Io.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Io.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Io.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Dt();const e=this.left.check();if(e!==this.right.check())throw Dt();return e+(this.isRed()?0:1)}}Io.EMPTY=null,Io.RED=!0,Io.BLACK=!1,Io.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt()}get value(){throw Dt()}get color(){throw Dt()}get left(){throw Dt()}get right(){throw Dt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Io(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ur{constructor(e){this.comparator=e,this.data=new Rr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rk(this.data.getIterator())}getIteratorFrom(e){return new rk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ur)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ur(this.comparator);return t.data=e,t}}class rk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function my(n){return n.hasNext()?n.getNext():void 0}class Ls{constructor(e){this.fields=e,e.sort(hi.comparator)}static empty(){return new Ls([])}unionWith(e){let t=new Ur(hi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ls(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return py(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ik extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class zi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new ik("Invalid base64 string: "+i):i}}(e);return new zi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new zi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zi.EMPTY_BYTE_STRING=new zi("");const W2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qh(n){if(Nt(!!n),"string"==typeof n){let e=0;const t=W2.exec(n);if(Nt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:fi(n.seconds),nanos:fi(n.nanos)}}function fi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function fd(n){return"string"==typeof n?zi.fromBase64String(n):zi.fromUint8Array(n)}function aC(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function cC(n){const e=n.mapValue.fields.__previous_value__;return aC(e)?cC(e):e}function Mb(n){const e=qh(n.mapValue.fields.__local_write_time__.timestampValue);return new Yr(e.seconds,e.nanos)}class q2{constructor(e,t,r,i,a,l,f,y,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=y,this.useFetchStreams=w}}class Kh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Kh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Kh&&e.projectId===this.projectId&&e.database===this.database}}const Zh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},lC={nullValue:"NULL_VALUE"};function Yh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?aC(n)?4:ck(n)?9007199254740991:10:Dt()}function tu(n,e){if(n===e)return!0;const t=Yh(n);if(t!==Yh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Mb(n).isEqual(Mb(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=qh(r.timestampValue),l=qh(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,fd(n.bytesValue).isEqual(fd(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return fi(r.geoPointValue.latitude)===fi(i.geoPointValue.latitude)&&fi(r.geoPointValue.longitude)===fi(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return fi(r.integerValue)===fi(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=fi(r.doubleValue),l=fi(i.doubleValue);return a===l?xb(a)===xb(l):isNaN(a)&&isNaN(l)}return!1}(n,e);case 9:return py(n.arrayValue.values||[],e.arrayValue.values||[],tu);case 10:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(tk(a)!==tk(l))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===l[f]||!tu(a[f],l[f])))return!1;return!0}(n,e);default:return Dt()}var i}function Rb(n,e){return void 0!==(n.values||[]).find(t=>tu(t,e))}function Qh(n,e){if(n===e)return 0;const t=Yh(n),r=Yh(e);if(t!==r)return fn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return fn(n.booleanValue,e.booleanValue);case 2:return function(i,a){const l=fi(i.integerValue||i.doubleValue),f=fi(a.integerValue||a.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(n,e);case 3:return ok(n.timestampValue,e.timestampValue);case 4:return ok(Mb(n),Mb(e));case 5:return fn(n.stringValue,e.stringValue);case 6:return function(i,a){const l=fd(i),f=fd(a);return l.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),f=a.split("/");for(let y=0;y<l.length&&y<f.length;y++){const w=fn(l[y],f[y]);if(0!==w)return w}return fn(l.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const l=fn(fi(i.latitude),fi(a.latitude));return 0!==l?l:fn(fi(i.longitude),fi(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const l=i.values||[],f=a.values||[];for(let y=0;y<l.length&&y<f.length;++y){const w=Qh(l[y],f[y]);if(w)return w}return fn(l.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===Zh.mapValue&&a===Zh.mapValue)return 0;if(i===Zh.mapValue)return 1;if(a===Zh.mapValue)return-1;const l=i.fields||{},f=Object.keys(l),y=a.fields||{},w=Object.keys(y);f.sort(),w.sort();for(let x=0;x<f.length&&x<w.length;++x){const O=fn(f[x],w[x]);if(0!==O)return O;const G=Qh(l[f[x]],y[w[x]]);if(0!==G)return G}return fn(f.length,w.length)}(n.mapValue,e.mapValue);default:throw Dt()}}function ok(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return fn(n,e);const t=qh(n),r=qh(e),i=fn(t.seconds,r.seconds);return 0!==i?i:fn(t.nanos,r.nanos)}function gy(n){return ix(n)}function ix(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=qh(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?fd(n.bytesValue).toBase64():"referenceValue"in n?dt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const l of r.values||[])a?a=!1:i+=",",i+=ix(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",l=!0;for(const f of i)l?l=!1:a+=",",a+=`${f}:${ix(r.fields[f])}`;return a+"}"}(n.mapValue):Dt();var e}function Gp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ox(n){return!!n&&"integerValue"in n}function Pb(n){return!!n&&"arrayValue"in n}function sk(n){return!!n&&"nullValue"in n}function ak(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dC(n){return!!n&&"mapValue"in n}function kb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Wh(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=kb(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=kb(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ck(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function K2(n){return"nullValue"in n?lC:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Gp(Kh.empty(),dt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Dt()}function Z2(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Gp(Kh.empty(),dt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Zh:Dt()}function lk(n,e){const t=Qh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function uk(n,e){const t=Qh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Co{constructor(e){this.value=e}static empty(){return new Co({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!dC(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kb(t)}setAll(e){let t=hi.emptyPath(),r={},i=[];e.forEach((l,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=f.popLast()}l?r[f.lastSegment()]=kb(l):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());dC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return tu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];dC(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Wh(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Co(kb(this.value))}}function dk(n){const e=[];return Wh(n.fields,(t,r)=>{const i=new hi([t]);if(dC(r)){const a=dk(r.mapValue).fields;if(0===a.length)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Ls(e)}class jr{constructor(e,t,r,i,a,l,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=f}static newInvalidDocument(e){return new jr(e,0,Vt.min(),Vt.min(),Vt.min(),Co.empty(),0)}static newFoundDocument(e,t,r,i){return new jr(e,1,t,Vt.min(),r,i,0)}static newNoDocument(e,t){return new jr(e,2,t,Vt.min(),Vt.min(),Co.empty(),0)}static newUnknownDocument(e,t){return new jr(e,3,t,Vt.min(),Vt.min(),Co.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Vt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Co.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Co.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof jr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jh{constructor(e,t){this.position=e,this.inclusive=t}}function hk(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(r=a.field.isKeyField()?dt.comparator(dt.fromName(l.referenceValue),t.key):Qh(l,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function fk(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!tu(n.position[t],e.position[t]))return!1;return!0}class yy{constructor(e,t="asc"){this.field=e,this.dir=t}}function Y2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class pk{}class kn extends pk{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Q2(e,t,r):"array-contains"===t?new eV(e,r):"in"===t?new bk(e,r):"not-in"===t?new tV(e,r):"array-contains-any"===t?new nV(e,r):new kn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new J2(e,r):new X2(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Qh(t,this.value)):null!==t&&Yh(this.value)===Yh(t)&&this.matchesComparison(Qh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class fr extends pk{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new fr(e,t)}matches(e){return _y(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function _y(n){return"and"===n.op}function sx(n){return"or"===n.op}function ax(n){return mk(n)&&_y(n)}function mk(n){for(const e of n.filters)if(e instanceof fr)return!1;return!0}function cx(n){if(n instanceof kn)return n.field.canonicalString()+n.op.toString()+gy(n.value);if(ax(n))return n.filters.map(e=>cx(e)).join(",");{const e=n.filters.map(t=>cx(t)).join(",");return`${n.op}(${e})`}}function gk(n,e){return n instanceof kn?(t=n,(r=e)instanceof kn&&t.op===r.op&&t.field.isEqual(r.field)&&tu(t.value,r.value)):n instanceof fr?function(t,r){return r instanceof fr&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,l)=>i&&gk(a,r.filters[l]),!0)}(n,e):void Dt();var t,r}function yk(n,e){const t=n.filters.concat(e);return fr.create(t,n.op)}function _k(n){return n instanceof kn?`${(e=n).field.canonicalString()} ${e.op} ${gy(e.value)}`:n instanceof fr?function(e){return e.op.toString()+" {"+e.getFilters().map(_k).join(" ,")+"}"}(n):"Filter";var e}class Q2 extends kn{constructor(e,t,r){super(e,t,r),this.key=dt.fromName(r.referenceValue)}matches(e){const t=dt.comparator(e.key,this.key);return this.matchesComparison(t)}}class J2 extends kn{constructor(e,t){super(e,"in",t),this.keys=vk(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class X2 extends kn{constructor(e,t){super(e,"not-in",t),this.keys=vk(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function vk(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>dt.fromName(r.referenceValue))}class eV extends kn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pb(t)&&Rb(t.arrayValue,this.value)}}class bk extends kn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Rb(this.value.arrayValue,t)}}class tV extends kn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Rb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Rb(this.value.arrayValue,t)}}class nV extends kn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Rb(this.value.arrayValue,r))}}class rV{constructor(e,t=null,r=[],i=[],a=null,l=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=f,this.dt=null}}function lx(n,e=null,t=[],r=[],i=null,a=null,l=null){return new rV(n,e,t,r,i,a,l)}function Wp(n){const e=pt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>cx(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Sb(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>gy(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>gy(r)).join(",")),e.dt=t}return e.dt}function Ob(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Y2(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!gk(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!fk(n.startAt,e.startAt)&&fk(n.endAt,e.endAt)}function hC(n){return dt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function fC(n,e){return n.filters.filter(t=>t instanceof kn&&t.field.isEqual(e))}function wk(n,e,t){let r=lC,i=!0;for(const a of fC(n,e)){let l=lC,f=!0;switch(a.op){case"<":case"<=":l=K2(a.value);break;case"==":case"in":case">=":l=a.value;break;case">":l=a.value,f=!1;break;case"!=":case"not-in":l=lC}lk({value:r,inclusive:i},{value:l,inclusive:f})<0&&(r=l,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];lk({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}function Ek(n,e,t){let r=Zh,i=!0;for(const a of fC(n,e)){let l=Zh,f=!0;switch(a.op){case">=":case">":l=Z2(a.value),f=!1;break;case"==":case"in":case"<=":l=a.value;break;case"<":l=a.value,f=!1;break;case"!=":case"not-in":l=Zh}uk({value:r,inclusive:i},{value:l,inclusive:f})>0&&(r=l,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];uk({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}class pd{constructor(e,t=null,r=[],i=[],a=null,l="F",f=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=f,this.endAt=y,this.wt=null,this._t=null}}function Ik(n,e,t,r,i,a,l,f){return new pd(n,e,t,r,i,a,l,f)}function vy(n){return new pd(n)}function Ck(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function ux(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function pC(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function dx(n){return null!==n.collectionGroup}function qp(n){const e=pt(n);if(null===e.wt){e.wt=[];const t=pC(e),r=ux(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new yy(t)),e.wt.push(new yy(hi.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new yy(hi.keyField(),a))}}}return e.wt}function us(n){const e=pt(n);if(!e._t)if("F"===e.limitType)e._t=lx(e.path,e.collectionGroup,qp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of qp(e))t.push(new yy(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Jh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Jh(e.startAt.position,e.startAt.inclusive):null;e._t=lx(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function hx(n,e){e.getFirstInequalityField(),pC(n);const t=n.filters.concat([e]);return new pd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function mC(n,e,t){return new pd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Nb(n,e){return Ob(us(n),us(e))&&n.limitType===e.limitType}function Dk(n){return`${Wp(us(n))}|lt:${n.limitType}`}function fx(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>_k(r)).join(", ")}]`),Sb(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>gy(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>gy(r)).join(",")),`Target(${t})`}(us(n))}; limitType=${n.limitType})`}function Fb(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):dt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of qp(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,l){const f=hk(i,a,l);return i.inclusive?f<=0:f<0}(t.startAt,qp(t),r)||t.endAt&&!function(i,a,l){const f=hk(i,a,l);return i.inclusive?f>=0:f>0}(t.endAt,qp(t),r)));var t,r}function Tk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Ak(n){return(e,t)=>{let r=!1;for(const i of qp(n)){const a=iV(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function iV(n,e,t){const r=n.field.isKeyField()?dt.comparator(e.key,t.key):function(i,a,l){const f=a.data.field(i),y=l.data.field(i);return null!==f&&null!==y?Qh(f,y):Dt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Dt()}}class md{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wh(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return nk(this.inner)}size(){return this.innerSize}}const oV=new Rr(dt.comparator);function Vs(){return oV}const Sk=new Rr(dt.comparator);function Lb(...n){let e=Sk;for(const t of n)e=e.insert(t.key,t);return e}function xk(n){let e=Sk;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function nu(){return Vb()}function Mk(){return Vb()}function Vb(){return new md(n=>n.toString(),(n,e)=>n.isEqual(e))}const sV=new Rr(dt.comparator),aV=new Ur(dt.comparator);function wn(...n){let e=aV;for(const t of n)e=e.add(t);return e}const cV=new Ur(fn);function px(){return cV}function Rk(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xb(e)?"-0":e}}function Pk(n){return{integerValue:""+n}}function kk(n,e){return KP(e)?Pk(e):Rk(n,e)}class gC{constructor(){this._=void 0}}function lV(n,e,t){return n instanceof by?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&aC(i)&&(i=cC(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Kp?Nk(n,e):n instanceof Zp?Fk(n,e):function(r,i){const a=Ok(r,i),l=Lk(a)+Lk(r.gt);return ox(a)&&ox(r.gt)?Pk(l):Rk(r.serializer,l)}(n,e)}function uV(n,e,t){return n instanceof Kp?Nk(n,e):n instanceof Zp?Fk(n,e):t}function Ok(n,e){return n instanceof wy?ox(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class by extends gC{}class Kp extends gC{constructor(e){super(),this.elements=e}}function Nk(n,e){const t=Vk(e);for(const r of n.elements)t.some(i=>tu(i,r))||t.push(r);return{arrayValue:{values:t}}}class Zp extends gC{constructor(e){super(),this.elements=e}}function Fk(n,e){let t=Vk(e);for(const r of n.elements)t=t.filter(i=>!tu(i,r));return{arrayValue:{values:t}}}class wy extends gC{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Lk(n){return fi(n.integerValue||n.doubleValue)}function Vk(n){return Pb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Bb{constructor(e,t){this.field=e,this.transform=t}}class hV{constructor(e,t){this.version=e,this.transformResults=t}}class Qr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qr}static exists(e){return new Qr(void 0,e)}static updateTime(e){return new Qr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yC(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class _C{}function Bk(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Iy(n.key,Qr.none()):new Ey(n.key,n.data,Qr.none());{const t=n.data,r=Co.empty();let i=new Ur(hi.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);null===l&&a.length>1&&(a=a.popLast(),l=t.field(a)),null===l?r.delete(a):r.set(a,l),i=i.add(a)}return new gd(n.key,r,new Ls(i.toArray()),Qr.none())}}function fV(n,e,t){n instanceof Ey?function(r,i,a){const l=r.value.clone(),f=$k(r.fieldTransforms,i,a.transformResults);l.setAll(f),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):n instanceof gd?function(r,i,a){if(!yC(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=$k(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(jk(r)),f.setAll(l),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ub(n,e,t,r){return n instanceof Ey?function(i,a,l,f){if(!yC(i.precondition,a))return l;const y=i.value.clone(),w=Hk(i.fieldTransforms,f,a);return y.setAll(w),a.convertToFoundDocument(a.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof gd?function(i,a,l,f){if(!yC(i.precondition,a))return l;const y=Hk(i.fieldTransforms,f,a),w=a.data;return w.setAll(jk(i)),w.setAll(y),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(x=>x.field))}(n,e,t,r):(l=t,yC(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l);var a,l}function pV(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=Ok(r.transform,i||null);null!=a&&(null===t&&(t=Co.empty()),t.set(r.field,a))}return t||null}function Uk(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&py(t,r,(i,a)=>function dV(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Kp&&r instanceof Kp||t instanceof Zp&&r instanceof Zp?py(t.elements,r.elements,tu):t instanceof wy&&r instanceof wy?tu(t.gt,r.gt):t instanceof by&&r instanceof by);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Ey extends _C{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gd extends _C{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function jk(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function $k(n,e,t){const r=new Map;Nt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,f=e.data.field(a.field);r.set(a.field,uV(l,f,t[i]))}return r}function Hk(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,lV(a,l,e))}return r}class Iy extends _C{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mx extends _C{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gx{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&fV(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ub(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ub(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Mk();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let f=this.applyToLocalView(l,a.mutatedFields);f=t.has(i.key)?null:f;const y=Bk(l,f);null!==y&&r.set(i.key,y),l.isValidDocument()||l.convertToNoDocument(Vt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),wn())}isEqual(e){return this.batchId===e.batchId&&py(this.mutations,e.mutations,(t,r)=>Uk(t,r))&&py(this.baseMutations,e.baseMutations,(t,r)=>Uk(t,r))}}class yx{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Nt(e.mutations.length===r.length);let i=sV;const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new yx(e,t,r,i)}}class _x{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class gV{constructor(e,t){this.count=e,this.unchangedNames=t}}var Bi,jn;function zk(n){switch(n){default:return Dt();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0}}function Gk(n){if(void 0===n)return bi("GRPC error has no .code"),ye.UNKNOWN;switch(n){case Bi.OK:return ye.OK;case Bi.CANCELLED:return ye.CANCELLED;case Bi.UNKNOWN:return ye.UNKNOWN;case Bi.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case Bi.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case Bi.INTERNAL:return ye.INTERNAL;case Bi.UNAVAILABLE:return ye.UNAVAILABLE;case Bi.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case Bi.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case Bi.NOT_FOUND:return ye.NOT_FOUND;case Bi.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case Bi.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case Bi.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case Bi.ABORTED:return ye.ABORTED;case Bi.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case Bi.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case Bi.DATA_LOSS:return ye.DATA_LOSS;default:return Dt()}}(jn=Bi||(Bi={}))[jn.OK=0]="OK",jn[jn.CANCELLED=1]="CANCELLED",jn[jn.UNKNOWN=2]="UNKNOWN",jn[jn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jn[jn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jn[jn.NOT_FOUND=5]="NOT_FOUND",jn[jn.ALREADY_EXISTS=6]="ALREADY_EXISTS",jn[jn.PERMISSION_DENIED=7]="PERMISSION_DENIED",jn[jn.UNAUTHENTICATED=16]="UNAUTHENTICATED",jn[jn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jn[jn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jn[jn.ABORTED=10]="ABORTED",jn[jn.OUT_OF_RANGE=11]="OUT_OF_RANGE",jn[jn.UNIMPLEMENTED=12]="UNIMPLEMENTED",jn[jn.INTERNAL=13]="INTERNAL",jn[jn.UNAVAILABLE=14]="UNAVAILABLE",jn[jn.DATA_LOSS=15]="DATA_LOSS";class vx{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return vC}static getOrCreateInstance(){return null===vC&&(vC=new vx),vC}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let vC=null;function Wk(){return new TextEncoder}const yV=new hy([4294967295,4294967295],0);function qk(n){const e=Wk().encode(n),t=new u2;return t.update(e),new Uint8Array(t.digest())}function Kk(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new hy([t,r],0),new hy([i,a],0)]}class bx{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new jb(`Invalid padding: ${t}`);if(r<0)throw new jb(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new jb(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new jb(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=hy.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(hy.fromNumber(r)));return 1===i.compare(yV)&&(i=new hy([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=qk(e),[r,i]=Kk(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);if(!this.At(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new bx(a,i,t);return r.forEach(f=>l.insert(f)),l}insert(e){if(0===this.It)return;const t=qk(e),[r,i]=Kk(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class jb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $b{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Hb.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new $b(Vt.min(),i,new Rr(fn),Vs(),wn())}}class Hb{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Hb(r,t,wn(),wn(),wn())}}class bC{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class Zk{constructor(e,t){this.targetId=e,this.Vt=t}}class Yk{constructor(e,t,r=zi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Qk{constructor(){this.St=0,this.Dt=Xk(),this.Ct=zi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=wn(),t=wn(),r=wn();return this.Dt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Dt()}}),new Hb(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=Xk()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class _V{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Vs(),this.zt=Jk(),this.Wt=new Rr(fn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:Dt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,a=this.se(r);if(a){const l=a.target;if(hC(l))if(0===i){const f=new dt(l.path);this.Yt(r,f,jr.newNoDocument(f,Vt.min()))}else Nt(1===i);else{const f=this.ie(r);if(f!==i){const y=this.re(e,f);0!==y&&(this.ee(r),this.Wt=this.Wt.insert(r,2===y?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=vx.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(w,x,O){var G,Q,ie,ue,Ce,qe;const at={localCacheCount:x,existenceFilterCount:O.count},gt=O.unchangedNames;return gt&&(at.bloomFilter={applied:0===w,hashCount:null!==(G=gt?.hashCount)&&void 0!==G?G:0,bitmapLength:null!==(ue=null===(ie=null===(Q=gt?.bits)||void 0===Q?void 0:Q.bitmap)||void 0===ie?void 0:ie.length)&&void 0!==ue?ue:0,padding:null!==(qe=null===(Ce=gt?.bits)||void 0===Ce?void 0:Ce.padding)&&void 0!==qe?qe:0}),at}(y,f,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:l=0},hashCount:f=0}=r;let y,w;try{y=fd(a).toUint8Array()}catch(x){if(x instanceof ik)return ec("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw x}try{w=new bx(y,l,f)}catch(x){return ec(x instanceof jb?"BloomFilter error: ":"Applying bloom filter failed: ",x),1}return 0===w.It?1:i!==t-this.oe(e.targetId,w)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(a=>{const l=this.Gt.ue(),f=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.vt(f)||(this.Yt(e,a,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((a,l)=>{const f=this.se(l);if(f){if(a.current&&hC(f.target)){const y=new dt(f.target.path);null!==this.jt.get(y)||this.ae(l,y)||this.Yt(l,y,jr.newNoDocument(y,e))}a.Mt&&(t.set(l,a.Ot()),a.Ft())}});let r=wn();this.zt.forEach((a,l)=>{let f=!0;l.forEachWhile(y=>{const w=this.se(y);return!w||"TargetPurposeLimboResolution"===w.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.jt.forEach((a,l)=>l.setReadTime(e));const i=new $b(e,t,this.Wt,this.jt,r);return this.jt=Vs(),this.zt=Jk(),this.Wt=new Rr(fn),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Qk,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ur(fn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ke("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Qk),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Jk(){return new Rr(dt.comparator)}function Xk(){return new Rr(dt.comparator)}const vV={asc:"ASCENDING",desc:"DESCENDING"},bV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wV={and:"AND",or:"OR"};class EV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wx(n,e){return n.useProto3Json||Sb(e)?e:{value:e}}function Cy(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eO(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function IV(n,e){return Cy(n,e.toTimestamp())}function wi(n){return Nt(!!n),Vt.fromTimestamp(function(e){const t=qh(e);return new Yr(t.seconds,t.nanos)}(n))}function Ex(n,e){return(t=n,new Un(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function tO(n){const e=Un.fromString(n);return Nt(uO(e)),e}function zb(n,e){return Ex(n.databaseId,e.path)}function ru(n,e){const t=tO(e);if(t.get(1)!==n.databaseId.projectId)throw new Ue(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ue(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new dt(rO(t))}function Ix(n,e){return Ex(n.databaseId,e)}function nO(n){const e=tO(n);return 4===e.length?Un.emptyPath():rO(e)}function Gb(n){return new Un(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rO(n){return Nt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function iO(n,e,t){return{name:zb(n,e),fields:t.value.mapValue.fields}}function oO(n,e,t){const r=ru(n,e.name),i=wi(e.updateTime),a=e.createTime?wi(e.createTime):Vt.min(),l=new Co({mapValue:{fields:e.fields}}),f=jr.newFoundDocument(r,i,a,l);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function Wb(n,e){let t;if(e instanceof Ey)t={update:iO(n,e.key,e.value)};else if(e instanceof Iy)t={delete:zb(n,e.key)};else if(e instanceof gd)t={update:iO(n,e.key,e.data),updateMask:RV(e.fieldMask)};else{if(!(e instanceof mx))return Dt();t={verify:zb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof by)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Kp)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Zp)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof wy)return{fieldPath:a.field.canonicalString(),increment:l.gt};throw Dt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:IV(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Dt()),t;var i}function Cx(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Qr.updateTime(wi(i.updateTime)):void 0!==i.exists?Qr.exists(i.exists):Qr.none():Qr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,l){let f=null;"setToServerValue"in l?(Nt("REQUEST_TIME"===l.setToServerValue),f=new by):"appendMissingElements"in l?f=new Kp(l.appendMissingElements.values||[]):"removeAllFromArray"in l?f=new Zp(l.removeAllFromArray.values||[]):"increment"in l?f=new wy(a,l.increment):Dt();const y=hi.fromServerFormat(l.fieldPath);return new Bb(y,f)}(n,i)):[];var i;if(e.update){const i=ru(n,e.update.name),a=new Co({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Ls((e.updateMask.fieldPaths||[]).map(w=>hi.fromServerFormat(w)));return new gd(i,a,l,t,r)}return new Ey(i,a,t,r)}if(e.delete){const i=ru(n,e.delete);return new Iy(i,t)}if(e.verify){const i=ru(n,e.verify);return new mx(i,t)}return Dt()}function sO(n,e){return{documents:[Ix(n,e.path)]}}function Dx(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Ix(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ix(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0!==y.length)return lO(fr.create(y,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(y){if(0!==y.length)return y.map(w=>{return{field:Xh((x=w).field),direction:SV(x.dir)};var x})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const l=wx(n,e.limit);var f,y;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function aO(n){let e=nO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Nt(1===r);const x=t.from[0];x.allDescendants?i=x.collectionId:e=e.child(x.collectionId)}let a=[];t.where&&(a=function(x){const O=cO(x);return O instanceof fr&&ax(O)?O.getFilters():[O]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(x=>{return new yy(Dy((O=x).field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let f=null;t.limit&&(f=function(x){let O;return O="object"==typeof x?x.value:x,Sb(O)?null:O}(t.limit));let y=null;var x;t.startAt&&(y=new Jh((x=t.startAt).values||[],!!x.before));let w=null;return t.endAt&&(w=function(x){return new Jh(x.values||[],!x.before)}(t.endAt)),Ik(e,i,l,a,f,"F",y,w)}function cO(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Dy(e.unaryFilter.field);return kn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Dy(e.unaryFilter.field);return kn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Dy(e.unaryFilter.field);return kn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Dy(e.unaryFilter.field);return kn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Dt()}}(n):void 0!==n.fieldFilter?kn.create(Dy((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return fr.create(e.compositeFilter.filters.map(t=>cO(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Dt()}}(e.compositeFilter.op))}(n):Dt();var e}function SV(n){return vV[n]}function xV(n){return bV[n]}function MV(n){return wV[n]}function Xh(n){return{fieldPath:n.canonicalString()}}function Dy(n){return hi.fromServerFormat(n.fieldPath)}function lO(n){return n instanceof kn?function(e){if("=="===e.op){if(ak(e.value))return{unaryFilter:{field:Xh(e.field),op:"IS_NAN"}};if(sk(e.value))return{unaryFilter:{field:Xh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ak(e.value))return{unaryFilter:{field:Xh(e.field),op:"IS_NOT_NAN"}};if(sk(e.value))return{unaryFilter:{field:Xh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xh(e.field),op:xV(e.op),value:e.value}}}(n):n instanceof fr?function(e){const t=e.getFilters().map(r=>lO(r));return 1===t.length?t[0]:{compositeFilter:{op:MV(e.op),filters:t}}}(n):Dt()}function RV(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function uO(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class yd{constructor(e,t,r,i,a=Vt.min(),l=Vt.min(),f=zi.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=y}withSequenceNumber(e){return new yd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new yd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class dO{constructor(e){this.fe=e}}function hO(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:wC(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:zb(i=n.fe,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Cy(i,a.version.toTimestamp()),createTime:Cy(i,a.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Yp(e.version)};else{if(!e.isUnknownDocument())return Dt();r.unknownDocument={path:t.path.toArray(),version:Yp(e.version)}}var i,a;return r}function wC(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Yp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Qp(n){const e=new Yr(n.seconds,n.nanoseconds);return Vt.fromTimestamp(e)}function Jp(n,e){const t=(e.baseMutations||[]).map(a=>Cx(n.fe,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const r=e.mutations.map(a=>Cx(n.fe,a)),i=Yr.fromMillis(e.localWriteTimeMs);return new gx(e.batchId,i,t,r)}function qb(n){const e=Qp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Qp(n.lastLimboFreeSnapshotVersion):Vt.min();let r;var i;return void 0!==n.query.documents?(Nt(1===(i=n.query).documents.length),r=us(vy(nO(i.documents[0])))):r=us(aO(n.query)),new yd(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,zi.fromBase64String(n.resumeToken))}function fO(n,e){const t=Yp(e.snapshotVersion),r=Yp(e.lastLimboFreeSnapshotVersion);let i;i=hC(e.target)?sO(n.fe,e.target):Dx(n.fe,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Wp(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Tx(n){const e=aO({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?mC(e,e.limit,"L"):e}function Ax(n,e){return new _x(e.largestBatchId,Cx(n.fe,e.overlayMutation))}function pO(n,e){const t=e.path.lastSegment();return[n,zo(e.path.popLast()),t]}function mO(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Yp(r.readTime),documentKey:zo(r.documentKey.path),largestBatchId:r.largestBatchId}}class kV{getBundleMetadata(e,t){return gO(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Qp(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return gO(e).put({bundleId:(r=t).id,createTime:Yp(wi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return yO(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:Tx(i.bundledQuery),readTime:Qp(i.readTime)};var i})}saveNamedQuery(e,t){return yO(e).put({name:(r=t).name,readTime:Yp(wi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function gO(n){return so(n,"bundles")}function yO(n){return so(n,"namedQueries")}class EC{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new EC(e,t.uid||"")}getOverlay(e,t){return Kb(e).get(pO(this.userId,t)).next(r=>r?Ax(this.serializer,r):null)}getOverlays(e,t){const r=nu();return he.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,l)=>{const f=new _x(t,l);i.push(this.we(e,f))}),he.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(zo(l.getCollectionPath())));const a=[];return i.forEach(l=>{const f=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);a.push(Kb(e).J("collectionPathOverlayIndex",f))}),he.waitFor(a)}getOverlaysForCollection(e,t,r){const i=nu(),a=zo(t),l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Kb(e).j("collectionPathOverlayIndex",l).next(f=>{for(const y of f){const w=Ax(this.serializer,y);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=nu();let l;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Kb(e).X({index:"collectionGroupOverlayIndex",range:f},(y,w,x)=>{const O=Ax(this.serializer,w);a.size()<i||O.largestBatchId===l?(a.set(O.getKey(),O),l=O.largestBatchId):x.done()}).next(()=>a)}we(e,t){return Kb(e).put(function(r,i,a){const[l,f,y]=pO(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:y,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Wb(r.fe,a.mutation)}}(this.serializer,this.userId,t))}}function Kb(n){return so(n,"documentOverlays")}class Xp{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(fi(e.integerValue));else if("doubleValue"in e){const r=fi(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),xb(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(fd(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?ck(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Dt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),dt.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function OV(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function _O(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=OV(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}Xp.Ve=new Xp;class NV{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=_O(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=_O(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class FV{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class LV{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Zb{constructor(){this.je=new NV,this.ze=new FV(this.je),this.We=new LV(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class em{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new em(this.indexId,this.documentKey,this.arrayValue,r)}}function ef(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=vO(n.arrayValue,e.arrayValue),0!==t?t:(t=vO(n.directionalValue,e.directionalValue),0!==t?t:dt.comparator(n.documentKey,e.documentKey)))}function vO(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class VV{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){Nt(e.collectionGroup===this.collectionId);const t=XS(e);if(void 0!==t&&!this.en(t))return!1;const r=Hp(e);let i=0,a=0;for(;i<r.length&&this.en(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Ze){const l=r[i];if(!this.nn(this.Ze,l)||!this.sn(this.Ye[a++],l))return!1;++i}for(;i<r.length;++i)if(a>=this.Ye.length||!this.sn(this.Ye[a++],r[i]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function bO(n){var e,t;if(Nt(n instanceof kn||n instanceof fr),n instanceof kn){if(n instanceof bk){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>kn.create(n.field,"==",a)))||[];return fr.create(i,"or")}return n}const r=n.filters.map(i=>bO(i));return fr.create(r,n.op)}function BV(n){if(0===n.getFilters().length)return[];const e=Mx(bO(n));return Nt(wO(e)),Sx(e)||xx(e)?[e]:e.getFilters()}function Sx(n){return n instanceof kn}function xx(n){return n instanceof fr&&ax(n)}function wO(n){return Sx(n)||xx(n)||function(e){if(e instanceof fr&&sx(e)){for(const t of e.getFilters())if(!Sx(t)&&!xx(t))return!1;return!0}return!1}(n)}function Mx(n){if(Nt(n instanceof kn||n instanceof fr),n instanceof kn)return n;if(1===n.filters.length)return Mx(n.filters[0]);const e=n.filters.map(r=>Mx(r));let t=fr.create(e,n.op);return t=IC(t),wO(t)?t:(Nt(t instanceof fr),Nt(_y(t)),Nt(t.filters.length>1),t.filters.reduce((r,i)=>Rx(r,i)))}function Rx(n,e){let t;return Nt(n instanceof kn||n instanceof fr),Nt(e instanceof kn||e instanceof fr),t=n instanceof kn?e instanceof kn?fr.create([n,e],"and"):EO(n,e):e instanceof kn?EO(e,n):function(r,i){if(Nt(r.filters.length>0&&i.filters.length>0),_y(r)&&_y(i))return yk(r,i.getFilters());const a=sx(r)?r:i,l=sx(r)?i:r,f=a.filters.map(y=>Rx(y,l));return fr.create(f,"or")}(n,e),IC(t)}function EO(n,e){if(_y(e))return yk(e,n.getFilters());{const t=e.filters.map(r=>Rx(n,r));return fr.create(t,"or")}}function IC(n){if(Nt(n instanceof kn||n instanceof fr),n instanceof kn)return n;const e=n.getFilters();if(1===e.length)return IC(e[0]);if(mk(n))return n;const t=e.map(i=>IC(i)),r=[];return t.forEach(i=>{i instanceof kn?r.push(i):i instanceof fr&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:fr.create(r,n.op)}class UV{constructor(){this.rn=new Px}addToCollectionParentIndex(e,t){return this.rn.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(ya.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(ya.min())}updateCollectionGroup(e,t,r){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class Px{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ur(Un.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ur(Un.comparator)).toArray()}}const CC=new Uint8Array(0);class jV{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Px,this.un=new md(r=>Wp(r),(r,i)=>Ob(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const a={collectionId:r,parent:zo(i)};return IO(e).put(a)}return he.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[$P(t),""],!1,!0);return IO(e).j(i).next(a=>{for(const l of a){if(l.collectionId!==t)break;r.push(eu(l.parent))}return r})}addFieldIndex(e,t){const r=DC(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var l;delete i.indexId;const a=r.add(i);if(t.indexState){const l=Qb(e);return a.next(f=>{l.put(mO(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=DC(e),i=Qb(e),a=Yb(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Yb(e);let i=!0;const a=new Map;return he.forEach(this.cn(t),l=>this.an(e,l).next(f=>{i&&(i=!!f),a.set(l,f)})).next(()=>{if(i){let l=wn();const f=[];return he.forEach(a,(y,w)=>{var x;Ke("IndexedDbIndexManager",`Using index ${x=y,`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(gt=>`${gt.fieldPath}:${gt.kind}`).join(",")}`} to execute ${Wp(t)}`);const O=function(gt,wt){const tn=XS(wt);if(void 0===tn)return null;for(const pn of fC(gt,tn.fieldPath))switch(pn.op){case"array-contains-any":return pn.value.arrayValue.values||[];case"array-contains":return[pn.value]}return null}(w,y),G=function(gt,wt){const tn=new Map;for(const pn of Hp(wt))for(const qn of fC(gt,pn.fieldPath))switch(qn.op){case"==":case"in":tn.set(pn.fieldPath.canonicalString(),qn.value);break;case"not-in":case"!=":return tn.set(pn.fieldPath.canonicalString(),qn.value),Array.from(tn.values())}return null}(w,y),Q=function(gt,wt){const tn=[];let pn=!0;for(const qn of Hp(wt)){const To=0===qn.kind?wk(gt,qn.fieldPath,gt.startAt):Ek(gt,qn.fieldPath,gt.startAt);tn.push(To.value),pn&&(pn=To.inclusive)}return new Jh(tn,pn)}(w,y),ie=function(gt,wt){const tn=[];let pn=!0;for(const qn of Hp(wt)){const To=0===qn.kind?Ek(gt,qn.fieldPath,gt.endAt):wk(gt,qn.fieldPath,gt.endAt);tn.push(To.value),pn&&(pn=To.inclusive)}return new Jh(tn,pn)}(w,y),ue=this.hn(y,w,Q),Ce=this.hn(y,w,ie),qe=this.ln(y,w,G),at=this.fn(y.indexId,O,ue,Q.inclusive,Ce,ie.inclusive,qe);return he.forEach(at,gt=>r.H(gt,t.limit).next(wt=>{wt.forEach(tn=>{const pn=dt.fromSegments(tn.documentKey);l.has(pn)||(l=l.add(pn),f.push(pn))})}))}).next(()=>f)}return he.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:BV(fr.create(e.filters,"and")).map(r=>lx(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,a,l,f){const y=(null!=t?t.length:1)*Math.max(r.length,a.length),w=y/(null!=t?t.length:1),x=[];for(let O=0;O<y;++O){const G=t?this.dn(t[O/w]):CC,Q=this.wn(e,G,r[O%w],i),ie=this._n(e,G,a[O%w],l),ue=f.map(Ce=>this.wn(e,G,Ce,!0));x.push(...this.createRange(Q,ie,ue))}return x}wn(e,t,r,i){const a=new em(e,dt.empty(),t,r);return i?a:a.Je()}_n(e,t,r,i){const a=new em(e,dt.empty(),t,r);return i?a.Je():a}an(e,t){const r=new VV(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let l=null;for(const f of a)r.tn(f)&&(!l||f.fields.length>l.fields.length)&&(l=f);return l})}getIndexType(e,t){let r=2;const i=this.cn(t);return he.forEach(i,a=>this.an(e,a).next(l=>{l?0!==r&&l.fields.length<function(f){let y=new Ur(hi.comparator),w=!1;for(const x of f.filters)for(const O of x.getFlattenedFilters())O.field.isKeyField()||("array-contains"===O.op||"array-contains-any"===O.op?w=!0:y=y.add(O.field));for(const x of f.orderBy)x.field.isKeyField()||(y=y.add(x.field));return y.size+(w?1:0)}(a)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}mn(e,t){const r=new Zb;for(const i of Hp(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const l=r.He(i.kind);Xp.Ve._e(a,l)}return r.Qe()}dn(e){const t=new Zb;return Xp.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new Zb;return Xp.Ve._e(Gp(this.databaseId,t),r.He(function(i){const a=Hp(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let i=[];i.push(new Zb);let a=0;for(const l of Hp(e)){const f=r[a++];for(const y of i)if(this.yn(t,l.fieldPath)&&Pb(f))i=this.pn(i,l,f);else{const w=y.He(l.kind);Xp.Ve._e(f,w)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],a=[];for(const l of r.arrayValue.values||[])for(const f of i){const y=new Zb;y.seed(f.Qe()),Xp.Ve._e(l,y.He(t.kind)),a.push(y)}return a}yn(e,t){return!!e.filters.find(r=>r instanceof kn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=DC(e),i=Qb(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(a=>{const l=[];return he.forEach(a,f=>i.get([f.indexId,this.uid]).next(y=>{l.push(function(w,x){const O=x?new Tb(x.sequenceNumber,new ya(Qp(x.readTime),new dt(eu(x.documentKey)),x.largestBatchId)):Tb.empty(),G=w.fields.map(([Q,ie])=>new rC(hi.fromServerFormat(Q),ie));return new nC(w.indexId,w.collectionGroup,G,O)}(f,y))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:fn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=DC(e),a=Qb(e);return this.Tn(e).next(l=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>he.forEach(f,y=>a.put(mO(y.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return he.forEach(t,(i,a)=>{const l=r.get(i.collectionGroup);return(l?he.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),he.forEach(f,y=>this.En(e,i,y).next(w=>{const x=this.An(a,y);return w.isEqual(x)?he.resolve():this.vn(e,a,y,w,x)}))))})}Rn(e,t,r,i){return Yb(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return Yb(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=Yb(e);let a=new Ur(ef);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(l,f)=>{a=a.add(new em(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}An(e,t){let r=new Ur(ef);const i=this.mn(t,e);if(null==i)return r;const a=XS(t);if(null!=a){const l=e.data.field(a.fieldPath);if(Pb(l))for(const f of l.arrayValue.values||[])r=r.add(new em(t.indexId,e.key,this.dn(f),i))}else r=r.add(new em(t.indexId,e.key,CC,i));return r}vn(e,t,r,i,a){Ke("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(f,y,w,x,O){const G=f.getIterator(),Q=y.getIterator();let ie=my(G),ue=my(Q);for(;ie||ue;){let Ce=!1,qe=!1;if(ie&&ue){const at=w(ie,ue);at<0?qe=!0:at>0&&(Ce=!0)}else null!=ie?qe=!0:Ce=!0;Ce?(x(ue),ue=my(Q)):qe?(O(ie),ie=my(G)):(ie=my(G),ue=my(Q))}}(i,a,ef,f=>{l.push(this.Rn(e,t,r,f))},f=>{l.push(this.Pn(e,t,r,f))}),he.waitFor(l)}Tn(e){let t=1;return Qb(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,f)=>ef(l,f)).filter((l,f,y)=>!f||0!==ef(l,y[f-1]));const i=[];i.push(e);for(const l of r){const f=ef(l,e),y=ef(l,t);if(0===f)i[0]=e.Je();else if(f>0&&y<0)i.push(l),i.push(l.Je());else if(y>0)break}i.push(t);const a=[];for(let l=0;l<i.length;l+=2){if(this.bn(i[l],i[l+1]))return[];a.push(IDBKeyRange.bound([i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,CC,[]],[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,CC,[]]))}return a}bn(e,t){return ef(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(CO)}getMinOffset(e,t){return he.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||Dt())).next(CO)}}function IO(n){return so(n,"collectionParents")}function Yb(n){return so(n,"indexEntries")}function DC(n){return so(n,"indexConfiguration")}function Qb(n){return so(n,"indexState")}function CO(n){Nt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;ex(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new ya(e.readTime,e.documentKey,t)}const DO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Go{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Go(e,Go.DEFAULT_COLLECTION_PERCENTILE,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function TO(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],l=IDBKeyRange.only(t.batchId);let f=0;const y=r.X({range:l},(x,O,G)=>(f++,G.delete()));a.push(y.next(()=>{Nt(1===f)}));const w=[];for(const x of t.mutations){const O=QP(e,x.key.path,t.batchId);a.push(i.delete(O)),w.push(x.key)}return he.waitFor(a).next(()=>w)}function TC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Dt();e=n.noDocument}return JSON.stringify(e).length}Go.DEFAULT_COLLECTION_PERCENTILE=10,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Go.DEFAULT=new Go(41943040,Go.DEFAULT_COLLECTION_PERCENTILE,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Go.DISABLED=new Go(-1,0,0);class AC{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){Nt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new AC(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return tf(e).X({index:"userMutationsIndex",range:r},(i,a,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=Ty(e),l=tf(e);return l.add({}).next(f=>{Nt("number"==typeof f);const y=new gx(f,t,r,i),w=function(G,Q,ie){const ue=ie.baseMutations.map(qe=>Wb(G.fe,qe)),Ce=ie.mutations.map(qe=>Wb(G.fe,qe));return{userId:Q,batchId:ie.batchId,localWriteTimeMs:ie.localWriteTime.toMillis(),baseMutations:ue,mutations:Ce}}(this.serializer,this.userId,y),x=[];let O=new Ur((G,Q)=>fn(G.canonicalString(),Q.canonicalString()));for(const G of i){const Q=QP(this.userId,G.key.path,f);O=O.add(G.key.path.popLast()),x.push(l.put(w)),x.push(a.put(Q,S2))}return O.forEach(G=>{x.push(this.indexManager.addToCollectionParentIndex(e,G))}),e.addOnCommittedListener(()=>{this.Vn[f]=y.keys()}),he.waitFor(x).next(()=>y)})}lookupMutationBatch(e,t){return tf(e).get(t).next(r=>r?(Nt(r.userId===this.userId),Jp(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?he.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return tf(e).X({index:"userMutationsIndex",range:i},(l,f,y)=>{f.userId===this.userId&&(Nt(f.batchId>=r),a=Jp(this.serializer,f)),y.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return tf(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,a,l)=>{r=a.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return tf(e).j("userMutationsIndex",t).next(r=>r.map(i=>Jp(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=oC(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Ty(e).X({range:i},(l,f,y)=>{const[w,x,O]=l,G=eu(x);if(w===this.userId&&t.path.isEqual(G))return tf(e).get(O).next(Q=>{if(!Q)throw Dt();Nt(Q.userId===this.userId),a.push(Jp(this.serializer,Q))});y.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ur(fn);const i=[];return t.forEach(a=>{const l=oC(this.userId,a.path),f=IDBKeyRange.lowerBound(l),y=Ty(e).X({range:f},(w,x,O)=>{const[G,Q,ie]=w,ue=eu(Q);G===this.userId&&a.path.isEqual(ue)?r=r.add(ie):O.done()});i.push(y)}),he.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=oC(this.userId,r),l=IDBKeyRange.lowerBound(a);let f=new Ur(fn);return Ty(e).X({range:l},(y,w,x)=>{const[O,G,Q]=y,ie=eu(G);O===this.userId&&r.isPrefixOf(ie)?ie.length===i&&(f=f.add(Q)):x.done()}).next(()=>this.Dn(e,f))}Dn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(tf(e).get(a).next(l=>{if(null===l)throw Dt();Nt(l.userId===this.userId),r.push(Jp(this.serializer,l))}))}),he.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return TO(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),he.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return he.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Ty(e).X({range:r},(a,l,f)=>{if(a[0]===this.userId){const y=eu(a[1]);i.push(y)}else f.done()}).next(()=>{Nt(0===i.length)})})}containsKey(e,t){return AO(e,this.userId,t)}xn(e){return SO(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function AO(n,e,t){const r=oC(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let l=!1;return Ty(n).X({range:a,Y:!0},(f,y,w)=>{const[x,O,G]=f;x===e&&O===i&&(l=!0),w.done()}).next(()=>l)}function tf(n){return so(n,"mutations")}function Ty(n){return so(n,"documentMutations")}function SO(n){return so(n,"mutationQueues")}class tm{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new tm(0)}static Mn(){return new tm(-1)}}class $V{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new tm(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Vt.fromTimestamp(new Yr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ay(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(Nt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return Ay(e).X((l,f)=>{const y=qb(f);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,a.push(this.removeTargetData(e,y)))}).next(()=>he.waitFor(a)).next(()=>i)}forEachTarget(e,t){return Ay(e).X((r,i)=>{const a=qb(i);t(a)})}$n(e){return xO(e).get("targetGlobalKey").next(t=>(Nt(null!==t),t))}On(e,t){return xO(e).put("targetGlobalKey",t)}Fn(e,t){return Ay(e).put(fO(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Wp(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Ay(e).X({range:i,index:"queryTargetsIndex"},(l,f,y)=>{const w=qb(f);Ob(t,w.target)&&(a=w,y.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=nf(e);return t.forEach(l=>{const f=zo(l.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,l))}),he.waitFor(i)}removeMatchingKeys(e,t,r){const i=nf(e);return he.forEach(t,a=>{const l=zo(a.path);return he.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=nf(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=nf(e);let a=wn();return i.X({range:r,Y:!0},(l,f,y)=>{const w=eu(l[1]),x=new dt(w);a=a.add(x)}).next(()=>a)}containsKey(e,t){const r=zo(t.path),i=IDBKeyRange.bound([r],[$P(r)],!1,!0);let a=0;return nf(e).X({index:"documentTargetsIndex",Y:!0,range:i},([l,f],y,w)=>{0!==l&&(a++,w.done())}).next(()=>a>0)}le(e,t){return Ay(e).get(t).next(r=>r?qb(r):null)}}function Ay(n){return so(n,"targets")}function xO(n){return so(n,"targetGlobal")}function nf(n){return so(n,"targetDocuments")}function MO([n,e],[t,r]){const i=fn(n,t);return 0===i?fn(e,r):i}class HV{constructor(e){this.Ln=e,this.buffer=new Ur(MO),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();MO(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class RO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Ke("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Re.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Gh(r)?Ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield zh(r)}yield t.Qn(3e5)}))}}class zV{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return he.resolve(_a.ct);const r=new HV(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(DO)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DO):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,a,l,f,y,w;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),i=this.params.maximumSequenceNumbersToCollect):i=O,l=Date.now(),this.nthSequenceNumber(e,i))).next(O=>(r=O,f=Date.now(),this.removeTargets(e,r,t))).next(O=>(a=O,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(O=>(w=Date.now(),QS()<=Yl.in.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-x}ms\n\tDetermined least recently used ${i} in `+(f-l)+`ms\n\tRemoved ${a} targets in `+(y-f)+`ms\n\tRemoved ${O} documents in `+(w-y)+`ms\nTotal Duration: ${w-x}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:O})))}}class GV{constructor(e,t){this.db=e,this.garbageCollector=function PO(n,e){return new zV(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return SC(e,r)}removeReference(e,t,r){return SC(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return SC(e,t)}Xn(e,t){return function(r,i){let a=!1;return SO(r).Z(l=>AO(r,l,i).next(f=>(f&&(a=!0),he.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Yn(e,(l,f)=>{if(f<=t){const y=this.Xn(e,l).next(w=>{if(!w)return a++,r.getEntry(e,l).next(()=>(r.removeEntry(l,Vt.min()),nf(e).delete([0,zo(l.path)])))});i.push(y)}}).next(()=>he.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return SC(e,t)}Yn(e,t){const r=nf(e);let i,a=_a.ct;return r.X({index:"documentTargetsIndex"},([l,f],{path:y,sequenceNumber:w})=>{0===l?(a!==_a.ct&&t(new dt(eu(i)),a),a=w,i=y):a=_a.ct}).next(()=>{a!==_a.ct&&t(new dt(eu(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function SC(n,e){return nf(n).put((r=n.currentSequenceNumber,{targetId:0,path:zo(e.path),sequenceNumber:r}));var r}class kO{constructor(){this.changes=new md(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?he.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class WV{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return nm(e).put(r)}removeEntry(e,t,r){return nm(e).delete(function(i,a){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],wC(a),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=jr.newInvalidDocument(t);return nm(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Jb(t))},(i,a)=>{r=this.ts(t,a)}).next(()=>r)}es(e,t){let r={size:0,document:jr.newInvalidDocument(t)};return nm(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Jb(t))},(i,a)=>{r={document:this.ts(t,a),size:TC(a)}}).next(()=>r)}getEntries(e,t){let r=Vs();return this.ns(e,t,(i,a)=>{const l=this.ts(i,a);r=r.insert(i,l)}).next(()=>r)}ss(e,t){let r=Vs(),i=new Rr(dt.comparator);return this.ns(e,t,(a,l)=>{const f=this.ts(a,l);r=r.insert(a,f),i=i.insert(a,TC(l))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return he.resolve();let i=new Ur(LO);t.forEach(y=>i=i.add(y));const a=IDBKeyRange.bound(Jb(i.first()),Jb(i.last())),l=i.getIterator();let f=l.getNext();return nm(e).X({index:"documentKeyIndex",range:a},(y,w,x)=>{const O=dt.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&LO(f,O)<0;)r(f,null),f=l.getNext();f&&f.isEqual(O)&&(r(f,w),f=l.hasNext()?l.getNext():null),f?x.G(Jb(f)):x.done()}).next(()=>{for(;f;)r(f,null),f=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const a=t.path,l=[a.popLast().toArray(),a.lastSegment(),wC(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return nm(e).j(IDBKeyRange.bound(l,f,!0)).next(y=>{let w=Vs();for(const x of y){const O=this.ts(dt.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);O.isFoundDocument()&&(Fb(t,O)||i.has(O.key))&&(w=w.insert(O.key,O))}return w})}getAllFromCollectionGroup(e,t,r,i){let a=Vs();const l=FO(t,r),f=FO(t,ya.max());return nm(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,f,!0)},(y,w,x)=>{const O=this.ts(dt.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(O.key,O),a.size===i&&x.done()}).next(()=>a)}newChangeBuffer(e){return new qV(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return NO(e).get("remoteDocumentGlobalKey").next(t=>(Nt(!!t),t))}Zn(e,t){return NO(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function PV(n,e){let t;if(e.document)t=oO(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=dt.fromSegments(e.noDocument.path),i=Qp(e.noDocument.readTime);t=jr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Dt();{const r=dt.fromSegments(e.unknownDocument.path),i=Qp(e.unknownDocument.version);t=jr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Yr(r[0],r[1]);return Vt.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Vt.min()))return r}return jr.newInvalidDocument(e)}}function OO(n){return new WV(n)}class qV extends kO{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new md(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Ur((a,l)=>fn(a.canonicalString(),l.canonicalString()));return this.changes.forEach((a,l)=>{const f=this.us.get(a);if(t.push(this.os.removeEntry(e,a,f.readTime)),l.isValidDocument()){const y=hO(this.os.serializer,l);i=i.add(a.path.popLast());const w=TC(y);r+=w-f.size,t.push(this.os.addEntry(e,a,y))}else if(r-=f.size,this.trackRemovals){const y=hO(this.os.serializer,l.convertToNoDocument(Vt.min()));t.push(this.os.addEntry(e,a,y))}}),i.forEach(a=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.os.updateMetadata(e,r)),he.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((a,l)=>{this.us.set(a,{size:l,readTime:r.get(a).readTime})}),r))}}function NO(n){return so(n,"remoteDocumentGlobal")}function nm(n){return so(n,"remoteDocumentsV14")}function Jb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function FO(n,e){const t=e.documentKey.path.toArray();return[n,wC(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function LO(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=fn(t[a],r[a]),i)return i;return i=fn(t.length,r.length),i||(i=fn(t[t.length-2],r[r.length-2]),i||fn(t[t.length-1],r[r.length-1]))}class KV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class VO{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Ub(r.mutation,i,Ls.empty(),Yr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,wn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=wn()){const i=nu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=Lb();return a.forEach((f,y)=>{l=l.insert(f,y.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=nu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,wn()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,f)=>{t.set(l,f)})})}computeViews(e,t,r,i){let a=Vs();const l=Vb(),f=Vb();return t.forEach((y,w)=>{const x=r.get(w.key);i.has(w.key)&&(void 0===x||x.mutation instanceof gd)?a=a.insert(w.key,w):void 0!==x?(l.set(w.key,x.mutation.getFieldMask()),Ub(x.mutation,w,x.mutation.getFieldMask(),Yr.now())):l.set(w.key,Ls.empty())}),this.recalculateAndSaveOverlays(e,a).next(y=>(y.forEach((w,x)=>l.set(w,x)),t.forEach((w,x)=>{var O;return f.set(w,new KV(x,null!==(O=l.get(w))&&void 0!==O?O:null))}),f))}recalculateAndSaveOverlays(e,t){const r=Vb();let i=new Rr((l,f)=>l-f),a=wn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const f of l)f.keys().forEach(y=>{const w=t.get(y);if(null===w)return;let x=r.get(y)||Ls.empty();x=f.applyToLocalView(w,x),r.set(y,x);const O=(i.get(f.batchId)||wn()).add(y);i=i.insert(f.batchId,O)})}).next(()=>{const l=[],f=i.getReverseIterator();for(;f.hasNext();){const y=f.getNext(),w=y.key,x=y.value,O=Mk();x.forEach(G=>{if(!a.has(G)){const Q=Bk(t.get(G),r.get(G));null!==Q&&O.set(G,Q),a=a.add(G)}}),l.push(this.documentOverlayCache.saveOverlays(e,w,O))}return he.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return dt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):dx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):he.resolve(nu());let f=-1,y=a;return l.next(w=>he.forEach(w,(x,O)=>(f<O.largestBatchId&&(f=O.largestBatchId),a.get(x)?he.resolve():this.remoteDocumentCache.getEntry(e,x).next(G=>{y=y.insert(x,G)}))).next(()=>this.populateOverlays(e,w,a)).next(()=>this.computeViews(e,y,w,wn())).next(x=>({batchId:f,changes:xk(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new dt(t)).next(r=>{let i=Lb();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=Lb();return this.indexManager.getCollectionParents(e,i).next(l=>he.forEach(l,f=>{const y=(w=t,x=f.child(i),new pd(x,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,x;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(w=>{w.forEach((x,O)=>{a=a.insert(x,O)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((f,y)=>{const w=y.getKey();null===a.get(w)&&(a=a.insert(w,jr.newInvalidDocument(w)))});let l=Lb();return a.forEach((f,y)=>{const w=i.get(f);void 0!==w&&Ub(w.mutation,y,Ls.empty(),Yr.now()),Fb(t,y)&&(l=l.insert(f,y))}),l})}}class ZV{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return he.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:wi(r.createTime)}),he.resolve()}getNamedQuery(e,t){return he.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:Tx(r.bundledQuery),readTime:wi(r.readTime)}),he.resolve();var r}}class YV{constructor(){this.overlays=new Rr(dt.comparator),this.ls=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const r=nu();return he.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.we(e,t,a)}),he.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),he.resolve()}getOverlaysForCollection(e,t,r){const i=nu(),a=t.length+1,l=new dt(t.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const y=f.getNext().value,w=y.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&y.largestBatchId>r&&i.set(y.getKey(),y)}return he.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Rr((w,x)=>w-x);const l=this.overlays.getIterator();for(;l.hasNext();){const w=l.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let x=a.get(w.largestBatchId);null===x&&(x=nu(),a=a.insert(w.largestBatchId,x)),x.set(w.getKey(),w)}}const f=nu(),y=a.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((w,x)=>f.set(w,x)),!(f.size()>=i)););return he.resolve(f)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new _x(t,r));let a=this.ls.get(t);void 0===a&&(a=wn(),this.ls.set(t,a)),this.ls.set(t,a.add(r.key))}}class kx{constructor(){this.fs=new Ur(ao.ds),this.ws=new Ur(ao._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new ao(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new ao(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new dt(new Un([])),r=new ao(t,e),i=new ao(t,e+1),a=[];return this.ws.forEachInRange([r,i],l=>{this.ys(l),a.push(l.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new dt(new Un([])),r=new ao(t,e),i=new ao(t,e+1);let a=wn();return this.ws.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new ao(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ao{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return dt.comparator(e.key,t.key)||fn(e.As,t.As)}static _s(e,t){return fn(e.As,t.As)||dt.comparator(e.key,t.key)}}class QV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ur(ao.ds)}checkEmpty(e){return he.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.vs;this.vs++;const l=new gx(a,t,r,i);this.mutationQueue.push(l);for(const f of i)this.Rs=this.Rs.add(new ao(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return he.resolve(l)}lookupMutationBatch(e,t){return he.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),a=i<0?0:i;return he.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ao(t,0),i=new ao(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],l=>{const f=this.Ps(l.As);a.push(f)}),he.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ur(fn);return t.forEach(i=>{const a=new ao(i,0),l=new ao(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,l],f=>{r=r.add(f.As)})}),he.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;dt.isDocumentKey(a)||(a=a.child(""));const l=new ao(new dt(a),0);let f=new Ur(fn);return this.Rs.forEachWhile(y=>{const w=y.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(y.As)),!0)},l),he.resolve(this.Vs(f))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Nt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return he.forEach(t.mutations,i=>{const a=new ao(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new ao(t,0),i=this.Rs.firstAfterOrEqual(r);return he.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return he.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class JV{constructor(e){this.Ds=e,this.docs=new Rr(dt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return he.resolve(r?r.document.mutableCopy():jr.newInvalidDocument(t))}getEntries(e,t){let r=Vs();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():jr.newInvalidDocument(i))}),he.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Vs();const l=t.path,f=new dt(l.child("")),y=this.docs.getIteratorFrom(f);for(;y.hasNext();){const{key:w,value:{document:x}}=y.getNext();if(!l.isPrefixOf(w.path))break;w.path.length>l.length+1||ex(zP(x),r)<=0||(i.has(x.key)||Fb(t,x))&&(a=a.insert(x.key,x.mutableCopy()))}return he.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Dt()}Cs(e,t){return he.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new XV(this)}getSize(e){return he.resolve(this.size)}}class XV extends kO{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),he.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class eB{constructor(e){this.persistence=e,this.xs=new md(t=>Wp(t),Ob),this.lastRemoteSnapshotVersion=Vt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new kx,this.targetCount=0,this.Ms=tm.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),he.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new tm(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.Fn(t),he.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.xs.forEach((l,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.xs.delete(l),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),he.waitFor(a).next(()=>i)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return he.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),he.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),he.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),he.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return he.resolve(r)}containsKey(e,t){return he.resolve(this.ks.containsKey(t))}}class Ox{constructor(e,t){this.$s={},this.overlays={},this.Os=new _a(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new eB(this),this.indexManager=new UV,this.remoteDocumentCache=new JV(r=>this.referenceDelegate.Ls(r)),this.serializer=new dO(t),this.qs=new ZV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new YV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new QV(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Ke("MemoryPersistence","Starting transaction:",e);const i=new tB(this.Os.next());return this.referenceDelegate.Us(),r(i).next(a=>this.referenceDelegate.Ks(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Gs(e,t){return he.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class tB extends WP{constructor(e){super(),this.currentSequenceNumber=e}}class xC{constructor(e){this.persistence=e,this.Qs=new kx,this.js=null}static zs(e){return new xC(e)}get Ws(){if(this.js)return this.js;throw Dt()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),he.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),he.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.Ws,r=>{const i=dt.fromPath(r);return this.Hs(e,i).next(a=>{a||t.removeEntry(i,Vt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return he.or([()=>he.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class nB{constructor(e){this.serializer=e}O(e,t,r,i){const a=new iC("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",YP,{unique:!0}),f.createObjectStore("documentMutations"),BO(e),function(f){f.createObjectStore("remoteDocuments")}(e));let l=he.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),BO(e)),l=l.next(()=>function(f){const y=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Vt.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",w)}(a))),r<4&&i>=4&&(0!==r&&(l=l.next(()=>function(f,y){return y.store("mutations").j().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",YP,{unique:!0});const x=y.store("mutations"),O=w.map(G=>x.put(G));return he.waitFor(O)})}(e,a))),l=l.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(l=l.next(()=>this.Ys(a))),r<6&&i>=6&&(l=l.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(a)))),r<7&&i>=7&&(l=l.next(()=>this.Zs(a))),r<8&&i>=8&&(l=l.next(()=>this.ti(e,a))),r<9&&i>=9&&(l=l.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(l=l.next(()=>this.ei(a))),r<11&&i>=11&&(l=l.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(l=l.next(()=>{!function(f){const y=f.createObjectStore("documentOverlays",{keyPath:U2});y.createIndex("collectionPathOverlayIndex",j2,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",$2,{unique:!1})}(e)})),r<13&&i>=13&&(l=l.next(()=>function(f){const y=f.createObjectStore("remoteDocumentsV14",{keyPath:x2});y.createIndex("documentKeyIndex",M2),y.createIndex("collectionGroupIndex",R2)}(e)).next(()=>this.ni(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(l=l.next(()=>this.si(e,a))),r<15&&i>=15&&(l=l.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:F2}).createIndex("sequenceNumberIndex",L2,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:V2}).createIndex("documentKeyIndex",B2,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=TC(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>he.forEach(i,a=>{const l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(f=>he.forEach(f,y=>{Nt(y.userId===a.userId);const w=Jp(this.serializer,y);return TO(e,a.userId,w).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.X((l,f)=>{const y=new Un(l),w=[0,zo(y)];a.push(t.get(w).next(x=>x?he.resolve():t.put({targetId:0,path:zo(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>he.waitFor(a))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:N2});const r=t.store("collectionParents"),i=new Px,a=l=>{if(i.add(l)){const f=l.lastSegment(),y=l.popLast();return r.put({collectionId:f,parent:zo(y)})}};return t.store("remoteDocuments").X({Y:!0},(l,f)=>{const y=new Un(l);return a(y.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,f,y],w)=>{const x=eu(f);return a(x.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const a=qb(i),l=fO(this.serializer,a);return t.put(l)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((a,l)=>{const f=t.store("remoteDocumentsV14"),y=(w=l,w.document?new dt(Un.fromString(w.document.name).popFirst(5)):w.noDocument?dt.fromSegments(w.noDocument.path):w.unknownDocument?dt.fromSegments(w.unknownDocument.path):Dt()).path.toArray();var w;const x={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(f.put(x))}).next(()=>he.waitFor(i))}si(e,t){const r=t.store("mutations"),i=OO(this.serializer),a=new Ox(xC.zs,this.serializer.fe);return r.j().next(l=>{const f=new Map;return l.forEach(y=>{var w;let x=null!==(w=f.get(y.userId))&&void 0!==w?w:wn();Jp(this.serializer,y).keys().forEach(O=>x=x.add(O)),f.set(y.userId,x)}),he.forEach(f,(y,w)=>{const x=new oo(w),O=EC.de(this.serializer,x),G=a.getIndexManager(x),Q=AC.de(x,this.serializer,G,a.referenceDelegate);return new VO(i,Q,O,G).recalculateAndSaveOverlaysForDocumentKeys(new rx(t,_a.ct),y).next()})})}}function BO(n){n.createObjectStore("targetDocuments",{keyPath:k2}).createIndex("documentTargetsIndex",O2,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",P2,{unique:!0}),n.createObjectStore("targetGlobal")}const Nx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Fx{constructor(e,t,r,i,a,l,f,y,w,x,O=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=a,this.window=l,this.document=f,this.ri=w,this.oi=x,this.ui=O,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=G=>Promise.resolve(),!Fx.D())throw new Ue(ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new GV(this,i),this.di=t+"main",this.serializer=new dO(y),this.wi=new Zc(this.di,this.ui,new nB(this.serializer)),this.Bs=new $V(this.referenceDelegate,this.serializer),this.remoteDocumentCache=OO(this.serializer),this.qs=new kV,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===x&&bi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ue(ye.FAILED_PRECONDITION,Nx);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new _a(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,Re.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Re.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Re.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>RC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Gh(e))return Ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Xb(e).get("owner").next(t=>he.resolve(this.Ri(t)))}Pi(e){return RC(e).delete(this.clientId)}bi(){var e=this;return(0,Re.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=so(r,"clientMetadata");return i.j().next(a=>{const l=e.Si(a,18e5),f=a.filter(y=>-1===l.indexOf(y));return he.forEach(f,y=>i.delete(y.clientId)).next(()=>f)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?he.resolve(!0):Xb(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Ue(ye.FAILED_PRECONDITION,Nx);return!1}}return!(!this.networkEnabled||!this.inForeground)||RC(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ke("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Re.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new rx(t,_a.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>RC(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return AC.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new jV(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return EC.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){Ke("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(l=this.ui)?z2:14===l?ek:13===l?XP:12===l?H2:11===l?JP:void Dt();var l;let f;return this.wi.runTransaction(e,i,a,y=>(f=new rx(y,this.Os?this.Os.next():_a.ct),"readwrite-primary"===t?this.Ti(f).next(w=>!!w||this.Ei(f)).next(w=>{if(!w)throw bi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Ue(ye.FAILED_PRECONDITION,GP);return r(f)}).next(w=>this.vi(f).next(()=>w)):this.Oi(f).next(()=>r(f)))).then(y=>(f.raiseOnCommittedEvent(),y))}Oi(e){return Xb(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ue(ye.FAILED_PRECONDITION,Nx)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Xb(e).put("owner",t)}static D(){return Zc.D()}Ai(e){const t=Xb(e);return t.get("owner").next(r=>this.Ri(r)?(Ke("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):he.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(bi(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Bn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Ke("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return bi("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){bi("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Xb(n){return so(n,"owner")}function RC(n){return so(n,"clientMetadata")}function Lx(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Vx{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=wn(),i=wn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Vx(e,t.fromCache,r,i)}}class UO{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(a=>a||this.Gi(e,t,i,r)).next(a=>a||this.Qi(e,t))}Ki(e,t){if(Ck(t))return he.resolve(null);let r=us(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=mC(t,null,"F"),r=us(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=wn(...a);return this.Ui.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,r).next(y=>{const w=this.ji(t,f);return this.zi(t,w,l,y.readTime)?this.Ki(e,mC(t,null,"F")):this.Wi(e,w,t,y)}))})))}Gi(e,t,r,i){return Ck(t)||i.isEqual(Vt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(a=>{const l=this.ji(t,a);return this.zi(t,l,r,i)?this.Qi(e,t):(QS()<=Yl.in.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fx(t)),this.Wi(e,l,t,HP(i,-1)))})}ji(e,t){let r=new Ur(Ak(e));return t.forEach((i,a)=>{Fb(e,a)&&(r=r.add(a))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Qi(e,t){return QS()<=Yl.in.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",fx(t)),this.Ui.getDocumentsMatchingQuery(e,t,ya.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}class rB{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Rr(fn),this.Yi=new md(a=>Wp(a),Ob),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VO(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function jO(n,e,t,r){return new rB(n,e,t,r)}function $O(n,e){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,Re.Z)(function*(n,e){const t=pt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],f=[];let y=wn();for(const w of i){l.push(w.batchId);for(const x of w.mutations)y=y.add(x.key)}for(const w of a){f.push(w.batchId);for(const x of w.mutations)y=y.add(x.key)}return t.localDocuments.getDocuments(r,y).next(w=>({er:w,removedBatchIds:l,addedBatchIds:f}))})})}),Bx.apply(this,arguments)}function HO(n){const e=pt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function zO(n,e,t){let r=wn(),i=wn();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=Vs();return t.forEach((f,y)=>{const w=a.get(f);y.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(f)),y.isNoDocument()&&y.version.isEqual(Vt.min())?(e.removeEntry(f,y.readTime),l=l.insert(f,y)):!w.isValidDocument()||y.version.compareTo(w.version)>0||0===y.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(y),l=l.insert(f,y)):Ke("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",y.version)}),{nr:l,sr:i}})}function sB(n,e){const t=pt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Sy(n,e){const t=pt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(a=>a?(i=a,he.resolve(i)):t.Bs.allocateTargetId(r).next(l=>(i=new yd(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function xy(n,e,t){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,Re.Z)(function*(n,e,t){const r=pt(n),i=r.Ji.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Gh(l))throw l;Ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),Ux.apply(this,arguments)}function PC(n,e,t){const r=pt(n);let i=Vt.min(),a=wn();return r.persistence.runTransaction("Execute query","readonly",l=>function(f,y,w){const x=pt(f),O=x.Yi.get(w);return void 0!==O?he.resolve(x.Ji.get(O)):x.Bs.getTargetData(y,w)}(r,l,us(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,f.targetId).next(y=>{a=y})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?i:Vt.min(),t?a:wn())).next(f=>(qO(r,Tk(e),f),{documents:f,ir:a})))}function GO(n,e){const t=pt(n),r=pt(t.Bs),i=t.Ji.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.le(a,e).next(l=>l?l.target:null))}function WO(n,e){const t=pt(n),r=t.Xi.get(e)||Vt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Zi.getAllFromCollectionGroup(i,e,HP(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(qO(t,e,i),i))}function qO(n,e,t){let r=n.Xi.get(e)||Vt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Xi.set(e,r)}function jx(){return jx=(0,Re.Z)(function*(n,e,t,r){const i=pt(n);let a=wn(),l=Vs();for(const w of t){const x=e.rr(w.metadata.name);w.document&&(a=a.add(x));const O=e.ur(w);O.setReadTime(e.cr(w.metadata.readTime)),l=l.insert(x,O)}const f=i.Zi.newChangeBuffer({trackRemovals:!0}),y=yield Sy(i,(w=r,us(vy(Un.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>zO(w,f,l).next(x=>(f.apply(w),x)).next(x=>i.Bs.removeMatchingKeysForTargetId(w,y.targetId).next(()=>i.Bs.addMatchingKeys(w,a,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,x.nr,x.sr)).next(()=>x.nr)))}),jx.apply(this,arguments)}function cB(n,e){return $x.apply(this,arguments)}function $x(){return $x=(0,Re.Z)(function*(n,e,t=wn()){const r=yield Sy(n,us(Tx(e.bundledQuery))),i=pt(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const l=wi(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.qs.saveNamedQuery(a,e);const f=r.withResumeToken(zi.EMPTY_BYTE_STRING,l);return i.Ji=i.Ji.insert(f.targetId,f),i.Bs.updateTargetData(a,f).next(()=>i.Bs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Bs.addMatchingKeys(a,t,r.targetId)).next(()=>i.qs.saveNamedQuery(a,e))})}),$x.apply(this,arguments)}function KO(n,e){return`firestore_clients_${n}_${e}`}function ZO(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Hx(n,e){return`firestore_targets_${n}_${e}`}class kC{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static ar(e,t,r){const i=JSON.parse(r);let a,l="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(a=new Ue(i.error.code,i.error.message))),l?new kC(e,t,i.state,a):(bi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class e0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Ue(r.error.code,r.error.message))),a?new e0(e,r.state,i):(bi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class OC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=px();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=KP(r.activeTargetIds[l]),a=a.add(r.activeTargetIds[l]);return i?new OC(e,a):(bi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class zx{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new zx(t.clientId,t.onlineState):(bi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Gx{constructor(){this.activeTargetIds=px()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wx{constructor(e,t,r,i,a){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Rr(fn),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=KO(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Gx),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Re.Z)(function*(){const t=yield e.syncEngine.$i();for(const i of t){if(i===e.wr)continue;const a=e.getItem(KO(e.persistenceKey,i));if(a){const l=OC.ar(i,a);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const i=e.br(r);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Hx(this.persistenceKey,e));if(r){const i=e0.ar(e,r);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Hx(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ke("SharedClientState","READ",e,t),t}setItem(e,t){Ke("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ke("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void bi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Re.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.Fr(i,null)}{const i=t.Br(r.key,r.newValue);if(i)return t.Fr(i.clientId,i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.Lr(r.key,r.newValue);if(i)return t.qr(i)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const i=t.Ur(r.key,r.newValue);if(i)return t.Kr(i)}}else if(r.key===t.vr){if(null!==r.newValue){const i=t.br(r.newValue);if(i)return t.Vr(i)}}else if(r.key===t.Ir){const i=function(a){let l=_a.ct;if(null!=a)try{const f=JSON.parse(a);Nt("number"==typeof f),l=f}catch(f){bi("SharedClientState","Failed to read sequence number from WebStorage",f)}return l}(r.newValue);i!==_a.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Gr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Qr(a)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const i=new kC(this.currentUser,e,t,r),a=ZO(this.persistenceKey,this.currentUser,e);this.setItem(a,i.hr())}Cr(e){const t=ZO(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const i=Hx(this.persistenceKey,e),a=new e0(e,t,r);this.setItem(i,a.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return OC.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return kC.ar(new oo(void 0!==r[2]?r[2]:null),i,t)}Ur(e,t){const r=this.Ar.exec(e),i=Number(r[1]);return e0.ar(i,t)}br(e){return zx.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Re.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),l=[],f=[];return a.forEach(y=>{i.has(y)||l.push(y)}),i.forEach(y=>{a.has(y)||f.push(y)}),this.syncEngine.Wr(l,f).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=px();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class YO{constructor(){this.Hr=new Gx,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Gx,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class lB{Yr(e){}shutdown(){}}class QO{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let NC=null;function qx(){return null===NC?NC=268435456+Math.round(2147483648*Math.random()):NC++,"0x"+NC.toString(16)}const uB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dB{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Wo="WebChannelConnection";class hB extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,a){const l=qx(),f=this.To(e,t);Ke("RestConnection",`Sending RPC '${e}' ${l}:`,f,r);const y={};return this.Eo(y,i,a),this.Ao(e,f,y,r).then(w=>(Ke("RestConnection",`Received RPC '${e}' ${l}: `,w),w),w=>{throw ec("RestConnection",`RPC '${e}' ${l} failed with error: `,w,"url: ",f,"request:",r),w})}vo(e,t,r,i,a,l){return this.Io(e,t,r,i,a)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+fy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}To(e,t){return`${this.mo}/v1/${t}:${uB[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const a=qx();return new Promise((l,f)=>{const y=new l2;y.setWithCredentials(!0),y.listenOnce(s2.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case YS.NO_ERROR:const x=y.getResponseJson();Ke(Wo,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(x)),l(x);break;case YS.TIMEOUT:Ke(Wo,`RPC '${e}' ${a} timed out`),f(new Ue(ye.DEADLINE_EXCEEDED,"Request time out"));break;case YS.HTTP_ERROR:const O=y.getStatus();if(Ke(Wo,`RPC '${e}' ${a} failed with status:`,O,"response text:",y.getResponseText()),O>0){let G=y.getResponseJson();Array.isArray(G)&&(G=G[0]);const Q=G?.error;if(Q&&Q.status&&Q.message){const ie=function(ue){const Ce=ue.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(Ce)>=0?Ce:ye.UNKNOWN}(Q.status);f(new Ue(ie,Q.message))}else f(new Ue(ye.UNKNOWN,"Server responded with status "+y.getStatus()))}else f(new Ue(ye.UNAVAILABLE,"Connection failed."));break;default:Dt()}}finally{Ke(Wo,`RPC '${e}' ${a} completed.`)}});const w=JSON.stringify(i);Ke(Wo,`RPC '${e}' ${a} sending request:`,i),y.send(t,"POST",w,r,15)})}Ro(e,t,r){const i=qx(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=r2(),f=o2(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;void 0!==w&&(y.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(y.xmlHttpFactory=new c2({})),this.Eo(y.initMessageHeaders,t,r),y.encodeInitMessageHeaders=!0;const x=a.join("");Ke(Wo,`Creating RPC '${e}' stream ${i}: ${x}`,y);const O=l.createWebChannel(x,y);let G=!1,Q=!1;const ie=new dB({ro:Ce=>{Q?Ke(Wo,`Not sending because RPC '${e}' stream ${i} is closed:`,Ce):(G||(Ke(Wo,`Opening RPC '${e}' stream ${i} transport.`),O.open(),G=!0),Ke(Wo,`RPC '${e}' stream ${i} sending:`,Ce),O.send(Ce))},oo:()=>O.close()}),ue=(Ce,qe,at)=>{Ce.listen(qe,gt=>{try{at(gt)}catch(wt){setTimeout(()=>{throw wt},0)}})};return ue(O,tC.EventType.OPEN,()=>{Q||Ke(Wo,`RPC '${e}' stream ${i} transport opened.`)}),ue(O,tC.EventType.CLOSE,()=>{Q||(Q=!0,Ke(Wo,`RPC '${e}' stream ${i} transport closed`),ie.wo())}),ue(O,tC.EventType.ERROR,Ce=>{Q||(Q=!0,ec(Wo,`RPC '${e}' stream ${i} transport errored:`,Ce),ie.wo(new Ue(ye.UNAVAILABLE,"The operation could not be completed")))}),ue(O,tC.EventType.MESSAGE,Ce=>{var qe;if(!Q){const at=Ce.data[0];Nt(!!at);const wt=at.error||(null===(qe=at[0])||void 0===qe?void 0:qe.error);if(wt){Ke(Wo,`RPC '${e}' stream ${i} received error:`,wt);const tn=wt.status;let pn=function(To){const ic=Bi[To];if(void 0!==ic)return Gk(ic)}(tn),qn=wt.message;void 0===pn&&(pn=ye.INTERNAL,qn="Unknown error status: "+tn+" with message "+wt.message),Q=!0,ie.wo(new Ue(pn,qn)),O.close()}else Ke(Wo,`RPC '${e}' stream ${i} received:`,at),ie._o(at)}}),ue(f,a2.STAT_EVENT,Ce=>{Ce.stat===LP.PROXY?Ke(Wo,`RPC '${e}' stream ${i} detected buffering proxy`):Ce.stat===LP.NOPROXY&&Ke(Wo,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{ie.fo()},0),ie}}function JO(){return typeof window<"u"?window:null}function FC(){return typeof document<"u"?document:null}function t0(n){return new EV(n,!0)}class Kx{constructor(e,t,r=1e3,i=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class XO{constructor(e,t,r,i,a,l,f,y){this.ii=e,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Kx(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Re.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Re.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,Re.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ye.RESOURCE_EXHAUSTED?(bi(t.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ye.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Ue(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,Re.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fB extends XO{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function DV(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:Dt(),i=e.targetChange.targetIds||[],a=function(y,w){return y.useProto3Json?(Nt(void 0===w||"string"==typeof w),zi.fromBase64String(w||"")):(Nt(void 0===w||w instanceof Uint8Array),zi.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(y){const w=void 0===y.code?ye.UNKNOWN:Gk(y.code);return new Ue(w,y.message||"")}(l);t=new Yk(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=ru(n,r.document.name),a=wi(r.document.updateTime),l=r.document.createTime?wi(r.document.createTime):Vt.min(),f=new Co({mapValue:{fields:r.document.fields}}),y=jr.newFoundDocument(i,a,l,f);t=new bC(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,i=ru(n,r.document),a=r.readTime?wi(r.readTime):Vt.min(),l=jr.newNoDocument(i,a);t=new bC([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=ru(n,r.document);t=new bC([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Dt();{const r=e.filter,{count:i=0,unchangedNames:a}=r,l=new gV(i,a);t=new Zk(r.targetId,l)}}var y;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Vt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Vt.min():a.readTime?wi(a.readTime):Vt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Gb(this.serializer),t.addTarget=function(i,a){let l;const f=a.target;if(l=hC(f)?{documents:sO(i,f)}:{query:Dx(i,f)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=eO(i,a.resumeToken);const y=wx(i,a.expectedCount);null!==y&&(l.expectedCount=y)}else if(a.snapshotVersion.compareTo(Vt.min())>0){l.readTime=Cy(i,a.snapshotVersion.toTimestamp());const y=wx(i,a.expectedCount);null!==y&&(l.expectedCount=y)}return l}(this.serializer,e);const r=function AV(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Gb(this.serializer),t.removeTarget=e,this.Wo(t)}}class pB extends XO{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function TV(n,e){return n&&n.length>0?(Nt(void 0!==e),n.map(t=>function(r,i){let a=wi(r.updateTime?r.updateTime:i);return a.isEqual(Vt.min())&&(a=wi(i)),new hV(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=wi(e.commitTime);return this.listener.cu(r,t)}return Nt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Gb(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Wb(this.serializer,r))};this.Wo(t)}}class mB extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Ue(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Io(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ue(ye.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(e,t,r,a,l,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ue(ye.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class yB{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(bi(t),this.mu=!1):Ke("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class _B{constructor(e,t,r,i,a){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(f=>{r.enqueueAndForget((0,Re.Z)(function*(){var y;rf(l)&&(Ke("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,Re.Z)(function*(w){const x=pt(w);x.vu.add(4),yield My(x),x.bu.set("Unknown"),x.vu.delete(4),yield n0(x)}),function(w){return y.apply(this,arguments)})(l))}))}),this.bu=new yB(r,i)}}function n0(n){return Yx.apply(this,arguments)}function Yx(){return Yx=(0,Re.Z)(function*(n){if(rf(n))for(const e of n.Ru)yield e(!0)}),Yx.apply(this,arguments)}function My(n){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,Re.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),Qx.apply(this,arguments)}function LC(n,e){const t=pt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),eM(t)?Xx(t):Py(t).Ko()&&Jx(t,e))}function r0(n,e){const t=pt(n),r=Py(t);t.Au.delete(e),r.Ko()&&eN(t,e),0===t.Au.size&&(r.Ko()?r.jo():rf(t)&&t.bu.set("Unknown"))}function Jx(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Vt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Py(n).su(e)}function eN(n,e){n.Vu.qt(e),Py(n).iu(e)}function Xx(n){n.Vu=new _V({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Py(n).start(),n.bu.gu()}function eM(n){return rf(n)&&!Py(n).Uo()&&n.Au.size>0}function rf(n){return 0===pt(n).vu.size}function tN(n){n.Vu=void 0}function vB(n){return tM.apply(this,arguments)}function tM(){return tM=(0,Re.Z)(function*(n){n.Au.forEach((e,t)=>{Jx(n,e)})}),tM.apply(this,arguments)}function bB(n,e){return nM.apply(this,arguments)}function nM(){return nM=(0,Re.Z)(function*(n,e){tN(n),eM(n)?(n.bu.Iu(e),Xx(n)):n.bu.set("Unknown")}),nM.apply(this,arguments)}function wB(n,e,t){return rM.apply(this,arguments)}function rM(){return rM=(0,Re.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof Yk&&2===e.state&&e.cause)try{yield(r=(0,Re.Z)(function*(i,a){const l=a.cause;for(const f of a.targetIds)i.Au.has(f)&&(yield i.remoteSyncer.rejectListen(f,l),i.Au.delete(f),i.Vu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield VC(n,r)}else if(e instanceof bC?n.Vu.Ht(e):e instanceof Zk?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Vt.min()))try{const r=yield HO(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const l=i.Vu.ce(a);return l.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const w=i.Au.get(y);w&&i.Au.set(y,w.withResumeToken(f.resumeToken,a))}}),l.targetMismatches.forEach((f,y)=>{const w=i.Au.get(f);if(!w)return;i.Au.set(f,w.withResumeToken(zi.EMPTY_BYTE_STRING,w.snapshotVersion)),eN(i,f);const x=new yd(w.target,f,y,w.sequenceNumber);Jx(i,x)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Ke("RemoteStore","Failed to raise snapshot:",r),yield VC(n,r)}var r}),rM.apply(this,arguments)}function VC(n,e,t){return iM.apply(this,arguments)}function iM(){return iM=(0,Re.Z)(function*(n,e,t){if(!Gh(e))throw e;n.vu.add(1),yield My(n),n.bu.set("Offline"),t||(t=()=>HO(n.localStore)),n.asyncQueue.enqueueRetryable((0,Re.Z)(function*(){Ke("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield n0(n)}))}),iM.apply(this,arguments)}function nN(n,e){return e().catch(t=>VC(n,t,e))}function Ry(n){return oM.apply(this,arguments)}function oM(){return oM=(0,Re.Z)(function*(n){const e=pt(n),t=sf(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;EB(e);)try{const i=yield sB(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,IB(e,i)}catch(i){yield VC(e,i)}rN(e)&&iN(e)}),oM.apply(this,arguments)}function EB(n){return rf(n)&&n.Eu.length<10}function IB(n,e){n.Eu.push(e);const t=sf(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function rN(n){return rf(n)&&!sf(n).Uo()&&n.Eu.length>0}function iN(n){sf(n).start()}function CB(n){return sM.apply(this,arguments)}function sM(){return sM=(0,Re.Z)(function*(n){sf(n).hu()}),sM.apply(this,arguments)}function DB(n){return aM.apply(this,arguments)}function aM(){return aM=(0,Re.Z)(function*(n){const e=sf(n);for(const t of n.Eu)e.uu(t.mutations)}),aM.apply(this,arguments)}function TB(n,e,t){return cM.apply(this,arguments)}function cM(){return cM=(0,Re.Z)(function*(n,e,t){const r=n.Eu.shift(),i=yx.from(r,e,t);yield nN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Ry(n)}),cM.apply(this,arguments)}function AB(n,e){return lM.apply(this,arguments)}function lM(){return lM=(0,Re.Z)(function*(n,e){var t;e&&sf(n).ou&&(yield(t=(0,Re.Z)(function*(r,i){if(zk(a=i.code)&&a!==ye.ABORTED){const l=r.Eu.shift();sf(r).Qo(),yield nN(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield Ry(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),rN(n)&&iN(n)}),lM.apply(this,arguments)}function oN(n,e){return uM.apply(this,arguments)}function uM(){return uM=(0,Re.Z)(function*(n,e){const t=pt(n);t.asyncQueue.verifyOperationInProgress(),Ke("RemoteStore","RemoteStore received new credentials");const r=rf(t);t.vu.add(3),yield My(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield n0(t)}),uM.apply(this,arguments)}function dM(n,e){return hM.apply(this,arguments)}function hM(){return hM=(0,Re.Z)(function*(n,e){const t=pt(n);e?(t.vu.delete(2),yield n0(t)):e||(t.vu.add(2),yield My(t),t.bu.set("Unknown"))}),hM.apply(this,arguments)}function Py(n){return n.Su||(n.Su=function(e,t,r){const i=pt(e);return i.fu(),new fB(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:vB.bind(null,n),ao:bB.bind(null,n),nu:wB.bind(null,n)}),n.Ru.push(function(){var e=(0,Re.Z)(function*(t){t?(n.Su.Qo(),eM(n)?Xx(n):n.bu.set("Unknown")):(yield n.Su.stop(),tN(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function sf(n){return n.Du||(n.Du=function(e,t,r){const i=pt(e);return i.fu(),new pB(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:CB.bind(null,n),ao:AB.bind(null,n),au:DB.bind(null,n),cu:TB.bind(null,n)}),n.Ru.push(function(){var e=(0,Re.Z)(function*(t){t?(n.Du.Qo(),yield Ry(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ke("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class fM{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,f=new fM(e,t,l,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ue(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ky(n,e){if(bi("AsyncQueue",`${e}: ${n}`),Gh(n))return new Ue(ye.UNAVAILABLE,`${e}: ${n}`);throw n}class Oy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||dt.comparator(t.key,r.key):(t,r)=>dt.comparator(t.key,r.key),this.keyedMap=Lb(),this.sortedSet=new Rr(this.comparator)}static emptySet(e){return new Oy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Oy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Oy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class sN{constructor(){this.Cu=new Rr(dt.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Dt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ny{constructor(e,t,r,i,a,l,f,y,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=y,this.hasCachedResults=w}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new Ny(e,t,Oy.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class SB{constructor(){this.Nu=void 0,this.listeners=[]}}class xB{constructor(){this.queries=new md(e=>Dk(e),Nb),this.onlineState="Unknown",this.ku=new Set}}function pM(n,e){return mM.apply(this,arguments)}function mM(){return mM=(0,Re.Z)(function*(n,e){const t=pt(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new SB),i)try{a.Nu=yield t.onListen(r)}catch(l){const f=ky(l,`Initialization of query '${fx(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Mu(t.onlineState),a.Nu&&e.$u(a.Nu)&&_M(t)}),mM.apply(this,arguments)}function gM(n,e){return yM.apply(this,arguments)}function yM(){return yM=(0,Re.Z)(function*(n,e){const t=pt(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const l=a.listeners.indexOf(e);l>=0&&(a.listeners.splice(l,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),yM.apply(this,arguments)}function MB(n,e){const t=pt(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const f of l.listeners)f.$u(i)&&(r=!0);l.Nu=i}}r&&_M(t)}function RB(n,e,t){const r=pt(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function _M(n){n.ku.forEach(e=>{e.next()})}class vM{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ny(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ny.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class PB{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class aN{constructor(e){this.serializer=e}rr(e){return ru(this.serializer,e)}ur(e){return e.metadata.exists?oO(this.serializer,e.document,!1):jr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return wi(e)}}class kB{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=cN(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=Un.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new aN(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.rr(i.metadata.name);for(const l of i.metadata.queries){const f=(t.get(l)||wn()).add(a);t.set(l,f)}}return t}complete(){var e=this;return(0,Re.Z)(function*(){const t=yield function aB(n,e,t,r){return jx.apply(this,arguments)}(e.localStore,new aN(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const i of e.queries)yield cB(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function cN(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class lN{constructor(e){this.key=e}}class uN{constructor(e){this.key=e}}class dN{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=wn(),this.mutatedKeys=wn(),this.tc=Ak(e),this.ec=new Oy(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new sN,i=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,f=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((x,O)=>{const G=i.get(x),Q=Fb(this.query,O)?O:null,ie=!!G&&this.mutatedKeys.has(G.key),ue=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let Ce=!1;G&&Q?G.data.isEqual(Q.data)?ie!==ue&&(r.track({type:3,doc:Q}),Ce=!0):this.rc(G,Q)||(r.track({type:2,doc:Q}),Ce=!0,(y&&this.tc(Q,y)>0||w&&this.tc(Q,w)<0)&&(f=!0)):!G&&Q?(r.track({type:0,doc:Q}),Ce=!0):G&&!Q&&(r.track({type:1,doc:G}),Ce=!0,(y||w)&&(f=!0)),Ce&&(Q?(l=l.add(Q),a=ue?a.add(x):a.delete(x)):(l=l.delete(x),a=a.delete(x)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const x="F"===this.query.limitType?l.last():l.first();l=l.delete(x.key),a=a.delete(x.key),r.track({type:1,doc:x})}return{ec:l,ic:r,zi:f,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((w,x)=>function(O,G){const Q=ie=>{switch(ie){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt()}};return Q(O)-Q(G)}(w.type,x.type)||this.tc(w.doc,x.doc)),this.oc(r);const l=t?this.uc():[],f=0===this.Zu.size&&this.current?1:0,y=f!==this.Xu;return this.Xu=f,0!==a.length||y?{snapshot:new Ny(this.query,e.ec,i,a,e.mutatedKeys,0===f,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new sN,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=wn(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new uN(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new lN(r))}),t}hc(e){this.Yu=e.ir,this.Zu=wn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Ny.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class OB{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class NB{constructor(e){this.key=e,this.fc=!1}}class FB{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new md(f=>Dk(f),Nb),this._c=new Map,this.mc=new Set,this.gc=new Rr(dt.comparator),this.yc=new Map,this.Ic=new kx,this.Tc={},this.Ec=new Map,this.Ac=tm.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function LB(n,e){return bM.apply(this,arguments)}function bM(){return bM=(0,Re.Z)(function*(n,e){const t=HM(n);let r,i;const a=t.wc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.lc();else{const l=yield Sy(t.localStore,us(e)),f=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield wM(t,e,r,"current"===f,l.resumeToken),t.isPrimaryClient&&LC(t.remoteStore,l)}return i}),bM.apply(this,arguments)}function wM(n,e,t,r,i){return EM.apply(this,arguments)}function EM(){return EM=(0,Re.Z)(function*(n,e,t,r,i){n.Rc=(O,G,Q)=>{return(ie=(0,Re.Z)(function*(ue,Ce,qe,at){let gt=Ce.view.sc(qe);gt.zi&&(gt=yield PC(ue.localStore,Ce.query,!1).then(({documents:pn})=>Ce.view.sc(pn,gt)));const wt=at&&at.targetChanges.get(Ce.targetId),tn=Ce.view.applyChanges(gt,ue.isPrimaryClient,wt);return PM(ue,Ce.targetId,tn.cc),tn.snapshot}),function(ue,Ce,qe,at){return ie.apply(this,arguments)})(n,O,G,Q);var ie};const a=yield PC(n.localStore,e,!0),l=new dN(e,a.ir),f=l.sc(a.documents),y=Hb.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),w=l.applyChanges(f,n.isPrimaryClient,y);PM(n,t,w.cc);const x=new OB(e,t,l);return n.wc.set(e,x),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),w.snapshot}),EM.apply(this,arguments)}function VB(n,e){return IM.apply(this,arguments)}function IM(){return IM=(0,Re.Z)(function*(n,e){const t=pt(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(a=>!Nb(a,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield xy(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),r0(t.remoteStore,r.targetId),Fy(t,r.targetId)}).catch(zh))):(Fy(t,r.targetId),yield xy(t.localStore,r.targetId,!0))}),IM.apply(this,arguments)}function CM(){return CM=(0,Re.Z)(function*(n,e,t){const r=zM(n);try{const i=yield function(a,l){const f=pt(a),y=Yr.now(),w=l.reduce((G,Q)=>G.add(Q.key),wn());let x,O;return f.persistence.runTransaction("Locally write mutations","readwrite",G=>{let Q=Vs(),ie=wn();return f.Zi.getEntries(G,w).next(ue=>{Q=ue,Q.forEach((Ce,qe)=>{qe.isValidDocument()||(ie=ie.add(Ce))})}).next(()=>f.localDocuments.getOverlayedDocuments(G,Q)).next(ue=>{x=ue;const Ce=[];for(const qe of l){const at=pV(qe,x.get(qe.key).overlayedDocument);null!=at&&Ce.push(new gd(qe.key,at,dk(at.value.mapValue),Qr.exists(!0)))}return f.mutationQueue.addMutationBatch(G,y,Ce,l)}).next(ue=>{O=ue;const Ce=ue.applyToLocalDocumentSet(x,ie);return f.documentOverlayCache.saveOverlays(G,ue.batchId,Ce)})}).then(()=>({batchId:O.batchId,changes:xk(x)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,f){let y=a.Tc[a.currentUser.toKey()];y||(y=new Rr(fn)),y=y.insert(l,f),a.Tc[a.currentUser.toKey()]=y}(r,i.batchId,t),yield _d(r,i.changes),yield Ry(r.remoteStore)}catch(i){const a=ky(i,"Failed to persist write");t.reject(a)}}),CM.apply(this,arguments)}function hN(n,e){return DM.apply(this,arguments)}function DM(){return DM=(0,Re.Z)(function*(n,e){const t=pt(n);try{const r=yield function oB(n,e){const t=pt(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const f=[];e.targetChanges.forEach((x,O)=>{const G=i.get(O);if(!G)return;f.push(t.Bs.removeMatchingKeys(a,x.removedDocuments,O).next(()=>t.Bs.addMatchingKeys(a,x.addedDocuments,O)));let Q=G.withSequenceNumber(a.currentSequenceNumber);var ie,ue,Ce;null!==e.targetMismatches.get(O)?Q=Q.withResumeToken(zi.EMPTY_BYTE_STRING,Vt.min()).withLastLimboFreeSnapshotVersion(Vt.min()):x.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(x.resumeToken,r)),i=i.insert(O,Q),ue=Q,Ce=x,(0===(ie=G).resumeToken.approximateByteSize()||ue.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=3e8||Ce.addedDocuments.size+Ce.modifiedDocuments.size+Ce.removedDocuments.size>0)&&f.push(t.Bs.updateTargetData(a,Q))});let y=Vs(),w=wn();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,x))}),f.push(zO(a,l,e.documentUpdates).next(x=>{y=x.nr,w=x.sr})),!r.isEqual(Vt.min())){const x=t.Bs.getLastRemoteSnapshotVersion(a).next(O=>t.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(x)}return he.waitFor(f).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,y,w)).next(()=>y)}).then(a=>(t.Ji=i,a))}(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.yc.get(a);l&&(Nt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.fc=!0:i.modifiedDocuments.size>0?Nt(l.fc):i.removedDocuments.size>0&&(Nt(l.fc),l.fc=!1))}),yield _d(t,r,e)}catch(r){yield zh(r)}}),DM.apply(this,arguments)}function fN(n,e,t){const r=pt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((a,l)=>{const f=l.view.Mu(e);f.snapshot&&i.push(f.snapshot)}),function(a,l){const f=pt(a);f.onlineState=l;let y=!1;f.queries.forEach((w,x)=>{for(const O of x.listeners)O.Mu(l)&&(y=!0)}),y&&_M(f)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function UB(n,e,t){return TM.apply(this,arguments)}function TM(){return TM=(0,Re.Z)(function*(n,e,t){const r=pt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),a=i&&i.key;if(a){let l=new Rr(dt.comparator);l=l.insert(a,jr.newNoDocument(a,Vt.min()));const f=wn().add(a),y=new $b(Vt.min(),new Map,new Rr(fn),l,f);yield hN(r,y),r.gc=r.gc.remove(a),r.yc.delete(e),kM(r)}else yield xy(r.localStore,e,!1).then(()=>Fy(r,e,t)).catch(zh)}),TM.apply(this,arguments)}function jB(n,e){return AM.apply(this,arguments)}function AM(){return AM=(0,Re.Z)(function*(n,e){const t=pt(n),r=e.batch.batchId;try{const i=yield function iB(n,e){const t=pt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,f,y,w){const x=y.batch,O=x.keys();let G=he.resolve();return O.forEach(Q=>{G=G.next(()=>w.getEntry(f,Q)).next(ie=>{const ue=y.docVersions.get(Q);Nt(null!==ue),ie.version.compareTo(ue)<0&&(x.applyToRemoteDocument(ie,y),ie.isValidDocument()&&(ie.setReadTime(y.commitVersion),w.addEntry(ie)))})}),G.next(()=>l.mutationQueue.removeMutationBatch(f,x))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let f=wn();for(let y=0;y<l.mutationResults.length;++y)l.mutationResults[y].transformResults.length>0&&(f=f.add(l.batch.mutations[y].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);RM(t,r,null),MM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield _d(t,i)}catch(i){yield zh(i)}}),AM.apply(this,arguments)}function $B(n,e,t){return SM.apply(this,arguments)}function SM(){return SM=(0,Re.Z)(function*(n,e,t){const r=pt(n);try{const i=yield function(a,l){const f=pt(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return f.mutationQueue.lookupMutationBatch(y,l).next(x=>(Nt(null!==x),w=x.keys(),f.mutationQueue.removeMutationBatch(y,x))).next(()=>f.mutationQueue.performConsistencyCheck(y)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(y,w,l)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>f.localDocuments.getDocuments(y,w))})}(r.localStore,e);RM(r,e,t),MM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield _d(r,i)}catch(i){yield zh(i)}}),SM.apply(this,arguments)}function xM(){return xM=(0,Re.Z)(function*(n,e){const t=pt(n);rf(t.remoteStore)||Ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const l=pt(a);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>l.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ec.get(r)||[];i.push(e),t.Ec.set(r,i)}catch(r){const i=ky(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),xM.apply(this,arguments)}function MM(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function RM(n,e,t){const r=pt(n);let i=r.Tc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Fy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||pN(n,r)})}function pN(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(r0(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),kM(n))}function PM(n,e,t){for(const r of t)r instanceof lN?(n.Ic.addReference(r.key,e),zB(n,r)):r instanceof uN?(Ke("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||pN(n,r.key)):Dt()}function zB(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Ke("SyncEngine","New document in limbo: "+t),n.mc.add(r),kM(n))}function kM(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new dt(Un.fromString(e)),r=n.Ac.next();n.yc.set(r,new NB(t)),n.gc=n.gc.insert(t,r),LC(n.remoteStore,new yd(us(vy(t.path)),r,"TargetPurposeLimboResolution",_a.ct))}}function _d(n,e,t){return OM.apply(this,arguments)}function OM(){return OM=(0,Re.Z)(function*(n,e,t){const r=pt(n),i=[],a=[],l=[];var f;r.wc.isEmpty()||(r.wc.forEach((f,y)=>{l.push(r.Rc(y,e,t).then(w=>{if((w||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,w?.fromCache?"not-current":"current"),w){i.push(w);const x=Vx.Li(y.targetId,w);a.push(x)}}))}),yield Promise.all(l),r.dc.nu(i),yield(f=(0,Re.Z)(function*(y,w){const x=pt(y);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>he.forEach(w,G=>he.forEach(G.Fi,Q=>x.persistence.referenceDelegate.addReference(O,G.targetId,Q)).next(()=>he.forEach(G.Bi,Q=>x.persistence.referenceDelegate.removeReference(O,G.targetId,Q)))))}catch(O){if(!Gh(O))throw O;Ke("LocalStore","Failed to update sequence numbers: "+O)}for(const O of w){const G=O.targetId;if(!O.fromCache){const Q=x.Ji.get(G),ue=Q.withLastLimboFreeSnapshotVersion(Q.snapshotVersion);x.Ji=x.Ji.insert(G,ue)}}}),function(y,w){return f.apply(this,arguments)})(r.localStore,a))}),OM.apply(this,arguments)}function GB(n,e){return NM.apply(this,arguments)}function NM(){return NM=(0,Re.Z)(function*(n,e){const t=pt(n);if(!t.currentUser.isEqual(e)){Ke("SyncEngine","User change. New user:",e.toKey());const r=yield $O(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(l=>{l.forEach(f=>{f.reject(new Ue(ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield _d(t,r.er)}var i}),NM.apply(this,arguments)}function WB(n,e){const t=pt(n),r=t.yc.get(e);if(r&&r.fc)return wn().add(r.key);{let i=wn();const a=t._c.get(e);if(!a)return i;for(const l of a){const f=t.wc.get(l);i=i.unionWith(f.view.nc)}return i}}function qB(n,e){return FM.apply(this,arguments)}function FM(){return FM=(0,Re.Z)(function*(n,e){const t=pt(n),r=yield PC(t.localStore,e.query,!0),i=e.view.hc(r);return t.isPrimaryClient&&PM(t,e.targetId,i.cc),i}),FM.apply(this,arguments)}function KB(n,e){return LM.apply(this,arguments)}function LM(){return LM=(0,Re.Z)(function*(n,e){const t=pt(n);return WO(t.localStore,e).then(r=>_d(t,r))}),LM.apply(this,arguments)}function ZB(n,e,t,r){return VM.apply(this,arguments)}function VM(){return VM=(0,Re.Z)(function*(n,e,t,r){const i=pt(n),a=yield function(l,f){const y=pt(l),w=pt(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",x=>w.Sn(x,f).next(O=>O?y.localDocuments.getDocuments(x,O):he.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield Ry(i.remoteStore):"acknowledged"===t||"rejected"===t?(RM(i,e,r||null),MM(i,e),f=e,pt(pt(i.localStore).mutationQueue).Cn(f)):Dt(),yield _d(i,a)):Ke("SyncEngine","Cannot apply mutation batch with id: "+e)}),VM.apply(this,arguments)}function BM(){return BM=(0,Re.Z)(function*(n,e){const t=pt(n);if(HM(t),zM(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield mN(t,r.toArray());t.vc=!0,yield dM(t.remoteStore,!0);for(const a of i)LC(t.remoteStore,a)}else if(!1===e&&!1!==t.vc){const r=[];let i=Promise.resolve();t._c.forEach((a,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(Fy(t,l),xy(t.localStore,l,!0))),r0(t.remoteStore,l)}),yield i,yield mN(t,r),function(a){const l=pt(a);l.yc.forEach((f,y)=>{r0(l.remoteStore,y)}),l.Ic.Ts(),l.yc=new Map,l.gc=new Rr(dt.comparator)}(t),t.vc=!1,yield dM(t.remoteStore,!1)}}),BM.apply(this,arguments)}function mN(n,e,t){return UM.apply(this,arguments)}function UM(){return UM=(0,Re.Z)(function*(n,e,t){const r=pt(n),i=[],a=[];for(const l of e){let f;const y=r._c.get(l);if(y&&0!==y.length){f=yield Sy(r.localStore,us(y[0]));for(const w of y){const x=r.wc.get(w),O=yield qB(r,x);O.snapshot&&a.push(O.snapshot)}}else{const w=yield GO(r.localStore,l);f=yield Sy(r.localStore,w),yield wM(r,gN(w),l,!1,f.resumeToken)}i.push(f)}return r.dc.nu(a),i}),UM.apply(this,arguments)}function gN(n){return Ik(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function QB(n){const e=pt(n);return pt(pt(e.localStore).persistence).$i()}function JB(n,e,t,r){return jM.apply(this,arguments)}function jM(){return jM=(0,Re.Z)(function*(n,e,t,r){const i=pt(n);if(i.vc)return void Ke("SyncEngine","Ignoring unexpected query state notification.");const a=i._c.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const l=yield WO(i.localStore,Tk(a[0])),f=$b.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,zi.EMPTY_BYTE_STRING);yield _d(i,l,f);break}case"rejected":yield xy(i.localStore,e,!0),Fy(i,e,r);break;default:Dt()}}),jM.apply(this,arguments)}function XB(n,e,t){return $M.apply(this,arguments)}function $M(){return $M=(0,Re.Z)(function*(n,e,t){const r=HM(n);if(r.vc){for(const i of e){if(r._c.has(i)){Ke("SyncEngine","Adding an already active target "+i);continue}const a=yield GO(r.localStore,i),l=yield Sy(r.localStore,a);yield wM(r,gN(a),l.targetId,!1,l.resumeToken),LC(r.remoteStore,l)}for(const i of t)r._c.has(i)&&(yield xy(r.localStore,i,!1).then(()=>{r0(r.remoteStore,i),Fy(r,i)}).catch(zh))}}),$M.apply(this,arguments)}function HM(n){const e=pt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=hN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UB.bind(null,e),e.dc.nu=MB.bind(null,e.eventManager),e.dc.Pc=RB.bind(null,e.eventManager),e}function zM(n){const e=pt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$B.bind(null,e),e}class o0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Re.Z)(function*(){t.serializer=t0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return jO(this.persistence,new UO,e.initialUser,this.serializer)}createPersistence(e){return new Ox(xC.zs,this.serializer)}createSharedClientState(e){return new YO}terminate(){var e=this;return(0,Re.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class GM extends o0{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Re.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield zM(r.Vc.syncEngine),yield Ry(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return jO(this.persistence,new UO,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new RO(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new T2(t,this.persistence);return new D2(e.asyncQueue,r)}createPersistence(e){const t=Lx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Go.withCacheSize(this.cacheSizeBytes):Go.DEFAULT;return new Fx(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,JO(),FC(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new YO}}class yN extends GM{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Re.Z)(function*(){yield t().call(r,e);const i=r.Vc.syncEngine;r.sharedClientState instanceof Wx&&(r.sharedClientState.syncEngine={jr:ZB.bind(null,i),zr:JB.bind(null,i),Wr:XB.bind(null,i),$i:QB.bind(null,i),Qr:KB.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var a=(0,Re.Z)(function*(l){yield function YB(n,e){return BM.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=JO();if(!Wx.D(t))throw new Ue(ye.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Lx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Wx(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Ly{initialize(e,t){var r=this;return(0,Re.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>fN(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=GB.bind(null,r.syncEngine),yield dM(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new xB}createDatastore(e){const t=t0(e.databaseInfo.databaseId),r=new hB(e.databaseInfo);return new mB(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>fN(this.syncEngine,f,0),l=QO.D()?new QO:new lB,new _B(t,r,i,a,l);var t,r,i,a,l}createSyncEngine(e,t){return function(r,i,a,l,f,y,w){const x=new FB(r,i,a,l,f,y);return w&&(x.vc=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Re.Z)(function*(t){const r=pt(t);Ke("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield My(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function _N(n,e=10240){let t=0;return{read:()=>(0,Re.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Re.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class BC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):bi("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class nU{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Hi,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Re.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Re.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Re.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),i=Number(r);isNaN(i)&&e.Mc(`length string (${r}) is not valid number`);const a=yield e.$c(i);return new PB(JSON.parse(a),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Re.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,Re.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Re.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class rU{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Re.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ue(ye.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Re.Z)(function*(a,l){const f=pt(a),y=Gb(f.serializer)+"/documents",w={documents:l.map(Q=>zb(f.serializer,Q))},x=yield f.vo("BatchGetDocuments",y,w,l.length),O=new Map;x.forEach(Q=>{const ie=function CV(n,e){return"found"in e?function(t,r){Nt(!!r.found);const i=ru(t,r.found.name),a=wi(r.found.updateTime),l=r.found.createTime?wi(r.found.createTime):Vt.min(),f=new Co({mapValue:{fields:r.found.fields}});return jr.newFoundDocument(i,a,l,f)}(n,e):"missing"in e?function(t,r){Nt(!!r.missing),Nt(!!r.readTime);const i=ru(t,r.missing),a=wi(r.readTime);return jr.newNoDocument(i,a)}(n,e):Dt()}(f.serializer,Q);O.set(ie.key.toString(),ie)});const G=[];return l.forEach(Q=>{const ie=O.get(Q.toString());Nt(!!ie),G.push(ie)}),G}),function(a,l){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Iy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Re.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=dt.fromPath(i);e.mutations.push(new mx(a,e.precondition(a)))}),yield(r=(0,Re.Z)(function*(i,a){const l=pt(i),f=Gb(l.serializer)+"/documents",y={writes:a.map(w=>Wb(l.serializer,w))};yield l.Io("Commit",f,y)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Dt();t=Vt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ue(ye.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Vt.min())?Qr.exists(!1):Qr.updateTime(t):Qr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Vt.min()))throw new Ue(ye.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qr.updateTime(t)}return Qr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class iU{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new Kx(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Re.Z)(function*(){const t=new rU(e.datastore),r=e.qc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Uc(a)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const t=this.updateFunction(e);return!Sb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!zk(t)}return!1}}class oU{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=oo.UNAUTHENTICATED,this.clientId=jP.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,Re.Z)(function*(f){Ke("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Ke("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,Re.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ue(ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Re.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=ky(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function UC(n,e){return WM.apply(this,arguments)}function WM(){return WM=(0,Re.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ke("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Re.Z)(function*(a){r.isEqual(a)||(yield $O(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),WM.apply(this,arguments)}function qM(n,e){return KM.apply(this,arguments)}function KM(){return KM=(0,Re.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield ZM(n);Ke("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>oN(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>oN(e.remoteStore,a)),n._onlineComponents=e}),KM.apply(this,arguments)}function vN(n){return"FirebaseError"===n.name?n.code===ye.FAILED_PRECONDITION||n.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function ZM(n){return YM.apply(this,arguments)}function YM(){return YM=(0,Re.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ke("FirestoreClient","Using user provided OfflineComponentProvider");try{yield UC(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!vN(t))throw t;ec("Error using user provided cache. Falling back to memory cache: "+t),yield UC(n,new o0)}}else Ke("FirestoreClient","Using default OfflineComponentProvider"),yield UC(n,new o0);return n._offlineComponents}),YM.apply(this,arguments)}function jC(n){return QM.apply(this,arguments)}function QM(){return QM=(0,Re.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ke("FirestoreClient","Using user provided OnlineComponentProvider"),yield qM(n,n._uninitializedComponentsProvider._online)):(Ke("FirestoreClient","Using default OnlineComponentProvider"),yield qM(n,new Ly))),n._onlineComponents}),QM.apply(this,arguments)}function bN(n){return ZM(n).then(e=>e.persistence)}function $C(n){return ZM(n).then(e=>e.localStore)}function wN(n){return jC(n).then(e=>e.remoteStore)}function JM(n){return jC(n).then(e=>e.syncEngine)}function Vy(n){return XM.apply(this,arguments)}function XM(){return XM=(0,Re.Z)(function*(n){const e=yield jC(n),t=e.eventManager;return t.onListen=LB.bind(null,e.syncEngine),t.onUnlisten=VB.bind(null,e.syncEngine),t}),XM.apply(this,arguments)}function IN(n,e,t={}){const r=new Hi;return n.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function(i,a,l,f,y){const w=new BC({next:O=>{a.enqueueAndForget(()=>gM(i,x));const G=O.docs.has(l);!G&&O.fromCache?y.reject(new Ue(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&O.fromCache&&f&&"server"===f.source?y.reject(new Ue(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(O)},error:O=>y.reject(O)}),x=new vM(vy(l.path),w,{includeMetadataChanges:!0,Ku:!0});return pM(i,x)}(yield Vy(n),n.asyncQueue,e,t,r)})),r.promise}function CN(n,e,t={}){const r=new Hi;return n.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function(i,a,l,f,y){const w=new BC({next:O=>{a.enqueueAndForget(()=>gM(i,x)),O.fromCache&&"server"===f.source?y.reject(new Ue(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(O)},error:O=>y.reject(O)}),x=new vM(l,w,{includeMetadataChanges:!0,Ku:!0});return pM(i,x)}(yield Vy(n),n.asyncQueue,e,t,r)})),r.promise}function DN(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const TN=new Map;function e1(n,e,t){if(!t)throw new Ue(ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function AN(n,e,t,r){if(!0===e&&!0===r)throw new Ue(ye.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function SN(n){if(!dt.isDocumentKey(n))throw new Ue(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xN(n){if(dt.isDocumentKey(n))throw new Ue(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function HC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Dt()}function On(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ue(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=HC(n);throw new Ue(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function MN(n,e){if(e<=0)throw new Ue(ye.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class RN{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ue(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ue(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=DN(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Ue(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ue(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ue(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class s0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RN({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ue(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ue(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RN(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new f2;switch(t.type){case"firstParty":return new y2(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ue(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=TN.get(e);t&&(Ke("ComponentProvider","Removing Datastore"),TN.delete(e),t.terminate())}(this),Promise.resolve()}}function PN(n,e,t,r={}){var i;const a=(n=On(n,s0))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&ec("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let l,f;if("string"==typeof r.mockUserToken)l=r.mockUserToken,f=oo.MOCK_USER;else{l=(0,Bn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Ue(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new oo(y)}n._authCredentials=new p2(new BP(l,f))}}class $r{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new iu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $r(this.firestore,e,this._key)}}class Do{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Do(this.firestore,e,this._query)}}class iu extends Do{constructor(e,t,r){super(e,t,vy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $r(this.firestore,null,new dt(e))}withConverter(e){return new iu(this.firestore,e,this._path)}}function kN(n,e,...t){if(n=(0,Bn.m9)(n),e1("collection","path",e),n instanceof s0){const r=Un.fromString(e,...t);return xN(r),new iu(n,null,r)}{if(!(n instanceof $r||n instanceof iu))throw new Ue(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Un.fromString(e,...t));return xN(r),new iu(n.firestore,null,r)}}function zC(n,e,...t){if(n=(0,Bn.m9)(n),1===arguments.length&&(e=jP.A()),e1("doc","path",e),n instanceof s0){const r=Un.fromString(e,...t);return SN(r),new $r(n,null,new dt(r))}{if(!(n instanceof $r||n instanceof iu))throw new Ue(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Un.fromString(e,...t));return SN(r),new $r(n.firestore,n instanceof iu?n.converter:null,new dt(r))}}function ON(n,e){return n=(0,Bn.m9)(n),e=(0,Bn.m9)(e),(n instanceof $r||n instanceof iu)&&(e instanceof $r||e instanceof iu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function t1(n,e){return n=(0,Bn.m9)(n),e=(0,Bn.m9)(e),n instanceof Do&&e instanceof Do&&n.firestore===e.firestore&&Nb(n._query,e._query)&&n.converter===e.converter}class mU{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Kx(this,"async_queue_retry"),this.Xc=()=>{const t=FC();t&&Ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=FC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=FC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Hi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Re.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Gh(t))throw t;Ke("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,bi("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=fM.createAndSchedule(this,e,t,r,a=>this.na(a));return this.zc.push(i),i}Zc(){this.Wc&&Dt()}verifyOperationInProgress(){}sa(){var e=this;return(0,Re.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function n1(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class gU{constructor(){this._progressObserver={},this._taskCompletionResolver=new Hi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Hr extends s0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new mU,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||NN(this),this._firestoreClient.terminate()}}function _U(n,e){const t="object"==typeof n?n:(0,Hc.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,Hc._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=(0,Bn.P0)("firestore");a&&PN(i,...a)}return i}function Ei(n){return n._firestoreClient||NN(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function NN(n){var e,t,r;const i=n._freezeSettings(),a=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new q2(n._databaseId,f,n._persistenceKey,(w=i).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,DN(w.experimentalLongPollingOptions),w.useFetchStreams));var f,w;n._firestoreClient=new oU(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function FN(n,e,t){const r=new Hi;return n.asyncQueue.enqueue((0,Re.Z)(function*(){try{yield UC(n,t),yield qM(n,e),r.resolve()}catch(i){const a=i;if(!vN(a))throw a;ec("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a)}})).then(()=>r.promise)}function LN(n){if(n._initialized||n._terminated)throw new Ue(ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ou{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ou(zi.fromBase64String(e))}catch(t){throw new Ue(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ou(zi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class vd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ue(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class rm{constructor(e){this._methodName=e}}class GC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ue(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ue(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fn(this._lat,e._lat)||fn(this._long,e._long)}}const SU=/^__.*__$/;class xU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new gd(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ey(e,this.data,t,this.fieldTransforms)}}class VN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new gd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function BN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt()}}class WC{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new WC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return ZC(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(BN(this.ca)&&SU.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class MU{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||t0(e)}ya(e,t,r,i=!1){return new WC({ca:e,methodName:t,ga:r,path:hi.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function im(n){const e=n._freezeSettings(),t=t0(n._databaseId);return new MU(n._databaseId,!!e.ignoreUndefinedProperties,t)}function qC(n,e,t,r,i,a={}){const l=n.ya(a.merge||a.mergeFields?2:0,e,t,i);a1("Data must be an object, but it was:",l,r);const f=$N(r,l);let y,w;if(a.merge)y=new Ls(l.fieldMask),w=l.fieldTransforms;else if(a.mergeFields){const x=[];for(const O of a.mergeFields){const G=l0(e,O,t);if(!l.contains(G))throw new Ue(ye.INVALID_ARGUMENT,`Field '${G}' is specified in your field mask but missing from your input data.`);zN(x,G)||x.push(G)}y=new Ls(x),w=l.fieldTransforms.filter(O=>y.covers(O.field))}else y=null,w=l.fieldTransforms;return new xU(new Co(f),y,w)}class c0 extends rm{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof c0}}function UN(n,e,t){return new WC({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class r1 extends rm{_toFieldTransform(e){return new Bb(e.path,new by)}isEqual(e){return e instanceof r1}}class RU extends rm{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=UN(this,e,!0),r=this.pa.map(a=>om(a,t)),i=new Kp(r);return new Bb(e.path,i)}isEqual(e){return this===e}}class PU extends rm{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=UN(this,e,!0),r=this.pa.map(a=>om(a,t)),i=new Zp(r);return new Bb(e.path,i)}isEqual(e){return this===e}}class kU extends rm{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new wy(e.serializer,kk(e.serializer,this.Ia));return new Bb(e.path,t)}isEqual(e){return this===e}}function o1(n,e,t,r){const i=n.ya(1,e,t);a1("Data must be an object, but it was:",i,r);const a=[],l=Co.empty();Wh(r,(y,w)=>{const x=KC(e,y,t);w=(0,Bn.m9)(w);const O=i.da(x);if(w instanceof c0)a.push(x);else{const G=om(w,O);null!=G&&(a.push(x),l.set(x,G))}});const f=new Ls(a);return new VN(l,f,i.fieldTransforms)}function s1(n,e,t,r,i,a){const l=n.ya(1,e,t),f=[l0(e,r,t)],y=[i];if(a.length%2!=0)throw new Ue(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let G=0;G<a.length;G+=2)f.push(l0(e,a[G])),y.push(a[G+1]);const w=[],x=Co.empty();for(let G=f.length-1;G>=0;--G)if(!zN(w,f[G])){const Q=f[G];let ie=y[G];ie=(0,Bn.m9)(ie);const ue=l.da(Q);if(ie instanceof c0)w.push(Q);else{const Ce=om(ie,ue);null!=Ce&&(w.push(Q),x.set(Q,Ce))}}const O=new Ls(w);return new VN(x,O,l.fieldTransforms)}function jN(n,e,t,r=!1){return om(t,n.ya(r?4:3,e))}function om(n,e){if(HN(n=(0,Bn.m9)(n)))return a1("Unsupported field value:",e,n),$N(n,e);if(n instanceof rm)return function(t,r){if(!BN(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const l of t){let f=om(l,r.wa(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Bn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return kk(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Yr.fromDate(t);return{timestampValue:Cy(r.serializer,i)}}if(t instanceof Yr){const i=new Yr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Cy(r.serializer,i)}}if(t instanceof GC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ou)return{bytesValue:eO(r.serializer,t._byteString)};if(t instanceof $r){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ex(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${HC(t)}`)}(n,e)}function $N(n,e){const t={};return nk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wh(n,(r,i)=>{const a=om(i,e.ha(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function HN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Yr||n instanceof GC||n instanceof ou||n instanceof $r||n instanceof rm)}function a1(n,e,t){if(!HN(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=HC(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function l0(n,e,t){if((e=(0,Bn.m9)(e))instanceof vd)return e._internalPath;if("string"==typeof e)return KC(n,e);throw ZC("Field path arguments must be of type string or ",n,!1,void 0,t)}const OU=new RegExp("[~\\*/\\[\\]]");function KC(n,e,t){if(e.search(OU)>=0)throw ZC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new vd(...e.split("."))._internalPath}catch{throw ZC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ZC(n,e,t,r,i){const a=r&&!r.isEmpty(),l=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(a||l)&&(y+=" (found",a&&(y+=` in field ${r}`),l&&(y+=` in document ${i}`),y+=")"),new Ue(ye.INVALID_ARGUMENT,f+n+y)}function zN(n,e){return n.some(t=>t.isEqual(e))}class u0{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new $r(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new NU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(YC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class NU extends u0{data(){return super.data()}}function YC(n,e){return"string"==typeof e?KC(n,e):e instanceof vd?e._internalPath:e._delegate._internalPath}function GN(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ue(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class c1{}class d0 extends c1{}function af(n,e,...t){let r=[];e instanceof c1&&r.push(e),r=r.concat(t),function(i){const a=i.filter(f=>f instanceof By).length,l=i.filter(f=>f instanceof h0).length;if(a>1||a>0&&l>0)throw new Ue(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class h0 extends d0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new h0(e,t,r)}_apply(e){const t=this._parse(e);return ZN(e._query,t),new Do(e.firestore,e.converter,hx(e._query,t))}_parse(e){const t=im(e.firestore);return function(i,a,l,f,y,w,x){let O;if(y.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Ue(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){KN(x,w);const G=[];for(const Q of x)G.push(qN(f,i,Q));O={arrayValue:{values:G}}}else O=qN(f,i,x)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||KN(x,w),O=jN(l,"where",x,"in"===w||"not-in"===w);return kn.create(y,w,O)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class By extends c1{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new By(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:fr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const l=i.getFlattenedFilters();for(const f of l)ZN(a,f),a=hx(a,f)}(e._query,t),new Do(e.firestore,e.converter,hx(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class l1 extends d0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new l1(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Ue(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ue(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new yy(i,a);return function(f,y){if(null===ux(f)){const w=pC(f);null!==w&&YN(0,w,y.field)}}(r,l),l}(e._query,this._field,this._direction);return new Do(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new pd(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class QC extends d0{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new QC(e,t,r)}_apply(e){return new Do(e.firestore,e.converter,mC(e._query,this._limit,this._limitType))}}class JC extends d0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new JC(e,t,r)}_apply(e){const t=WN(e,this.type,this._docOrFields,this._inclusive);return new Do(e.firestore,e.converter,(i=t,new pd((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class XC extends d0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new XC(e,t,r)}_apply(e){const t=WN(e,this.type,this._docOrFields,this._inclusive);return new Do(e.firestore,e.converter,(i=t,new pd((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function WN(n,e,t,r){if(t[0]=(0,Bn.m9)(t[0]),t[0]instanceof u0)return function(i,a,l,f,y){if(!f)throw new Ue(ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const w=[];for(const x of qp(i))if(x.field.isKeyField())w.push(Gp(a,f.key));else{const O=f.data.field(x.field);if(aC(O))throw new Ue(ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const G=x.field.canonicalString();throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${G}' (used as the orderBy) does not exist.`)}w.push(O)}return new Jh(w,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=im(n.firestore);return function(a,l,f,y,w,x){const O=a.explicitOrderBy;if(w.length>O.length)throw new Ue(ye.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const G=[];for(let Q=0;Q<w.length;Q++){const ie=w[Q];if(O[Q].field.isKeyField()){if("string"!=typeof ie)throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof ie}`);if(!dx(a)&&-1!==ie.indexOf("/"))throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${ie}' contains a slash.`);const ue=a.path.child(Un.fromString(ie));if(!dt.isDocumentKey(ue))throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${ue}' is not because it contains an odd number of segments.`);const Ce=new dt(ue);G.push(Gp(l,Ce))}else{const ue=jN(f,y,ie);G.push(ue)}}return new Jh(G,x)}(n._query,n.firestore._databaseId,i,e,t,r)}}function qN(n,e,t){if("string"==typeof(t=(0,Bn.m9)(t))){if(""===t)throw new Ue(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dx(e)&&-1!==t.indexOf("/"))throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Un.fromString(t));if(!dt.isDocumentKey(r))throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Gp(n,new dt(r))}if(t instanceof $r)return Gp(n,t._key);throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${HC(t)}.`)}function KN(n,e){if(!Array.isArray(n)||0===n.length)throw new Ue(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZN(n,e){if(e.isInequality()){const r=pC(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=ux(n);null!==a&&YN(0,i,a)}const t=function(r,i){for(const a of r)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ue(ye.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function YN(n,e,t){if(!t.isEqual(e))throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class u1{convertValue(e,t="none"){switch(Yh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Dt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Wh(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new GC(fi(e.latitude),fi(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=cC(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Mb(e));default:return null}}convertTimestamp(e){const t=qh(e);return new Yr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Un.fromString(e);Nt(uO(r));const i=new Kh(r.get(1),r.get(3)),a=new dt(r.popFirst(5));return i.isEqual(t)||bi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function eD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class zU extends u1{constructor(e){super(),this.firestore=e}convertBytes(e){return new ou(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $r(this.firestore,null,t)}}class sm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bd extends u0{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new f0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(YC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class f0 extends bd{data(e={}){return super.data(e)}}class cf{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new sm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new f0(this._firestore,this._userDataWriter,r.key,r,new sm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ue(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new f0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new sm(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const f=new f0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new sm(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,w=-1;return 0!==l.type&&(y=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),1!==l.type&&(a=a.add(l.doc),w=a.indexOf(l.doc.key)),{type:WU(l.type),doc:f,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function WU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt()}}function JN(n,e){return n instanceof bd&&e instanceof bd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof cf&&e instanceof cf&&n._firestore===e._firestore&&t1(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class lf extends u1{constructor(e){super(),this.firestore=e}convertBytes(e){return new ou(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $r(this.firestore,null,t)}}function XN(n,e,t){n=On(n,$r);const r=On(n.firestore,Hr),i=eD(n.converter,e,t);return Uy(r,[qC(im(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Qr.none())])}function eF(n,e,t,...r){n=On(n,$r);const i=On(n.firestore,Hr),a=im(i);let l;return l="string"==typeof(e=(0,Bn.m9)(e))||e instanceof vd?s1(a,"updateDoc",n._key,e,t,r):o1(a,"updateDoc",n._key,e),Uy(i,[l.toMutation(n._key,Qr.exists(!0))])}function tF(n,...e){var t,r,i;n=(0,Bn.m9)(n);let a={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||n1(e[l])||(a=e[l],l++);const f={includeMetadataChanges:a.includeMetadataChanges};if(n1(e[l])){const O=e[l];e[l]=null===(t=O.next)||void 0===t?void 0:t.bind(O),e[l+1]=null===(r=O.error)||void 0===r?void 0:r.bind(O),e[l+2]=null===(i=O.complete)||void 0===i?void 0:i.bind(O)}let y,w,x;if(n instanceof $r)w=On(n.firestore,Hr),x=vy(n._key.path),y={next:O=>{e[l]&&e[l](d1(w,n,O))},error:e[l+1],complete:e[l+2]};else{const O=On(n,Do);w=On(O.firestore,Hr),x=O._query;const G=new lf(w);y={next:Q=>{e[l]&&e[l](new cf(w,G,O,Q))},error:e[l+1],complete:e[l+2]},GN(n._query)}return function(O,G,Q,ie){const ue=new BC(ie),Ce=new vM(G,ue,Q);return O.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return pM(yield Vy(O),Ce)})),()=>{ue.Dc(),O.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return gM(yield Vy(O),Ce)}))}}(Ei(w),x,f,y)}function Uy(n,e){return function(t,r){const i=new Hi;return t.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function BB(n,e,t){return CM.apply(this,arguments)}(yield JM(t),r,i)})),i.promise}(Ei(n),e)}function d1(n,e,t){const r=t.docs.get(e._key),i=new lf(n);return new bd(n,i,e._key,r,new sm(t.hasPendingWrites,t.fromCache),e.converter)}const uj={maxAttempts:5};class nF{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=im(e)}set(e,t,r){this._verifyNotCommitted();const i=uf(e,this._firestore),a=eD(i.converter,t,r),l=qC(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(l.toMutation(i._key,Qr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=uf(e,this._firestore);let l;return l="string"==typeof(t=(0,Bn.m9)(t))||t instanceof vd?s1(this._dataReader,"WriteBatch.update",a._key,t,r,i):o1(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(l.toMutation(a._key,Qr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=uf(e,this._firestore);return this._mutations=this._mutations.concat(new Iy(t._key,Qr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ue(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function uf(n,e){if((n=(0,Bn.m9)(n)).firestore!==e)throw new Ue(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class dj extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=im(e)}get(e){const t=uf(e,this._firestore),r=new zU(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Dt();const a=i[0];if(a.isFoundDocument())return new u0(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new u0(this._firestore,r,t._key,null,t.converter);throw Dt()})}set(e,t,r){const i=uf(e,this._firestore),a=eD(i.converter,t,r),l=qC(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const a=uf(e,this._firestore);let l;return l="string"==typeof(t=(0,Bn.m9)(t))||t instanceof vd?s1(this._dataReader,"Transaction.update",a._key,t,r,i):o1(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,l),this}delete(e){const t=uf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=uf(e,this._firestore),r=new lf(this._firestore);return super.get(e).then(i=>new bd(this._firestore,r,t._key,i._document,new sm(!1,!1),t.converter))}}!function(n,e=!0){fy=Hc.SDK_VERSION,(0,Hc._registerComponent)(new Zl.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),l=new Hr(new m2(t.getProvider("auth-internal")),new _2(t.getProvider("app-check-internal")),function(f,y){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ue(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kh(f.options.projectId,y)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,Hc.registerVersion)(VP,"3.12.1",n),(0,Hc.registerVersion)(VP,"3.12.1","esm2017")}();function h1(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ue("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function iF(){if(typeof Uint8Array>"u")throw new Ue("unimplemented","Uint8Arrays are not available in this environment.")}function oF(){if(!function G2(){return typeof atob<"u"}())throw new Ue("unimplemented","Blobs are unavailable in Firestore in this environment.")}class p0{constructor(e){this._delegate=e}static fromBase64String(e){return oF(),new p0(ou.fromBase64String(e))}static fromUint8Array(e){return iF(),new p0(ou.fromUint8Array(e))}toBase64(){return oF(),this._delegate.toBase64()}toUint8Array(){return iF(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function f1(n){return function bj(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class wj{enableIndexedDbPersistence(e,t){return function vU(n,e){LN(n=On(n,Hr));const t=Ei(n);if(t._uninitializedComponentsProvider)throw new Ue(ye.FAILED_PRECONDITION,"SDK cache is already specified.");ec("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new Ly;return FN(t,i,new GM(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function bU(n){LN(n=On(n,Hr));const e=Ei(n);if(e._uninitializedComponentsProvider)throw new Ue(ye.FAILED_PRECONDITION,"SDK cache is already specified.");ec("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Ly;return FN(e,r,new yN(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function wU(n){if(n._initialized&&!n._terminated)throw new Ue(ye.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Hi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Re.Z)(function*(){try{yield(t=(0,Re.Z)(function*(r){if(!Zc.D())return Promise.resolve();const i=r+"main";yield Zc.delete(i)}),function(r){return t.apply(this,arguments)})(Lx(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class sF{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Kh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ec("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){PN(this._delegate,e,t,r)}enableNetwork(){return function IU(n){return function sU(n){return n.asyncQueue.enqueue((0,Re.Z)(function*(){const e=yield bN(n),t=yield wN(n);return e.setNetworkEnabled(!0),function(r){const i=pt(r);return i.vu.delete(0),n0(i)}(t)}))}(Ei(n=On(n,Hr)))}(this._delegate)}disableNetwork(){return function CU(n){return function aU(n){return n.asyncQueue.enqueue((0,Re.Z)(function*(){const e=yield bN(n),t=yield wN(n);return e.setNetworkEnabled(!1),(r=(0,Re.Z)(function*(i){const a=pt(i);a.vu.add(0),yield My(a),a.bu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Ei(n=On(n,Hr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,AN("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function EU(n){return function(e){const t=new Hi;return e.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return function HB(n,e){return xM.apply(this,arguments)}(yield JM(e),t)})),t.promise}(Ei(n=On(n,Hr)))}(this._delegate)}onSnapshotsInSync(e){return function tj(n,e){return function uU(n,e){const t=new BC(e);return n.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return r=yield Vy(n),i=t,pt(r).ku.add(i),void i.next();var r,i})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return r=yield Vy(n),i=t,void pt(r).ku.delete(i);var r,i}))}}(Ei(n=On(n,Hr)),n1(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ue("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new jy(this,kN(this._delegate,e))}catch(t){throw ds(t,"collection()","Firestore.collection()")}}doc(e){try{return new tc(this,zC(this._delegate,e))}catch(t){throw ds(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new hs(this,function pU(n,e){if(n=On(n,s0),e1("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ue(ye.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Do(n,null,(t=e,new pd(Un.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ds(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function hj(n,e,t){n=On(n,Hr);const r=Object.assign(Object.assign({},uj),t);return function(i){if(i.maxAttempts<1)throw new Ue(ye.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,l){const f=new Hi;return i.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){const y=yield function EN(n){return jC(n).then(e=>e.datastore)}(i);new iU(i.asyncQueue,y,l,a,f).run()})),f.promise}(Ei(n),i=>e(new dj(n,i)),r)}(this._delegate,t=>e(new aF(this,t)))}batch(){return Ei(this._delegate),new cF(new nF(this._delegate,e=>Uy(this._delegate,e)))}loadBundle(e){return function DU(n,e){const t=Ei(n=On(n,Hr)),r=new gU;return function dU(n,e,t,r){const i=function(a,l){let f;return f="string"==typeof a?Wk().encode(a):a,y=function(y,w){if(y instanceof Uint8Array)return _N(y,w);if(y instanceof ArrayBuffer)return _N(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new nU(y,l);var y}(t,t0(e));n.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){!function eU(n,e,t){const r=pt(n);var i;(i=(0,Re.Z)(function*(a,l,f){try{const y=yield l.getMetadata();if(yield function(G,Q){const ie=pt(G),ue=wi(Q.createTime);return ie.persistence.runTransaction("hasNewerBundle","readonly",Ce=>ie.qs.getBundleMetadata(Ce,Q.id)).then(Ce=>!!Ce&&Ce.createTime.compareTo(ue)>=0)}(a.localStore,y))return yield l.close(),f._completeWith({taskState:"Success",documentsLoaded:(G=y).totalDocuments,bytesLoaded:G.totalBytes,totalDocuments:G.totalDocuments,totalBytes:G.totalBytes}),Promise.resolve(new Set);f._updateProgress(cN(y));const w=new kB(y,a.localStore,l.serializer);let x=yield l.bc();for(;x;){const G=yield w.zu(x);G&&f._updateProgress(G),x=yield l.bc()}const O=yield w.complete();return yield _d(a,O.Ju,void 0),yield function(G,Q){const ie=pt(G);return ie.persistence.runTransaction("Save bundle","readwrite",ue=>ie.qs.saveBundleMetadata(ue,Q))}(a.localStore,y),f._completeWith(O.progress),Promise.resolve(O.Hu)}catch(y){return ec("SyncEngine",`Loading bundle failed with ${y}`),f._failWith(y),Promise.resolve(new Set)}var G}),function(a,l,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield JM(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function TU(n,e){return function hU(n,e){return n.asyncQueue.enqueue((0,Re.Z)(function*(){return function(t,r){const i=pt(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.qs.getNamedQuery(a,r))}(yield $C(n),e)}))}(Ei(n=On(n,Hr)),e).then(t=>t?new Do(n,null,t.query):null)}(this._delegate,e).then(t=>t?new hs(this,t):null)}}class tD extends u1{constructor(e){super(),this.firestore=e}convertBytes(e){return new p0(new ou(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return tc.forKey(t,this.firestore,null)}}class aF{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new tD(e)}get(e){const t=cm(e);return this._delegate.get(t).then(r=>new m0(this._firestore,new bd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=cm(e);return r?(h1("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=cm(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=cm(e);return this._delegate.delete(t),this}}class cF{constructor(e){this._delegate=e}set(e,t,r){const i=cm(e);return r?(h1("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=cm(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=cm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class am{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new f0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new g0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=am.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new am(e,new tD(e),t),i.set(t,a)),a}}am.INSTANCES=new WeakMap;class tc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new tD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ue("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new tc(t,new $r(t._delegate,r,new dt(e)))}static forKey(e,t,r){return new tc(t,new $r(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new jy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new jy(this.firestore,kN(this._delegate,e))}catch(t){throw ds(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Bn.m9)(e))instanceof $r&&ON(this._delegate,e)}set(e,t){t=h1("DocumentReference.set",t);try{return t?XN(this._delegate,e,t):XN(this._delegate,e)}catch(r){throw ds(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?eF(this._delegate,e):eF(this._delegate,e,t,...r)}catch(i){throw ds(i,"updateDoc()","DocumentReference.update()")}}delete(){return function XU(n){return Uy(On(n.firestore,Hr),[new Iy(n._key,Qr.none())])}(this._delegate)}onSnapshot(...e){const t=lF(e),r=uF(e,i=>new m0(this.firestore,new bd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return tF(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function KU(n){n=On(n,$r);const e=On(n.firestore,Hr),t=Ei(e),r=new lf(e);return function cU(n,e){const t=new Hi;return n.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return(r=(0,Re.Z)(function*(i,a,l){try{const f=yield function(y,w){const x=pt(y);return x.persistence.runTransaction("read document","readonly",O=>x.localDocuments.getDocument(O,w))}(i,a);f.isFoundDocument()?l.resolve(f):f.isNoDocument()?l.resolve(null):l.reject(new Ue(ye.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const y=ky(f,`Failed to get document '${a} from cache`);l.reject(y)}}),function(i,a,l){return r.apply(this,arguments)})(yield $C(n),e,t);var r})),t.promise}(t,n._key).then(i=>new bd(e,r,n._key,i,new sm(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function ZU(n){n=On(n,$r);const e=On(n.firestore,Hr);return IN(Ei(e),n._key,{source:"server"}).then(t=>d1(e,n,t))}(this._delegate):function qU(n){n=On(n,$r);const e=On(n.firestore,Hr);return IN(Ei(e),n._key).then(t=>d1(e,n,t))}(this._delegate),t.then(r=>new m0(this.firestore,new bd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new tc(this.firestore,this._delegate.withConverter(e?am.getInstance(this.firestore,e):null))}}function ds(n,e,t){return n.message=n.message.replace(e,t),n}function lF(n){for(const e of n)if("object"==typeof e&&!f1(e))return e;return{}}function uF(n,e){var t,r;let i;return i=f1(n[0])?n[0]:f1(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class m0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new tc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return JN(this._delegate,e._delegate)}}class g0 extends m0{data(e){const t=this._delegate.data(e);return function h2(n,e){n||Dt()}(void 0!==t),t}}class hs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new tD(e)}where(e,t,r){try{return new hs(this.firestore,af(this._delegate,function FU(n,e,t){const r=e,i=YC("where",n);return h0._create(i,r,t)}(e,t,r)))}catch(i){throw ds(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new hs(this.firestore,af(this._delegate,function LU(n,e="asc"){const t=e,r=YC("orderBy",n);return l1._create(r,t)}(e,t)))}catch(r){throw ds(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new hs(this.firestore,af(this._delegate,function VU(n){return MN("limit",n),QC._create("limit",n,"F")}(e)))}catch(t){throw ds(t,"limit()","Query.limit()")}}limitToLast(e){try{return new hs(this.firestore,af(this._delegate,function BU(n){return MN("limitToLast",n),QC._create("limitToLast",n,"L")}(e)))}catch(t){throw ds(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new hs(this.firestore,af(this._delegate,function UU(...n){return JC._create("startAt",n,!0)}(...e)))}catch(t){throw ds(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new hs(this.firestore,af(this._delegate,function jU(...n){return JC._create("startAfter",n,!1)}(...e)))}catch(t){throw ds(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new hs(this.firestore,af(this._delegate,function $U(...n){return XC._create("endBefore",n,!1)}(...e)))}catch(t){throw ds(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new hs(this.firestore,af(this._delegate,function HU(...n){return XC._create("endAt",n,!0)}(...e)))}catch(t){throw ds(t,"endAt()","Query.endAt()")}}isEqual(e){return t1(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function QU(n){n=On(n,Do);const e=On(n.firestore,Hr),t=Ei(e),r=new lf(e);return function lU(n,e){const t=new Hi;return n.asyncQueue.enqueueAndForget((0,Re.Z)(function*(){return(r=(0,Re.Z)(function*(i,a,l){try{const f=yield PC(i,a,!0),y=new dN(a,f.ir),w=y.sc(f.documents),x=y.applyChanges(w,!1);l.resolve(x.snapshot)}catch(f){const y=ky(f,`Failed to execute query '${a} against cache`);l.reject(y)}}),function(i,a,l){return r.apply(this,arguments)})(yield $C(n),e,t);var r})),t.promise}(t,n._query).then(i=>new cf(e,r,n,i))}(this._delegate):"server"===e?.source?function JU(n){n=On(n,Do);const e=On(n.firestore,Hr),t=Ei(e),r=new lf(e);return CN(t,n._query,{source:"server"}).then(i=>new cf(e,r,n,i))}(this._delegate):function YU(n){n=On(n,Do);const e=On(n.firestore,Hr),t=Ei(e),r=new lf(e);return GN(n._query),CN(t,n._query).then(i=>new cf(e,r,n,i))}(this._delegate),t.then(r=>new p1(this.firestore,new cf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=lF(e),r=uF(e,i=>new p1(this.firestore,new cf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return tF(this._delegate,t,r)}withConverter(e){return new hs(this.firestore,this._delegate.withConverter(e?am.getInstance(this.firestore,e):null))}}class Ij{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new g0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class p1{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new hs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new g0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Ij(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new g0(this._firestore,r))})}isEqual(e){return JN(this._delegate,e._delegate)}}class jy extends hs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new tc(this.firestore,e):null}doc(e){try{return new tc(this.firestore,void 0===e?zC(this._delegate):zC(this._delegate,e))}catch(t){throw ds(t,"doc()","CollectionReference.doc()")}}add(e){return function ej(n,e){const t=On(n.firestore,Hr),r=zC(n),i=eD(n.converter,e);return Uy(t,[qC(im(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Qr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new tc(this.firestore,t))}isEqual(e){return ON(this._delegate,e._delegate)}withConverter(e){return new jy(this.firestore,this._delegate.withConverter(e?am.getInstance(this.firestore,e):null))}}function cm(n){return On(n,$r)}class m1{constructor(...e){this._delegate=new vd(...e)}static documentId(){return new m1(hi.keyField().canonicalString())}isEqual(e){return(e=(0,Bn.m9)(e))instanceof vd&&this._delegate._internalPath.isEqual(e._internalPath)}}class lm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function pj(){return new r1("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new lm(e)}static delete(){const e=function fj(){return new c0("deleteField")}();return e._methodName="FieldValue.delete",new lm(e)}static arrayUnion(...e){const t=function mj(...n){return new RU("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new lm(t)}static arrayRemove(...e){const t=function gj(...n){return new PU("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new lm(t)}static increment(e){const t=function yj(n){return new kU("increment",n)}(e);return t._methodName="FieldValue.increment",new lm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Cj={Firestore:sF,GeoPoint:GC,Timestamp:Yr,Blob:p0,Transaction:aF,WriteBatch:cF,DocumentReference:tc,DocumentSnapshot:m0,Query:hs,QueryDocumentSnapshot:g0,QuerySnapshot:p1,CollectionReference:jy,FieldPath:m1,FieldValue:lm,setLogLevel:function Ej(n){!function d2(n){Hh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function dF(n,e){return function Aj(n,e=lS.z){return new Ri.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function g1(n,e){return dF(n,e).pipe((0,mt.U)(t=>({payload:t,type:"query"})))}function nD(n,e){return g1(n,e).pipe(uh(void 0),eb(),(0,mt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,f)=>{const y=i.find(x=>x.doc.ref.isEqual(l.ref)),w=t?.payload.docs.find(x=>x.ref.isEqual(l.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(l.metadata)||!y&&w&&JSON.stringify(w.metadata)===JSON.stringify(l.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:l}})}),a}))}function hF(n,e,t){return nD(n,t).pipe(jm((r,i)=>function xj(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function Mj(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return y1(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return y1(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return y1(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),yI(),(0,mt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function y1(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function fF(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function Tj(n){(function Dj(n,e){n.INTERNAL.registerComponent(new Zl.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Cj)))})(n,(e,t)=>new sF(e,t,new wj)),n.registerVersion("@firebase/firestore-compat","0.3.10")}(_I.Z);class pF{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=nD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,mt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(uh(void 0),eb(),Pi(([r,i])=>i.length>0||!r),(0,mt.U)(([r,i])=>i),Pn.iC)}auditTrail(e){return this.stateChanges(e).pipe(jm((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=fF(e);return hF(this.query,t,this.afs.schedulers.outsideAngular).pipe(Pn.iC)}valueChanges(e={}){return g1(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Pn.iC)}get(e){return(0,Rn.D)(this.query.get(e)).pipe(Pn.iC)}add(e){return this.ref.add(e)}doc(e){return new mF(this.ref.doc(e),this.afs)}}class mF{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=_F(r,t);return new pF(i,a,this.afs)}snapshotChanges(){return function Sj(n,e){return dF(n,e).pipe(uh(void 0),eb(),(0,mt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Pn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,mt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Rn.D)(this.ref.get(e)).pipe(Pn.iC)}}class Rj{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?nD(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Pi(t=>t.length>0),Pn.iC):nD(this.query,this.afs.schedulers.outsideAngular).pipe(Pn.iC)}auditTrail(e){return this.stateChanges(e).pipe(jm((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=fF(e);return hF(this.query,t,this.afs.schedulers.outsideAngular).pipe(Pn.iC)}valueChanges(e={}){return g1(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Pn.iC)}get(e){return(0,Rn.D)(this.query.get(e)).pipe(Pn.iC)}}const gF=new d.OlP("angularfire2.enableFirestorePersistence"),yF=new d.OlP("angularfire2.firestore.persistenceSettings"),Pj=new d.OlP("angularfire2.firestore.settings"),kj=new d.OlP("angularfire2.firestore.use-emulator");function _F(n,e=(t=>t)){return{query:e(n),ref:n}}let vF=(()=>{class n{constructor(t,r,i,a,l,f,y,w,x,O,G,Q,ie,ue,Ce,qe,at){this.schedulers=y;const gt=(0,bo.on)(t,f,r),wt=x;O&&Vg(gt,f,G,ie,ue,Ce,Q,qe),[this.firestore,this.persistenceEnabled$]=(0,bo.cc)(`${gt.name}.firestore`,"AngularFirestore",gt.name,()=>{const tn=f.runOutsideAngular(()=>gt.firestore());if(a&&tn.settings(a),wt&&tn.useEmulator(...wt),i&&!_s(l)){const pn=()=>{try{return(0,Rn.D)(tn.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(qn){return typeof console<"u"&&console.warn(qn),ut(!1)}};return[tn,f.runOutsideAngular(pn)]}return[tn,ut(!1)]},[a,wt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:l}=_F(i,r),f=this.schedulers.ngZone.run(()=>a);return new pF(f,l,this)}collectionGroup(t,r){const i=r||(l=>l),a=this.firestore.collectionGroup(t);return new Rj(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new mF(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(bo.Dh),d.LFG(bo.xv,8),d.LFG(gF,8),d.LFG(Pj,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Pn.HU),d.LFG(yF,8),d.LFG(kj,8),d.LFG(Xv,8),d.LFG(Yv,8),d.LFG(mI,8),d.LFG(Qv,8),d.LFG(id,8),d.LFG(gI,8),d.LFG(Jv,8),d.LFG(wp,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Oj=(()=>{class n{constructor(){Lg.Z.registerVersion("angularfire",Pn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:gF,useValue:!0},{provide:yF,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[vF]}),n})(),rD=(()=>{class n{constructor(t,r,i,a,l){this.swal=t,this.auth=r,this.authFire=i,this.router=a,this.af=l,this.isLoggedIn=!1,this.userName="",this.user$=this.authFire.authState.pipe(Fi(f=>f?this.af.doc(`usuarios/${f.uid}`).valueChanges():ut(null)))}createUser(t){return zA(this.auth,t.email,t.clave).then(r=>{null!=r&&(ZA(t),this.af.collection("usuarios").doc(r.user?.uid).set({id:r.user?.uid,perfil:t.perfil,nombre:t.nombre,apellido:t.apellido,edad:t.edad,dni:t.dni,obraSocial:t.obraSocial,especialidad:t.especialidad,email:t.email,password:t.password,imagen1:t.imagen1,imagen2:t.imagen2,aprobado:t.aprobado}).then(()=>{this.swal.showToast("Registro exitoso. Revisa tu correo","success")}).catch(i=>{this.swal.showToast(i.code,"error")}))})}login({email:t,password:r}){return hI(this.auth,t,r).then(()=>{this.isLoggedIn=!0,console.log(!0)}).catch(i=>{console.log("Hubo un error: "+i)})}checkEmail(t){return!!/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(t)}logout(){this.auth.signOut(),this.router.navigateByUrl("/login"),this.swal.showToast("Sesi\xf3n cerrada","success"),this.isLoggedIn=!1,console.log("Sesi\xf3n cerrada")}setUserData(t,r){return this.af.collection(r).add(t)}getUserName(){return this.userName}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Cp),d.LFG(Pg),d.LFG(Xv),d.LFG(di),d.LFG(vF))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Nj=(()=>{class n{constructor(t,r,i){this.userService=t,this.router=r,this.swal=i,this.user=new bg}ngOnInit(){}loginUser(){""==this.user.email||""==this.user.clave?this.swal.swalert("Error","Campos vac\xedos","error"):this.userService.login({email:this.user.email,password:this.user.clave}).then(()=>{this.userService.setUserData({Fecha:this.getDateFormat(new Date),Usuario:this.user.email},"datos de ingresos"),this.swal.swalert("Bienvenido","Bienvenido a la Cl\xednica Online","success"),this.router.navigateByUrl("/home")}).catch(()=>{this.swal.swalert("Error","Alguno de los datos es incorrecto","error")})}getDateFormat(t){return`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`}fastLogin(){this.user.email="invitado@invitado.com",this.user.clave="123456"}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(rD),d.Y36(di),d.Y36(Cp))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-login"]],decls:24,vars:2,consts:[[1,"container"],[1,"screen"],[1,"screen__content"],[1,"login"],[1,"login__field"],["type","text","placeholder","Email",1,"login__input",3,"ngModel","ngModelChange"],[1,"login__icon","fas","fa-lock"],["type","password","placeholder","Clave",1,"login__input",3,"ngModel","ngModelChange"],[1,"button","login__submit",3,"click"],[1,"button__text"],[1,"button__icon","fas","fa-chevron-right"],[1,"screen__background"],[1,"screen__background__shape","screen__background__shape4"],[1,"screen__background__shape","screen__background__shape3"],[1,"screen__background__shape","screen__background__shape2"],[1,"screen__background__shape","screen__background__shape1"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),d._uU(5,"Log in"),d.qZA(),d.TgZ(6,"div",4)(7,"input",5),d.NdJ("ngModelChange",function(a){return r.user.email=a}),d.qZA()(),d.TgZ(8,"div",4),d._UZ(9,"i",6),d.TgZ(10,"input",7),d.NdJ("ngModelChange",function(a){return r.user.clave=a}),d.qZA()(),d.TgZ(11,"button",8),d.NdJ("click",function(){return r.loginUser()}),d.TgZ(12,"span",9),d._uU(13,"Ingresar"),d.qZA(),d._UZ(14,"i",10),d.qZA(),d.TgZ(15,"button",8),d.NdJ("click",function(){return r.fastLogin()}),d.TgZ(16,"span",9),d._uU(17,"Iniciar sesi\xf3n como invitado"),d.qZA(),d._UZ(18,"i",10),d.qZA()()(),d.TgZ(19,"div",11),d._UZ(20,"span",12)(21,"span",13)(22,"span",14)(23,"span",15),d.qZA()()()),2&t&&(d.xp6(7),d.Q6J("ngModel",r.user.email),d.xp6(3),d.Q6J("ngModel",r.user.clave))},dependencies:[Qd,ju,Lf],styles:['@import"https://fonts.googleapis.com/css?family=Raleway:400,700";*[_ngcontent-%COMP%]{box-sizing:border-box;margin:1;padding:0;font-family:Raleway,sans-serif}body[_ngcontent-%COMP%]{background:linear-gradient(90deg,#C7C5F4,#776BCC)}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative;top:13%}.screen[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f1fcfb,#dafffd);position:relative;height:600px;width:360px;box-shadow:0 0 24px #8dcac7;border-radius:15px}.screen__content[_ngcontent-%COMP%]{z-index:1;position:relative;height:100%}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#5e8b89}.login[_ngcontent-%COMP%]{width:320px;padding:100px 30px 30px}.login__field[_ngcontent-%COMP%]{padding:20px 0;position:relative}.login__icon[_ngcontent-%COMP%]{position:absolute;top:30px;color:#7875b5}.login__input[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #D1D1D4;background:none;padding:10px 10px 10px 24px;font-weight:700;width:75%;transition:.2s}.login__input[_ngcontent-%COMP%]:active, .login__input[_ngcontent-%COMP%]:focus, .login__input[_ngcontent-%COMP%]:hover{outline:none;border-bottom-color:#6a679e}.login__submit[_ngcontent-%COMP%]{background:#fff;font-size:14px;margin-top:30px;padding:16px 20px;border-radius:26px;border:1px solid #ddfffd;text-transform:uppercase;font-weight:700;display:flex;align-items:center;width:100%;color:#57a39f;box-shadow:0 2px 2px #57a39f;cursor:pointer;transition:.2s}.login__submit[_ngcontent-%COMP%]:active, .login__submit[_ngcontent-%COMP%]:focus, .login__submit[_ngcontent-%COMP%]:hover{border-color:#99dfdc;outline:none}.button__icon[_ngcontent-%COMP%]{font-size:24px;margin-left:auto;color:#7875b5}.social-login[_ngcontent-%COMP%]{position:absolute;height:140px;width:160px;text-align:center;bottom:0;right:0;color:#fff}.social-icons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.social-login__icon[_ngcontent-%COMP%]{padding:20px 10px;color:#fff;text-decoration:none;text-shadow:0px 0px 8px #7875B5}.social-login__icon[_ngcontent-%COMP%]:hover{transform:scale(1.5)}']}),n})(),Fj=(()=>{class n{constructor(t){this.router=t}irALogIn(){try{this.router.navigateByUrl("/login")}catch(t){console.log(t)}}irARegistro(){try{this.router.navigateByUrl("/registro")}catch(t){console.log(t)}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(di))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-bienvenido"]],decls:15,vars:0,consts:[[1,"container"],[1,"screen"],[1,"screen__content"],[1,"text-center"],[1,"home"],[1,"home__field"],[1,"button","home__submit",3,"click"],[1,"button__text"],[1,"button__icon","fas","fa-chevron-right"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),d._uU(4,"Bienvenido a la Cl\xednica OnLine"),d.qZA(),d.TgZ(5,"div",4)(6,"div",5)(7,"button",6),d.NdJ("click",function(){return r.irALogIn()}),d.TgZ(8,"span",7),d._uU(9,"Iniciar sesi\xf3n"),d.qZA(),d._UZ(10,"i",8),d.qZA(),d.TgZ(11,"button",6),d.NdJ("click",function(){return r.irARegistro()}),d.TgZ(12,"span",7),d._uU(13,"Registrarse"),d.qZA(),d._UZ(14,"i",8),d.qZA()()()()()())},styles:["body[_ngcontent-%COMP%]{background:linear-gradient(90deg,#C7C5F4,#776BCC)}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative;top:11%}.screen[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ffffff,#dafffd);position:relative;height:600px;width:750px;box-shadow:0 0 24px #8dcac7;border-radius:15px;display:flex;flex-direction:column;align-content:center;text-align:center}.screen__content[_ngcontent-%COMP%]{z-index:1;position:relative;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#5e8b89}.text-center[_ngcontent-%COMP%]{text-align:center}.home[_ngcontent-%COMP%]{width:320px;padding:100px 30px 30px}.home__field[_ngcontent-%COMP%]{padding:20px 0;position:relative}.home__icon[_ngcontent-%COMP%]{position:absolute;top:30px;color:#7875b5}.home__input[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #D1D1D4;background:none;padding:10px 10px 10px 24px;font-weight:700;width:75%;transition:.2s}.home__input[_ngcontent-%COMP%]:active, .home__input[_ngcontent-%COMP%]:focus, .home__input[_ngcontent-%COMP%]:hover{outline:none;border-bottom-color:#6a679e}.home__submit[_ngcontent-%COMP%]{background:#fff;font-size:14px;margin-top:30px;padding:16px 20px;border-radius:26px;border:1px solid #ddfffd;text-transform:uppercase;font-weight:700;display:flex;align-items:center;width:100%;color:#57a39f;box-shadow:0 2px 2px #57a39f;cursor:pointer;transition:.2s}.home__submit[_ngcontent-%COMP%]:active, .home__submit[_ngcontent-%COMP%]:focus, .home__submit[_ngcontent-%COMP%]:hover{border-color:#99dfdc;outline:none}.button__icon[_ngcontent-%COMP%]{font-size:24px;margin-left:auto;color:#7875b5}"]}),n})();const Lj=new d.OlP("recaptcha-language"),Vj=new d.OlP("recaptcha-base-url"),Bj=new d.OlP("recaptcha-nonce-tag"),Uj=new d.OlP("recaptcha-settings"),jj=new d.OlP("recaptcha-v3-site-key"),Hj_loadScript=function $j(n,e,t,r,i){window.ng2recaptchaloaded=()=>{e(grecaptcha)};const a=document.createElement("script");a.innerHTML="",a.src=`${r||"https://www.google.com/recaptcha/api.js"}?render=${n}&onload=ng2recaptchaloaded${t}`,i&&(a.nonce=i),a.async=!0,a.defer=!0,document.head.appendChild(a)};let bF=(()=>{class n{constructor(t,r,i,a,l){this.platformId=t,this.language=r,this.baseUrl=i,this.nonce=a,this.v3SiteKey=l,this.init(),this.ready=Wi(this.platformId)?n.ready.asObservable():ut()}init(){if(!n.ready&&Wi(this.platformId)){const t=new os(null);n.ready=t,Hj_loadScript(this.v3SiteKey||"explicit",a=>t.next(a),this.language?"&hl="+this.language:"",this.baseUrl,this.nonce)}}}return n.ready=null,n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi),d.LFG(Lj,8),d.LFG(Vj,8),d.LFG(Bj,8),d.LFG(jj,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),zj=0,Gj=(()=>{class n{constructor(t,r,i,a){this.elementRef=t,this.loader=r,this.zone=i,this.id="ngrecaptcha-"+zj++,this.errorMode="default",this.resolved=new d.vpe,this.error=new d.vpe,this.errored=new d.vpe,a&&(this.siteKey=a.siteKey,this.theme=a.theme,this.type=a.type,this.size=a.size,this.badge=a.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(t=>{null!=t&&t.render instanceof Function&&(this.grecaptcha=t,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){"invisible"===this.size&&(null!=this.widget?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){null!=this.widget&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}get __unsafe_widgetValue(){return null!=this.widget?this.grecaptcha.getResponse(this.widget):null}expired(){this.resolved.emit(null)}onError(t){this.error.emit(t),this.errored.emit(t)}captchaResponseCallback(t){this.resolved.emit(t)}grecaptchaReset(){null!=this.widget&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){const t={badge:this.badge,callback:r=>{this.zone.run(()=>this.captchaResponseCallback(r))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};"handled"===this.errorMode&&(t["error-callback"]=(...r)=>{this.zone.run(()=>this.onError(r))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,t),!0===this.executeRequested&&(this.executeRequested=!1,this.execute())}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(bF),d.Y36(d.R0b),d.Y36(Uj,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(t,r){2&t&&d.uIk("id",r.id)},inputs:{id:"id",siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabIndex:"tabIndex",badge:"badge",errorMode:"errorMode"},outputs:{resolved:"resolved",error:"error",errored:"errored"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),wF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),Wj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[bF],imports:[wF]}),n})(),qj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[nw,wF]}),n})(),Kj=(()=>{class n{resolved(t){console.log(`Resolved captcha with response: ${t}`)}constructor(t,r){this.fb=t,this.userService=r,this.paciente=new bg,this.mostrar=!1,this.titulo="Mostrar listado",this.forma=this.fb.group({nombre:["",[ne.required]],apellido:["",ne.required],edad:["",[ne.required,ne.min(0),ne.max(120)]],dni:["",[ne.required,ne.min(1),ne.max(9999999)]],obraSocial:["",ne.required],email:["",ne.required],clave:["",ne.required]})}spacesValidator(t){return t.value.includes(" ")?{containsSpaces:!0}:null}aceptar(){this.forma&&console.log(this.forma.getRawValue())}validar(){let t=!0;return(""===this.paciente.nombre||""===this.paciente.apellido||0===this.paciente.edad||0===this.paciente.dni||""===this.paciente.obraSocial||""===this.paciente.email||""===this.paciente.clave)&&(t=!1,Kv().fire({title:"Error",text:"Complete todos los campos para registrar",icon:"error",confirmButtonText:"Ok"})),console.log(this.paciente),t}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(tw),d.Y36(rD))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-form-alta-paciente"]],decls:3,vars:0,consts:[["siteKey","6LdgXogmAAAAAAdh2uwnfttNUNNv7fYi0rpb_CHI",3,"resolved"]],template:function(t,r){1&t&&(d.TgZ(0,"p"),d._uU(1,"form-alta-paciente works!"),d.qZA(),d.TgZ(2,"re-captcha",0),d.NdJ("resolved",function(a){return r.resolved(a)}),d.qZA())},dependencies:[Gj]}),n})();function Zj(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"h1"),d._uU(4,"Especialista"),d.qZA(),d.TgZ(5,"img",9),d.NdJ("click",function(){d.CHM(t);const i=d.oxw();return d.KtG(i.boolFormEsp=!0)}),d.qZA()(),d.TgZ(6,"h1"),d._uU(7,"Paciente"),d.qZA(),d.TgZ(8,"div",8)(9,"img",10),d.NdJ("click",function(){d.CHM(t);const i=d.oxw();return d.KtG(i.boolFormPac=!0)}),d.qZA()()()()}}function Yj(n,e){1&n&&(d.TgZ(0,"div",11),d._uU(1," Especialista "),d.qZA())}function Qj(n,e){1&n&&(d.TgZ(0,"div",12),d._UZ(1,"app-form-alta-paciente"),d.qZA())}const Jj=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"login",component:Nj},{path:"registro",component:(()=>{class n{constructor(t,r,i){this.userService=t,this.router=r,this.swal=i,this.boolFormPac=!1,this.boolFormEsp=!1,this.img_paciente="../../../assets/patient.jpg",this.img_doctor="../../../assets/doctor.jpg",this.user=new bg}ngOnInit(){}register(){""==this.user.email||""==this.user.clave?this.swal.swalert("Error","Campos vac\xedos","error"):this.userService.checkEmail(this.user.email)?this.userService.createUser({email:this.user.email,password:this.user.clave}).then(()=>{this.swal.swalert("Registro","Usuario registrado","success"),this.router.navigateByUrl("/home")}).catch(t=>{this.swal.swalert("Error","auth/email-already-in-use"==t.code?"El mail ya est\xe1 en uso":"auth/weak-password"==t.code?"La contrase\xf1a debe tener al menos 6 caracteres":"No se pudo registrar","error")}):this.swal.swalert("Error","Email inv\xe1lido","error")}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(rD),d.Y36(di),d.Y36(Cp))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-registro"]],decls:6,vars:3,consts:[[1,"container"],[1,"screen"],[1,"screen__content"],["class","registration",4,"ngIf"],["class","form-especialista",4,"ngIf"],["class","form-paciente",4,"ngIf"],[1,"registration"],[1,"col"],[1,"row"],["src","../../../assets/doctor.jpg","alt","especialista",3,"click"],["src","../../../assets/patient.jpg","alt","paciente",3,"click"],[1,"form-especialista"],[1,"form-paciente"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"div",2),d.YNc(3,Zj,10,0,"div",3),d.YNc(4,Yj,2,0,"div",4),d.YNc(5,Qj,2,0,"div",5),d.qZA()()()),2&t&&(d.xp6(3),d.Q6J("ngIf",!r.boolFormPac&&!r.boolFormEsp),d.xp6(1),d.Q6J("ngIf",r.boolFormEsp),d.xp6(1),d.Q6J("ngIf",r.boolFormPac))},dependencies:[So,Kj],styles:['@import"https://fonts.googleapis.com/css?family=Raleway:400,700";*[_ngcontent-%COMP%]{box-sizing:border-box;margin:1;padding:0;font-family:Raleway,sans-serif}body[_ngcontent-%COMP%]{background:linear-gradient(90deg,#C7C5F4,#776BCC)}img[_ngcontent-%COMP%]{border-radius:50%;width:35%;height:35%;cursor:pointer}.row[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20%}.center-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative;top:12%}.screen[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f1fcfb,#dafffd);position:relative;height:700px;width:600px;box-shadow:0 0 24px #8dcac7;border-radius:15px}.screen__content[_ngcontent-%COMP%]{z-index:1;position:relative;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#5e8b89}.registration[_ngcontent-%COMP%]{width:450px;padding:80px 30px 30px}.registration__field[_ngcontent-%COMP%]{padding:7px 0;position:relative}.registration__icon[_ngcontent-%COMP%]{position:absolute;top:30px;color:#7875b5}.registration__input[_ngcontent-%COMP%]{border:none;border-bottom:2px solid #D1D1D4;background:none;padding:10px 10px 10px 24px;font-weight:700;width:75%;transition:.2s}.registration__input[_ngcontent-%COMP%]:active, .registration__input[_ngcontent-%COMP%]:focus, .registration__input[_ngcontent-%COMP%]:hover{outline:none;border-bottom-color:#6a679e}.registration__submit[_ngcontent-%COMP%]{background:#fff;font-size:14px;margin-top:30px;padding:16px 20px;border-radius:26px;border:1px solid #ddfffd;text-transform:uppercase;font-weight:700;display:flex;align-items:center;width:100%;color:#57a39f;box-shadow:0 2px 2px #57a39f;cursor:pointer;transition:.2s}.registration__submit[_ngcontent-%COMP%]:active, .registration__submit[_ngcontent-%COMP%]:focus, .registration__submit[_ngcontent-%COMP%]:hover{border-color:#99dfdc;outline:none}.button__icon[_ngcontent-%COMP%]{font-size:24px;margin-left:auto;color:#7875b5}.social-registration[_ngcontent-%COMP%]{position:absolute;height:140px;width:160px;text-align:center;bottom:0;right:0;color:#fff}.social-icons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.social-registration__icon[_ngcontent-%COMP%]{padding:20px 10px;color:#fff;text-decoration:none;text-shadow:0px 0px 8px #7875B5}.social-registration__icon[_ngcontent-%COMP%]:hover{transform:scale(1.5)}']}),n})()},{path:"home",component:Fj}];let Xj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[gv.forRoot(Jj),gv]}),n})();class EF{}class e${}const wd="*";function IF(n,e=null){return{type:2,steps:n,options:e}}function CF(n){return{type:6,styles:n,offset:null}}function DF(n){Promise.resolve().then(n)}class y0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){DF(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class TF{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?DF(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==a&&this._onFinish()}),l.onDestroy(()=>{++r==a&&this._onDestroy()}),l.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((l,f)=>Math.max(l,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const _1="!";function AF(n){return new d.vHH(3e3,!1)}function N$(){return typeof window<"u"&&typeof window.document<"u"}function v1(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function df(n){switch(n.length){case 0:return new y0;case 1:return n[0];default:return new TF(n)}}function SF(n,e,t,r,i=new Map,a=new Map){const l=[],f=[];let y=-1,w=null;if(r.forEach(x=>{const O=x.get("offset"),G=O==y,Q=G&&w||new Map;x.forEach((ie,ue)=>{let Ce=ue,qe=ie;if("offset"!==ue)switch(Ce=e.normalizePropertyName(Ce,l),qe){case _1:qe=i.get(ue);break;case wd:qe=a.get(ue);break;default:qe=e.normalizeStyleValue(ue,Ce,qe,l)}Q.set(Ce,qe)}),G||f.push(Q),w=Q,y=O}),l.length)throw function I$(n){return new d.vHH(3502,!1)}();return f}function b1(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&w1(t,"start",n)));break;case"done":n.onDone(()=>r(t&&w1(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&w1(t,"destroy",n)))}}function w1(n,e,t){const a=E1(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(a._data=l),a}function E1(n,e,t,r,i="",a=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!l}}function va(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function xF(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let I1=(n,e)=>!1,MF=(n,e,t)=>[],RF=null;function C1(n){const e=n.parentNode||n.host;return e===RF?null:e}(v1()||typeof Element<"u")&&(N$()?(RF=(()=>document.documentElement)(),I1=(n,e)=>{for(;e;){if(e===n)return!0;e=C1(e)}return!1}):I1=(n,e)=>n.contains(e),MF=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let um=null,PF=!1;const kF=I1,OF=MF;let NF=(()=>{class n{validateStyleProperty(t){return function L$(n){um||(um=function V$(){return typeof document<"u"?document.body:null}()||{},PF=!!um.style&&"WebkitAppearance"in um.style);let e=!0;return um.style&&!function F$(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in um.style,!e&&PF&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in um.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return kF(t,r)}getParentElement(t){return C1(t)}query(t,r,i){return OF(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,l,f=[],y){return new y0(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),D1=(()=>{class n{}return n.NOOP=new NF,n})();const B$=1e3,T1="ng-enter",iD="ng-leave",oD="ng-trigger",sD=".ng-trigger",LF="ng-animating",A1=".ng-animating";function Ed(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:S1(parseFloat(e[1]),e[2])}function S1(n,e){return"s"===e?n*B$:n}function aD(n,e,t){return n.hasOwnProperty("duration")?n:function j$(n,e,t){let i,a=0,l="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(AF()),{duration:0,delay:0,easing:""};i=S1(parseFloat(f[1]),f[2]);const y=f[3];null!=y&&(a=S1(parseFloat(y),f[4]));const w=f[5];w&&(l=w)}else i=n;if(!t){let f=!1,y=e.length;i<0&&(e.push(function t$(){return new d.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function n$(){return new d.vHH(3101,!1)}()),f=!0),f&&e.splice(y,0,AF())}return{duration:i,delay:a,easing:l}}(n,e,t)}function _0(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function VF(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function hf(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function UF(n,e,t){return t?e+":"+t+";":""}function jF(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=UF(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=UF(0,G$(t),n.style[t]));n.setAttribute("style",e)}function su(n,e,t){n.style&&(e.forEach((r,i)=>{const a=M1(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),v1()&&jF(n))}function dm(n,e){n.style&&(e.forEach((t,r)=>{const i=M1(r);n.style[i]=""}),v1()&&jF(n))}function v0(n){return Array.isArray(n)?1==n.length?n[0]:IF(n):n}const x1=new RegExp("{{\\s*(.+?)\\s*}}","g");function $F(n){let e=[];if("string"==typeof n){let t;for(;t=x1.exec(n);)e.push(t[1]);x1.lastIndex=0}return e}function b0(n,e,t){const r=n.toString(),i=r.replace(x1,(a,l)=>{let f=e[l];return null==f&&(t.push(function i$(n){return new d.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function cD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const z$=/-+([a-z0-9])/g;function M1(n){return n.replace(z$,(...e)=>e[1].toUpperCase())}function G$(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ba(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function o$(n){return new d.vHH(3004,!1)}()}}function HF(n,e){return window.getComputedStyle(n)[e]}const dD="*";function Q$(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function J$(n,e,t){if(":"==n[0]){const y=function X$(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function v$(n){return new d.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function _$(n){return new d.vHH(3015,!1)}()),e;const i=r[1],a=r[2],l=r[3];e.push(zF(i,l));"<"==a[0]&&!(i==dD&&l==dD)&&e.push(zF(l,i))}(r,t,e)):t.push(n),t}const hD=new Set(["true","1"]),fD=new Set(["false","0"]);function zF(n,e){const t=hD.has(n)||fD.has(n),r=hD.has(e)||fD.has(e);return(i,a)=>{let l=n==dD||n==i,f=e==dD||e==a;return!l&&t&&"boolean"==typeof i&&(l=i?hD.has(n):fD.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?hD.has(e):fD.has(e)),l&&f}}const eH=new RegExp("s*:selfs*,?","g");function R1(n,e,t,r){return new tH(n).build(e,t,r)}class tH{constructor(e){this._driver=e}build(e,t,r){const i=new iH(t);return this._resetContextStyleTimingState(i),ba(this,v0(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function a$(){return new d.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const y=f,w=y.name;w.toString().split(/\s*,\s*/).forEach(x=>{y.name=x,a.push(this.visitState(y,t))}),y.name=w}else if(1==f.type){const y=this.visitTransition(f,t);r+=y.queryCount,i+=y.depCount,l.push(y)}else t.errors.push(function c$(){return new d.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,l=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(y=>{$F(y).forEach(w=>{l.hasOwnProperty(w)||a.add(w)})})}),a.size&&(cD(a.values()),t.errors.push(function l$(n,e){return new d.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ba(this,v0(e.animation),t);return{type:1,matchers:Q$(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:hm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ba(this,r,t)),options:hm(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(l=>{t.currentTime=r;const f=ba(this,l,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:hm(e.options)}}visitAnimate(e,t){const r=function sH(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return P1(aD(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=P1(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=aD(t,e);return P1(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:CF({});if(5==a.type)i=this.visitKeyframes(a,t);else{let l=e.styles,f=!1;if(!l){f=!0;const w={};r.easing&&(w.easing=r.easing),l=CF(w)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(l,t);y.isEmptyStep=f,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===wd?r.push(f):t.errors.push(new d.vHH(3002,!1)):r.push(VF(f));let a=!1,l=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(l=f.get("easing"),f.delete("easing")),!a))for(let y of f.values())if(y.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((f,y)=>{const w=t.collectedStyles.get(t.currentQuerySelector),x=w.get(y);let O=!0;x&&(a!=i&&a>=x.startTime&&i<=x.endTime&&(t.errors.push(function d$(n,e,t,r,i){return new d.vHH(3010,!1)}()),O=!1),a=x.startTime),O&&w.set(y,{startTime:a,endTime:i}),t.options&&function H$(n,e,t){const r=e.params||{},i=$F(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function r$(n){return new d.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function h$(){return new d.vHH(3011,!1)}()),r;let a=0;const l=[];let f=!1,y=!1,w=0;const x=e.steps.map(qe=>{const at=this._makeStyleAst(qe,t);let gt=null!=at.offset?at.offset:function oH(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(at.styles),wt=0;return null!=gt&&(a++,wt=at.offset=gt),y=y||wt<0||wt>1,f=f||wt<w,w=wt,l.push(wt),at});y&&t.errors.push(function f$(){return new d.vHH(3012,!1)}()),f&&t.errors.push(function p$(){return new d.vHH(3200,!1)}());const O=e.steps.length;let G=0;a>0&&a<O?t.errors.push(function m$(){return new d.vHH(3202,!1)}()):0==a&&(G=1/(O-1));const Q=O-1,ie=t.currentTime,ue=t.currentAnimateTimings,Ce=ue.duration;return x.forEach((qe,at)=>{const gt=G>0?at==Q?1:G*at:l[at],wt=gt*Ce;t.currentTime=ie+ue.delay+wt,ue.duration=wt,this._validateStyleAst(qe,t),qe.offset=gt,r.styles.push(qe)}),r}visitReference(e,t){return{type:8,animation:ba(this,v0(e.animation),t),options:hm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:hm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:hm(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,l]=function nH(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(eH,"")),n=n.replace(/@\*/g,sD).replace(/@\w+/g,t=>sD+"-"+t.slice(1)).replace(/:animating/g,A1),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,va(t.collectedStyles,t.currentQuerySelector,new Map);const f=ba(this,v0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:f,originalSelector:e.selector,options:hm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function g$(){return new d.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:aD(e.timings,t.errors,!0);return{type:12,animation:ba(this,v0(e.animation),t),timings:r,options:null}}}class iH{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function hm(n){return n?(n=_0(n)).params&&(n.params=function rH(n){return n?_0(n):null}(n.params)):n={},n}function P1(n,e,t){return{duration:n,delay:e,easing:t}}function k1(n,e,t,r,i,a,l=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:l,subTimeline:f}}class pD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const lH=new RegExp(":enter","g"),dH=new RegExp(":leave","g");function O1(n,e,t,r,i,a=new Map,l=new Map,f,y,w=[]){return(new hH).buildKeyframes(n,e,t,r,i,a,l,f,y,w)}class hH{buildKeyframes(e,t,r,i,a,l,f,y,w,x=[]){w=w||new pD;const O=new N1(e,t,w,i,a,x,[]);O.options=y;const G=y.delay?Ed(y.delay):0;O.currentTimeline.delayNextStep(G),O.currentTimeline.setStyles([l],null,O.errors,y),ba(this,r,O);const Q=O.timelines.filter(ie=>ie.containsAnimation());if(Q.length&&f.size){let ie;for(let ue=Q.length-1;ue>=0;ue--){const Ce=Q[ue];if(Ce.element===t){ie=Ce;break}}ie&&!ie.allowOnlyTimelineStyles()&&ie.setStyles([f],null,O.errors,y)}return Q.length?Q.map(ie=>ie.buildKeyframes()):[k1(t,[],[],[],0,G,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);a!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const l="number"==typeof a?a:Ed(b0(a,i?.params??{},t.errors));r.delayNextStep(l)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const l=null!=r.duration?Ed(r.duration):null,f=null!=r.delay?Ed(r.delay):null;return 0!==l&&e.forEach(y=>{const w=t.appendInstructionToTimeline(y,l,f);a=Math.max(a,w.duration+w.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),ba(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=mD);const l=Ed(a.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>ba(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Ed(e.options.delay):0;e.steps.forEach(l=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),ba(this,l,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return aD(t.params?b0(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(y=>{f.forwardTime((y.offset||0)*a),f.setStyles(y.styles,y.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?Ed(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=mD);let l=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let y=null;f.forEach((w,x)=>{t.currentQueryIndex=x;const O=t.createSubContext(e.options,w);a&&O.delayNextStep(a),w===t.element&&(y=O.currentTimeline),ba(this,e.animation,O),O.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,O.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,l=Math.abs(a.duration),f=l*(t.currentQueryTotal-1);let y=l*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":y=f-y;break;case"full":y=r.currentStaggerTime}const x=t.currentTimeline;y&&x.delayNextStep(y);const O=x.currentTime;ba(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-O+(i.startTime-r.currentTimeline.startTime)}}const mD={};class N1{constructor(e,t,r,i,a,l,f,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=l,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=mD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new gD(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Ed(r.duration)),null!=r.delay&&(i.delay=Ed(r.delay));const a=r.params;if(a){let l=i.params;l||(l=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!l.hasOwnProperty(f))&&(l[f]=b0(a[f],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new N1(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=mD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new fH(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,l){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(lH,"."+this._enterClassName)).replace(dH,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),f.push(...w)}return!a&&0==f.length&&l.push(function y$(n){return new d.vHH(3014,!1)}()),f}}class gD{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new gD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||wd),this._currentKeyframe.set(t,wd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},l=function pH(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,wd)}else hf(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,y]of l){const w=b0(y,a,r);this._pendingStyles.set(f,w),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??wd),this._updateStyle(f,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,y)=>{const w=hf(f,new Map,this._backFill);w.forEach((x,O)=>{x===_1?e.add(O):x===wd&&t.add(O)}),r||w.set("offset",y/this.duration),i.push(w)});const a=e.size?cD(e.values()):[],l=t.size?cD(t.values()):[];if(r){const f=i[0],y=new Map(f);f.set("offset",0),y.set("offset",1),i=[f,y]}return k1(this.element,i,a,l,this.duration,this.startTime,this.easing,!1)}}class fH extends gD{constructor(e,t,r,i,a,l,f=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],l=r+t,f=t/l,y=hf(e[0]);y.set("offset",0),a.push(y);const w=hf(e[0]);w.set("offset",qF(f)),a.push(w);const x=e.length-1;for(let O=1;O<=x;O++){let G=hf(e[O]);const Q=G.get("offset");G.set("offset",qF((t+Q*r)/l)),a.push(G)}r=l,t=0,i="",e=a}return k1(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function qF(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class F1{}const mH=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class gH extends F1{normalizePropertyName(e,t){return M1(e)}normalizeStyleValue(e,t,r,i){let a="";const l=r.toString().trim();if(mH.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function s$(n,e){return new d.vHH(3005,!1)}())}return l+a}}function KF(n,e,t,r,i,a,l,f,y,w,x,O,G){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:l,timelines:f,queriedElements:y,preStyleProps:w,postStyleProps:x,totalTime:O,errors:G}}const L1={};class ZF{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function yH(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,l,f,y,w,x){const O=[],G=this.ast.options&&this.ast.options.params||L1,ie=this.buildStyles(r,f&&f.params||L1,O),ue=y&&y.params||L1,Ce=this.buildStyles(i,ue,O),qe=new Set,at=new Map,gt=new Map,wt="void"===i,tn={params:_H(ue,G),delay:this.ast.options?.delay},pn=x?[]:O1(e,t,this.ast.animation,a,l,ie,Ce,tn,w,O);let qn=0;if(pn.forEach(ic=>{qn=Math.max(ic.duration+ic.delay,qn)}),O.length)return KF(t,this._triggerName,r,i,wt,ie,Ce,[],[],at,gt,qn,O);pn.forEach(ic=>{const Id=ic.element,UL=va(at,Id,new Set);ic.preStyleProps.forEach(gm=>UL.add(gm));const A0=va(gt,Id,new Set);ic.postStyleProps.forEach(gm=>A0.add(gm)),Id!==t&&qe.add(Id)});const To=cD(qe.values());return KF(t,this._triggerName,r,i,wt,ie,Ce,pn,To,at,gt,qn)}}function _H(n,e){const t=_0(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class vH{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=_0(this.defaultParams);return Object.keys(e).forEach(a=>{const l=e[a];null!==l&&(i[a]=l)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,f)=>{l&&(l=b0(l,i,t));const y=this.normalizer.normalizePropertyName(f,t);l=this.normalizer.normalizeStyleValue(f,y,l,t),r.set(f,l)})}),r}}class wH{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new vH(i.style,i.options&&i.options.params||{},r))}),YF(this.states,"true","1"),YF(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new ZF(e,i,this.states))}),this.fallbackTransition=function EH(n,e,t){return new ZF(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function YF(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const IH=new pD;class CH{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],a=R1(this._driver,t,r,i);if(r.length)throw function C$(n){return new d.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=SF(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let l;const f=new Map;if(a?(l=O1(this._driver,t,a,T1,iD,new Map,new Map,r,IH,i),l.forEach(x=>{const O=va(f,x.element,new Map);x.postStyleProps.forEach(G=>O.set(G,null))})):(i.push(function D$(){return new d.vHH(3300,!1)}()),l=[]),i.length)throw function T$(n){return new d.vHH(3504,!1)}();f.forEach((x,O)=>{x.forEach((G,Q)=>{x.set(Q,this._driver.computeStyle(O,Q,wd))})});const w=df(l.map(x=>{const O=f.get(x.element);return this._buildPlayer(x,new Map,O)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function A$(n){return new d.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=E1(t,"","","");return b1(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const QF="ng-animate-queued",V1="ng-animate-disabled",xH=[],JF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},MH={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},nc="__ng_removed";class B1{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function OH(n){return n??null}(r?e.value:e),r){const a=_0(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const w0="void",U1=new B1(w0);class RH{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,rc(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function S$(n,e){return new d.vHH(3302,!1)}();if(null==r||0==r.length)throw function x$(n){return new d.vHH(3303,!1)}();if(!function NH(n){return"start"==n||"done"==n}(r))throw function M$(n,e){return new d.vHH(3400,!1)}();const a=va(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};a.push(l);const f=va(this._engine.statesByElement,e,new Map);return f.has(t)||(rc(e,oD),rc(e,oD+"-"+t),f.set(t,U1)),()=>{this._engine.afterFlush(()=>{const y=a.indexOf(l);y>=0&&a.splice(y,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function R$(n){return new d.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),l=new j1(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(rc(e,oD),rc(e,oD+"-"+t),this._engine.statesByElement.set(e,f=new Map));let y=f.get(t);const w=new B1(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&w.absorbOptions(y.options),f.set(t,w),y||(y=U1),w.value!==w0&&y.value===w.value){if(!function VH(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(y.params,w.params)){const ue=[],Ce=a.matchStyles(y.value,y.params,ue),qe=a.matchStyles(w.value,w.params,ue);ue.length?this._engine.reportError(ue):this._engine.afterFlush(()=>{dm(e,Ce),su(e,qe)})}return}const G=va(this._engine.playersByElement,e,[]);G.forEach(ue=>{ue.namespaceId==this.id&&ue.triggerName==t&&ue.queued&&ue.destroy()});let Q=a.matchTransition(y.value,w.value,e,w.params),ie=!1;if(!Q){if(!i)return;Q=a.fallbackTransition,ie=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:Q,fromState:y,toState:w,player:l,isFallbackTransition:ie}),ie||(rc(e,QF),l.onStart(()=>{$y(e,QF)})),l.onDone(()=>{let ue=this.players.indexOf(l);ue>=0&&this.players.splice(ue,1);const Ce=this._engine.playersByElement.get(e);if(Ce){let qe=Ce.indexOf(l);qe>=0&&Ce.splice(qe,1)}}),this.players.push(l),G.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,sD,!0);r.forEach(i=>{if(i[nc])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),l=new Map;if(a){const f=[];if(a.forEach((y,w)=>{if(l.set(w,y.value),this._triggers.has(w)){const x=this.trigger(e,w,w0,i);x&&f.push(x)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&df(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const l=a.name;if(i.has(l))return;i.add(l);const y=this._triggers.get(l).fallbackTransition,w=r.get(l)||U1,x=new B1(w0),O=new j1(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:y,fromState:w,toState:x,player:O,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[nc];(!a||a===JF)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){rc(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,l=this._elementListeners.get(a);l&&l.forEach(f=>{if(f.name==r.triggerName){const y=E1(a,r.triggerName,r.fromState.value,r.toState.value);y._data=e,b1(r.player,f.phase,y,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==a||0==l?a-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class PH{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new RH(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,f=this.driver.getParentElement(t);for(;f;){const y=i.get(f);if(y){const w=r.indexOf(y);r.splice(w+1,0,e),l=!0;break}f=this.driver.getParentElement(f)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(yD(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!yD(t))return;const a=t[nc];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),rc(e,V1)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),$y(e,V1))}removeNode(e,t,r,i){if(yD(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[nc]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return yD(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,sD,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,A1,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return df(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[nc];if(t&&t.setForRemoval){if(e[nc]=JF,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(V1)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)rc(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?df(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function P$(n){return new d.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new pD,i=[],a=new Map,l=[],f=new Map,y=new Map,w=new Map,x=new Set;this.disabledNodes.forEach(Rt=>{x.add(Rt);const Wt=this.driver.query(Rt,".ng-animate-queued",!0);for(let on=0;on<Wt.length;on++)x.add(Wt[on])});const O=this.bodyNode,G=Array.from(this.statesByElement.keys()),Q=tL(G,this.collectedEnterElements),ie=new Map;let ue=0;Q.forEach((Rt,Wt)=>{const on=T1+ue++;ie.set(Wt,on),Rt.forEach(zn=>rc(zn,on))});const Ce=[],qe=new Set,at=new Set;for(let Rt=0;Rt<this.collectedLeaveElements.length;Rt++){const Wt=this.collectedLeaveElements[Rt],on=Wt[nc];on&&on.setForRemoval&&(Ce.push(Wt),qe.add(Wt),on.hasAnimation?this.driver.query(Wt,".ng-star-inserted",!0).forEach(zn=>qe.add(zn)):at.add(Wt))}const gt=new Map,wt=tL(G,Array.from(qe));wt.forEach((Rt,Wt)=>{const on=iD+ue++;gt.set(Wt,on),Rt.forEach(zn=>rc(zn,on))}),e.push(()=>{Q.forEach((Rt,Wt)=>{const on=ie.get(Wt);Rt.forEach(zn=>$y(zn,on))}),wt.forEach((Rt,Wt)=>{const on=gt.get(Wt);Rt.forEach(zn=>$y(zn,on))}),Ce.forEach(Rt=>{this.processLeaveNode(Rt)})});const tn=[],pn=[];for(let Rt=this._namespaceList.length-1;Rt>=0;Rt--)this._namespaceList[Rt].drainQueuedTransitions(t).forEach(on=>{const zn=on.player,co=on.element;if(tn.push(zn),this.collectedEnterElements.length){const qo=co[nc];if(qo&&qo.setForMove){if(qo.previousTriggersValues&&qo.previousTriggersValues.has(on.triggerName)){const ym=qo.previousTriggersValues.get(on.triggerName),oc=this.statesByElement.get(on.element);if(oc&&oc.has(on.triggerName)){const TD=oc.get(on.triggerName);TD.value=ym,oc.set(on.triggerName,TD)}}return void zn.destroy()}}const au=!O||!this.driver.containsElement(O,co),wa=gt.get(co),pf=ie.get(co),ri=this._buildInstruction(on,r,pf,wa,au);if(ri.errors&&ri.errors.length)return void pn.push(ri);if(au)return zn.onStart(()=>dm(co,ri.fromStyles)),zn.onDestroy(()=>su(co,ri.toStyles)),void i.push(zn);if(on.isFallbackTransition)return zn.onStart(()=>dm(co,ri.fromStyles)),zn.onDestroy(()=>su(co,ri.toStyles)),void i.push(zn);const HL=[];ri.timelines.forEach(qo=>{qo.stretchStartingKeyframe=!0,this.disabledNodes.has(qo.element)||HL.push(qo)}),ri.timelines=HL,r.append(co,ri.timelines),l.push({instruction:ri,player:zn,element:co}),ri.queriedElements.forEach(qo=>va(f,qo,[]).push(zn)),ri.preStyleProps.forEach((qo,ym)=>{if(qo.size){let oc=y.get(ym);oc||y.set(ym,oc=new Set),qo.forEach((TD,Q1)=>oc.add(Q1))}}),ri.postStyleProps.forEach((qo,ym)=>{let oc=w.get(ym);oc||w.set(ym,oc=new Set),qo.forEach((TD,Q1)=>oc.add(Q1))})});if(pn.length){const Rt=[];pn.forEach(Wt=>{Rt.push(function k$(n,e){return new d.vHH(3505,!1)}())}),tn.forEach(Wt=>Wt.destroy()),this.reportError(Rt)}const qn=new Map,To=new Map;l.forEach(Rt=>{const Wt=Rt.element;r.has(Wt)&&(To.set(Wt,Wt),this._beforeAnimationBuild(Rt.player.namespaceId,Rt.instruction,qn))}),i.forEach(Rt=>{const Wt=Rt.element;this._getPreviousPlayers(Wt,!1,Rt.namespaceId,Rt.triggerName,null).forEach(zn=>{va(qn,Wt,[]).push(zn),zn.destroy()})});const ic=Ce.filter(Rt=>rL(Rt,y,w)),Id=new Map;eL(Id,this.driver,at,w,wd).forEach(Rt=>{rL(Rt,y,w)&&ic.push(Rt)});const A0=new Map;Q.forEach((Rt,Wt)=>{eL(A0,this.driver,new Set(Rt),y,_1)}),ic.forEach(Rt=>{const Wt=Id.get(Rt),on=A0.get(Rt);Id.set(Rt,new Map([...Array.from(Wt?.entries()??[]),...Array.from(on?.entries()??[])]))});const gm=[],jL=[],$L={};l.forEach(Rt=>{const{element:Wt,player:on,instruction:zn}=Rt;if(r.has(Wt)){if(x.has(Wt))return on.onDestroy(()=>su(Wt,zn.toStyles)),on.disabled=!0,on.overrideTotalTime(zn.totalTime),void i.push(on);let co=$L;if(To.size>1){let wa=Wt;const pf=[];for(;wa=wa.parentNode;){const ri=To.get(wa);if(ri){co=ri;break}pf.push(wa)}pf.forEach(ri=>To.set(ri,co))}const au=this._buildAnimation(on.namespaceId,zn,qn,a,A0,Id);if(on.setRealPlayer(au),co===$L)gm.push(on);else{const wa=this.playersByElement.get(co);wa&&wa.length&&(on.parentPlayer=df(wa)),i.push(on)}}else dm(Wt,zn.fromStyles),on.onDestroy(()=>su(Wt,zn.toStyles)),jL.push(on),x.has(Wt)&&i.push(on)}),jL.forEach(Rt=>{const Wt=a.get(Rt.element);if(Wt&&Wt.length){const on=df(Wt);Rt.setRealPlayer(on)}}),i.forEach(Rt=>{Rt.parentPlayer?Rt.syncPlayerEvents(Rt.parentPlayer):Rt.destroy()});for(let Rt=0;Rt<Ce.length;Rt++){const Wt=Ce[Rt],on=Wt[nc];if($y(Wt,iD),on&&on.hasAnimation)continue;let zn=[];if(f.size){let au=f.get(Wt);au&&au.length&&zn.push(...au);let wa=this.driver.query(Wt,A1,!0);for(let pf=0;pf<wa.length;pf++){let ri=f.get(wa[pf]);ri&&ri.length&&zn.push(...ri)}}const co=zn.filter(au=>!au.destroyed);co.length?FH(this,Wt,co):this.processLeaveNode(Wt)}return Ce.length=0,gm.forEach(Rt=>{this.players.push(Rt),Rt.onDone(()=>{Rt.destroy();const Wt=this.players.indexOf(Rt);this.players.splice(Wt,1)}),Rt.play()}),gm}elementContainsData(e,t){let r=!1;const i=t[nc];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let l=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(l=f)}else{const f=this.playersByElement.get(e);if(f){const y=!a||a==w0;f.forEach(w=>{w.queued||!y&&w.triggerName!=i||l.push(w)})}}return(r||i)&&(l=l.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),l}_beforeAnimationBuild(e,t,r){const a=t.element,l=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const w=y.element,x=w!==a,O=va(r,w,[]);this._getPreviousPlayers(w,x,l,f,t.toState).forEach(Q=>{const ie=Q.getRealPlayer();ie.beforeDestroy&&ie.beforeDestroy(),Q.destroy(),O.push(Q)})}dm(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,l){const f=t.triggerName,y=t.element,w=[],x=new Set,O=new Set,G=t.timelines.map(ie=>{const ue=ie.element;x.add(ue);const Ce=ue[nc];if(Ce&&Ce.removedBeforeQueried)return new y0(ie.duration,ie.delay);const qe=ue!==y,at=function LH(n){const e=[];return nL(n,e),e}((r.get(ue)||xH).map(qn=>qn.getRealPlayer())).filter(qn=>!!qn.element&&qn.element===ue),gt=a.get(ue),wt=l.get(ue),tn=SF(0,this._normalizer,0,ie.keyframes,gt,wt),pn=this._buildPlayer(ie,tn,at);if(ie.subTimeline&&i&&O.add(ue),qe){const qn=new j1(e,f,ue);qn.setRealPlayer(pn),w.push(qn)}return pn});w.forEach(ie=>{va(this.playersByQueriedElement,ie.element,[]).push(ie),ie.onDone(()=>function kH(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,ie.element,ie))}),x.forEach(ie=>rc(ie,LF));const Q=df(G);return Q.onDestroy(()=>{x.forEach(ie=>$y(ie,LF)),su(y,t.toStyles)}),O.forEach(ie=>{va(i,ie,[]).push(Q)}),Q}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new y0(e.duration,e.delay)}}class j1{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new y0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>b1(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){va(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function yD(n){return n&&1===n.nodeType}function XF(n,e){const t=n.style.display;return n.style.display=e??"none",t}function eL(n,e,t,r,i){const a=[];t.forEach(y=>a.push(XF(y)));const l=[];r.forEach((y,w)=>{const x=new Map;y.forEach(O=>{const G=e.computeStyle(w,O,i);x.set(O,G),(!G||0==G.length)&&(w[nc]=MH,l.push(w))}),n.set(w,x)});let f=0;return t.forEach(y=>XF(y,a[f++])),l}function tL(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=1,i=new Set(e),a=new Map;function l(f){if(!f)return r;let y=a.get(f);if(y)return y;const w=f.parentNode;return y=t.has(w)?w:i.has(w)?r:l(w),a.set(f,y),y}return e.forEach(f=>{const y=l(f);y!==r&&t.get(y).push(f)}),t}function rc(n,e){n.classList?.add(e)}function $y(n,e){n.classList?.remove(e)}function FH(n,e,t){df(t).onDone(()=>n.processLeaveNode(e))}function nL(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof TF?nL(r.players,e):e.push(r)}}function rL(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class _D{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new PH(e,t,r),this._timelineEngine=new CH(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const l=e+"-"+i;let f=this._triggerCache[l];if(!f){const y=[],w=[],x=R1(this._driver,a,y,w);if(y.length)throw function E$(n,e){return new d.vHH(3404,!1)}();f=function bH(n,e,t){return new wH(n,e,t)}(i,x,this._normalizer),this._triggerCache[l]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,l]=xF(r);this._timelineEngine.command(a,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[l,f]=xF(r);return this._timelineEngine.listen(l,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let UH=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&su(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(su(this._element,this._initialStyles),this._endStyles&&(su(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(dm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(dm(this._element,this._endStyles),this._endStyles=null),su(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function $1(n){let e=null;return n.forEach((t,r)=>{(function jH(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class iL{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:HF(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class $H{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return kF(e,t)}getParentElement(e){return C1(e)}query(e,t,r){return OF(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,l=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(y.easing=a);const w=new Map,x=l.filter(Q=>Q instanceof iL);(function W$(n,e){return 0===n||0===e})(r,i)&&x.forEach(Q=>{Q.currentSnapshot.forEach((ie,ue)=>w.set(ue,ie))});let O=function $$(n){return n.length?n[0]instanceof Map?n:n.map(e=>VF(e)):[]}(t).map(Q=>hf(Q));O=function q$(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,l)=>{r.has(l)||i.push(l),r.set(l,a)}),i.length)for(let a=1;a<e.length;a++){let l=e[a];i.forEach(f=>l.set(f,HF(n,f)))}}return e}(e,O,w);const G=function BH(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=$1(e[0]),e.length>1&&(r=$1(e[e.length-1]))):e instanceof Map&&(t=$1(e)),t||r?new UH(n,t,r):null}(e,O);return new iL(e,O,y,G)}}let HH=(()=>{class n extends EF{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?IF(t):t;return oL(this._renderer,null,r,"register",[i]),new zH(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG($))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class zH extends e${constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new GH(this._id,e,t||{},this._renderer)}}class GH{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return oL(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function oL(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const sL="@.disabled";let WH=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,l)=>{const f=l?.parentNode(a);f&&l.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let x=this._rendererCache.get(a);return x||(x=new aL("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,x)),x}const l=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const y=x=>{Array.isArray(x)?x.forEach(y):this.engine.registerTrigger(l,f,t,x.name,x)};return r.data.animation.forEach(y),new qH(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[l,f]=a;l(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(_D),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class aL{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==sL?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class qH extends aL{constructor(e,t,r,i,a){super(t,r,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==sL?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function KH(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),l="";return"@"!=a.charAt(0)&&([a,l]=function ZH(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,l,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let YH=(()=>{class n extends _D{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG($),d.LFG(D1),d.LFG(F1),d.LFG(d.z2F))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const cL=[{provide:EF,useClass:HH},{provide:F1,useFactory:function QH(){return new gH}},{provide:_D,useClass:YH},{provide:d.FYo,useFactory:function JH(n,e,t){return new WH(n,e,t)},deps:[pi,_D,d.R0b]}],H1=[{provide:D1,useFactory:()=>new $H},{provide:d.QbO,useValue:"BrowserAnimations"},...cL],lL=[{provide:D1,useClass:NF},{provide:d.QbO,useValue:"NoopAnimations"},...cL];let z1,XH=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?lL:H1}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:H1,imports:[ta]}),n})();try{z1=typeof Intl<"u"&&Intl.v8BreakIterator}catch{z1=!1}let E0,G1,fm=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Wi(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!z1)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bD(n){return function ez(){if(null==E0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>E0=!0}))}finally{E0=E0||!1}return E0}()?n:!!n.capture}function zy(n){return n.composedPath?n.composedPath()[0]:n.target}function dL(n){return Pi((e,t)=>n<=t)}var lz=U(5032);function hL(n){return(0,gr.e)((e,t)=>{(0,Ha.Xf)(n).subscribe((0,Sr.x)(t,()=>t.complete(),lz.Z)),!t.closed&&e.subscribe(t)})}function W1(n){return null!=n&&"false"!=`${n}`}function fL(n){return Array.isArray(n)?n:[n]}function I0(n){return n instanceof d.SBq?n.nativeElement:n}const pL=new Set;let Gy,hz=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):pz}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function fz(n){if(!pL.has(n))try{Gy||(Gy=document.createElement("style"),Gy.setAttribute("type","text/css"),document.head.appendChild(Gy)),Gy.sheet&&(Gy.sheet.insertRule(`@media ${n} {body{ }}`,0),pL.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fm))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pz(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let mz=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new ua.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return mL(fL(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let a=A_(mL(fL(t)).map(l=>this._registerQuery(l).observable));return a=$f(a.pipe(Lc(1)),a.pipe(dL(1),function dz(n,e=lS.z){return(0,gr.e)((t,r)=>{let i=null,a=null,l=null;const f=()=>{if(i){i.unsubscribe(),i=null;const w=a;a=null,r.next(w)}};function y(){const w=l+n,x=e.now();if(x<w)return i=this.schedule(void 0,w-x),void r.add(i);f()}t.subscribe((0,Sr.x)(r,w=>{a=w,l=e.now(),i||(i=e.schedule(y,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{a=i=null}))})}(0))),a.pipe((0,mt.U)(l=>{const f={matches:!1,breakpoints:{}};return l.forEach(({matches:y,query:w})=>{f.matches=f.matches||y,f.breakpoints[w]=y}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),a={observable:new Ri.y(l=>{const f=y=>this._zone.run(()=>l.next(y));return r.addListener(f),()=>{r.removeListener(f)}}).pipe(uh(r),(0,mt.U)(({matches:l})=>({query:t,matches:l})),hL(this._destroySubject)),mql:r};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(hz),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mL(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function vL(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function bL(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Iz=new d.OlP("cdk-input-modality-detector-options"),Cz={ignoreKeys:[18,17,224,91,16]},Wy=bD({passive:!0,capture:!0});let Dz=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,a){this._platform=t,this._mostRecentTarget=null,this._modality=new os(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(f=>f===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=zy(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(vL(l)?"keyboard":"mouse"),this._mostRecentTarget=zy(l))},this._onTouchstart=l=>{bL(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=zy(l))},this._options={...Cz,...a},this.modalityDetected=this._modality.pipe(dL(1)),this.modalityChanged=this.modalityDetected.pipe(yI()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Wy),i.addEventListener("mousedown",this._onMousedown,Wy),i.addEventListener("touchstart",this._onTouchstart,Wy)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Wy),document.removeEventListener("mousedown",this._onMousedown,Wy),document.removeEventListener("touchstart",this._onTouchstart,Wy))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fm),d.LFG(d.R0b),d.LFG($),d.LFG(Iz,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Az=new d.OlP("cdk-focus-monitor-default-options"),ED=bD({passive:!0,capture:!0});let Sz=(()=>{class n{constructor(t,r,i,a,l){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ua.x,this._rootNodeFocusAndBlurListener=f=>{for(let w=zy(f);w;w=w.parentElement)"focus"===f.type?this._onFocus(f,w):this._onBlur(f,w)},this._document=a,this._detectionMode=l?.detectionMode||0}monitor(t,r=!1){const i=I0(t);if(!this._platform.isBrowser||1!==i.nodeType)return ut(null);const a=function nz(n){if(function tz(){if(null==G1){const n=typeof document<"u"?document.head:null;G1=!(!n||!n.createShadowRoot&&!n.attachShadow)}return G1}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),l=this._elementInfo.get(i);if(l)return r&&(l.checkChildren=!0),l.subject;const f={checkChildren:r,subject:new ua.x,rootNode:a};return this._elementInfo.set(i,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const r=I0(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const a=I0(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,y])=>this._originChanged(f,r,y)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),a=zy(t);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,ED),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,ED)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(hL(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ED),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ED),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,a)=>{(a===t||i.checkChildren&&a.contains(t))&&r.push([a,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const a=t.labels;if(a)for(let l=0;l<a.length;l++)if(a[l].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(fm),d.LFG(Dz),d.LFG($,8),d.LFG(Az,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const EL="cdk-high-contrast-black-on-white",IL="cdk-high-contrast-white-on-black",q1="cdk-high-contrast-active";let xz=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,d.f3M)(mz).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(q1,EL,IL),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(q1,EL):2===r&&t.add(q1,IL)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fm),d.LFG($))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const kz=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function Pz(){return!0}});let ff=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function rz(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(xz),d.LFG(kz,8),d.LFG($))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[CL,CL]}),n})();function Oz(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=W1(e)}constructor(...e){super(...e),this._disabled=!1}}}function K1(n,e){return class extends n{get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function Nz(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=W1(e)}constructor(...e){super(...e),this._disableRipple=!1}}}class Lz{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const AL=bD({passive:!0,capture:!0});class Vz{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=zy(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(a=>a.handleEvent(e))})}}addHandler(e,t,r,i){const a=this._events.get(t);if(a){const l=a.get(r);l?l.add(i):a.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,AL)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const a=i.get(t);a&&(a.delete(r),0===a.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,AL)))}}const SL={enterDuration:225,exitDuration:150},xL=bD({passive:!0,capture:!0}),ML=["mousedown","touchstart"],RL=["mouseup","mouseleave","touchend","touchcancel"];class D0{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=I0(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...SL,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const l=r.radius||function Uz(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),f=e-i.left,y=t-i.top,w=a.enterDuration,x=document.createElement("div");x.classList.add("mat-ripple-element"),x.style.left=f-l+"px",x.style.top=y-l+"px",x.style.height=2*l+"px",x.style.width=2*l+"px",null!=r.color&&(x.style.backgroundColor=r.color),x.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(x);const O=window.getComputedStyle(x),Q=O.transitionDuration,ie="none"===O.transitionProperty||"0s"===Q||"0s, 0s"===Q||0===i.width&&0===i.height,ue=new Lz(this,x,r,ie);x.style.transform="scale3d(1, 1, 1)",ue.state=0,r.persistent||(this._mostRecentTransientRipple=ue);let Ce=null;return!ie&&(w||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const qe=()=>this._finishRippleTransition(ue),at=()=>this._destroyRipple(ue);x.addEventListener("transitionend",qe),x.addEventListener("transitioncancel",at),Ce={onTransitionEnd:qe,onTransitionCancel:at}}),this._activeRipples.set(ue,Ce),(ie||!w)&&this._finishRippleTransition(ue),ue}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...SL,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=I0(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,ML.forEach(r=>{D0._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{RL.forEach(t=>{this._triggerElement.addEventListener(t,this,xL)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=vL(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!bL(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(ML.forEach(t=>D0._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&RL.forEach(t=>e.removeEventListener(t,this,xL)))}}D0._eventManager=new Vz;const jz=new d.OlP("mat-ripple-global-options");let PL=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,r,i,a,l){this._elementRef=t,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new D0(this,r,t,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(fm),d.Y36(jz,8),d.Y36(d.QbO,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&d.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),$z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[ff,ff]}),n})();const Hz=["*",[["mat-toolbar-row"]]],zz=["*","mat-toolbar-row"],Gz=K1(class{constructor(n){this._elementRef=n}});let Wz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),qz=(()=>{class n extends Gz{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(fm),d.Y36($))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&d.Suo(i,Wz,5),2&t){let a;d.iGM(a=d.CRH())&&(r._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&d.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[d.qOj],ngContentSelectors:zz,decls:2,vars:0,template:function(t,r){1&t&&(d.F$t(Hz),d.Hsn(0),d.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),Kz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[ff,ff]}),n})();const Zz=["mat-button",""],Yz=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Qz=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],e4=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],t4=K1(Oz(Nz(class{constructor(n){this._elementRef=n}})));let n4=(()=>{class n extends t4{constructor(t,r,i,a){super(t),this._platform=r,this._ngZone=i,this._animationMode=a,this._focusMonitor=(0,d.f3M)(Sz),this._isFab=!1;const l=t.nativeElement.classList;for(const f of e4)this._hasHostAttributes(f.selector)&&f.mdcClasses.forEach(y=>{l.add(y)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...t){return t.some(r=>this._elementRef.nativeElement.hasAttribute(r))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){d.$Z()},n.\u0275dir=d.lG2({type:n,viewQuery:function(t,r){if(1&t&&d.Gf(PL,5),2&t){let i;d.iGM(i=d.CRH())&&(r.ripple=i.first)}},features:[d.qOj]}),n})(),i4=(()=>{class n extends n4{constructor(t,r,i,a){super(t,r,i,a),this._haltDisabledEvents=l=>{this.disabled&&(l.preventDefault(),l.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(t){d.$Z()},n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})(),o4=(()=>{class n extends i4{constructor(t,r,i,a){super(t,r,i,a)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(fm),d.Y36(d.R0b),d.Y36(d.QbO,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:9,hostBindings:function(t,r){2&t&&(d.uIk("disabled",r.disabled||null)("tabindex",r.disabled?-1:r.tabIndex)("aria-disabled",r.disabled.toString()),d.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[d.qOj],attrs:Zz,ngContentSelectors:Qz,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,r){1&t&&(d.F$t(Yz),d._UZ(0,"span",0),d.Hsn(1),d.TgZ(2,"span",1),d.Hsn(3,1),d.qZA(),d.Hsn(4,2),d._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(d.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab),d.xp6(6),d.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleTrigger",r._elementRef.nativeElement))},dependencies:[PL],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),a4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[ff,$z,ff]}),n})();const c4=["*"];let ID;function T0(n){return function l4(){if(void 0===ID&&(ID=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(ID=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return ID}()?.createHTML(n)||n}function kL(n){return Error(`Unable to find icon with the name "${n}"`)}function OL(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function NL(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class mm{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let CD=(()=>{class n{constructor(t,r,i,a){this._httpClient=t,this._sanitizer=r,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,a){return this._addSvgIconConfig(t,r,new mm(i,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,a){const l=this._sanitizer.sanitize(d.q3G.HTML,i);if(!l)throw NL(i);const f=T0(l);return this._addSvgIconConfig(t,r,new mm("",f,a))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new mm(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const a=this._sanitizer.sanitize(d.q3G.HTML,r);if(!a)throw NL(r);const l=T0(a);return this._addSvgIconSetConfig(t,new mm("",l,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,t);if(!r)throw OL(t);const i=this._cachedIconsByUrl.get(r);return i?ut(DD(i)):this._loadSvgIconFromConfig(new mm(t,null)).pipe((0,gi.b)(a=>this._cachedIconsByUrl.set(r,a)),(0,mt.U)(a=>DD(a)))}getNamedSvgIcon(t,r=""){const i=FL(r,t);let a=this._svgIconConfigs.get(i);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(r,t),a)return this._svgIconConfigs.set(i,a),this._getSvgFromConfig(a);const l=this._iconSetConfigs.get(r);return l?this._getSvgFromIconSetConfigs(t,l):Gu(kL(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?ut(DD(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,mt.U)(r=>DD(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?ut(i):Ou(r.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(Ul(f=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(d.q3G.RESOURCE_URL,l.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(w)),ut(null)})))).pipe((0,mt.U)(()=>{const l=this._extractIconWithNameFromAnySet(t,r);if(!l)throw kL(t);return l}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const a=r[i];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const l=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(l,t,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,gi.b)(r=>t.svgText=r),(0,mt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?ut(null):this._fetchIcon(t).pipe((0,gi.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const a=t.querySelector(`[id="${r}"]`);if(!a)return null;const l=a.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,i);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),i);const f=this._svgElementFromString(T0("<svg></svg>"));return f.appendChild(l),this._setSvgAttributes(f,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(T0("<svg></svg>")),i=t.attributes;for(let a=0;a<i.length;a++){const{name:l,value:f}=i[a];"id"!==l&&r.setAttribute(l,f)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[a].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,a=i?.withCredentials??!1;if(!this._httpClient)throw function u4(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const l=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,r);if(!l)throw OL(r);const f=this._inProgressUrlFetches.get(l);if(f)return f;const y=this._httpClient.get(l,{responseType:"text",withCredentials:a}).pipe((0,mt.U)(w=>T0(w)),Vc(()=>this._inProgressUrlFetches.delete(l)),(0,pI.B)());return this._inProgressUrlFetches.set(l,y),y}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(FL(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const a=this._resolvers[i](r,t);if(a)return h4(a)?new mm(a.url,null,a.options):new mm(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ac,8),d.LFG(Ba),d.LFG($,8),d.LFG(d.qLn))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function DD(n){return n.cloneNode(!0)}function FL(n,e){return n+":"+e}function h4(n){return!(!n.url||!n.options)}const f4=K1(class{constructor(n){this._elementRef=n}}),p4=new d.OlP("MAT_ICON_DEFAULT_OPTIONS"),m4=new d.OlP("mat-icon-location",{providedIn:"root",factory:function g4(){const n=(0,d.f3M)($),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),LL=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],y4=LL.map(n=>`[${n}]`).join(", "),_4=/^url\(['"]?#(.*?)['"]?\)$/;let v4=(()=>{class n extends f4{get inline(){return this._inline}set inline(t){this._inline=W1(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(t,r,i,a,l,f){super(t),this._iconRegistry=r,this._location=a,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Um.w0.EMPTY,f&&(f.color&&(this.color=this.defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,a)=>{i.forEach(l=>{a.setAttribute(l.name,`url('${t}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(y4),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<r.length;a++)LL.forEach(l=>{const f=r[a],y=f.getAttribute(l),w=y?y.match(_4):null;if(w){let x=i.get(f);x||(x=[],i.set(f,x)),x.push({name:l,value:w[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Lc(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(CD),d.$8M("aria-hidden"),d.Y36(m4),d.Y36(d.qLn),d.Y36(p4,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,r){2&t&&(d.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),d.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[d.qOj],ngContentSelectors:c4,decls:1,vars:0,template:function(t,r){1&t&&(d.F$t(),d.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),b4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[ff,ff]}),n})();const VL={firebase:{projectId:"clinicaonlinelaboiv",appId:"1:1029818144538:web:3a21a1e87637bb9c4efea3",storageBucket:"clinicaonlinelaboiv.appspot.com",apiKey:"AIzaSyChy7usJYpjlBmFmaScMLb-7Xnkdu4ghqQ",authDomain:"clinicaonlinelaboiv.firebaseapp.com",messagingSenderId:"1029818144538"}};class Z1{constructor(e){return e}}const BL="firestore",Y1=new d.OlP("angularfire2.firestore-instances");function I4(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Z1(r)}}const C4={provide:class w4{constructor(){return(0,Pn.vb)(BL)}},deps:[[new d.FiY,Y1]]},D4={provide:Z1,useFactory:function E4(n,e){const t=(0,Pn.JM)(BL,n,e);return t&&new Z1(t)},deps:[[new d.FiY,Y1],xh]};let T4=(()=>{class n{constructor(){(0,Ot.KN)("angularfire",Pn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[D4,C4]}),n})();function A4(n,...e){return{ngModule:T4,providers:[{provide:Y1,useFactory:I4(n),multi:!0,deps:[d.R0b,d.zs3,Pn.HU,yv,[new d.FiY,XE],[new d.FiY,wp],...e]}]}}const S4=(0,Pn.u3)(_U,!0);function x4(n,e){1&n&&(d.TgZ(0,"div")(1,"a",4),d._uU(2," Home "),d.qZA(),d.TgZ(3,"a",5),d._uU(4," Qui\xe9n soy "),d.qZA(),d.TgZ(5,"a",6),d._uU(6," Registro "),d.qZA(),d.TgZ(7,"a",7),d._uU(8," Login "),d.qZA()())}function M4(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"a",4),d._uU(1," Home "),d.qZA(),d.TgZ(2,"a",8),d.NdJ("click",function(){d.CHM(t);const i=d.oxw();return d.KtG(i.userService.logout())}),d._uU(3," Logout "),d.qZA()}}let R4=(()=>{class n{constructor(t,r){this.router=t,this.userService=r,this.user={}}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(di),d.Y36(rD))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-navbar"]],decls:9,vars:2,consts:[["color","primary",1,"mat-elevation-z8"],[1,"spacer"],[4,"ngIf","ngIfElse"],["logout",""],["mat-button","","routerLink","home"],["mat-button","","routerLink","quiensoy"],["mat-button","","routerLink","registro"],["mat-raised-button","","color","accent","routerLink","login"],["mat-raised-button","","color","accent","routerLink","login",3,"click"]],template:function(t,r){if(1&t&&(d.TgZ(0,"mat-toolbar",0)(1,"span")(2,"mat-icon"),d._uU(3,"local_hospital"),d.qZA(),d._uU(4," Cl\xednica Online "),d.qZA(),d._UZ(5,"div",1),d.YNc(6,x4,9,0,"div",2),d.YNc(7,M4,4,0,"ng-template",null,3,d.W1O),d.qZA()),2&t){const i=d.MAs(8);d.xp6(6),d.Q6J("ngIf",!r.userService.isLoggedIn)("ngIfElse",i)}},dependencies:[So,gp,qz,o4,v4],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.colored-toast.swal2-icon-success[_ngcontent-%COMP%]{background-color:#a5dc86!important}"]}),n})(),P4=(()=>{class n{constructor(){this.title="ClinicaOnlineLaboIV"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&d._UZ(0,"app-navbar")(1,"router-outlet")},dependencies:[wh,R4]}),n})(),k4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[P4]}),n.\u0275inj=d.cJS({providers:[{provide:bo.Dh,useValue:VL.firebase}],imports:[ta,Xj,IE(()=>CE(VL.firebase)),HA(()=>Gv()),A4(()=>S4()),Gt,nw,rw,XH,cS,bo.hO,Oj,Kz,a4,b4,Wj,qj]}),n})();yf().bootstrapModule(k4).catch(n=>console.error(n))},9751:(St,Oe,U)=>{"use strict";U.d(Oe,{y:()=>Ee});var d=U(930),K=U(727),N=U(8822),ae=U(9635),fe=U(2416),$=U(576),Se=U(2806);let Ee=(()=>{class se{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const et=new se;return et.source=this,et.operator=Ne,et}subscribe(Ne,et,ct){const Ie=function Y(se){return se&&se instanceof d.Lv||function X(se){return se&&(0,$.m)(se.next)&&(0,$.m)(se.error)&&(0,$.m)(se.complete)}(se)&&(0,K.Nn)(se)}(Ne)?Ne:new d.Hp(Ne,et,ct);return(0,Se.x)(()=>{const{operator:Fe,source:je}=this;Ie.add(Fe?Fe.call(Ie,je):je?this._subscribe(Ie):this._trySubscribe(Ie))}),Ie}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(et){Ne.error(et)}}forEach(Ne,et){return new(et=Te(et))((ct,Ie)=>{const Fe=new d.Hp({next:je=>{try{Ne(je)}catch(Ve){Ie(Ve),Fe.unsubscribe()}},error:Ie,complete:ct});this.subscribe(Fe)})}_subscribe(Ne){var et;return null===(et=this.source)||void 0===et?void 0:et.subscribe(Ne)}[N.L](){return this}pipe(...Ne){return(0,ae.U)(Ne)(this)}toPromise(Ne){return new(Ne=Te(Ne))((et,ct)=>{let Ie;this.subscribe(Fe=>Ie=Fe,Fe=>ct(Fe),()=>et(Ie))})}}return se.create=Ze=>new se(Ze),se})();function Te(se){var Ze;return null!==(Ze=se??fe.v.Promise)&&void 0!==Ze?Ze:Promise}},7579:(St,Oe,U)=>{"use strict";U.d(Oe,{x:()=>Se});var d=U(9751),K=U(727);const ae=(0,U(3888).d)(Te=>function(){Te(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=U(8737),$=U(2806);let Se=(()=>{class Te extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const se=new Ee(this,this);return se.operator=Y,se}_throwIfClosed(){if(this.closed)throw new ae}next(Y){(0,$.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const se of this.currentObservers)se.next(Y)}})}error(Y){(0,$.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:se}=this;for(;se.length;)se.shift().error(Y)}})}complete(){(0,$.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:se,isStopped:Ze,observers:Ne}=this;return se||Ze?K.Lc:(this.currentObservers=null,Ne.push(Y),new K.w0(()=>{this.currentObservers=null,(0,fe.P)(Ne,Y)}))}_checkFinalizedStatuses(Y){const{hasError:se,thrownError:Ze,isStopped:Ne}=this;se?Y.error(Ze):Ne&&Y.complete()}asObservable(){const Y=new d.y;return Y.source=this,Y}}return Te.create=(X,Y)=>new Ee(X,Y),Te})();class Ee extends Se{constructor(X,Y){super(),this.destination=X,this.source=Y}next(X){var Y,se;null===(se=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===se||se.call(Y,X)}error(X){var Y,se;null===(se=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===se||se.call(Y,X)}complete(){var X,Y;null===(Y=null===(X=this.destination)||void 0===X?void 0:X.complete)||void 0===Y||Y.call(X)}_subscribe(X){var Y,se;return null!==(se=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(X))&&void 0!==se?se:K.Lc}}},930:(St,Oe,U)=>{"use strict";U.d(Oe,{Hp:()=>ct,Lv:()=>se});var d=U(576),K=U(727),N=U(2416),ae=U(7849),fe=U(5032);const $=Te("C",void 0,void 0);function Te(ke,De,we){return{kind:ke,value:De,error:we}}var X=U(3410),Y=U(2806);class se extends K.w0{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,K.Nn)(De)&&De.add(this)):this.destination=Ve}static create(De,we,We){return new ct(De,we,We)}next(De){this.isStopped?je(function Ee(ke){return Te("N",ke,void 0)}(De),this):this._next(De)}error(De){this.isStopped?je(function Se(ke){return Te("E",void 0,ke)}(De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?je($,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ze=Function.prototype.bind;function Ne(ke,De){return Ze.call(ke,De)}class et{constructor(De){this.partialObserver=De}next(De){const{partialObserver:we}=this;if(we.next)try{we.next(De)}catch(We){Ie(We)}}error(De){const{partialObserver:we}=this;if(we.error)try{we.error(De)}catch(We){Ie(We)}else Ie(De)}complete(){const{partialObserver:De}=this;if(De.complete)try{De.complete()}catch(we){Ie(we)}}}class ct extends se{constructor(De,we,We){let ze;if(super(),(0,d.m)(De)||!De)ze={next:De??void 0,error:we??void 0,complete:We??void 0};else{let de;this&&N.v.useDeprecatedNextContext?(de=Object.create(De),de.unsubscribe=()=>this.unsubscribe(),ze={next:De.next&&Ne(De.next,de),error:De.error&&Ne(De.error,de),complete:De.complete&&Ne(De.complete,de)}):ze=De}this.destination=new et(ze)}}function Ie(ke){N.v.useDeprecatedSynchronousErrorHandling?(0,Y.O)(ke):(0,ae.h)(ke)}function je(ke,De){const{onStoppedNotification:we}=N.v;we&&X.z.setTimeout(()=>we(ke,De))}const Ve={closed:!0,next:fe.Z,error:function Fe(ke){throw ke},complete:fe.Z}},727:(St,Oe,U)=>{"use strict";U.d(Oe,{Lc:()=>$,w0:()=>fe,Nn:()=>Se});var d=U(576);const N=(0,U(3888).d)(Te=>function(Y){Te(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((se,Ze)=>`${Ze+1}) ${se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var ae=U(8737);class fe{constructor(X){this.initialTeardown=X,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let X;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const Ne of Y)Ne.remove(this);else Y.remove(this);const{initialTeardown:se}=this;if((0,d.m)(se))try{se()}catch(Ne){X=Ne instanceof N?Ne.errors:[Ne]}const{_finalizers:Ze}=this;if(Ze){this._finalizers=null;for(const Ne of Ze)try{Ee(Ne)}catch(et){X=X??[],et instanceof N?X=[...X,...et.errors]:X.push(et)}}if(X)throw new N(X)}}add(X){var Y;if(X&&X!==this)if(this.closed)Ee(X);else{if(X instanceof fe){if(X.closed||X._hasParent(this))return;X._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(X)}}_hasParent(X){const{_parentage:Y}=this;return Y===X||Array.isArray(Y)&&Y.includes(X)}_addParent(X){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(X),Y):Y?[Y,X]:X}_removeParent(X){const{_parentage:Y}=this;Y===X?this._parentage=null:Array.isArray(Y)&&(0,ae.P)(Y,X)}remove(X){const{_finalizers:Y}=this;Y&&(0,ae.P)(Y,X),X instanceof fe&&X._removeParent(this)}}fe.EMPTY=(()=>{const Te=new fe;return Te.closed=!0,Te})();const $=fe.EMPTY;function Se(Te){return Te instanceof fe||Te&&"closed"in Te&&(0,d.m)(Te.remove)&&(0,d.m)(Te.add)&&(0,d.m)(Te.unsubscribe)}function Ee(Te){(0,d.m)(Te)?Te():Te.unsubscribe()}},2416:(St,Oe,U)=>{"use strict";U.d(Oe,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(St,Oe,U)=>{"use strict";U.d(Oe,{E:()=>K});const K=new(U(9751).y)(fe=>fe.complete())},8996:(St,Oe,U)=>{"use strict";U.d(Oe,{D:()=>De});var d=U(8421),K=U(5363),N=U(9468),$=U(9751),Ee=U(2202),Te=U(576),X=U(9672);function se(we,We){if(!we)throw new Error("Iterable cannot be null");return new $.y(ze=>{(0,X.f)(ze,We,()=>{const de=we[Symbol.asyncIterator]();(0,X.f)(ze,We,()=>{de.next().then(nt=>{nt.done?ze.complete():ze.next(nt.value)})},0,!0)})})}var Ze=U(3670),Ne=U(8239),et=U(1144),ct=U(6495),Ie=U(2206),Fe=U(4532),je=U(3260);function De(we,We){return We?function ke(we,We){if(null!=we){if((0,Ze.c)(we))return function ae(we,We){return(0,d.Xf)(we).pipe((0,N.R)(We),(0,K.Q)(We))}(we,We);if((0,et.z)(we))return function Se(we,We){return new $.y(ze=>{let de=0;return We.schedule(function(){de===we.length?ze.complete():(ze.next(we[de++]),ze.closed||this.schedule())})})}(we,We);if((0,Ne.t)(we))return function fe(we,We){return(0,d.Xf)(we).pipe((0,N.R)(We),(0,K.Q)(We))}(we,We);if((0,Ie.D)(we))return se(we,We);if((0,ct.T)(we))return function Y(we,We){return new $.y(ze=>{let de;return(0,X.f)(ze,We,()=>{de=we[Ee.h](),(0,X.f)(ze,We,()=>{let nt,Pt;try{({value:nt,done:Pt}=de.next())}catch(ht){return void ze.error(ht)}Pt?ze.complete():ze.next(nt)},0,!0)}),()=>(0,Te.m)(de?.return)&&de.return()})}(we,We);if((0,je.L)(we))return function Ve(we,We){return se((0,je.Q)(we),We)}(we,We)}throw(0,Fe.z)(we)}(we,We):(0,d.Xf)(we)}},8421:(St,Oe,U)=>{"use strict";U.d(Oe,{Xf:()=>Ze});var d=U(7582),K=U(1144),N=U(8239),ae=U(9751),fe=U(3670),$=U(2206),Se=U(4532),Ee=U(6495),Te=U(3260),X=U(576),Y=U(7849),se=U(8822);function Ze(ke){if(ke instanceof ae.y)return ke;if(null!=ke){if((0,fe.c)(ke))return function Ne(ke){return new ae.y(De=>{const we=ke[se.L]();if((0,X.m)(we.subscribe))return we.subscribe(De);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ke);if((0,K.z)(ke))return function et(ke){return new ae.y(De=>{for(let we=0;we<ke.length&&!De.closed;we++)De.next(ke[we]);De.complete()})}(ke);if((0,N.t)(ke))return function ct(ke){return new ae.y(De=>{ke.then(we=>{De.closed||(De.next(we),De.complete())},we=>De.error(we)).then(null,Y.h)})}(ke);if((0,$.D)(ke))return Fe(ke);if((0,Ee.T)(ke))return function Ie(ke){return new ae.y(De=>{for(const we of ke)if(De.next(we),De.closed)return;De.complete()})}(ke);if((0,Te.L)(ke))return function je(ke){return Fe((0,Te.Q)(ke))}(ke)}throw(0,Se.z)(ke)}function Fe(ke){return new ae.y(De=>{(function Ve(ke,De){var we,We,ze,de;return(0,d.mG)(this,void 0,void 0,function*(){try{for(we=(0,d.KL)(ke);!(We=yield we.next()).done;)if(De.next(We.value),De.closed)return}catch(nt){ze={error:nt}}finally{try{We&&!We.done&&(de=we.return)&&(yield de.call(we))}finally{if(ze)throw ze.error}}De.complete()})})(ke,De).catch(we=>De.error(we))})}},6451:(St,Oe,U)=>{"use strict";U.d(Oe,{T:()=>$});var d=U(8189),K=U(8421),N=U(515),ae=U(7669),fe=U(8996);function $(...Se){const Ee=(0,ae.yG)(Se),Te=(0,ae._6)(Se,1/0),X=Se;return X.length?1===X.length?(0,K.Xf)(X[0]):(0,d.J)(Te)((0,fe.D)(X,Ee)):N.E}},5403:(St,Oe,U)=>{"use strict";U.d(Oe,{x:()=>K});var d=U(930);function K(ae,fe,$,Se,Ee){return new N(ae,fe,$,Se,Ee)}class N extends d.Lv{constructor(fe,$,Se,Ee,Te,X){super(fe),this.onFinalize=Te,this.shouldUnsubscribe=X,this._next=$?function(Y){try{$(Y)}catch(se){fe.error(se)}}:super._next,this._error=Ee?function(Y){try{Ee(Y)}catch(se){fe.error(se)}finally{this.unsubscribe()}}:super._error,this._complete=Se?function(){try{Se()}catch(Y){fe.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:$}=this;super.unsubscribe(),!$&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},4004:(St,Oe,U)=>{"use strict";U.d(Oe,{U:()=>N});var d=U(4482),K=U(5403);function N(ae,fe){return(0,d.e)(($,Se)=>{let Ee=0;$.subscribe((0,K.x)(Se,Te=>{Se.next(ae.call(fe,Te,Ee++))}))})}},8189:(St,Oe,U)=>{"use strict";U.d(Oe,{J:()=>N});var d=U(5577),K=U(4671);function N(ae=1/0){return(0,d.z)(K.y,ae)}},5577:(St,Oe,U)=>{"use strict";U.d(Oe,{z:()=>Ee});var d=U(4004),K=U(8421),N=U(4482),ae=U(9672),fe=U(5403),Se=U(576);function Ee(Te,X,Y=1/0){return(0,Se.m)(X)?Ee((se,Ze)=>(0,d.U)((Ne,et)=>X(se,Ne,Ze,et))((0,K.Xf)(Te(se,Ze))),Y):("number"==typeof X&&(Y=X),(0,N.e)((se,Ze)=>function $(Te,X,Y,se,Ze,Ne,et,ct){const Ie=[];let Fe=0,je=0,Ve=!1;const ke=()=>{Ve&&!Ie.length&&!Fe&&X.complete()},De=We=>Fe<se?we(We):Ie.push(We),we=We=>{Ne&&X.next(We),Fe++;let ze=!1;(0,K.Xf)(Y(We,je++)).subscribe((0,fe.x)(X,de=>{Ze?.(de),Ne?De(de):X.next(de)},()=>{ze=!0},void 0,()=>{if(ze)try{for(Fe--;Ie.length&&Fe<se;){const de=Ie.shift();et?(0,ae.f)(X,et,()=>we(de)):we(de)}ke()}catch(de){X.error(de)}}))};return Te.subscribe((0,fe.x)(X,De,()=>{Ve=!0,ke()})),()=>{ct?.()}}(se,Ze,Te,Y)))}},5363:(St,Oe,U)=>{"use strict";U.d(Oe,{Q:()=>ae});var d=U(9672),K=U(4482),N=U(5403);function ae(fe,$=0){return(0,K.e)((Se,Ee)=>{Se.subscribe((0,N.x)(Ee,Te=>(0,d.f)(Ee,fe,()=>Ee.next(Te),$),()=>(0,d.f)(Ee,fe,()=>Ee.complete(),$),Te=>(0,d.f)(Ee,fe,()=>Ee.error(Te),$)))})}},3099:(St,Oe,U)=>{"use strict";U.d(Oe,{B:()=>fe});var d=U(8421),K=U(7579),N=U(930),ae=U(4482);function fe(Se={}){const{connector:Ee=(()=>new K.x),resetOnError:Te=!0,resetOnComplete:X=!0,resetOnRefCountZero:Y=!0}=Se;return se=>{let Ze,Ne,et,ct=0,Ie=!1,Fe=!1;const je=()=>{Ne?.unsubscribe(),Ne=void 0},Ve=()=>{je(),Ze=et=void 0,Ie=Fe=!1},ke=()=>{const De=Ze;Ve(),De?.unsubscribe()};return(0,ae.e)((De,we)=>{ct++,!Fe&&!Ie&&je();const We=et=et??Ee();we.add(()=>{ct--,0===ct&&!Fe&&!Ie&&(Ne=$(ke,Y))}),We.subscribe(we),!Ze&&ct>0&&(Ze=new N.Hp({next:ze=>We.next(ze),error:ze=>{Fe=!0,je(),Ne=$(Ve,Te,ze),We.error(ze)},complete:()=>{Ie=!0,je(),Ne=$(Ve,X),We.complete()}}),(0,d.Xf)(De).subscribe(Ze))})(se)}}function $(Se,Ee,...Te){if(!0===Ee)return void Se();if(!1===Ee)return;const X=new N.Hp({next:()=>{X.unsubscribe(),Se()}});return(0,d.Xf)(Ee(...Te)).subscribe(X)}},9468:(St,Oe,U)=>{"use strict";U.d(Oe,{R:()=>K});var d=U(4482);function K(N,ae=0){return(0,d.e)((fe,$)=>{$.add(N.schedule(()=>fe.subscribe($),ae))})}},8505:(St,Oe,U)=>{"use strict";U.d(Oe,{b:()=>fe});var d=U(576),K=U(4482),N=U(5403),ae=U(4671);function fe($,Se,Ee){const Te=(0,d.m)($)||Se||Ee?{next:$,error:Se,complete:Ee}:$;return Te?(0,K.e)((X,Y)=>{var se;null===(se=Te.subscribe)||void 0===se||se.call(Te);let Ze=!0;X.subscribe((0,N.x)(Y,Ne=>{var et;null===(et=Te.next)||void 0===et||et.call(Te,Ne),Y.next(Ne)},()=>{var Ne;Ze=!1,null===(Ne=Te.complete)||void 0===Ne||Ne.call(Te),Y.complete()},Ne=>{var et;Ze=!1,null===(et=Te.error)||void 0===et||et.call(Te,Ne),Y.error(Ne)},()=>{var Ne,et;Ze&&(null===(Ne=Te.unsubscribe)||void 0===Ne||Ne.call(Te)),null===(et=Te.finalize)||void 0===et||et.call(Te)}))}):ae.y}},4408:(St,Oe,U)=>{"use strict";U.d(Oe,{o:()=>fe});var d=U(727);class K extends d.w0{constructor(Se,Ee){super()}schedule(Se,Ee=0){return this}}const N={setInterval($,Se,...Ee){const{delegate:Te}=N;return Te?.setInterval?Te.setInterval($,Se,...Ee):setInterval($,Se,...Ee)},clearInterval($){const{delegate:Se}=N;return(Se?.clearInterval||clearInterval)($)},delegate:void 0};var ae=U(8737);class fe extends K{constructor(Se,Ee){super(Se,Ee),this.scheduler=Se,this.work=Ee,this.pending=!1}schedule(Se,Ee=0){var Te;if(this.closed)return this;this.state=Se;const X=this.id,Y=this.scheduler;return null!=X&&(this.id=this.recycleAsyncId(Y,X,Ee)),this.pending=!0,this.delay=Ee,this.id=null!==(Te=this.id)&&void 0!==Te?Te:this.requestAsyncId(Y,this.id,Ee),this}requestAsyncId(Se,Ee,Te=0){return N.setInterval(Se.flush.bind(Se,this),Te)}recycleAsyncId(Se,Ee,Te=0){if(null!=Te&&this.delay===Te&&!1===this.pending)return Ee;null!=Ee&&N.clearInterval(Ee)}execute(Se,Ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Te=this._execute(Se,Ee);if(Te)return Te;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Se,Ee){let X,Te=!1;try{this.work(Se)}catch(Y){Te=!0,X=Y||new Error("Scheduled action threw falsy error")}if(Te)return this.unsubscribe(),X}unsubscribe(){if(!this.closed){const{id:Se,scheduler:Ee}=this,{actions:Te}=Ee;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(Te,this),null!=Se&&(this.id=this.recycleAsyncId(Ee,Se,null)),this.delay=null,super.unsubscribe()}}}},7565:(St,Oe,U)=>{"use strict";U.d(Oe,{v:()=>N});var d=U(6063);class K{constructor(fe,$=K.now){this.schedulerActionCtor=fe,this.now=$}schedule(fe,$=0,Se){return new this.schedulerActionCtor(this,fe).schedule(Se,$)}}K.now=d.l.now;class N extends K{constructor(fe,$=K.now){super(fe,$),this.actions=[],this._active=!1}flush(fe){const{actions:$}=this;if(this._active)return void $.push(fe);let Se;this._active=!0;do{if(Se=fe.execute(fe.state,fe.delay))break}while(fe=$.shift());if(this._active=!1,Se){for(;fe=$.shift();)fe.unsubscribe();throw Se}}}},4986:(St,Oe,U)=>{"use strict";U.d(Oe,{z:()=>N});var d=U(4408);const N=new(U(7565).v)(d.o)},6063:(St,Oe,U)=>{"use strict";U.d(Oe,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(St,Oe,U)=>{"use strict";U.d(Oe,{z:()=>d});const d={setTimeout(K,N,...ae){const{delegate:fe}=d;return fe?.setTimeout?fe.setTimeout(K,N,...ae):setTimeout(K,N,...ae)},clearTimeout(K){const{delegate:N}=d;return(N?.clearTimeout||clearTimeout)(K)},delegate:void 0}},2202:(St,Oe,U)=>{"use strict";U.d(Oe,{h:()=>K});const K=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(St,Oe,U)=>{"use strict";U.d(Oe,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(St,Oe,U)=>{"use strict";U.d(Oe,{_6:()=>$,jO:()=>ae,yG:()=>fe});var d=U(576);function N(Se){return Se[Se.length-1]}function ae(Se){return(0,d.m)(N(Se))?Se.pop():void 0}function fe(Se){return function K(Se){return Se&&(0,d.m)(Se.schedule)}(N(Se))?Se.pop():void 0}function $(Se,Ee){return"number"==typeof N(Se)?Se.pop():Ee}},8737:(St,Oe,U)=>{"use strict";function d(K,N){if(K){const ae=K.indexOf(N);0<=ae&&K.splice(ae,1)}}U.d(Oe,{P:()=>d})},3888:(St,Oe,U)=>{"use strict";function d(K){const ae=K(fe=>{Error.call(fe),fe.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}U.d(Oe,{d:()=>d})},2806:(St,Oe,U)=>{"use strict";U.d(Oe,{O:()=>ae,x:()=>N});var d=U(2416);let K=null;function N(fe){if(d.v.useDeprecatedSynchronousErrorHandling){const $=!K;if($&&(K={errorThrown:!1,error:null}),fe(),$){const{errorThrown:Se,error:Ee}=K;if(K=null,Se)throw Ee}}else fe()}function ae(fe){d.v.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=fe)}},9672:(St,Oe,U)=>{"use strict";function d(K,N,ae,fe=0,$=!1){const Se=N.schedule(function(){ae(),$?K.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(K.add(Se),!$)return Se}U.d(Oe,{f:()=>d})},4671:(St,Oe,U)=>{"use strict";function d(K){return K}U.d(Oe,{y:()=>d})},1144:(St,Oe,U)=>{"use strict";U.d(Oe,{z:()=>d});const d=K=>K&&"number"==typeof K.length&&"function"!=typeof K},2206:(St,Oe,U)=>{"use strict";U.d(Oe,{D:()=>K});var d=U(576);function K(N){return Symbol.asyncIterator&&(0,d.m)(N?.[Symbol.asyncIterator])}},576:(St,Oe,U)=>{"use strict";function d(K){return"function"==typeof K}U.d(Oe,{m:()=>d})},3670:(St,Oe,U)=>{"use strict";U.d(Oe,{c:()=>N});var d=U(8822),K=U(576);function N(ae){return(0,K.m)(ae[d.L])}},6495:(St,Oe,U)=>{"use strict";U.d(Oe,{T:()=>N});var d=U(2202),K=U(576);function N(ae){return(0,K.m)(ae?.[d.h])}},8239:(St,Oe,U)=>{"use strict";U.d(Oe,{t:()=>K});var d=U(576);function K(N){return(0,d.m)(N?.then)}},3260:(St,Oe,U)=>{"use strict";U.d(Oe,{L:()=>ae,Q:()=>N});var d=U(7582),K=U(576);function N(fe){return(0,d.FC)(this,arguments,function*(){const Se=fe.getReader();try{for(;;){const{value:Ee,done:Te}=yield(0,d.qq)(Se.read());if(Te)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(Ee)}}finally{Se.releaseLock()}})}function ae(fe){return(0,K.m)(fe?.getReader)}},4482:(St,Oe,U)=>{"use strict";U.d(Oe,{A:()=>K,e:()=>N});var d=U(576);function K(ae){return(0,d.m)(ae?.lift)}function N(ae){return fe=>{if(K(fe))return fe.lift(function($){try{return ae($,this)}catch(Se){this.error(Se)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(St,Oe,U)=>{"use strict";function d(){}U.d(Oe,{Z:()=>d})},9635:(St,Oe,U)=>{"use strict";U.d(Oe,{U:()=>N,z:()=>K});var d=U(4671);function K(...ae){return N(ae)}function N(ae){return 0===ae.length?d.y:1===ae.length?ae[0]:function($){return ae.reduce((Se,Ee)=>Ee(Se),$)}}},7849:(St,Oe,U)=>{"use strict";U.d(Oe,{h:()=>N});var d=U(2416),K=U(3410);function N(ae){K.z.setTimeout(()=>{const{onUnhandledError:fe}=d.v;if(!fe)throw ae;fe(ae)})}},4532:(St,Oe,U)=>{"use strict";function d(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(Oe,{z:()=>d})},5226:function(St){St.exports=function(){"use strict";const U={},K=C=>new Promise(T=>{if(!C)return T();const k=window.scrollX,W=window.scrollY;U.restoreFocusTimeout=setTimeout(()=>{U.previousActiveElement instanceof HTMLElement?(U.previousActiveElement.focus(),U.previousActiveElement=null):document.body&&document.body.focus(),T()},100),window.scrollTo(k,W)});var N={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const $=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((C,T)=>(C[T]="swal2-"+T,C),{}),Ee=["success","warning","info","question","error"].reduce((C,T)=>(C[T]="swal2-"+T,C),{}),Te="SweetAlert2:",X=C=>C.charAt(0).toUpperCase()+C.slice(1),Y=C=>{console.warn(`${Te} ${"object"==typeof C?C.join(" "):C}`)},se=C=>{console.error(`${Te} ${C}`)},Ze=[],et=(C,T)=>{(C=>{Ze.includes(C)||(Ze.push(C),Y(C))})(`"${C}" is deprecated and will be removed in the next major release. Please use "${T}" instead.`)},ct=C=>"function"==typeof C?C():C,Ie=C=>C&&"function"==typeof C.toPromise,Fe=C=>Ie(C)?C.toPromise():Promise.resolve(C),je=C=>C&&Promise.resolve(C)===C,Ve=()=>document.body.querySelector(`.${$.container}`),ke=C=>{const T=Ve();return T?T.querySelector(C):null},De=C=>ke(`.${C}`),we=()=>De($.popup),We=()=>De($.icon),de=()=>De($.title),nt=()=>De($["html-container"]),Pt=()=>De($.image),ht=()=>De($["progress-steps"]),qt=()=>De($["validation-message"]),rt=()=>ke(`.${$.actions} .${$.confirm}`),ii=()=>ke(`.${$.actions} .${$.cancel}`),pe=()=>ke(`.${$.actions} .${$.deny}`),Pe=()=>ke(`.${$.loader}`),Le=()=>De($.actions),Je=()=>De($.footer),He=()=>De($["timer-progress-bar"]),Be=()=>De($.close),Nn=()=>{const C=we().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),T=Array.from(C).sort((me,Mt)=>{const bn=parseInt(me.getAttribute("tabindex")),er=parseInt(Mt.getAttribute("tabindex"));return bn>er?1:bn<er?-1:0}),k=we().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),W=Array.from(k).filter(me=>"-1"!==me.getAttribute("tabindex"));return[...new Set(T.concat(W))].filter(me=>Fn(me))},yt=()=>vn(document.body,$.shown)&&!vn(document.body,$["toast-shown"])&&!vn(document.body,$["no-backdrop"]),Et=()=>we()&&vn(we(),$.toast),Jt=(C,T)=>{if(C.textContent="",T){const W=(new DOMParser).parseFromString(T,"text/html");Array.from(W.querySelector("head").childNodes).forEach(me=>{C.appendChild(me)}),Array.from(W.querySelector("body").childNodes).forEach(me=>{me instanceof HTMLVideoElement||me instanceof HTMLAudioElement?C.appendChild(me.cloneNode(!0)):C.appendChild(me)})}},vn=(C,T)=>{if(!T)return!1;const k=T.split(/\s+/);for(let W=0;W<k.length;W++)if(!C.classList.contains(k[W]))return!1;return!0},Dn=(C,T,k)=>{if(((C,T)=>{Array.from(C.classList).forEach(k=>{!Object.values($).includes(k)&&!Object.values(Ee).includes(k)&&!Object.values(T.showClass).includes(k)&&C.classList.remove(k)})})(C,T),T.customClass&&T.customClass[k]){if("string"!=typeof T.customClass[k]&&!T.customClass[k].forEach)return void Y(`Invalid type of customClass.${k}! Expected string or iterable object, got "${typeof T.customClass[k]}"`);Kt(C,T.customClass[k])}},Er=(C,T)=>{if(!T)return null;switch(T){case"select":case"textarea":case"file":return C.querySelector(`.${$.popup} > .${$[T]}`);case"checkbox":return C.querySelector(`.${$.popup} > .${$.checkbox} input`);case"radio":return C.querySelector(`.${$.popup} > .${$.radio} input:checked`)||C.querySelector(`.${$.popup} > .${$.radio} input:first-child`);case"range":return C.querySelector(`.${$.popup} > .${$.range} input`);default:return C.querySelector(`.${$.popup} > .${$.input}`)}},rr=C=>{if(C.focus(),"file"!==C.type){const T=C.value;C.value="",C.value=T}},Jr=(C,T,k)=>{!C||!T||("string"==typeof T&&(T=T.split(/\s+/).filter(Boolean)),T.forEach(W=>{Array.isArray(C)?C.forEach(me=>{k?me.classList.add(W):me.classList.remove(W)}):k?C.classList.add(W):C.classList.remove(W)}))},Kt=(C,T)=>{Jr(C,T,!0)},Gr=(C,T)=>{Jr(C,T,!1)},xn=(C,T)=>{const k=Array.from(C.children);for(let W=0;W<k.length;W++){const me=k[W];if(me instanceof HTMLElement&&vn(me,T))return me}},_t=(C,T,k)=>{k===`${parseInt(k)}`&&(k=parseInt(k)),k||0===parseInt(k)?C.style[T]="number"==typeof k?`${k}px`:k:C.style.removeProperty(T)},hn=function(C){C&&(C.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},$n=C=>{C&&(C.style.display="none")},Zn=(C,T,k,W)=>{const me=C.querySelector(T);me&&(me.style[k]=W)},_r=function(C,T){T?hn(C,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):$n(C)},Fn=C=>!(!C||!(C.offsetWidth||C.offsetHeight||C.getClientRects().length)),en=C=>C.scrollHeight>C.clientHeight,vt=C=>{const T=window.getComputedStyle(C),k=parseFloat(T.getPropertyValue("animation-duration")||"0"),W=parseFloat(T.getPropertyValue("transition-duration")||"0");return k>0||W>0},Ut=function(C){let T=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const k=He();Fn(k)&&(T&&(k.style.transition="none",k.style.width="100%"),setTimeout(()=>{k.style.transition=`width ${C/1e3}s linear`,k.style.width="0%"},10))},Ir=()=>typeof window>"u"||typeof document>"u",Yn=`\n <div aria-labelledby="${$.title}" aria-describedby="${$["html-container"]}" class="${$.popup}" tabindex="-1">\n   <button type="button" class="${$.close}"></button>\n   <ul class="${$["progress-steps"]}"></ul>\n   <div class="${$.icon}"></div>\n   <img class="${$.image}" />\n   <h2 class="${$.title}" id="${$.title}"></h2>\n   <div class="${$["html-container"]}" id="${$["html-container"]}"></div>\n   <input class="${$.input}" />\n   <input type="file" class="${$.file}" />\n   <div class="${$.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${$.select}"></select>\n   <div class="${$.radio}"></div>\n   <label for="${$.checkbox}" class="${$.checkbox}">\n     <input type="checkbox" />\n     <span class="${$.label}"></span>\n   </label>\n   <textarea class="${$.textarea}"></textarea>\n   <div class="${$["validation-message"]}" id="${$["validation-message"]}"></div>\n   <div class="${$.actions}">\n     <div class="${$.loader}"></div>\n     <button type="button" class="${$.confirm}"></button>\n     <button type="button" class="${$.deny}"></button>\n     <button type="button" class="${$.cancel}"></button>\n   </div>\n   <div class="${$.footer}"></div>\n   <div class="${$["timer-progress-bar-container"]}">\n     <div class="${$["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),Mn=()=>{U.currentInstance.resetValidationMessage()},si=C=>{const T=(()=>{const C=Ve();return!!C&&(C.remove(),Gr([document.documentElement,document.body],[$["no-backdrop"],$["toast-shown"],$["has-column"]]),!0)})();if(Ir())return void se("SweetAlert2 requires document to initialize");const k=document.createElement("div");k.className=$.container,T&&Kt(k,$["no-transition"]),Jt(k,Yn);const W=(C=>"string"==typeof C?document.querySelector(C):C)(C.target);W.appendChild(k),(C=>{const T=we();T.setAttribute("role",C.toast?"alert":"dialog"),T.setAttribute("aria-live",C.toast?"polite":"assertive"),C.toast||T.setAttribute("aria-modal","true")})(C),(C=>{"rtl"===window.getComputedStyle(C).direction&&Kt(Ve(),$.rtl)})(W),(()=>{const C=we(),T=xn(C,$.input),k=xn(C,$.file),W=C.querySelector(`.${$.range} input`),me=C.querySelector(`.${$.range} output`),Mt=xn(C,$.select),bn=C.querySelector(`.${$.checkbox} input`),er=xn(C,$.textarea);T.oninput=Mn,k.onchange=Mn,Mt.onchange=Mn,bn.onchange=Mn,er.oninput=Mn,W.oninput=()=>{Mn(),me.value=W.value},W.onchange=()=>{Mn(),me.value=W.value}})()},zt=(C,T)=>{C instanceof HTMLElement?T.appendChild(C):"object"==typeof C?or(C,T):C&&Jt(T,C)},or=(C,T)=>{C.jquery?Kn(T,C):Jt(T,C.toString())},Kn=(C,T)=>{if(C.textContent="",0 in T)for(let k=0;k in T;k++)C.appendChild(T[k].cloneNode(!0));else C.appendChild(T.cloneNode(!0))},sr=(()=>{if(Ir())return!1;const C=document.createElement("div"),T={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const k in T)if(Object.prototype.hasOwnProperty.call(T,k)&&typeof C.style[k]<"u")return T[k];return!1})(),ar=(C,T)=>{const k=Le(),W=Pe();T.showConfirmButton||T.showDenyButton||T.showCancelButton?hn(k):$n(k),Dn(k,T,"actions"),function Xr(C,T,k){const W=rt(),me=pe(),Mt=ii();Pr(W,"confirm",k),Pr(me,"deny",k),Pr(Mt,"cancel",k),function Wr(C,T,k,W){W.buttonsStyling?(Kt([C,T,k],$.styled),W.confirmButtonColor&&(C.style.backgroundColor=W.confirmButtonColor,Kt(C,$["default-outline"])),W.denyButtonColor&&(T.style.backgroundColor=W.denyButtonColor,Kt(T,$["default-outline"])),W.cancelButtonColor&&(k.style.backgroundColor=W.cancelButtonColor,Kt(k,$["default-outline"]))):Gr([C,T,k],$.styled)}(W,me,Mt,k),k.reverseButtons&&(k.toast?(C.insertBefore(Mt,W),C.insertBefore(me,W)):(C.insertBefore(Mt,T),C.insertBefore(me,T),C.insertBefore(W,T)))}(k,W,T),Jt(W,T.loaderHtml),Dn(W,T,"loader")};function Pr(C,T,k){_r(C,k[`show${X(T)}Button`],"inline-block"),Jt(C,k[`${T}ButtonText`]),C.setAttribute("aria-label",k[`${T}ButtonAriaLabel`]),C.className=$[T],Dn(C,k,`${T}Button`),Kt(C,k[`${T}ButtonClass`])}const q=(C,T)=>{const k=Ve();k&&(function B(C,T){"string"==typeof T?C.style.background=T:T||Kt([document.documentElement,document.body],$["no-backdrop"])}(k,T.backdrop),function j(C,T){T in $?Kt(C,$[T]):(Y('The "position" parameter is not valid, defaulting to "center"'),Kt(C,$.center))}(k,T.position),function F(C,T){if(T&&"string"==typeof T){const k=`grow-${T}`;k in $&&Kt(C,$[k])}}(k,T.grow),Dn(k,T,"container"))};const te=["input","file","range","select","radio","checkbox","textarea"],lt=C=>{if(!Qn[C.input])return void se(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${C.input}"`);const T=Zt(C.input),k=Qn[C.input](T,C);hn(T),C.inputAutoFocus&&setTimeout(()=>{rr(k)})},kt=(C,T)=>{const k=Er(we(),C);if(k){(C=>{for(let T=0;T<C.attributes.length;T++){const k=C.attributes[T].name;["type","value","style"].includes(k)||C.removeAttribute(k)}})(k);for(const W in T)k.setAttribute(W,T[W])}},nn=C=>{const T=Zt(C.input);"object"==typeof C.customClass&&Kt(T,C.customClass.input)},Lt=(C,T)=>{(!C.placeholder||T.inputPlaceholder)&&(C.placeholder=T.inputPlaceholder)},Sn=(C,T,k)=>{if(k.inputLabel){C.id=$.input;const W=document.createElement("label"),me=$["input-label"];W.setAttribute("for",C.id),W.className=me,"object"==typeof k.customClass&&Kt(W,k.customClass.inputLabel),W.innerText=k.inputLabel,T.insertAdjacentElement("beforebegin",W)}},Zt=C=>xn(we(),$[C]||$.input),cr=(C,T)=>{["string","number"].includes(typeof T)?C.value=`${T}`:je(T)||Y(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof T}"`)},Qn={};Qn.text=Qn.email=Qn.password=Qn.number=Qn.tel=Qn.url=(C,T)=>(cr(C,T.inputValue),Sn(C,C,T),Lt(C,T),C.type=T.input,C),Qn.file=(C,T)=>(Sn(C,C,T),Lt(C,T),C),Qn.range=(C,T)=>{const k=C.querySelector("input"),W=C.querySelector("output");return cr(k,T.inputValue),k.type=T.input,cr(W,T.inputValue),Sn(k,C,T),C},Qn.select=(C,T)=>{if(C.textContent="",T.inputPlaceholder){const k=document.createElement("option");Jt(k,T.inputPlaceholder),k.value="",k.disabled=!0,k.selected=!0,C.appendChild(k)}return Sn(C,C,T),C},Qn.radio=C=>(C.textContent="",C),Qn.checkbox=(C,T)=>{const k=Er(we(),"checkbox");k.value="1",k.id=$.checkbox,k.checked=Boolean(T.inputValue);const W=C.querySelector("span");return Jt(W,T.inputPlaceholder),k},Qn.textarea=(C,T)=>{cr(C,T.inputValue),Lt(C,T),Sn(C,C,T);return setTimeout(()=>{if("MutationObserver"in window){const W=parseInt(window.getComputedStyle(we()).width);new MutationObserver(()=>{const Mt=C.offsetWidth+(W=>parseInt(window.getComputedStyle(W).marginLeft)+parseInt(window.getComputedStyle(W).marginRight))(C);we().style.width=Mt>W?`${Mt}px`:null}).observe(C,{attributes:!0,attributeFilter:["style"]})}}),C};const ve=(C,T)=>{const k=nt();k&&(Dn(k,T,"htmlContainer"),T.html?(zt(T.html,k),hn(k,"block")):T.text?(k.textContent=T.text,hn(k,"block")):$n(k),((C,T)=>{const k=we(),W=N.innerParams.get(C),me=!W||T.input!==W.input;te.forEach(Mt=>{const bn=xn(k,$[Mt]);kt(Mt,T.inputAttributes),bn.className=$[Mt],me&&$n(bn)}),T.input&&(me&&lt(T),nn(T))})(C,T))},It=(C,T)=>{for(const k in Ee)T.icon!==k&&Gr(C,Ee[k]);Kt(C,Ee[T.icon]),yn(C,T),Bt(),Dn(C,T,"icon")},Bt=()=>{const C=we(),T=window.getComputedStyle(C).getPropertyValue("background-color"),k=C.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let W=0;W<k.length;W++)k[W].style.backgroundColor=T},Tn=(C,T)=>{let W,k=C.innerHTML;T.iconHtml?W=kr(T.iconHtml):"success"===T.icon?(W='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',k=k.replace(/ style=".*?"/g,"")):W="error"===T.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':kr({question:"?",warning:"!",info:"i"}[T.icon]),k.trim()!==W.trim()&&Jt(C,W)},yn=(C,T)=>{if(T.iconColor){C.style.color=T.iconColor,C.style.borderColor=T.iconColor;for(const k of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Zn(C,k,"backgroundColor",T.iconColor);Zn(C,".swal2-success-ring","borderColor",T.iconColor)}},kr=C=>`<div class="${$["icon-content"]}">${C}</div>`,cu=(C,T)=>{const k=T.showClass||{};C.className=`${$.popup} ${Fn(C)?k.popup:""}`,T.toast?(Kt([document.documentElement,document.body],$["toast-shown"]),Kt(C,$.toast)):Kt(C,$.modal),Dn(C,T,"popup"),"string"==typeof T.customClass&&Kt(C,T.customClass),T.icon&&Kt(C,$[`icon-${T.icon}`])},Tr=C=>{const T=document.createElement("li");return Kt(T,$["progress-step"]),Jt(T,C),T},ot=C=>{const T=document.createElement("li");return Kt(T,$["progress-step-line"]),C.progressStepsDistance&&_t(T,"width",C.progressStepsDistance),T},Hn=(C,T)=>{((C,T)=>{const k=Ve(),W=we();if(k&&W){if(T.toast){_t(k,"width",T.width),W.style.width="100%";const me=Pe();me&&W.insertBefore(me,We())}else _t(W,"width",T.width);_t(W,"padding",T.padding),T.color&&(W.style.color=T.color),T.background&&(W.style.background=T.background),$n(qt()),cu(W,T)}})(0,T),q(0,T),((C,T)=>{const k=ht();if(!k)return;const{progressSteps:W,currentProgressStep:me}=T;W&&0!==W.length&&void 0!==me?(hn(k),k.textContent="",me>=W.length&&Y("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),W.forEach((Mt,bn)=>{const er=Tr(Mt);if(k.appendChild(er),bn===me&&Kt(er,$["active-progress-step"]),bn!==W.length-1){const tr=ot(T);k.appendChild(tr)}})):$n(k)})(0,T),((C,T)=>{const k=N.innerParams.get(C),W=We();k&&T.icon===k.icon?(Tn(W,T),It(W,T)):T.icon||T.iconHtml?T.icon&&-1===Object.keys(Ee).indexOf(T.icon)?(se(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${T.icon}"`),$n(W)):(hn(W),Tn(W,T),It(W,T),Kt(W,T.showClass.icon)):$n(W)})(C,T),((C,T)=>{const k=Pt();if(k){if(!T.imageUrl)return void $n(k);hn(k,""),k.setAttribute("src",T.imageUrl),k.setAttribute("alt",T.imageAlt||""),_t(k,"width",T.imageWidth),_t(k,"height",T.imageHeight),k.className=$.image,Dn(k,T,"image")}})(0,T),((C,T)=>{const k=de();k&&(_r(k,T.title||T.titleText,"block"),T.title&&zt(T.title,k),T.titleText&&(k.innerText=T.titleText),Dn(k,T,"title"))})(0,T),((C,T)=>{const k=Be();k&&(Jt(k,T.closeButtonHtml||""),Dn(k,T,"closeButton"),_r(k,T.showCloseButton),k.setAttribute("aria-label",T.closeButtonAriaLabel||""))})(0,T),ve(C,T),ar(0,T),((C,T)=>{const k=Je();k&&(_r(k,T.footer),T.footer&&zt(T.footer,k),Dn(k,T,"footer"))})(0,T),"function"==typeof T.didRender&&T.didRender(we())},lo=()=>rt()&&rt().click(),Ln=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),fs=C=>{C.keydownTarget&&C.keydownHandlerAdded&&(C.keydownTarget.removeEventListener("keydown",C.keydownHandler,{capture:C.keydownListenerCapture}),C.keydownHandlerAdded=!1)},Yt=(C,T)=>{const k=Nn();if(k.length)return(C+=T)===k.length?C=0:-1===C&&(C=k.length-1),void k[C].focus();we().focus()},Us=["ArrowRight","ArrowDown"],Ci=["ArrowLeft","ArrowUp"],js=(C,T,k)=>{const W=N.innerParams.get(C);W&&(T.isComposing||229===T.keyCode||(W.stopKeydownPropagation&&T.stopPropagation(),"Enter"===T.key?xo(C,T,W):"Tab"===T.key?vr(T):[...Us,...Ci].includes(T.key)?Ko(T.key):"Escape"===T.key&&Zo(T,W,k)))},xo=(C,T,k)=>{if(ct(k.allowEnterKey)&&T.target&&C.getInput()&&T.target instanceof HTMLElement&&T.target.outerHTML===C.getInput().outerHTML){if(["textarea","file"].includes(k.input))return;lo(),T.preventDefault()}},vr=C=>{const T=C.target,k=Nn();let W=-1;for(let me=0;me<k.length;me++)if(T===k[me]){W=me;break}Yt(W,C.shiftKey?-1:1),C.stopPropagation(),C.preventDefault()},Ko=C=>{const T=rt(),k=pe(),W=ii();if(document.activeElement instanceof HTMLElement&&![T,k,W].includes(document.activeElement))return;const Mt=Us.includes(C)?"nextElementSibling":"previousElementSibling";let bn=document.activeElement;for(let er=0;er<Le().children.length;er++){if(bn=bn[Mt],!bn)return;if(bn instanceof HTMLButtonElement&&Fn(bn))break}bn instanceof HTMLButtonElement&&bn.focus()},Zo=(C,T,k)=>{ct(T.allowEscapeKey)&&(C.preventDefault(),k(Ln.esc))};var qr={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Or=()=>{Array.from(document.body.children).forEach(T=>{T.hasAttribute("data-previous-aria-hidden")?(T.setAttribute("aria-hidden",T.getAttribute("data-previous-aria-hidden")),T.removeAttribute("data-previous-aria-hidden")):T.removeAttribute("aria-hidden")})},Di=()=>{const C=navigator.userAgent,T=!!C.match(/iPad/i)||!!C.match(/iPhone/i),k=!!C.match(/WebKit/i);T&&k&&!C.match(/CriOS/i)&&we().scrollHeight>window.innerHeight-44&&(Ve().style.paddingBottom="44px")},sc=()=>{const C=Ve();let T;C.ontouchstart=k=>{T=$s(k)},C.ontouchmove=k=>{T&&(k.preventDefault(),k.stopPropagation())}},$s=C=>{const T=C.target,k=Ve();return!ms(C)&&!Mo(C)&&(T===k||!en(k)&&T instanceof HTMLElement&&"INPUT"!==T.tagName&&"TEXTAREA"!==T.tagName&&!(en(nt())&&nt().contains(T)))},ms=C=>C.touches&&C.touches.length&&"stylus"===C.touches[0].touchType,Mo=C=>C.touches&&C.touches.length>1,Yo=()=>{if(vn(document.body,$.iosfix)){const C=parseInt(document.body.style.top,10);Gr(document.body,$.iosfix),document.body.style.top="",document.body.scrollTop=-1*C}};let Qo=null;const ei=()=>{null===Qo&&document.body.scrollHeight>window.innerHeight&&(Qo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Qo+(()=>{const C=document.createElement("div");C.className=$["scrollbar-measure"],document.body.appendChild(C);const T=C.getBoundingClientRect().width-C.clientWidth;return document.body.removeChild(C),T})()}px`)},Ui=()=>{null!==Qo&&(document.body.style.paddingRight=`${Qo}px`,Qo=null)};function Ro(C,T,k,W){Et()?ac(C,W):(K(k).then(()=>ac(C,W)),fs(U)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(T.setAttribute("style","display:none !important"),T.removeAttribute("class"),T.innerHTML=""):T.remove(),yt()&&(Ui(),Yo(),Or()),function Ia(){Gr([document.documentElement,document.body],[$.shown,$["height-auto"],$["no-backdrop"],$["toast-shown"]])}()}function Ti(C){C=Cd(C);const T=qr.swalPromiseResolve.get(this),k=ai(this);this.isAwaitingPromise?C.isDismissed||(ho(this),T(C)):k&&T(C)}const ai=C=>{const T=we();if(!T)return!1;const k=N.innerParams.get(C);if(!k||vn(T,k.hideClass.popup))return!1;Gr(T,k.showClass.popup),Kt(T,k.hideClass.popup);const W=Ve();return Gr(W,k.showClass.backdrop),Kt(W,k.hideClass.backdrop),Gi(C,T,k),!0};function uo(C){const T=qr.swalPromiseReject.get(this);ho(this),T&&T(C)}const ho=C=>{C.isAwaitingPromise&&(delete C.isAwaitingPromise,N.innerParams.get(C)||C._destroy())},Cd=C=>typeof C>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},C),Gi=(C,T,k)=>{const W=Ve(),me=sr&&vt(T);"function"==typeof k.willClose&&k.willClose(T),me?Dd(C,T,W,k.returnFocus,k.didClose):Ro(C,W,k.returnFocus,k.didClose)},Dd=(C,T,k,W,me)=>{U.swalCloseEventFinishedCallback=Ro.bind(null,C,k,W,me),T.addEventListener(sr,function(Mt){Mt.target===T&&(U.swalCloseEventFinishedCallback(),delete U.swalCloseEventFinishedCallback)})},ac=(C,T)=>{setTimeout(()=>{"function"==typeof T&&T.bind(C.params)(),C._destroy&&C._destroy()})},gs=C=>{let T=we();T||new Mi,T=we();const k=Pe();Et()?$n(We()):Yc(T,C),hn(k),T.setAttribute("data-loading","true"),T.setAttribute("aria-busy","true"),T.focus()},Yc=(C,T)=>{const k=Le(),W=Pe();!T&&Fn(rt())&&(T=rt()),hn(k),T&&($n(T),W.setAttribute("data-button-to-replace",T.className)),W.parentNode.insertBefore(W,T),Kt([C,k],$.loading)},Jc=C=>C.checked?1:0,Xc=C=>C.checked?C.value:null,lu=C=>C.files.length?null!==C.getAttribute("multiple")?C.files:C.files[0]:null,Po=(C,T)=>{const k=we(),W=me=>{uu[T.input](k,ko(me),T)};Ie(T.inputOptions)||je(T.inputOptions)?(gs(rt()),Fe(T.inputOptions).then(me=>{C.hideLoading(),W(me)})):"object"==typeof T.inputOptions?W(T.inputOptions):se("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof T.inputOptions)},ys=(C,T)=>{const k=C.getInput();$n(k),Fe(T.inputValue).then(W=>{k.value="number"===T.input?`${parseFloat(W)||0}`:`${W}`,hn(k),k.focus(),C.hideLoading()}).catch(W=>{se(`Error in inputValue promise: ${W}`),k.value="",hn(k),k.focus(),C.hideLoading()})},uu={select:(C,T,k)=>{const W=xn(C,$.select),me=(Mt,bn,er)=>{const tr=document.createElement("option");tr.value=er,Jt(tr,bn),tr.selected=el(er,k.inputValue),Mt.appendChild(tr)};T.forEach(Mt=>{const bn=Mt[0],er=Mt[1];if(Array.isArray(er)){const tr=document.createElement("optgroup");tr.label=bn,tr.disabled=!1,W.appendChild(tr),er.forEach(ns=>me(tr,ns[1],ns[0]))}else me(W,er,bn)}),W.focus()},radio:(C,T,k)=>{const W=xn(C,$.radio);T.forEach(Mt=>{const bn=Mt[0],er=Mt[1],tr=document.createElement("input"),ns=document.createElement("label");tr.type="radio",tr.name=$.radio,tr.value=bn,el(bn,k.inputValue)&&(tr.checked=!0);const Ji=document.createElement("span");Jt(Ji,er),Ji.className=$.label,ns.appendChild(tr),ns.appendChild(Ji),W.appendChild(ns)});const me=W.querySelectorAll("input");me.length&&me[0].focus()}},ko=C=>{const T=[];return typeof Map<"u"&&C instanceof Map?C.forEach((k,W)=>{let me=k;"object"==typeof me&&(me=ko(me)),T.push([W,me])}):Object.keys(C).forEach(k=>{let W=C[k];"object"==typeof W&&(W=ko(W)),T.push([k,W])}),T},el=(C,T)=>T&&T.toString()===C.toString(),qi=(C,T)=>{const k=N.innerParams.get(C);if(!k.input)return void se(`The "input" parameter is needed to be set when using returnInputValueOn${X(T)}`);const W=((C,T)=>{const k=C.getInput();if(!k)return null;switch(T.input){case"checkbox":return Jc(k);case"radio":return Xc(k);case"file":return lu(k);default:return T.inputAutoTrim?k.value.trim():k.value}})(C,k);k.inputValidator?nl(C,W,T):C.getInput().checkValidity()?"deny"===T?Ca(C,W):Ki(C,W):(C.enableButtons(),C.showValidationMessage(k.validationMessage))},nl=(C,T,k)=>{const W=N.innerParams.get(C);C.disableInput(),Promise.resolve().then(()=>Fe(W.inputValidator(T,W.validationMessage))).then(Mt=>{C.enableButtons(),C.enableInput(),Mt?C.showValidationMessage(Mt):"deny"===k?Ca(C,T):Ki(C,T)})},Ca=(C,T)=>{const k=N.innerParams.get(C||void 0);k.showLoaderOnDeny&&gs(pe()),k.preDeny?(C.isAwaitingPromise=!0,Promise.resolve().then(()=>Fe(k.preDeny(T,k.validationMessage))).then(me=>{!1===me?(C.hideLoading(),ho(C)):C.close({isDenied:!0,value:typeof me>"u"?T:me})}).catch(me=>rl(C||void 0,me))):C.close({isDenied:!0,value:T})},Hs=(C,T)=>{C.close({isConfirmed:!0,value:T})},rl=(C,T)=>{C.rejectPromise(T)},Ki=(C,T)=>{const k=N.innerParams.get(C||void 0);k.showLoaderOnConfirm&&gs(),k.preConfirm?(C.resetValidationMessage(),C.isAwaitingPromise=!0,Promise.resolve().then(()=>Fe(k.preConfirm(T,k.validationMessage))).then(me=>{Fn(qt())||!1===me?(C.hideLoading(),ho(C)):Hs(C,typeof me>"u"?T:me)}).catch(me=>rl(C||void 0,me))):Hs(C,T)};function vs(){const C=N.innerParams.get(this);if(!C)return;const T=N.domCache.get(this);$n(T.loader),Et()?C.icon&&hn(We()):Da(T),Gr([T.popup,T.actions],$.loading),T.popup.removeAttribute("aria-busy"),T.popup.removeAttribute("data-loading"),T.confirmButton.disabled=!1,T.denyButton.disabled=!1,T.cancelButton.disabled=!1}const Da=C=>{const T=C.popup.getElementsByClassName(C.loader.getAttribute("data-button-to-replace"));T.length?hn(T[0],"inline-block"):!Fn(rt())&&!Fn(pe())&&!Fn(ii())&&$n(C.actions)};function cc(){const C=N.innerParams.get(this),T=N.domCache.get(this);return T?Er(T.popup,C.input):null}function Jo(C,T,k){const W=N.domCache.get(C);T.forEach(me=>{W[me].disabled=k})}function Oo(C,T){if(C)if("radio"===C.type){const W=C.parentNode.parentNode.querySelectorAll("input");for(let me=0;me<W.length;me++)W[me].disabled=T}else C.disabled=T}function Gn(){Jo(this,["confirmButton","denyButton","cancelButton"],!1)}function bs(){Jo(this,["confirmButton","denyButton","cancelButton"],!0)}function zs(){Oo(this.getInput(),!1)}function pr(){Oo(this.getInput(),!0)}function No(C){const T=N.domCache.get(this),k=N.innerParams.get(this);Jt(T.validationMessage,C),T.validationMessage.className=$["validation-message"],k.customClass&&k.customClass.validationMessage&&Kt(T.validationMessage,k.customClass.validationMessage),hn(T.validationMessage);const W=this.getInput();W&&(W.setAttribute("aria-invalid",!0),W.setAttribute("aria-describedby",$["validation-message"]),rr(W),Kt(W,$.inputerror))}function Fo(){const C=N.domCache.get(this);C.validationMessage&&$n(C.validationMessage);const T=this.getInput();T&&(T.removeAttribute("aria-invalid"),T.removeAttribute("aria-describedby"),Gr(T,$.inputerror))}const Jn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},du=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ta={},ti=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],br=C=>Object.prototype.hasOwnProperty.call(Jn,C),ws=C=>-1!==du.indexOf(C),fo=C=>Ta[C],il=C=>{br(C)||Y(`Unknown parameter "${C}"`)},po=C=>{ti.includes(C)&&Y(`The parameter "${C}" is incompatible with toasts`)},Gs=C=>{const T=fo(C);T&&et(C,T)};function jt(C){const T=we(),k=N.innerParams.get(this);if(!T||vn(T,k.hideClass.popup))return void Y("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const W=Aa(C),me=Object.assign({},k,W);Hn(this,me),N.innerParams.set(this,me),Object.defineProperties(this,{params:{value:Object.assign({},this.params,C),writable:!1,enumerable:!0}})}const Aa=C=>{const T={};return Object.keys(C).forEach(k=>{ws(k)?T[k]=C[k]:Y(`Invalid parameter to update: ${k}`)}),T};function ol(){const C=N.domCache.get(this),T=N.innerParams.get(this);T?(C.popup&&U.swalCloseEventFinishedCallback&&(U.swalCloseEventFinishedCallback(),delete U.swalCloseEventFinishedCallback),"function"==typeof T.didDestroy&&T.didDestroy(),lc(this)):Sa(this)}const lc=C=>{Sa(C),delete C.params,delete U.keydownHandler,delete U.keydownTarget,delete U.currentInstance},Sa=C=>{C.isAwaitingPromise?(Ws(N,C),C.isAwaitingPromise=!0):(Ws(qr,C),Ws(N,C),delete C.isAwaitingPromise,delete C.disableButtons,delete C.enableButtons,delete C.getInput,delete C.disableInput,delete C.enableInput,delete C.hideLoading,delete C.disableLoading,delete C.showValidationMessage,delete C.resetValidationMessage,delete C.close,delete C.closePopup,delete C.closeModal,delete C.closeToast,delete C.rejectPromise,delete C.update,delete C._destroy)},Ws=(C,T)=>{for(const k in C)C[k].delete(T)};var sl=Object.freeze({__proto__:null,_destroy:ol,close:Ti,closeModal:Ti,closePopup:Ti,closeToast:Ti,disableButtons:bs,disableInput:pr,disableLoading:vs,enableButtons:Gn,enableInput:zs,getInput:cc,handleAwaitingPromise:ho,hideLoading:vs,rejectPromise:uo,resetValidationMessage:Fo,showValidationMessage:No,update:jt});const Ad=(C,T,k)=>{T.popup.onclick=()=>{const W=N.innerParams.get(C);W&&(be(W)||W.timer||W.input)||k(Ln.close)}},be=C=>C.showConfirmButton||C.showDenyButton||C.showCancelButton||C.showCloseButton;let $t=!1;const uc=C=>{C.popup.onmousedown=()=>{C.container.onmouseup=function(T){C.container.onmouseup=void 0,T.target===C.container&&($t=!0)}}},qs=C=>{C.container.onmousedown=()=>{C.popup.onmouseup=function(T){C.popup.onmouseup=void 0,(T.target===C.popup||C.popup.contains(T.target))&&($t=!0)}}},lr=(C,T,k)=>{T.container.onclick=W=>{const me=N.innerParams.get(C);$t?$t=!1:W.target===T.container&&ct(me.allowOutsideClick)&&k(Ln.backdrop)}},Xo=C=>C instanceof Element||(C=>"object"==typeof C&&C.jquery)(C);const mo=()=>{if(U.timeout)return(()=>{const C=He(),T=parseInt(window.getComputedStyle(C).width);C.style.removeProperty("transition"),C.style.width="100%";const k=parseInt(window.getComputedStyle(C).width);C.style.width=T/k*100+"%"})(),U.timeout.stop()},es=()=>{if(U.timeout){const C=U.timeout.start();return Ut(C),C}};let Zi=!1;const Si={};const ts=C=>{for(let T=C.target;T&&T!==document;T=T.parentNode)for(const k in Si){const W=T.getAttribute(k);if(W)return void Si[k].fire({template:W})}};var hl=Object.freeze({__proto__:null,argsToParams:C=>{const T={};return"object"!=typeof C[0]||Xo(C[0])?["title","html","icon"].forEach((k,W)=>{const me=C[W];"string"==typeof me||Xo(me)?T[k]=me:void 0!==me&&se(`Unexpected type of ${k}! Expected "string" or "Element", got ${typeof me}`)}):Object.assign(T,C[0]),T},bindClickHandler:function dl(){Si[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Zi||(document.body.addEventListener("click",ts),Zi=!0)},clickCancel:()=>ii()&&ii().click(),clickConfirm:lo,clickDeny:()=>pe()&&pe().click(),enableLoading:gs,fire:function xa(){for(var T=arguments.length,k=new Array(T),W=0;W<T;W++)k[W]=arguments[W];return new this(...k)},getActions:Le,getCancelButton:ii,getCloseButton:Be,getConfirmButton:rt,getContainer:Ve,getDenyButton:pe,getFocusableElements:Nn,getFooter:Je,getHtmlContainer:nt,getIcon:We,getIconContent:()=>De($["icon-content"]),getImage:Pt,getInputLabel:()=>De($["input-label"]),getLoader:Pe,getPopup:we,getProgressSteps:ht,getTimerLeft:()=>U.timeout&&U.timeout.getTimerLeft(),getTimerProgressBar:He,getTitle:de,getValidationMessage:qt,increaseTimer:C=>{if(U.timeout){const T=U.timeout.increase(C);return Ut(T,!0),T}},isDeprecatedParameter:fo,isLoading:()=>we().hasAttribute("data-loading"),isTimerRunning:()=>U.timeout&&U.timeout.isRunning(),isUpdatableParameter:ws,isValidParameter:br,isVisible:()=>Fn(we()),mixin:function ll(C){return class T extends(this){_main(W,me){return super._main(W,Object.assign({},C,me))}}},resumeTimer:es,showLoading:gs,stopTimer:mo,toggleTimer:()=>{const C=U.timeout;return C&&(C.running?mo():es())}});class Sd{constructor(T,k){this.callback=T,this.remaining=k,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(T){const k=this.running;return k&&this.stop(),this.remaining+=T,k&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Xn=["swal-title","swal-html","swal-footer"],Ks=C=>{const T={};return Array.from(C.querySelectorAll("swal-param")).forEach(W=>{Yi(W,["name","value"]);const me=W.getAttribute("name"),Mt=W.getAttribute("value");T[me]="boolean"==typeof Jn[me]?"false"!==Mt:"object"==typeof Jn[me]?JSON.parse(Mt):Mt}),T},fl=C=>{const T={};return Array.from(C.querySelectorAll("swal-function-param")).forEach(W=>{const me=W.getAttribute("name"),Mt=W.getAttribute("value");T[me]=new Function(`return ${Mt}`)()}),T},Ra=C=>{const T={};return Array.from(C.querySelectorAll("swal-button")).forEach(W=>{Yi(W,["type","color","aria-label"]);const me=W.getAttribute("type");T[`${me}ButtonText`]=W.innerHTML,T[`show${X(me)}Button`]=!0,W.hasAttribute("color")&&(T[`${me}ButtonColor`]=W.getAttribute("color")),W.hasAttribute("aria-label")&&(T[`${me}ButtonAriaLabel`]=W.getAttribute("aria-label"))}),T},pl=C=>{const T={},k=C.querySelector("swal-image");return k&&(Yi(k,["src","width","height","alt"]),k.hasAttribute("src")&&(T.imageUrl=k.getAttribute("src")),k.hasAttribute("width")&&(T.imageWidth=k.getAttribute("width")),k.hasAttribute("height")&&(T.imageHeight=k.getAttribute("height")),k.hasAttribute("alt")&&(T.imageAlt=k.getAttribute("alt"))),T},Is=C=>{const T={},k=C.querySelector("swal-icon");return k&&(Yi(k,["type","color"]),k.hasAttribute("type")&&(T.icon=k.getAttribute("type")),k.hasAttribute("color")&&(T.iconColor=k.getAttribute("color")),T.iconHtml=k.innerHTML),T},dc=C=>{const T={},k=C.querySelector("swal-input");k&&(Yi(k,["type","label","placeholder","value"]),T.input=k.getAttribute("type")||"text",k.hasAttribute("label")&&(T.inputLabel=k.getAttribute("label")),k.hasAttribute("placeholder")&&(T.inputPlaceholder=k.getAttribute("placeholder")),k.hasAttribute("value")&&(T.inputValue=k.getAttribute("value")));const W=Array.from(C.querySelectorAll("swal-input-option"));return W.length&&(T.inputOptions={},W.forEach(me=>{Yi(me,["value"]);const Mt=me.getAttribute("value");T.inputOptions[Mt]=me.innerHTML})),T},Zs=(C,T)=>{const k={};for(const W in T){const me=T[W],Mt=C.querySelector(me);Mt&&(Yi(Mt,[]),k[me.replace(/^swal-/,"")]=Mt.innerHTML.trim())}return k},hc=C=>{const T=Xn.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(C.children).forEach(k=>{const W=k.tagName.toLowerCase();T.includes(W)||Y(`Unrecognized element <${W}>`)})},Yi=(C,T)=>{Array.from(C.attributes).forEach(k=>{-1===T.indexOf(k.name)&&Y([`Unrecognized attribute "${k.name}" on <${C.tagName.toLowerCase()}>.`,T.length?`Allowed attributes are: ${T.join(", ")}`:"To set the value, use HTML within the element."])})},pc=C=>{const T=Ve(),k=we();"function"==typeof C.willOpen&&C.willOpen(k);const me=window.getComputedStyle(document.body).overflowY;Wn(T,k,C),setTimeout(()=>{Kr(T,k)},10),yt()&&(Qi(T,C.scrollbarPadding,me),Array.from(document.body.children).forEach(T=>{T===Ve()||T.contains(Ve())||(T.hasAttribute("aria-hidden")&&T.setAttribute("data-previous-aria-hidden",T.getAttribute("aria-hidden")),T.setAttribute("aria-hidden","true"))})),!Et()&&!U.previousActiveElement&&(U.previousActiveElement=document.activeElement),"function"==typeof C.didOpen&&setTimeout(()=>C.didOpen(k)),Gr(T,$["no-transition"])},mc=C=>{const T=we();if(C.target!==T)return;const k=Ve();T.removeEventListener(sr,mc),k.style.overflowY="auto"},Kr=(C,T)=>{sr&&vt(T)?(C.style.overflowY="hidden",T.addEventListener(sr,mc)):C.style.overflowY="auto"},Qi=(C,T,k)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!vn(document.body,$.iosfix)){const T=document.body.scrollTop;document.body.style.top=-1*T+"px",Kt(document.body,$.iosfix),sc(),Di()}})(),T&&"hidden"!==k&&ei(),setTimeout(()=>{C.scrollTop=0})},Wn=(C,T,k)=>{Kt(C,k.showClass.backdrop),T.style.setProperty("opacity","0","important"),hn(T,"grid"),setTimeout(()=>{Kt(T,k.showClass.popup),T.style.removeProperty("opacity")},10),Kt([document.documentElement,document.body],$.shown),k.heightAuto&&k.backdrop&&!k.toast&&Kt([document.documentElement,document.body],$["height-auto"])};var gc={email:(C,T)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(C)?Promise.resolve():Promise.resolve(T||"Invalid email address"),url:(C,T)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(C)?Promise.resolve():Promise.resolve(T||"Invalid URL")};function xd(C){(function Cs(C){C.inputValidator||Object.keys(gc).forEach(T=>{C.input===T&&(C.inputValidator=gc[T])})})(C),C.showLoaderOnConfirm&&!C.preConfirm&&Y("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function yc(C){(!C.target||"string"==typeof C.target&&!document.querySelector(C.target)||"string"!=typeof C.target&&!C.target.appendChild)&&(Y('Target parameter is not valid, defaulting to "body"'),C.target="body")}(C),"string"==typeof C.title&&(C.title=C.title.split("\n").join("<br />")),si(C)}let xi;class mr{constructor(){if(typeof window>"u")return;xi=this;for(var T=arguments.length,k=new Array(T),W=0;W<T;W++)k[W]=arguments[W];const me=Object.freeze(this.constructor.argsToParams(k));this.params=me,this.isAwaitingPromise=!1;const Mt=xi._main(xi.params);N.promise.set(this,Mt)}_main(T){let k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(C=>{!1===C.backdrop&&C.allowOutsideClick&&Y('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const T in C)il(T),C.toast&&po(T),Gs(T)})(Object.assign({},k,T)),U.currentInstance&&(U.currentInstance._destroy(),yt()&&Or()),U.currentInstance=xi;const W=_c(T,k);xd(W),Object.freeze(W),U.timeout&&(U.timeout.stop(),delete U.timeout),clearTimeout(U.restoreFocusTimeout);const me=ml(xi);return Hn(xi,W),N.innerParams.set(xi,W),Pa(xi,me,W)}then(T){return N.promise.get(this).then(T)}finally(T){return N.promise.get(this).finally(T)}}const Pa=(C,T,k)=>new Promise((W,me)=>{const Mt=bn=>{C.close({isDismissed:!0,dismiss:bn})};qr.swalPromiseResolve.set(C,W),qr.swalPromiseReject.set(C,me),T.confirmButton.onclick=()=>{(C=>{const T=N.innerParams.get(C);C.disableButtons(),T.input?qi(C,"confirm"):Ki(C,!0)})(C)},T.denyButton.onclick=()=>{(C=>{const T=N.innerParams.get(C);C.disableButtons(),T.returnInputValueOnDeny?qi(C,"deny"):Ca(C,!1)})(C)},T.cancelButton.onclick=()=>{((C,T)=>{C.disableButtons(),T(Ln.cancel)})(C,Mt)},T.closeButton.onclick=()=>{Mt(Ln.close)},((C,T,k)=>{N.innerParams.get(C).toast?Ad(C,T,k):(uc(T),qs(T),lr(C,T,k))})(C,T,Mt),((C,T,k,W)=>{fs(T),k.toast||(T.keydownHandler=me=>js(C,me,W),T.keydownTarget=k.keydownListenerCapture?window:we(),T.keydownListenerCapture=k.keydownListenerCapture,T.keydownTarget.addEventListener("keydown",T.keydownHandler,{capture:T.keydownListenerCapture}),T.keydownHandlerAdded=!0)})(C,U,k,Mt),((C,T)=>{"select"===T.input||"radio"===T.input?Po(C,T):["text","email","number","tel","textarea"].includes(T.input)&&(Ie(T.inputValue)||je(T.inputValue))&&(gs(rt()),ys(C,T))})(C,k),pc(k),gl(U,k,Mt),ka(T,k),setTimeout(()=>{T.container.scrollTop=0})}),_c=(C,T)=>{const k=(C=>{const T="string"==typeof C.template?document.querySelector(C.template):C.template;if(!T)return{};const k=T.content;return hc(k),Object.assign(Ks(k),fl(k),Ra(k),pl(k),Is(k),dc(k),Zs(k,Xn))})(C),W=Object.assign({},Jn,T,k,C);return W.showClass=Object.assign({},Jn.showClass,W.showClass),W.hideClass=Object.assign({},Jn.hideClass,W.hideClass),W},ml=C=>{const T={popup:we(),container:Ve(),actions:Le(),confirmButton:rt(),denyButton:pe(),cancelButton:ii(),loader:Pe(),closeButton:Be(),validationMessage:qt(),progressSteps:ht()};return N.domCache.set(C,T),T},gl=(C,T,k)=>{const W=He();$n(W),T.timer&&(C.timeout=new Sd(()=>{k("timer"),delete C.timeout},T.timer),T.timerProgressBar&&(hn(W),Dn(W,T,"timerProgressBar"),setTimeout(()=>{C.timeout&&C.timeout.running&&Ut(T.timer)})))},ka=(C,T)=>{if(!T.toast){if(!ct(T.allowEnterKey))return void Ys();Ds(C,T)||Yt(-1,1)}},Ds=(C,T)=>T.focusDeny&&Fn(C.denyButton)?(C.denyButton.focus(),!0):T.focusCancel&&Fn(C.cancelButton)?(C.cancelButton.focus(),!0):!(!T.focusConfirm||!Fn(C.confirmButton)||(C.confirmButton.focus(),0)),Ys=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const C=new Date,T=localStorage.getItem("swal-initiation");T?(C.getTime()-Date.parse(T))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const k=document.createElement("audio");k.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",k.loop=!0,document.body.appendChild(k),setTimeout(()=>{k.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${C}`)}mr.prototype.disableButtons=bs,mr.prototype.enableButtons=Gn,mr.prototype.getInput=cc,mr.prototype.disableInput=pr,mr.prototype.enableInput=zs,mr.prototype.hideLoading=vs,mr.prototype.disableLoading=vs,mr.prototype.showValidationMessage=No,mr.prototype.resetValidationMessage=Fo,mr.prototype.close=Ti,mr.prototype.closePopup=Ti,mr.prototype.closeModal=Ti,mr.prototype.closeToast=Ti,mr.prototype.rejectPromise=uo,mr.prototype.update=jt,mr.prototype._destroy=ol,Object.assign(mr,hl),Object.keys(sl).forEach(C=>{mr[C]=function(){return xi&&xi[C]?xi[C](...arguments):null}}),mr.DismissReason=Ln,mr.version="11.7.11";const Mi=mr;return Mi.default=Mi,Mi}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(Oe,U){var d=Oe.createElement("style");if(Oe.getElementsByTagName("head")[0].appendChild(d),d.styleSheet)d.styleSheet.disabled||(d.styleSheet.cssText=U);else try{d.innerHTML=U}catch{d.innerText=U}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-container) div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-container) div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-container) div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-container) div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-container) div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-container) div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-container) div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-container) div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-container) div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-container) div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-container) div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-container) div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-container) div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-container) div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},4650:(St,Oe,U)=>{"use strict";U.d(Oe,{$8M:()=>Ic,$WT:()=>kr,$Z:()=>k_,AFp:()=>II,AaK:()=>Ee,CHM:()=>uc,CRH:()=>hI,CZH:()=>$g,CqO:()=>Ju,D6c:()=>NS,EJc:()=>ab,EiD:()=>HD,EpF:()=>Nw,F$t:()=>jw,F4k:()=>up,FYo:()=>Lm,FiY:()=>mi,Gf:()=>JA,GfV:()=>Vl,Gpc:()=>Y,Hsn:()=>tv,JOm:()=>_o,JVY:()=>nh,JZr:()=>ct,KtG:()=>qs,L6k:()=>Nf,LAX:()=>VD,LFG:()=>zt,Lbi:()=>yS,Lck:()=>qE,MAs:()=>Ow,MMx:()=>KE,MR2:()=>tR,NdJ:()=>ev,OlP:()=>In,P3R:()=>oh,PXZ:()=>DS,Q6J:()=>Y_,QGY:()=>lp,QbO:()=>ib,Qsj:()=>iT,R0b:()=>$o,RDi:()=>xD,Rgc:()=>Og,SBq:()=>Uf,Sil:()=>xp,Suo:()=>XA,TTD:()=>Ca,TgZ:()=>lg,W1O:()=>rS,X6Q:()=>AS,XFs:()=>_t,Xpm:()=>Zt,Xts:()=>$u,Y36:()=>fh,YKP:()=>Vv,YNc:()=>Yu,Yjl:()=>an,Yz7:()=>Et,Z0I:()=>zr,ZZ4:()=>bb,_Bn:()=>Lv,_UZ:()=>Q_,_Vd:()=>Bf,_c5:()=>Bp,_uU:()=>uE,aQg:()=>$h,c2e:()=>ob,cJS:()=>Jt,cg1:()=>vg,dDg:()=>db,dqk:()=>En,eBb:()=>i_,eFA:()=>kI,eJc:()=>fI,ekj:()=>sv,eoX:()=>Yg,f3M:()=>Kn,g9A:()=>rb,h0i:()=>nd,hGG:()=>Up,iGM:()=>QA,ifc:()=>j,ip1:()=>jg,jDz:()=>LA,kL8:()=>hA,lG2:()=>Bt,lqb:()=>Ll,lri:()=>xI,mCW:()=>kl,n5z:()=>yu,oAB:()=>ce,oxw:()=>Uw,pB0:()=>o_,q3G:()=>li,q4F:()=>K0,qLn:()=>jf,qOj:()=>Gl,qZA:()=>ug,qzn:()=>za,rWj:()=>Zg,sBO:()=>LI,s_b:()=>qv,soG:()=>Nh,tb:()=>RI,tp0:()=>Ua,uIk:()=>q_,vHH:()=>Ie,vpe:()=>Gc,wAp:()=>Ot,xp6:()=>lh,z2F:()=>cd,z3N:()=>la,zSh:()=>z0,zs3:()=>Wa});var d=U(7579),K=U(727),N=U(9751),ae=U(6451),fe=U(3099);function $(o){for(let s in o)if(o[s]===$)return s;throw Error("Could not find renamed property on target object.")}function Se(o,s){for(const c in s)s.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=s[c])}function Ee(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Ee).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const c=s.indexOf("\n");return-1===c?s:s.substring(0,c)}function Te(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const X=$({__forward_ref__:$});function Y(o){return o.__forward_ref__=Y,o.toString=function(){return Ee(this())},o}function se(o){return Ze(o)?o():o}function Ze(o){return"function"==typeof o&&o.hasOwnProperty(X)&&o.__forward_ref__===Y}function Ne(o){return o&&!!o.\u0275providers}const ct="https://g.co/ng/security#xss";class Ie extends Error{constructor(s,c){super(Fe(s,c)),this.code=s}}function Fe(o,s){return`NG0${Math.abs(o)}${s?": "+s.trim():""}`}function je(o){return"string"==typeof o?o:null==o?"":String(o)}function We(o,s){throw new Ie(-201,!1)}function He(o,s){null==o&&function Be(o,s,c,u){throw new Error(`ASSERTION ERROR: ${o}`+(null==u?"":` [Expected=> ${c} ${u} ${s} <=Actual]`))}(s,o,null,"!=")}function Et(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Jt(o){return{providers:o.providers||[],imports:o.imports||[]}}function vn(o){return Dn(o,Jr)||Dn(o,Gr)}function zr(o){return null!==vn(o)}function Dn(o,s){return o.hasOwnProperty(s)?o[s]:null}function rr(o){return o&&(o.hasOwnProperty(Kt)||o.hasOwnProperty(xn))?o[Kt]:null}const Jr=$({\u0275prov:$}),Kt=$({\u0275inj:$}),Gr=$({ngInjectableDef:$}),xn=$({ngInjectorDef:$});var _t=(()=>((_t=_t||{})[_t.Default=0]="Default",_t[_t.Host=1]="Host",_t[_t.Self=2]="Self",_t[_t.SkipSelf=4]="SkipSelf",_t[_t.Optional=8]="Optional",_t))();let hn;function Zn(o){const s=hn;return hn=o,s}function _r(o,s,c){const u=vn(o);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:c&_t.Optional?null:void 0!==s?s:void We(Ee(o))}const En=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ir={},Ir="__NG_DI_FLAG__",Yn="ngTempTokenPath",oi="ngTokenPath",Mn=/\n/gm,Cr="\u0275",sn="__source";let Ii;function ln(o){const s=Ii;return Ii=o,s}function si(o,s=_t.Default){if(void 0===Ii)throw new Ie(-203,!1);return null===Ii?_r(o,void 0,s):Ii.get(o,s&_t.Optional?null:void 0,s)}function zt(o,s=_t.Default){return(function $n(){return hn}()||si)(se(o),s)}function Kn(o,s=_t.Default){return zt(o,sr(s))}function sr(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function ar(o){const s=[];for(let c=0;c<o.length;c++){const u=se(o[c]);if(Array.isArray(u)){if(0===u.length)throw new Ie(900,!1);let h,m=_t.Default;for(let _=0;_<u.length;_++){const I=u[_],S=Wr(I);"number"==typeof S?-1===S?h=I.token:m|=S:h=I}s.push(zt(h,m))}else s.push(zt(u))}return s}function Xr(o,s){return o[Ir]=s,o.prototype[Ir]=s,o}function Wr(o){return o[Ir]}function q(o){return{toString:o}.toString()}var B=(()=>((B=B||{})[B.OnPush=0]="OnPush",B[B.Default=1]="Default",B))(),j=(()=>{return(o=j||(j={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",j;var o})();const F={},te=[],xe=$({\u0275cmp:$}),lt=$({\u0275dir:$}),Ft=$({\u0275pipe:$}),kt=$({\u0275mod:$}),nn=$({\u0275fac:$}),Lt=$({__NG_ELEMENT_ID__:$});let Sn=0;function Zt(o){return q(()=>{const s=Ea(o),c={...s,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===B.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&o.dependencies||null,getStandaloneInjector:null,data:o.data||{},encapsulation:o.encapsulation||j.Emulated,id:"c"+Sn++,styles:o.styles||te,_:null,schemas:o.schemas||null,tView:null};cu(c);const u=o.dependencies;return c.directiveDefs=Ao(u,!1),c.pipeDefs=Ao(u,!0),c})}function Qn(o){return At(o)||Tn(o)}function ve(o){return null!==o}function ce(o){return q(()=>({type:o.type,bootstrap:o.bootstrap||te,declarations:o.declarations||te,imports:o.imports||te,exports:o.exports||te,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function It(o,s){if(null==o)return F;const c={};for(const u in o)if(o.hasOwnProperty(u)){let h=o[u],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),c[h]=u,s&&(s[h]=m)}return c}function Bt(o){return q(()=>{const s=Ea(o);return cu(s),s})}function an(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function At(o){return o[xe]||null}function Tn(o){return o[lt]||null}function yn(o){return o[Ft]||null}function kr(o){const s=At(o)||Tn(o)||yn(o);return null!==s&&s.standalone}function Dr(o,s){const c=o[kt]||null;if(!c&&!0===s)throw new Error(`Type ${Ee(o)} does not have '\u0275mod' property.`);return c}function Ea(o){const s={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:s,exportAs:o.exportAs||null,standalone:!0===o.standalone,selectors:o.selectors||te,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:It(o.inputs,s),outputs:It(o.outputs)}}function cu(o){o.features?.forEach(s=>s(o))}function Ao(o,s){if(!o)return null;const c=s?yn:Qn;return()=>("function"==typeof o?o():o).map(u=>c(u)).filter(ve)}const Tr=0,ot=1,rn=2,Hn=3,An=4,lo=5,Ar=6,Bs=7,Ln=8,fs=9,So=10,Yt=11,Us=12,Ci=13,js=14,xo=15,vr=16,Ko=17,Zo=18,qr=19,ps=20,Or=21,Vn=22,sc=1,$s=2,ms=7,Mo=8,Yo=9,Nr=10;function ei(o){return Array.isArray(o)&&"object"==typeof o[sc]}function Ui(o){return Array.isArray(o)&&!0===o[sc]}function Ro(o){return 0!=(4&o.flags)}function Ia(o){return o.componentOffset>-1}function Ti(o){return 1==(1&o.flags)}function ai(o){return!!o.template}function uo(o){return 0!=(256&o[rn])}function qi(o,s){return o.hasOwnProperty(nn)?o[nn]:null}class nl{constructor(s,c,u){this.previousValue=s,this.currentValue=c,this.firstChange=u}isFirstChange(){return this.firstChange}}function Ca(){return Hs}function Hs(o){return o.type.prototype.ngOnChanges&&(o.setInput=Ki),rl}function rl(){const o=Da(this),s=o?.current;if(s){const c=o.previous;if(c===F)o.previous=s;else for(let u in s)c[u]=s[u];o.current=null,this.ngOnChanges(s)}}function Ki(o,s,c,u){const h=this.declaredInputs[c],m=Da(o)||function cc(o,s){return o[vs]=s}(o,{previous:F,current:null}),_=m.current||(m.current={}),I=m.previous,S=I[h];_[h]=new nl(S&&S.currentValue,s,I===F),o[u]=s}Ca.ngInherit=!0;const vs="__ngSimpleChanges__";function Da(o){return o[vs]||null}const Gn=function(o,s,c){};function pr(o){for(;Array.isArray(o);)o=o[Tr];return o}function Jn(o,s){return pr(s[o.index])}function Ta(o,s){return o.data[s]}function br(o,s){const c=s[o];return ei(c)?c:c[Tr]}function fo(o){return 64==(64&o[rn])}function po(o,s){return null==s?null:o[s]}function Gs(o){o[Zo]=0}function Es(o,s){o[lo]+=s;let c=o,u=o[Hn];for(;null!==u&&(1===s&&1===c[lo]||-1===s&&0===c[lo]);)u[lo]+=s,c=u,u=u[Hn]}const jt={lFrame:Zs(null),bindingsEnabled:!0};function sl(){return jt.bindingsEnabled}function be(){return jt.lFrame.lView}function $t(){return jt.lFrame.tView}function uc(o){return jt.lFrame.contextLView=o,o[Ln]}function qs(o){return jt.lFrame.contextLView=null,o}function lr(){let o=cl();for(;null!==o&&64===o.type;)o=o.parent;return o}function cl(){return jt.lFrame.currentTNode}function Ai(o,s){const c=jt.lFrame;c.currentTNode=o,c.isParent=s}function xa(){return jt.lFrame.isParent}function ll(){jt.lFrame.isParent=!1}function Zi(){return jt.lFrame.bindingIndex++}function hl(o,s){const c=jt.lFrame;c.bindingIndex=c.bindingRootIndex=o,Xn(s)}function Xn(o){jt.lFrame.currentDirectiveIndex=o}function Ks(){return jt.lFrame.currentQueryIndex}function fl(o){jt.lFrame.currentQueryIndex=o}function Ra(o){const s=o[ot];return 2===s.type?s.declTNode:1===s.type?o[Ar]:null}function pl(o,s,c){if(c&_t.SkipSelf){let h=s,m=o;for(;!(h=h.parent,null!==h||c&_t.Host||(h=Ra(m),null===h||(m=m[xo],10&h.type))););if(null===h)return!1;s=h,o=m}const u=jt.lFrame=dc();return u.currentTNode=s,u.lView=o,!0}function Is(o){const s=dc(),c=o[ot];jt.lFrame=s,s.currentTNode=c.firstChild,s.lView=o,s.tView=c,s.contextLView=o,s.bindingIndex=c.bindingStartIndex,s.inI18n=!1}function dc(){const o=jt.lFrame,s=null===o?null:o.child;return null===s?Zs(o):s}function Zs(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function hc(){const o=jt.lFrame;return jt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Yi=hc;function fc(){const o=hc();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Kr(){return jt.lFrame.selectedIndex}function Qi(o){jt.lFrame.selectedIndex=o}function Wn(){const o=jt.lFrame;return Ta(o.tView,o.selectedIndex)}function Pa(o,s){for(let c=s.directiveStart,u=s.directiveEnd;c<u;c++){const m=o.data[c].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:I,ngAfterViewInit:S,ngAfterViewChecked:M,ngOnDestroy:L}=m;_&&(o.contentHooks??(o.contentHooks=[])).push(-c,_),I&&((o.contentHooks??(o.contentHooks=[])).push(c,I),(o.contentCheckHooks??(o.contentCheckHooks=[])).push(c,I)),S&&(o.viewHooks??(o.viewHooks=[])).push(-c,S),M&&((o.viewHooks??(o.viewHooks=[])).push(c,M),(o.viewCheckHooks??(o.viewCheckHooks=[])).push(c,M)),null!=L&&(o.destroyHooks??(o.destroyHooks=[])).push(c,L)}}function _c(o,s,c){ka(o,s,3,c)}function ml(o,s,c,u){(3&o[rn])===c&&ka(o,s,c,u)}function gl(o,s){let c=o[rn];(3&c)===s&&(c&=2047,c+=1,o[rn]=c)}function ka(o,s,c,u){const m=u??-1,_=s.length-1;let I=0;for(let S=void 0!==u?65535&o[Zo]:0;S<_;S++)if("number"==typeof s[S+1]){if(I=s[S],null!=u&&I>=u)break}else s[S]<0&&(o[Zo]+=65536),(I<m||-1==m)&&(Ds(o,c,s,S),o[Zo]=(4294901760&o[Zo])+S+2),S++}function Ds(o,s,c,u){const h=c[u]<0,m=c[u+1],I=o[h?-c[u]:c[u]];if(h){if(o[rn]>>11<o[Zo]>>16&&(3&o[rn])===s){o[rn]+=2048,Gn(4,I,m);try{m.call(I)}finally{Gn(5,I,m)}}}else{Gn(4,I,m);try{m.call(I)}finally{Gn(5,I,m)}}}const Ys=-1;class Mi{constructor(s,c,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=u}}function tr(o,s,c){let u=0;for(;u<c.length;){const h=c[u];if("number"==typeof h){if(0!==h)break;u++;const m=c[u++],_=c[u++],I=c[u++];o.setAttribute(s,_,I,m)}else{const m=h,_=c[++u];Ji(m)?o.setProperty(s,m,_):o.setAttribute(s,m,_),u++}}return u}function ns(o){return 3===o||4===o||6===o}function Ji(o){return 64===o.charCodeAt(0)}function Qs(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let c=-1;for(let u=0;u<s.length;u++){const h=s[u];"number"==typeof h?c=h:0===c||Oa(o,c,h,null,-1===c||2===c?s[++u]:null)}}return o}function Oa(o,s,c,u,h){let m=0,_=o.length;if(-1===s)_=-1;else for(;m<o.length;){const I=o[m++];if("number"==typeof I){if(I===s){_=-1;break}if(I>s){_=m-1;break}}}for(;m<o.length;){const I=o[m];if("number"==typeof I)break;if(I===c){if(null===u)return void(null!==h&&(o[m+1]=h));if(u===o[m+1])return void(o[m+2]=h)}m++,null!==u&&m++,null!==h&&m++}-1!==_&&(o.splice(_,0,s),m=_+1),o.splice(m++,0,c),null!==u&&o.splice(m++,0,u),null!==h&&o.splice(m++,0,h)}function Js(o){return o!==Ys}function Na(o){return 32767&o}function bc(o,s){let c=function vc(o){return o>>16}(o),u=s;for(;c>0;)u=u[xo],c--;return u}let hu=!0;function wc(o){const s=hu;return hu=o,s}const fu=255,yl=5;let pu=0;const pi={};function mu(o,s){const c=Rd(o,s);if(-1!==c)return c;const u=s[ot];u.firstCreatePass&&(o.injectorIndex=s.length,Vo(u.data,o),Vo(s,null),Vo(u.blueprint,null));const h=wr(o,s),m=o.injectorIndex;if(Js(h)){const _=Na(h),I=bc(h,s),S=I[ot].data;for(let M=0;M<8;M++)s[m+M]=I[_+M]|S[_+M]}return s[m+8]=h,m}function Vo(o,s){o.push(0,0,0,0,0,0,0,0,s)}function Rd(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function wr(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,u=null,h=s;for(;null!==h;){if(u=Xs(h),null===u)return Ys;if(c++,h=h[xo],-1!==u.injectorIndex)return u.injectorIndex|c<<16}return Ys}function Ts(o,s,c){!function Md(o,s,c){let u;"string"==typeof c?u=c.charCodeAt(0)||0:c.hasOwnProperty(Lt)&&(u=c[Lt]),null==u&&(u=c[Lt]=pu++);const h=u&fu;s.data[o+(h>>yl)]|=1<<h}(o,s,c)}function Pd(o,s,c){if(c&_t.Optional||void 0!==o)return o;We()}function Ec(o,s,c,u){if(c&_t.Optional&&void 0===u&&(u=null),!(c&(_t.Self|_t.Host))){const h=o[fs],m=Zn(void 0);try{return h?h.get(s,u,c&_t.Optional):_r(s,u,c&_t.Optional)}finally{Zn(m)}}return Pd(u,0,c)}function kd(o,s,c,u=_t.Default,h){if(null!==o){if(1024&s[rn]){const _=function yf(o,s,c,u,h){let m=o,_=s;for(;null!==m&&null!==_&&1024&_[rn]&&!(256&_[rn]);){const I=vl(m,_,c,u|_t.Self,pi);if(I!==pi)return I;let S=m.parent;if(!S){const M=_[Or];if(M){const L=M.get(c,pi,u);if(L!==pi)return L}S=Xs(_),_=_[xo]}m=S}return h}(o,s,c,u,pi);if(_!==pi)return _}const m=vl(o,s,c,u,pi);if(m!==pi)return m}return Ec(s,c,u,h)}function vl(o,s,c,u,h){const m=function gf(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(Lt)?o[Lt]:void 0;return"number"==typeof s?s>=0?s&fu:gu:s}(c);if("function"==typeof m){if(!pl(s,o,u))return u&_t.Host?Pd(h,0,u):Ec(s,c,u,h);try{const _=m(u);if(null!=_||u&_t.Optional)return _;We()}finally{Yi()}}else if("number"==typeof m){let _=null,I=Rd(o,s),S=Ys,M=u&_t.Host?s[vr][Ar]:null;for((-1===I||u&_t.SkipSelf)&&(S=-1===I?wr(o,s):s[I+8],S!==Ys&&bl(u,!1)?(_=s[ot],I=Na(S),s=bc(S,s)):I=-1);-1!==I;){const L=s[ot];if(As(m,I,L.data)){const z=Lr(I,s,c,_,u,M);if(z!==pi)return z}S=s[I+8],S!==Ys&&bl(u,s[ot].data[I+8]===M)&&As(m,I,s)?(_=L,I=Na(S),s=bc(S,s)):I=-1}}return h}function Lr(o,s,c,u,h,m){const _=s[ot],I=_.data[o+8],L=Fa(I,_,c,null==u?Ia(I)&&hu:u!=_&&0!=(3&I.type),h&_t.Host&&m===I);return null!==L?ur(s,_,L,I):pi}function Fa(o,s,c,u,h){const m=o.providerIndexes,_=s.data,I=1048575&m,S=o.directiveStart,L=m>>20,re=h?I+L:o.directiveEnd;for(let le=u?I:I+L;le<re;le++){const Me=_[le];if(le<S&&c===Me||le>=S&&Me.type===c)return le}if(h){const le=_[S];if(le&&ai(le)&&le.type===c)return S}return null}function ur(o,s,c,u){let h=o[c];const m=s.data;if(function C(o){return o instanceof Mi}(h)){const _=h;_.resolving&&function ke(o,s){const c=s?`. Dependency path: ${s.join(" > ")} > ${o}`:"";throw new Ie(-200,`Circular dependency in DI detected for ${o}${c}`)}(function Ve(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():je(o)}(m[c]));const I=wc(_.canSeeViewProviders);_.resolving=!0;const S=_.injectImpl?Zn(_.injectImpl):null;pl(o,u,_t.Default);try{h=o[c]=_.factory(void 0,m,o,u),s.firstCreatePass&&c>=u.directiveStart&&function mr(o,s,c){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:m}=s.type.prototype;if(u){const _=Hs(s);(c.preOrderHooks??(c.preOrderHooks=[])).push(o,_),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(o,_)}h&&(c.preOrderHooks??(c.preOrderHooks=[])).push(0-o,h),m&&((c.preOrderHooks??(c.preOrderHooks=[])).push(o,m),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(o,m))}(c,m[c],s)}finally{null!==S&&Zn(S),wc(I),_.resolving=!1,Yi()}}return h}function As(o,s,c){return!!(c[s+(o>>yl)]&1<<o)}function bl(o,s){return!(o&_t.Self||o&_t.Host&&s)}class La{constructor(s,c){this._tNode=s,this._lView=c}get(s,c,u){return kd(this._tNode,this._lView,s,sr(u),c)}}function gu(){return new La(lr(),be())}function yu(o){return q(()=>{const s=o.prototype.constructor,c=s[nn]||Ss(s),u=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==u;){const m=h[nn]||Ss(h);if(m&&m!==c)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Ss(o){return Ze(o)?()=>{const s=Ss(se(o));return s&&s()}:qi(o)}function Xs(o){const s=o[ot],c=s.type;return 2===c?s.declTNode:1===c?o[Ar]:null}function Ic(o){return function _l(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const c=o.attrs;if(c){const u=c.length;let h=0;for(;h<u;){const m=c[h];if(ns(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<u&&"string"==typeof c[h];)h++;else{if(m===s)return c[h+1];h+=2}}}return null}(lr(),o)}const ta="__parameters__";function na(o,s,c){return q(()=>{const u=function Od(o){return function(...c){if(o){const u=o(...c);for(const h in u)this[h]=u[h]}}}(s);function h(...m){if(this instanceof h)return u.apply(this,m),this;const _=new h(...m);return I.annotation=_,I;function I(S,M,L){const z=S.hasOwnProperty(ta)?S[ta]:Object.defineProperty(S,ta,{value:[]})[ta];for(;z.length<=L;)z.push(null);return(z[L]=z[L]||[]).push(_),S}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class In{constructor(s,c){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Et({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function xs(o,s){o.forEach(c=>Array.isArray(c)?xs(c,s):s(c))}function Iu(o,s,c){s>=o.length?o.push(c):o.splice(s,0,c)}function Cc(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function Va(o,s){const c=[];for(let u=0;u<o;u++)c.push(s);return c}function Xi(o,s,c){let u=Rn(o,s);return u>=0?o[1|u]=c:(u=~u,function Dc(o,s,c,u){let h=o.length;if(h==s)o.push(c,u);else if(1===h)o.push(u,o[0]),o[0]=c;else{for(h--,o.push(o[h-1],o[h]);h>s;)o[h]=o[h-2],h--;o[s]=c,o[s+1]=u}}(o,u,s,c)),u}function eo(o,s){const c=Rn(o,s);if(c>=0)return o[1|c]}function Rn(o,s){return function Ri(o,s,c){let u=0,h=o.length>>c;for(;h!==u;){const m=u+(h-u>>1),_=o[m<<c];if(s===_)return m<<c;_>s?h=m:u=m+1}return~(h<<c)}(o,s,1)}const mi=Xr(na("Optional"),8),Ua=Xr(na("SkipSelf"),4);var _o=(()=>((_o=_o||{})[_o.Important=1]="Important",_o[_o.DashCase=2]="DashCase",_o))();const Pu=new Map;let Tf=0;const ee="__ngContext__";function oe(o,s){ei(s)?(o[ee]=s[ps],function Af(o){Pu.set(o[ps],o)}(s)):o[ee]=s}let Oi;function no(o,s){return Oi(o,s)}function Zd(o){const s=o[Hn];return Ui(s)?s[Hn]:s}function Pc(o){return Yd(o[Ci])}function Ou(o){return Yd(o[An])}function Yd(o){for(;null!==o&&!Ui(o);)o=o[An];return o}function Bo(o,s,c,u,h){if(null!=u){let m,_=!1;Ui(u)?m=u:ei(u)&&(_=!0,u=u[Tr]);const I=pr(u);0===o&&null!==c?null==h?Ni(s,c,I):cn(s,c,I,h||null,!0):1===o&&null!==c?cn(s,c,I,h||null,!0):2===o?function Em(o,s,c){const u=kc(o,s);u&&function Nu(o,s,c,u){o.removeChild(s,c,u)}(o,u,s,c)}(s,I,_):3===o&&s.destroyNode(I),null!=m&&function S0(o,s,c,u,h){const m=c[ms];m!==pr(c)&&Bo(s,o,u,m,h);for(let I=Nr;I<c.length;I++){const S=c[I];Uu(S[ot],S,o,s,u,m)}}(s,o,m,c,h)}}function Rf(o,s,c){return o.createElement(s,c)}function E(o,s){const c=o[Yo],u=c.indexOf(s),h=s[Hn];512&s[rn]&&(s[rn]&=-513,Es(h,-1)),c.splice(u,1)}function P(o,s){if(o.length<=Nr)return;const c=Nr+s,u=o[c];if(u){const h=u[Ko];null!==h&&h!==o&&E(h,u),s>0&&(o[c-1][An]=u[An]);const m=Cc(o,Nr+s);!function wm(o,s){Uu(o,s,s[Yt],2,null,null),s[Tr]=null,s[Ar]=null}(u[ot],u);const _=m[qr];null!==_&&_.detachView(m[ot]),u[Hn]=null,u[An]=null,u[rn]&=-65}return u}function V(o,s){if(!(128&s[rn])){const c=s[Yt];c.destroyNode&&Uu(o,s,c,3,null,null),function v(o){let s=o[Ci];if(!s)return ne(o[ot],o);for(;s;){let c=null;if(ei(s))c=s[Ci];else{const u=s[Nr];u&&(c=u)}if(!c){for(;s&&!s[An]&&s!==o;)ei(s)&&ne(s[ot],s),s=s[Hn];null===s&&(s=o),ei(s)&&ne(s[ot],s),c=s&&s[An]}s=c}}(s)}}function ne(o,s){if(!(128&s[rn])){s[rn]&=-65,s[rn]|=128,function Qe(o,s){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let u=0;u<c.length;u+=2){const h=s[c[u]];if(!(h instanceof Mi)){const m=c[u+1];if(Array.isArray(m))for(let _=0;_<m.length;_+=2){const I=h[m[_]],S=m[_+1];Gn(4,I,S);try{S.call(I)}finally{Gn(5,I,S)}}else{Gn(4,h,m);try{m.call(h)}finally{Gn(5,h,m)}}}}}(o,s),function ge(o,s){const c=o.cleanup,u=s[Bs];let h=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const _=c[m+3];_>=0?u[h=_]():u[h=-_].unsubscribe(),m+=2}else{const _=u[h=c[m+1]];c[m].call(_)}if(null!==u){for(let m=h+1;m<u.length;m++)(0,u[m])();s[Bs]=null}}(o,s),1===s[ot].type&&s[Yt].destroy();const c=s[Ko];if(null!==c&&Ui(s[Hn])){c!==s[Hn]&&E(c,s);const u=s[qr];null!==u&&u.detachView(o)}!function dr(o){Pu.delete(o[ps])}(s)}}function st(o,s,c){return function xt(o,s,c){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return c[Tr];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:m}=o.data[u.directiveStart+h];if(m===j.None||m===j.Emulated)return null}return Jn(u,c)}}(o,s.parent,c)}function cn(o,s,c,u,h){o.insertBefore(s,c,u,h)}function Ni(o,s,c){o.appendChild(s,c)}function Rs(o,s,c,u,h){null!==u?cn(o,s,c,u,h):Ni(o,s,c)}function kc(o,s){return o.parentNode(s)}function Xd(o,s,c){return kf(o,s,c)}let Lu,e_,Of,r_,kf=function Fu(o,s,c){return 40&o.type?Jn(o,c):null};function Oc(o,s,c,u){const h=st(o,u,s),m=s[Yt],I=Xd(u.parent||s[Ar],u,s);if(null!=h)if(Array.isArray(c))for(let S=0;S<c.length;S++)Rs(m,h,c[S],I,!1);else Rs(m,h,c,I,!1);void 0!==Lu&&Lu(m,u,s,c,h)}function Bu(o,s){if(null!==s){const c=s.type;if(3&c)return Jn(s,o);if(4&c)return eh(-1,o[s.index]);if(8&c){const u=s.child;if(null!==u)return Bu(o,u);{const h=o[s.index];return Ui(h)?eh(-1,h):pr(h)}}if(32&c)return no(s,o)()||pr(o[s.index]);{const u=Pl(o,s);return null!==u?Array.isArray(u)?u[0]:Bu(Zd(o[vr]),u):Bu(o,s.next)}}return null}function Pl(o,s){return null!==s?o[vr][Ar].projection[s.projection]:null}function eh(o,s){const c=Nr+o+1;if(c<s.length){const u=s[c],h=u[ot].firstChild;if(null!==h)return Bu(u,h)}return s[ms]}function Im(o,s,c,u,h,m,_){for(;null!=c;){const I=u[c.index],S=c.type;if(_&&0===s&&(I&&oe(pr(I),u),c.flags|=2),32!=(32&c.flags))if(8&S)Im(o,s,c.child,u,h,m,!1),Bo(s,o,h,I,m);else if(32&S){const M=no(c,u);let L;for(;L=M();)Bo(s,o,h,L,m);Bo(s,o,h,I,m)}else 16&S?Jy(o,s,u,c,h,m):Bo(s,o,h,I,m);c=_?c.projectionNext:c.next}}function Uu(o,s,c,u,h,m){Im(c,u,o.firstChild,s,h,m,!1)}function Jy(o,s,c,u,h,m){const _=c[vr],S=_[Ar].projection[u.projection];if(Array.isArray(S))for(let M=0;M<S.length;M++)Bo(s,o,h,S[M],m);else Im(o,s,S,_[Hn],h,m,!0)}function Nc(o,s,c){""===c?o.removeAttribute(s,"class"):o.setAttribute(s,"class",c)}function Xy(o,s,c){const{mergedAttrs:u,classes:h,styles:m}=c;null!==u&&tr(o,s,u),null!==h&&Nc(o,s,h),null!==m&&function vo(o,s,c){o.setAttribute(s,"style",c)}(o,s,m)}function ju(o){return function M0(){if(void 0===e_&&(e_=null,En.trustedTypes))try{e_=En.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return e_}()?.createHTML(o)||o}function xD(o){Of=o}function kD(o){return function R0(){if(void 0===r_&&(r_=null,En.trustedTypes))try{r_=En.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return r_}()?.createScriptURL(o)||o}class th{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ct})`}}class OD extends th{getTypeName(){return"HTML"}}class P0 extends th{getTypeName(){return"Style"}}class ND extends th{getTypeName(){return"Script"}}class FD extends th{getTypeName(){return"URL"}}class LD extends th{getTypeName(){return"ResourceURL"}}function la(o){return o instanceof th?o.changingThisBreaksApplicationSecurity:o}function za(o,s){const c=function Dm(o){return o instanceof th&&o.getTypeName()||null}(o);if(null!=c&&c!==s){if("ResourceURL"===c&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${c} (see ${ct})`)}return c===s}function nh(o){return new OD(o)}function Nf(o){return new P0(o)}function i_(o){return new ND(o)}function VD(o){return new FD(o)}function o_(o){return new LD(o)}class Tm{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const c=(new window.DOMParser).parseFromString(ju(s),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(s):(c.removeChild(c.firstChild),c)}catch{return null}}}class O0{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const c=this.inertDocument.createElement("template");return c.innerHTML=ju(s),c}}const Am=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function kl(o){return(o=String(o)).match(Am)?o:"unsafe:"+o}function Ol(o){const s={};for(const c of o.split(","))s[c]=!0;return s}function Sm(...o){const s={};for(const c of o)for(const u in c)c.hasOwnProperty(u)&&(s[u]=!0);return s}const s_=Ol("area,br,col,hr,img,wbr"),BD=Ol("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Nl=Ol("rp,rt"),rh=Sm(s_,Sm(BD,Ol("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Sm(Nl,Ol("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Sm(Nl,BD)),ih=Ol("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ff=Sm(ih,Ol("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ol("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),UD=Ol("script,style,template");class jD{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let c=s.firstChild,u=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?u=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,u&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(s){const c=s.nodeName.toLowerCase();if(!rh.hasOwnProperty(c))return this.sanitizedSomething=!0,!UD.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const u=s.attributes;for(let h=0;h<u.length;h++){const m=u.item(h),_=m.name,I=_.toLowerCase();if(!Ff.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let S=m.value;ih[I]&&(S=kl(S)),this.buf.push(" ",_,'="',c_(S),'"')}return this.buf.push(">"),!0}endElement(s){const c=s.nodeName.toLowerCase();rh.hasOwnProperty(c)&&!s_.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(s){this.buf.push(c_(s))}checkClobberedElement(s,c){if(c&&(s.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return c}}const L0=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$D=/([^\#-~ |!])/g;function c_(o){return o.replace(/&/g,"&amp;").replace(L0,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace($D,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Rm;function HD(o,s){let c=null;try{Rm=Rm||function k0(o){const s=new O0(o);return function N0(){try{return!!(new window.DOMParser).parseFromString(ju(""),"text/html")}catch{return!1}}()?new Tm(s):s}(o);let u=s?String(s):"";c=Rm.getInertBodyElement(u);let h=5,m=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=m,m=c.innerHTML,c=Rm.getInertBodyElement(u)}while(u!==m);return ju((new jD).sanitizeChildren(l_(c)||c))}finally{if(c){const u=l_(c)||c;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function l_(o){return"content"in o&&function u_(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var li=(()=>((li=li||{})[li.NONE=0]="NONE",li[li.HTML=1]="HTML",li[li.STYLE=2]="STYLE",li[li.SCRIPT=3]="SCRIPT",li[li.URL=4]="URL",li[li.RESOURCE_URL=5]="RESOURCE_URL",li))();function V0(o){const s=sh();return s?s.sanitize(li.URL,o)||"":za(o,"URL")?la(o):kl(je(o))}function h_(o){const s=sh();if(s)return kD(s.sanitize(li.RESOURCE_URL,o)||"");if(za(o,"ResourceURL"))return kD(la(o));throw new Ie(904,!1)}function oh(o,s,c){return function GD(o,s){return"src"===s&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===s&&("base"===o||"link"===o)?h_:V0}(s,c)(o)}function sh(){const o=be();return o&&o[Us]}const $u=new In("ENVIRONMENT_INITIALIZER"),qD=new In("INJECTOR",-1),U0=new In("INJECTOR_DEF_TYPES");class p_{get(s,c=ir){if(c===ir){const u=new Error(`NullInjectorError: No provider for ${Ee(s)}!`);throw u.name="NullInjectorError",u}return c}}function tR(o){return{\u0275providers:o}}function nR(...o){return{\u0275providers:KD(0,o),\u0275fromNgModule:!0}}function KD(o,...s){const c=[],u=new Set;let h;return xs(s,m=>{const _=m;m_(_,c,[],u)&&(h||(h=[]),h.push(_))}),void 0!==h&&ZD(h,c),c}function ZD(o,s){for(let c=0;c<o.length;c++){const{providers:h}=o[c];g_(h,m=>{s.push(m)})}}function m_(o,s,c,u){if(!(o=se(o)))return!1;let h=null,m=rr(o);const _=!m&&At(o);if(m||_){if(_&&!_.standalone)return!1;h=o}else{const S=o.ngModule;if(m=rr(S),!m)return!1;h=S}const I=u.has(h);if(_){if(I)return!1;if(u.add(h),_.dependencies){const S="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const M of S)m_(M,s,c,u)}}else{if(!m)return!1;{if(null!=m.imports&&!I){let M;u.add(h);try{xs(m.imports,L=>{m_(L,s,c,u)&&(M||(M=[]),M.push(L))})}finally{}void 0!==M&&ZD(M,s)}if(!I){const M=qi(h)||(()=>new h);s.push({provide:h,useFactory:M,deps:te},{provide:U0,useValue:h,multi:!0},{provide:$u,useValue:()=>zt(h),multi:!0})}const S=m.providers;null==S||I||g_(S,L=>{s.push(L)})}}return h!==o&&void 0!==o.providers}function g_(o,s){for(let c of o)Ne(c)&&(c=c.\u0275providers),Array.isArray(c)?g_(c,s):s(c)}const j0=$({provide:String,useValue:$});function Lf(o){return null!==o&&"object"==typeof o&&j0 in o}function Fl(o){return"function"==typeof o}const z0=new In("Set Injector scope."),Vf={},JD={};let Pm;function km(){return void 0===Pm&&(Pm=new p_),Pm}class Ll{}class Om extends Ll{get destroyed(){return this._destroyed}constructor(s,c,u,h){super(),this.parent=c,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fm(s,_=>this.processProvider(_)),this.records.set(qD,ah(void 0,this)),h.has("environment")&&this.records.set(Ll,ah(void 0,this));const m=this.records.get(z0);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(U0.multi,te,_t.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const c=ln(this),u=Zn(void 0);try{return s()}finally{ln(c),Zn(u)}}get(s,c=ir,u=_t.Default){this.assertNotDestroyed(),u=sr(u);const h=ln(this),m=Zn(void 0);try{if(!(u&_t.SkipSelf)){let I=this.records.get(s);if(void 0===I){const S=function v_(o){return"function"==typeof o||"object"==typeof o&&o instanceof In}(s)&&vn(s);I=S&&this.injectableDefInScope(S)?ah(y_(s),Vf):null,this.records.set(s,I)}if(null!=I)return this.hydrate(s,I)}return(u&_t.Self?km():this.parent).get(s,c=u&_t.Optional&&c===ir?null:c)}catch(_){if("NullInjectorError"===_.name){if((_[Yn]=_[Yn]||[]).unshift(Ee(s)),h)throw _;return function Pr(o,s,c,u){const h=o[Yn];throw s[sn]&&h.unshift(s[sn]),o.message=function J(o,s,c,u=null){o=o&&"\n"===o.charAt(0)&&o.charAt(1)==Cr?o.slice(2):o;let h=Ee(s);if(Array.isArray(s))h=s.map(Ee).join(" -> ");else if("object"==typeof s){let m=[];for(let _ in s)if(s.hasOwnProperty(_)){let I=s[_];m.push(_+":"+("string"==typeof I?JSON.stringify(I):Ee(I)))}h=`{${m.join(", ")}}`}return`${c}${u?"("+u+")":""}[${h}]: ${o.replace(Mn,"\n  ")}`}("\n"+o.message,h,c,u),o[oi]=h,o[Yn]=null,o}(_,s,"R3InjectorError",this.source)}throw _}finally{Zn(m),ln(h)}}resolveInjectorInitializers(){const s=ln(this),c=Zn(void 0);try{const u=this.get($u.multi,te,_t.Self);for(const h of u)h()}finally{ln(s),Zn(c)}}toString(){const s=[],c=this.records;for(const u of c.keys())s.push(Ee(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ie(205,!1)}processProvider(s){let c=Fl(s=se(s))?s:se(s&&s.provide);const u=function XD(o){return Lf(o)?ah(void 0,o.useValue):ah(Nm(o),Vf)}(s);if(Fl(s)||!0!==s.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=ah(void 0,Vf,!0),h.factory=()=>ar(h.multi),this.records.set(c,h)),c=s,h.multi.push(s)}this.records.set(c,u)}hydrate(s,c){return c.value===Vf&&(c.value=JD,c.value=c.factory()),"object"==typeof c.value&&c.value&&function eT(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(s){if(!s.providedIn)return!1;const c=se(s.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function y_(o){const s=vn(o),c=null!==s?s.factory:qi(o);if(null!==c)return c;if(o instanceof In)throw new Ie(204,!1);if(o instanceof Function)return function G0(o){const s=o.length;if(s>0)throw Va(s,"?"),new Ie(204,!1);const c=function Er(o){return o&&(o[Jr]||o[Gr])||null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new Ie(204,!1)}function Nm(o,s,c){let u;if(Fl(o)){const h=se(o);return qi(h)||y_(h)}if(Lf(o))u=()=>se(o.useValue);else if(function H0(o){return!(!o||!o.useFactory)}(o))u=()=>o.useFactory(...ar(o.deps||[]));else if(function $0(o){return!(!o||!o.useExisting)}(o))u=()=>zt(se(o.useExisting));else{const h=se(o&&(o.useClass||o.provide));if(!function __(o){return!!o.deps}(o))return qi(h)||y_(h);u=()=>new h(...ar(o.deps))}return u}function ah(o,s,c=!1){return{factory:o,value:s,multi:c?[]:void 0}}function Fm(o,s){for(const c of o)Array.isArray(c)?Fm(c,s):c&&Ne(c)?Fm(c.\u0275providers,s):s(c)}class tT{}class b_{}class E_{resolveComponentFactory(s){throw function nT(o){const s=Error(`No component factory found for ${Ee(o)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=o,s}(s)}}let Bf=(()=>{class o{}return o.NULL=new E_,o})();function rT(){return Hu(lr(),be())}function Hu(o,s){return new Uf(Jn(o,s))}let Uf=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=rT,o})();function iR(o){return o instanceof Uf?o.nativeElement:o}class Lm{}let iT=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function W0(){const o=be(),c=br(lr().index,o);return(ei(c)?c:o)[Yt]}(),o})(),q0=(()=>{class o{}return o.\u0275prov=Et({token:o,providedIn:"root",factory:()=>null}),o})();class Vl{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const K0=new Vl("15.2.9"),Vm={},I_="ngOriginalError";function C_(o){return o[I_]}class jf{constructor(){this._console=console}handleError(s){const c=this._findOriginalError(s);this._console.error("ERROR",s),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(s){let c=s&&C_(s);for(;c&&C_(c);)c=C_(c);return c||null}}function Fc(o){return o instanceof Function?o():o}function lT(o,s,c){let u=o.length;for(;;){const h=o.indexOf(s,c);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const m=s.length;if(h+m===u||o.charCodeAt(h+m)<=32)return h}c=h+1}}const uT="ng-template";function ew(o,s,c){let u=0,h=!0;for(;u<o.length;){let m=o[u++];if("string"==typeof m&&h){const _=o[u++];if(c&&"class"===m&&-1!==lT(_.toLowerCase(),s,0))return!0}else{if(1===m){for(;u<o.length&&"string"==typeof(m=o[u++]);)if(m.toLowerCase()===s)return!0;return!1}"number"==typeof m&&(h=!1)}}return!1}function tw(o){return 4===o.type&&o.value!==uT}function sR(o,s,c){return s===(4!==o.type||c?o.value:uT)}function aR(o,s,c){let u=4;const h=o.attrs||[],m=function os(o){for(let s=0;s<o.length;s++)if(ns(o[s]))return s;return o.length}(h);let _=!1;for(let I=0;I<s.length;I++){const S=s[I];if("number"!=typeof S){if(!_)if(4&u){if(u=2|1&u,""!==S&&!sR(o,S,c)||""===S&&1===s.length){if(Ga(u))return!1;_=!0}}else{const M=8&u?S:s[++I];if(8&u&&null!==o.attrs){if(!ew(o.attrs,M,c)){if(Ga(u))return!1;_=!0}continue}const z=nw(8&u?"class":S,h,tw(o),c);if(-1===z){if(Ga(u))return!1;_=!0;continue}if(""!==M){let re;re=z>m?"":h[z+1].toLowerCase();const le=8&u?re:null;if(le&&-1!==lT(le,M,0)||2&u&&M!==re){if(Ga(u))return!1;_=!0}}}}else{if(!_&&!Ga(u)&&!Ga(S))return!1;if(_&&Ga(S))continue;_=!1,u=S|1&u}}return Ga(u)||_}function Ga(o){return 0==(1&o)}function nw(o,s,c,u){if(null===s)return-1;let h=0;if(u||!c){let m=!1;for(;h<s.length;){const _=s[h];if(_===o)return h;if(3===_||6===_)m=!0;else{if(1===_||2===_){let I=s[++h];for(;"string"==typeof I;)I=s[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=m?1:2}return-1}return function dT(o,s){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const u=o[c];if("number"==typeof u)return-1;if(u===s)return c;c++}return-1}(s,o)}function rw(o,s,c=!1){for(let u=0;u<s.length;u++)if(aR(o,s[u],c))return!0;return!1}function Bm(o,s){e:for(let c=0;c<s.length;c++){const u=s[c];if(o.length===u.length){for(let h=0;h<o.length;h++)if(o[h]!==u[h])continue e;return!0}}return!1}function ch(o,s){return o?":not("+s.trim()+")":s}function hT(o){let s=o[0],c=1,u=2,h="",m=!1;for(;c<o.length;){let _=o[c];if("string"==typeof _)if(2&u){const I=o[++c];h+="["+_+(I.length>0?'="'+I+'"':"")+"]"}else 8&u?h+="."+_:4&u&&(h+=" "+_);else""!==h&&!Ga(_)&&(s+=ch(m,h),h=""),u=_,m=m||!Ga(u);c++}return""!==h&&(s+=ch(m,h)),s}const un={};function lh(o){iw($t(),be(),Kr()+o,!1)}function iw(o,s,c,u){if(!u)if(3==(3&s[rn])){const m=o.preOrderCheckHooks;null!==m&&_c(s,m,c)}else{const m=o.preOrderHooks;null!==m&&ml(s,m,0,c)}Qi(c)}function Lc(o,s=null,c=null,u){const h=uh(o,s,c,u);return h.resolveInjectorInitializers(),h}function uh(o,s=null,c=null,u,h=new Set){const m=[c||te,nR(o)];return u=u||("object"==typeof o?void 0:Ee(o)),new Om(m,s||km(),u||null,h)}let Wa=(()=>{class o{static create(c,u){if(Array.isArray(c))return Lc({name:""},u,c,"");{const h=c.name??"";return Lc({name:h},c.parent,c.providers,h)}}}return o.THROW_IF_NOT_FOUND=ir,o.NULL=new p_,o.\u0275prov=Et({token:o,providedIn:"any",factory:()=>zt(qD)}),o.__NG_ELEMENT_ID__=-1,o})();function fh(o,s=_t.Default){const c=be();return null===c?zt(o,s):kd(lr(),c,se(o),s)}function k_(){throw new Error("invalid")}function zf(o,s){const c=o.contentQueries;if(null!==c)for(let u=0;u<c.length;u+=2){const m=c[u+1];if(-1!==m){const _=o.data[m];fl(c[u]),_.contentQueries(2,s[m],m)}}}function $l(o,s,c,u,h,m,_,I,S,M,L){const z=s.blueprint.slice();return z[Tr]=h,z[rn]=76|u,(null!==L||o&&1024&o[rn])&&(z[rn]|=1024),Gs(z),z[Hn]=z[xo]=o,z[Ln]=c,z[So]=_||o&&o[So],z[Yt]=I||o&&o[Yt],z[Us]=S||o&&o[Us]||null,z[fs]=M||o&&o[fs]||null,z[Ar]=m,z[ps]=function Kd(){return Tf++}(),z[Or]=L,z[vr]=2==s.type?o[vr]:z,z}function ph(o,s,c,u,h){let m=o.data[s];if(null===m)m=function Uc(o,s,c,u,h){const m=cl(),_=xa(),S=o.data[s]=function pw(o,s,c,u,h,m){return{type:c,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?m:m&&m.parent,c,s,u,h);return null===o.firstChild&&(o.firstChild=S),null!==m&&(_?null==m.child&&null!==S.parent&&(m.child=S):null===m.next&&(m.next=S,S.prev=m)),S}(o,s,c,u,h),function dl(){return jt.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=c,m.value=u,m.attrs=h;const _=function Xo(){const o=jt.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();m.injectorIndex=null===_?-1:_.injectorIndex}return Ai(m,!0),m}function Gf(o,s,c,u){if(0===c)return-1;const h=s.length;for(let m=0;m<c;m++)s.push(u),o.blueprint.push(u),o.data.push(null);return h}function Wu(o,s,c){Is(s);try{const u=o.viewQuery;null!==u&&Ps(1,u,c);const h=o.template;null!==h&&fw(o,s,h,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&zf(o,s),o.staticViewQueries&&Ps(2,o.viewQuery,c);const m=o.components;null!==m&&function Cn(o,s){for(let c=0;c<s.length;c++)ST(o,s[c])}(s,m)}catch(u){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),u}finally{s[rn]&=-5,fc()}}function mh(o,s,c,u){const h=s[rn];if(128!=(128&h)){Is(s);try{Gs(s),function Lo(o){return jt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&fw(o,s,c,2,u);const _=3==(3&h);if(_){const M=o.preOrderCheckHooks;null!==M&&_c(s,M,null)}else{const M=o.preOrderHooks;null!==M&&ml(s,M,0,null),gl(s,0)}if(function AT(o){for(let s=Pc(o);null!==s;s=Ou(s)){if(!s[$s])continue;const c=s[Yo];for(let u=0;u<c.length;u++){const h=c[u];512&h[rn]||Es(h[Hn],1),h[rn]|=512}}}(s),function bw(o){for(let s=Pc(o);null!==s;s=Ou(s))for(let c=Nr;c<s.length;c++){const u=s[c],h=u[ot];fo(u)&&mh(h,u,h.template,u[Ln])}}(s),null!==o.contentQueries&&zf(o,s),_){const M=o.contentCheckHooks;null!==M&&_c(s,M)}else{const M=o.contentHooks;null!==M&&ml(s,M,1),gl(s,1)}!function hw(o,s){const c=o.hostBindingOpCodes;if(null!==c)try{for(let u=0;u<c.length;u++){const h=c[u];if(h<0)Qi(~h);else{const m=h,_=c[++u],I=c[++u];hl(_,m),I(2,s[m])}}}finally{Qi(-1)}}(o,s);const I=o.components;null!==I&&function jl(o,s){for(let c=0;c<s.length;c++)V_(o,s[c])}(s,I);const S=o.viewQuery;if(null!==S&&Ps(2,S,u),_){const M=o.viewCheckHooks;null!==M&&_c(s,M)}else{const M=o.viewHooks;null!==M&&ml(s,M,2),gl(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),s[rn]&=-41,512&s[rn]&&(s[rn]&=-513,Es(s[Hn],-1))}finally{fc()}}}function fw(o,s,c,u,h){const m=Kr(),_=2&u;try{Qi(-1),_&&s.length>Vn&&iw(o,s,Vn,!1),Gn(_?2:0,h),c(u,h)}finally{Qi(m),Gn(_?3:1,h)}}function gh(o,s,c){if(Ro(s)){const h=s.directiveEnd;for(let m=s.directiveStart;m<h;m++){const _=o.data[m];_.contentQueries&&_.contentQueries(1,c[m],m)}}}function qu(o,s,c){sl()&&(function Ku(o,s,c,u){const h=c.directiveStart,m=c.directiveEnd;Ia(c)&&function _w(o,s,c){const u=Jn(s,o),h=Wf(c),m=o[So],_=Jm(o,$l(o,h,null,c.onPush?32:16,u,s,m,m.createRenderer(u,c),null,null,null));o[s.index]=_}(s,c,o.data[h+c.componentOffset]),o.firstCreatePass||mu(c,s),oe(u,s);const _=c.initialInputs;for(let I=h;I<m;I++){const S=o.data[I],M=ur(s,o,I,c);oe(M,s),null!==_&&_h(0,I-h,M,S,0,_),ai(S)&&(br(c.index,s)[Ln]=ur(s,o,I,c))}}(o,s,c,Jn(c,s)),64==(64&c.flags)&&Zm(o,s,c))}function zm(o,s,c=Jn){const u=s.localNames;if(null!==u){let h=s.index+1;for(let m=0;m<u.length;m+=2){const _=u[m+1],I=-1===_?c(s,o):o[_];o[h++]=I}}}function Wf(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=O_(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function O_(o,s,c,u,h,m,_,I,S,M){const L=Vn+u,z=L+h,re=function N_(o,s){const c=[];for(let u=0;u<s;u++)c.push(u<o?null:un);return c}(L,z),le="function"==typeof M?M():M;return re[ot]={type:o,blueprint:re,template:c,queries:null,viewQuery:I,declTNode:s,data:re.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:S,consts:le,incompleteFirstPass:!1}}function F_(o,s,c,u){const h=zl(s);null===c?h.push(u):(h.push(c),o.firstCreatePass&&Qf(o).push(u,h.length-1))}function mw(o,s,c,u){for(let h in o)if(o.hasOwnProperty(h)){c=null===c?{}:c;const m=o[h];null===u?gw(c,s,h,m):u.hasOwnProperty(h)&&gw(c,s,u[h],m)}return c}function gw(o,s,c,u){o.hasOwnProperty(c)?o[c].push(s,u):o[c]=[s,u]}function L_(o,s,c,u){if(sl()){const h=null===u?null:{"":-1},m=function yw(o,s){const c=o.directiveRegistry;let u=null,h=null;if(c)for(let m=0;m<c.length;m++){const _=c[m];if(rw(s,_.selectors,!1))if(u||(u=[]),ai(_))if(null!==_.findHostDirectiveDefs){const I=[];h=h||new Map,_.findHostDirectiveDefs(_,I,h),u.unshift(...I,_),Ym(o,s,I.length)}else u.unshift(_),Ym(o,s,0);else h=h||new Map,_.findHostDirectiveDefs?.(_,u,h),u.push(_)}return null===u?null:[u,h]}(o,c);let _,I;null===m?_=I=null:[_,I]=m,null!==_&&qm(o,s,c,_,h,I),h&&function DT(o,s,c){if(s){const u=o.localNames=[];for(let h=0;h<s.length;h+=2){const m=c[s[h+1]];if(null==m)throw new Ie(-301,!1);u.push(s[h],m)}}}(c,u,h)}c.mergedAttrs=Qs(c.mergedAttrs,c.attrs)}function qm(o,s,c,u,h,m){for(let M=0;M<u.length;M++)Ts(mu(c,s),o,u[M].type);!function Kf(o,s,c){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+c,o.providerIndexes=s}(c,o.data.length,u.length);for(let M=0;M<u.length;M++){const L=u[M];L.providersResolver&&L.providersResolver(L)}let _=!1,I=!1,S=Gf(o,s,u.length,null);for(let M=0;M<u.length;M++){const L=u[M];c.mergedAttrs=Qs(c.mergedAttrs,L.hostAttrs),yh(o,c,s,S,L),qf(S,L,h),null!==L.contentQueries&&(c.flags|=4),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(c.flags|=64);const z=L.type.prototype;!_&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((o.preOrderHooks??(o.preOrderHooks=[])).push(c.index),_=!0),!I&&(z.ngOnChanges||z.ngDoCheck)&&((o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(c.index),I=!0),S++}!function wT(o,s,c){const h=s.directiveEnd,m=o.data,_=s.attrs,I=[];let S=null,M=null;for(let L=s.directiveStart;L<h;L++){const z=m[L],re=c?c.get(z):null,Me=re?re.outputs:null;S=mw(z.inputs,L,S,re?re.inputs:null),M=mw(z.outputs,L,M,Me);const Ye=null===S||null===_||tw(s)?null:TT(S,L,_);I.push(Ye)}null!==S&&(S.hasOwnProperty("class")&&(s.flags|=8),S.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=I,s.inputs=S,s.outputs=M}(o,c,m)}function Zm(o,s,c){const u=c.directiveStart,h=c.directiveEnd,m=c.index,_=function Sd(){return jt.lFrame.currentDirectiveIndex}();try{Qi(m);for(let I=u;I<h;I++){const S=o.data[I],M=s[I];Xn(I),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&dR(S,M)}}finally{Qi(-1),Xn(_)}}function dR(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function Ym(o,s,c){s.componentOffset=c,(o.components??(o.components=[])).push(s.index)}function qf(o,s,c){if(c){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)c[s.exportAs[u]]=o;ai(s)&&(c[""]=o)}}function yh(o,s,c,u,h){o.data[u]=h;const m=h.factory||(h.factory=qi(h.type)),_=new Mi(m,ai(h),fh);o.blueprint[u]=_,c[u]=_,function Km(o,s,c,u,h){const m=h.hostBindings;if(m){let _=o.hostBindingOpCodes;null===_&&(_=o.hostBindingOpCodes=[]);const I=~s.index;(function CT(o){let s=o.length;for(;s>0;){const c=o[--s];if("number"==typeof c&&c<0)return c}return 0})(_)!=I&&_.push(I),_.push(c,u,m)}}(o,s,u,Gf(o,c,h.hostVars,un),h)}function ha(o,s,c,u,h,m){const _=Jn(o,s);!function Qm(o,s,c,u,h,m,_){if(null==m)o.removeAttribute(s,h,c);else{const I=null==_?je(m):_(m,u||"",h);o.setAttribute(s,h,I,c)}}(s[Yt],_,m,o.value,c,u,h)}function _h(o,s,c,u,h,m){const _=m[s];if(null!==_){const I=u.setInput;for(let S=0;S<_.length;){const M=_[S++],L=_[S++],z=_[S++];null!==I?u.setInput(c,z,M,L):c[L]=z}}}function TT(o,s,c){let u=null,h=0;for(;h<c.length;){const m=c[h];if(0!==m)if(5!==m){if("number"==typeof m)break;if(o.hasOwnProperty(m)){null===u&&(u=[]);const _=o[m];for(let I=0;I<_.length;I+=2)if(_[I]===s){u.push(m,_[I+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function vw(o,s,c,u){return[o,!0,!1,s,null,0,u,c,null,null]}function V_(o,s){const c=br(s,o);if(fo(c)){const u=c[ot];48&c[rn]?mh(u,c,u.template,c[Ln]):c[lo]>0&&Hl(c)}}function Hl(o){for(let u=Pc(o);null!==u;u=Ou(u))for(let h=Nr;h<u.length;h++){const m=u[h];if(fo(m))if(512&m[rn]){const _=m[ot];mh(_,m,_.template,m[Ln])}else m[lo]>0&&Hl(m)}const c=o[ot].components;if(null!==c)for(let u=0;u<c.length;u++){const h=br(c[u],o);fo(h)&&h[lo]>0&&Hl(h)}}function ST(o,s){const c=br(s,o),u=c[ot];(function B_(o,s){for(let c=s.length;c<o.blueprint.length;c++)s.push(o.blueprint[c])})(u,c),Wu(u,c,c[Ln])}function Jm(o,s){return o[Ci]?o[js][An]=s:o[Ci]=s,o[js]=s,s}function Zf(o){for(;o;){o[rn]|=32;const s=Zd(o);if(uo(o)&&!s)return o;o=s}return null}function Yf(o,s,c,u=!0){const h=s[So];h.begin&&h.begin();try{mh(o,s,o.template,c)}catch(_){throw u&&eg(s,_),_}finally{h.end&&h.end()}}function Ps(o,s,c){fl(0),s(o,c)}function zl(o){return o[Bs]||(o[Bs]=[])}function Qf(o){return o.cleanup||(o.cleanup=[])}function eg(o,s){const c=o[fs],u=c?c.get(jf,null):null;u&&u.handleError(s)}function U_(o,s,c,u,h){for(let m=0;m<c.length;){const _=c[m++],I=c[m++],S=s[_],M=o.data[_];null!==M.setInput?M.setInput(S,h,u,I):S[I]=h}}function tg(o,s,c){let u=c?o.styles:null,h=c?o.classes:null,m=0;if(null!==s)for(let _=0;_<s.length;_++){const I=s[_];"number"==typeof I?m=I:1==m?h=Te(h,I):2==m&&(u=Te(u,I+": "+s[++_]+";"))}c?o.styles=u:o.stylesWithoutHost=u,c?o.classes=h:o.classesWithoutHost=h}function ng(o,s,c,u,h=!1){for(;null!==c;){const m=s[c.index];if(null!==m&&u.push(pr(m)),Ui(m))for(let I=Nr;I<m.length;I++){const S=m[I],M=S[ot].firstChild;null!==M&&ng(S[ot],S,M,u)}const _=c.type;if(8&_)ng(o,s,c.child,u);else if(32&_){const I=no(c,s);let S;for(;S=I();)u.push(S)}else if(16&_){const I=Pl(s,c);if(Array.isArray(I))u.push(...I);else{const S=Zd(s[vr]);ng(S[ot],S,I,u,!0)}}c=h?c.projectionNext:c.next}return u}class Xf{get rootNodes(){const s=this._lView,c=s[ot];return ng(c,s,c.firstChild,[])}constructor(s,c){this._lView=s,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ln]}set context(s){this._lView[Ln]=s}get destroyed(){return 128==(128&this._lView[rn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Hn];if(Ui(s)){const c=s[Mo],u=c?c.indexOf(this):-1;u>-1&&(P(s,u),Cc(c,u))}this._attachedToViewContainer=!1}V(this._lView[ot],this._lView)}onDestroy(s){F_(this._lView[ot],this._lView,null,s)}markForCheck(){Zf(this._cdRefInjectingView||this._lView)}detach(){this._lView[rn]&=-65}reattach(){this._lView[rn]|=64}detectChanges(){Yf(this._lView[ot],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Qd(o,s){Uu(o,s,s[Yt],2,null,null)}(this._lView[ot],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Ie(902,!1);this._appRef=s}}class xT extends Xf{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Yf(s[ot],s,s[Ln],!1)}checkNoChanges(){}get context(){return null}}class Ew extends Bf{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const c=At(s);return new ep(c,this.ngModule)}}function Iw(o){const s=[];for(let c in o)o.hasOwnProperty(c)&&s.push({propName:o[c],templateName:c});return s}class RT{constructor(s,c){this.injector=s,this.parentInjector=c}get(s,c,u){u=sr(u);const h=this.injector.get(s,Vm,u);return h!==Vm||c===Vm?h:this.parentInjector.get(s,c,u)}}class ep extends b_{get inputs(){return Iw(this.componentDef.inputs)}get outputs(){return Iw(this.componentDef.outputs)}constructor(s,c){super(),this.componentDef=s,this.ngModule=c,this.componentType=s.type,this.selector=function A_(o){return o.map(hT).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!c}create(s,c,u,h){let m=(h=h||this.ngModule)instanceof Ll?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const _=m?new RT(s,m):s,I=_.get(Lm,null);if(null===I)throw new Ie(407,!1);const S=_.get(q0,null),M=I.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",z=u?function Gm(o,s,c){return o.selectRootElement(s,c===j.ShadowDom)}(M,u,this.componentDef.encapsulation):Rf(M,L,function MT(o){const s=o.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(L)),re=this.componentDef.onPush?288:272,le=O_(0,null,null,1,0,null,null,null,null,null),Me=$l(null,le,null,re,null,null,I,M,S,_,null);let Ye,it;Is(Me);try{const Ct=this.componentDef;let Ht,$e=null;Ct.findHostDirectiveDefs?(Ht=[],$e=new Map,Ct.findHostDirectiveDefs(Ct,Ht,$e),Ht.push(Ct)):Ht=[Ct];const Xt=function PT(o,s){const c=o[ot],u=Vn;return o[u]=s,ph(c,u,2,"#host",null)}(Me,z),Mr=function kT(o,s,c,u,h,m,_,I){const S=h[ot];!function OT(o,s,c,u){for(const h of o)s.mergedAttrs=Qs(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(tg(s,s.mergedAttrs,!0),null!==c&&Xy(u,c,s))}(u,o,s,_);const M=m.createRenderer(s,c),L=$l(h,Wf(c),null,c.onPush?32:16,h[o.index],o,m,M,I||null,null,null);return S.firstCreatePass&&Ym(S,o,u.length-1),Jm(h,L),h[o.index]=L}(Xt,z,Ct,Ht,Me,I,M);it=Ta(le,Vn),z&&function Dw(o,s,c,u){if(u)tr(o,c,["ng-version",K0.full]);else{const{attrs:h,classes:m}=function fT(o){const s=[],c=[];let u=1,h=2;for(;u<o.length;){let m=o[u];if("string"==typeof m)2===h?""!==m&&s.push(m,o[++u]):8===h&&c.push(m);else{if(!Ga(h))break;h=m}u++}return{attrs:s,classes:c}}(s.selectors[0]);h&&tr(o,c,h),m&&m.length>0&&Nc(o,c,m.join(" "))}}(M,Ct,z,u),void 0!==c&&function j_(o,s,c){const u=o.projection=[];for(let h=0;h<s.length;h++){const m=c[h];u.push(null!=m?Array.from(m):null)}}(it,this.ngContentSelectors,c),Ye=function NT(o,s,c,u,h,m){const _=lr(),I=h[ot],S=Jn(_,h);qm(I,h,_,c,null,u);for(let L=0;L<c.length;L++)oe(ur(h,I,_.directiveStart+L,_),h);Zm(I,h,_),S&&oe(S,h);const M=ur(h,I,_.directiveStart+_.componentOffset,_);if(o[Ln]=h[Ln]=M,null!==m)for(const L of m)L(M,s);return gh(I,_,o),M}(Mr,Ct,Ht,$e,Me,[$_]),Wu(le,Me,null)}finally{fc()}return new Cw(this.componentType,Ye,Hu(it,Me),Me,it)}}class Cw extends tT{constructor(s,c,u,h,m){super(),this.location=u,this._rootLView=h,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new xT(h),this.componentType=s}setInput(s,c){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[s])){const m=this._rootLView;U_(m[ot],m,h,s,c),Zf(br(this._tNode.index,m))}}get injector(){return new La(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function $_(){const o=lr();Pa(be()[ot],o)}function Gl(o){let s=function Ka(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const u=[o];for(;s;){let h;if(ai(o))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Ie(903,!1);h=s.\u0275dir}if(h){if(c){u.push(h);const _=o;_.inputs=rg(o.inputs),_.declaredInputs=rg(o.declaredInputs),_.outputs=rg(o.outputs);const I=h.hostBindings;I&&Aw(o,I);const S=h.viewQuery,M=h.contentQueries;if(S&&FT(o,S),M&&vh(o,M),Se(o.inputs,h.inputs),Se(o.declaredInputs,h.declaredInputs),Se(o.outputs,h.outputs),ai(h)&&h.data.animation){const L=o.data;L.animation=(L.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let _=0;_<m.length;_++){const I=m[_];I&&I.ngInherit&&I(o),I===Gl&&(c=!1)}}s=Object.getPrototypeOf(s)}!function Tw(o){let s=0,c=null;for(let u=o.length-1;u>=0;u--){const h=o[u];h.hostVars=s+=h.hostVars,h.hostAttrs=Qs(h.hostAttrs,c=Qs(c,h.hostAttrs))}}(u)}function rg(o){return o===F?{}:o===te?[]:o}function FT(o,s){const c=o.viewQuery;o.viewQuery=c?(u,h)=>{s(u,h),c(u,h)}:s}function vh(o,s){const c=o.contentQueries;o.contentQueries=c?(u,h,m)=>{s(u,h,m),c(u,h,m)}:s}function Aw(o,s){const c=o.hostBindings;o.hostBindings=c?(u,h)=>{s(u,h),c(u,h)}:s}function sg(o){return!!ag(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function ag(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function ui(o,s,c){return!Object.is(o[s],c)&&(o[s]=c,!0)}function q_(o,s,c,u){const h=be();return ui(h,Zi(),s)&&($t(),ha(Wn(),h,o,s,c,u)),q_}function Yu(o,s,c,u,h,m,_,I){const S=be(),M=$t(),L=o+Vn,z=M.firstCreatePass?function BT(o,s,c,u,h,m,_,I,S){const M=s.consts,L=ph(s,o,4,_||null,po(M,I));L_(s,c,L,po(M,S)),Pa(s,L);const z=L.tView=O_(2,L,u,h,m,s.directiveRegistry,s.pipeRegistry,null,s.schemas,M);return null!==s.queries&&(s.queries.template(s,L),z.queries=s.queries.embeddedTView(L)),L}(L,M,S,s,c,u,h,m,_):M.data[L];Ai(z,!1);const re=S[Yt].createComment("");Oc(M,S,re,z),oe(re,S),Jm(S,S[L]=vw(re,S,re,z)),Ti(z)&&qu(M,S,z),null!=_&&zm(S,z,I)}function Ow(o){return function ti(o,s){return o[s]}(function ul(){return jt.lFrame.contextLView}(),Vn+o)}function Y_(o,s,c){const u=be();return ui(u,Zi(),s)&&function ss(o,s,c,u,h,m,_,I){const S=Jn(s,c);let L,M=s.inputs;!I&&null!=M&&(L=M[u])?(U_(o,c,L,u,h),Ia(s)&&function ET(o,s){const c=br(s,o);16&c[rn]||(c[rn]|=32)}(c,s.index)):3&s.type&&(u=function Wm(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(u),h=null!=_?_(h,s.value||"",u):h,m.setProperty(S,u,h))}($t(),Wn(),u,o,s,u[Yt],c,!1),Y_}function Qu(o,s,c,u,h){const _=h?"class":"style";U_(o,c,s.inputs[_],_,u)}function lg(o,s,c,u){const h=be(),m=$t(),_=Vn+o,I=h[Yt],S=m.firstCreatePass?function cp(o,s,c,u,h,m){const _=s.consts,S=ph(s,o,2,u,po(_,h));return L_(s,c,S,po(_,m)),null!==S.attrs&&tg(S,S.attrs,!1),null!==S.mergedAttrs&&tg(S,S.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,S),S}(_,m,h,s,c,u):m.data[_],M=h[_]=Rf(I,s,function xi(){return jt.lFrame.currentNamespace}()),L=Ti(S);return Ai(S,!0),Xy(I,M,S),32!=(32&S.flags)&&Oc(m,h,M,S),0===function lc(){return jt.lFrame.elementDepthCount}()&&oe(M,h),function Sa(){jt.lFrame.elementDepthCount++}(),L&&(qu(m,h,S),gh(m,S,h)),null!==u&&zm(h,S),lg}function ug(){let o=lr();xa()?ll():(o=o.parent,Ai(o,!1));const s=o;!function Ws(){jt.lFrame.elementDepthCount--}();const c=$t();return c.firstCreatePass&&(Pa(c,o),Ro(o)&&c.queries.elementEnd(o)),null!=s.classesWithoutHost&&function me(o){return 0!=(8&o.flags)}(s)&&Qu(c,s,be(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Mt(o){return 0!=(16&o.flags)}(s)&&Qu(c,s,be(),s.stylesWithoutHost,!1),ug}function Q_(o,s,c,u){return lg(o,s,c,u),ug(),Q_}function Nw(){return be()}function lp(o){return!!o&&"function"==typeof o.then}function up(o){return!!o&&"function"==typeof o.subscribe}const Ju=up;function ev(o,s,c,u){const h=be(),m=$t(),_=lr();return function Lw(o,s,c,u,h,m,_){const I=Ti(u),M=o.firstCreatePass&&Qf(o),L=s[Ln],z=zl(s);let re=!0;if(3&u.type||_){const Ye=Jn(u,s),it=_?_(Ye):Ye,Ct=z.length,Ht=_?Xt=>_(pr(Xt[u.index])):u.index;let $e=null;if(!_&&I&&($e=function $T(o,s,c,u){const h=o.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const _=h[m];if(_===c&&h[m+1]===u){const I=s[Bs],S=h[m+2];return I.length>S?I[S]:null}"string"==typeof _&&(m+=2)}return null}(o,s,h,u.index)),null!==$e)($e.__ngLastListenerFn__||$e).__ngNextListenerFn__=m,$e.__ngLastListenerFn__=m,re=!1;else{m=Bw(u,s,L,m,!1);const Xt=c.listen(it,h,m);z.push(m,Xt),M&&M.push(h,Ht,Ct,Ct+1)}}else m=Bw(u,s,L,m,!1);const le=u.outputs;let Me;if(re&&null!==le&&(Me=le[h])){const Ye=Me.length;if(Ye)for(let it=0;it<Ye;it+=2){const Mr=s[Me[it]][Me[it+1]].subscribe(m),_n=z.length;z.push(m,Mr),M&&M.push(h,u.index,_n,-(_n+1))}}}(m,h,h[Yt],_,o,s,u),ev}function Vw(o,s,c,u){try{return Gn(6,s,c),!1!==c(u)}catch(h){return eg(o,h),!1}finally{Gn(7,s,c)}}function Bw(o,s,c,u,h){return function m(_){if(_===Function)return u;Zf(o.componentOffset>-1?br(o.index,s):s);let S=Vw(s,c,u,_),M=m.__ngNextListenerFn__;for(;M;)S=Vw(s,c,M,_)&&S,M=M.__ngNextListenerFn__;return h&&!1===S&&(_.preventDefault(),_.returnValue=!1),S}}function Uw(o=1){return function pc(o){return(jt.lFrame.contextLView=function mc(o,s){for(;o>0;)s=s[xo],o--;return s}(o,jt.lFrame.contextLView))[Ln]}(o)}function HT(o,s){let c=null;const u=function ua(o){const s=o.attrs;if(null!=s){const c=s.indexOf(5);if(!(1&c))return s[c+1]}return null}(o);for(let h=0;h<s.length;h++){const m=s[h];if("*"!==m){if(null===u?rw(o,m,!0):Bm(u,m))return h}else c=h}return c}function jw(o){const s=be()[vr][Ar];if(!s.projection){const u=s.projection=Va(o?o.length:1,null),h=u.slice();let m=s.child;for(;null!==m;){const _=o?HT(m,o):0;null!==_&&(h[_]?h[_].projectionNext=m:u[_]=m,h[_]=m),m=m.next}}}function tv(o,s=0,c){const u=be(),h=$t(),m=ph(h,Vn+o,16,null,c||null);null===m.projection&&(m.projection=s),ll(),32!=(32&m.flags)&&function Cm(o,s,c){Jy(s[Yt],0,s,c,st(o,c,s),Xd(c.parent||s[Ar],c,s))}(h,u,m)}function pp(o,s){return o<<17|s<<2}function $c(o){return o>>17&32767}function pg(o){return 2|o}function pa(o){return(131068&o)>>2}function mg(o,s){return-131069&o|s<<2}function rv(o){return 1|o}function Kw(o,s,c,u,h){const m=o[c+1],_=null===s;let I=u?$c(m):pa(m),S=!1;for(;0!==I&&(!1===S||_);){const L=o[I+1];WT(o[I],s)&&(S=!0,o[I+1]=u?rv(L):pg(L)),I=u?$c(L):pa(L)}S&&(o[c+1]=u?pg(m):rv(m))}function WT(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&Rn(o,s)>=0}function sv(o,s){return function ro(o,s,c,u){const h=be(),m=$t(),_=function Si(o){const s=jt.lFrame,c=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,c}(2);m.firstUpdatePass&&function cv(o,s,c,u){const h=o.data;if(null===h[c+1]){const m=h[Kr()],_=function rE(o,s){return s>=o.expandoStartIndex}(o,c);(function lE(o,s){return 0!=(o.flags&(s?8:16))})(m,u)&&null===s&&!_&&(s=!1),s=function gg(o,s,c,u){const h=function Ma(o){const s=jt.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}(o);let m=u?s.residualClasses:s.residualStyles;if(null===h)0===(u?s.classBindings:s.styleBindings)&&(c=mp(c=lv(null,o,s,c,u),s.attrs,u),m=null);else{const _=s.directiveStylingLast;if(-1===_||o[_]!==h)if(c=lv(h,o,s,c,u),null===m){let S=function yg(o,s,c){const u=c?s.classBindings:s.styleBindings;if(0!==pa(u))return o[$c(u)]}(o,s,u);void 0!==S&&Array.isArray(S)&&(S=lv(null,o,s,S[1],u),S=mp(S,s.attrs,u),function iE(o,s,c,u){o[$c(c?s.classBindings:s.styleBindings)]=u}(o,s,u,S))}else m=function oE(o,s,c){let u;const h=s.directiveEnd;for(let m=1+s.directiveStylingLast;m<h;m++)u=mp(u,o[m].hostAttrs,c);return mp(u,s.attrs,c)}(o,s,u)}return void 0!==m&&(u?s.residualClasses=m:s.residualStyles=m),c}(h,m,s,u),function GT(o,s,c,u,h,m){let _=m?s.classBindings:s.styleBindings,I=$c(_),S=pa(_);o[u]=c;let L,M=!1;if(Array.isArray(c)?(L=c[1],(null===L||Rn(c,L)>0)&&(M=!0)):L=c,h)if(0!==S){const re=$c(o[I+1]);o[u+1]=pp(re,I),0!==re&&(o[re+1]=mg(o[re+1],u)),o[I+1]=function fg(o,s){return 131071&o|s<<17}(o[I+1],u)}else o[u+1]=pp(I,0),0!==I&&(o[I+1]=mg(o[I+1],u)),I=u;else o[u+1]=pp(S,0),0===I?I=u:o[S+1]=mg(o[S+1],u),S=u;M&&(o[u+1]=pg(o[u+1])),Kw(o,L,u,!0),Kw(o,L,u,!1),function qw(o,s,c,u,h){const m=h?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof s&&Rn(m,s)>=0&&(c[u+1]=rv(c[u+1]))}(s,L,o,u,m),_=pp(I,S),m?s.classBindings=_:s.styleBindings=_}(h,m,s,c,_,u)}}(m,o,_,u),s!==un&&ui(h,_,s)&&function aE(o,s,c,u,h,m,_,I){if(!(3&s.type))return;const S=o.data,M=S[I+1],L=function zT(o){return 1==(1&o)}(M)?cE(S,s,c,h,pa(M),_):void 0;Dh(L)||(Dh(m)||function hg(o){return 2==(2&o)}(M)&&(m=cE(S,null,c,h,I,_)),function x0(o,s,c,u,h){if(s)h?o.addClass(c,u):o.removeClass(c,u);else{let m=-1===u.indexOf("-")?void 0:_o.DashCase;null==h?o.removeStyle(c,u,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=_o.Important),o.setStyle(c,u,h,m))}}(u,_,function Fo(o,s){return pr(s[o])}(Kr(),c),h,m))}(m,m.data[Kr()],h,h[Yt],o,h[_+1]=function JT(o,s){return null==o||""===o||("string"==typeof s?o+=s:"object"==typeof o&&(o=Ee(la(o)))),o}(s,c),u,_)}(o,s,null,!0),sv}function lv(o,s,c,u,h){let m=null;const _=c.directiveEnd;let I=c.directiveStylingLast;for(-1===I?I=c.directiveStart:I++;I<_&&(m=s[I],u=mp(u,m.hostAttrs,h),m!==o);)I++;return null!==o&&(c.directiveStylingLast=I),u}function mp(o,s,c){const u=c?1:2;let h=-1;if(null!==s)for(let m=0;m<s.length;m++){const _=s[m];"number"==typeof _?h=_:h===u&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Xi(o,_,!!c||s[++m]))}return void 0===o?null:o}function cE(o,s,c,u,h,m){const _=null===s;let I;for(;h>0;){const S=o[h],M=Array.isArray(S),L=M?S[1]:S,z=null===L;let re=c[h+1];re===un&&(re=z?te:void 0);let le=z?eo(re,u):L===u?re:void 0;if(M&&!Dh(le)&&(le=eo(S,u)),Dh(le)&&(I=le,_))return I;const Me=o[h+1];h=_?$c(Me):pa(Me)}if(null!==s){let S=m?s.residualClasses:s.residualStyles;null!=S&&(I=eo(S,u))}return I}function Dh(o){return void 0!==o}function uE(o,s=""){const c=be(),u=$t(),h=o+Vn,m=u.firstCreatePass?ph(u,h,1,s,null):u.data[h],_=c[h]=function Uo(o,s){return o.createText(s)}(c[Yt],s);Oc(u,c,_,m),Ai(m,!1)}const ed=void 0;var dA=["en",[["a","p"],["AM","PM"],ed],[["AM","PM"],ed,ed],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ed,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ed,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ed,"{1} 'at' {0}",ed],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function uA(o){const c=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===u?1:5}];let Sh={};function vg(o){const s=function xh(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=bg(s);if(c)return c;const u=s.split("-")[0];if(c=bg(u),c)return c;if("en"===u)return dA;throw new Ie(701,!1)}function hA(o){return vg(o)[Ot.PluralCase]}function bg(o){return o in Sh||(Sh[o]=En.ng&&En.ng.common&&En.ng.common.locales&&En.ng.common.locales[o]),Sh[o]}var Ot=(()=>((Ot=Ot||{})[Ot.LocaleId=0]="LocaleId",Ot[Ot.DayPeriodsFormat=1]="DayPeriodsFormat",Ot[Ot.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ot[Ot.DaysFormat=3]="DaysFormat",Ot[Ot.DaysStandalone=4]="DaysStandalone",Ot[Ot.MonthsFormat=5]="MonthsFormat",Ot[Ot.MonthsStandalone=6]="MonthsStandalone",Ot[Ot.Eras=7]="Eras",Ot[Ot.FirstDayOfWeek=8]="FirstDayOfWeek",Ot[Ot.WeekendRange=9]="WeekendRange",Ot[Ot.DateFormat=10]="DateFormat",Ot[Ot.TimeFormat=11]="TimeFormat",Ot[Ot.DateTimeFormat=12]="DateTimeFormat",Ot[Ot.NumberSymbols=13]="NumberSymbols",Ot[Ot.NumberFormats=14]="NumberFormats",Ot[Ot.CurrencyCode=15]="CurrencyCode",Ot[Ot.CurrencySymbol=16]="CurrencySymbol",Ot[Ot.CurrencyName=17]="CurrencyName",Ot[Ot.Currencies=18]="Currencies",Ot[Ot.Directionality=19]="Directionality",Ot[Ot.PluralCase=20]="PluralCase",Ot[Ot.ExtraData=21]="ExtraData",Ot))();const Mh="en-US";let IE=Mh;function kv(o,s,c,u,h){if(o=se(o),Array.isArray(o))for(let m=0;m<o.length;m++)kv(o[m],s,c,u,h);else{const m=$t(),_=be();let I=Fl(o)?o:se(o.provide),S=Nm(o);const M=lr(),L=1048575&M.providerIndexes,z=M.directiveStart,re=M.providerIndexes>>20;if(Fl(o)||!o.multi){const le=new Mi(S,h,fh),Me=Mg(I,s,h?L:L+re,z);-1===Me?(Ts(mu(M,_),m,I),Oh(m,o,s.length),s.push(I),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),c.push(le),_.push(le)):(c[Me]=le,_[Me]=le)}else{const le=Mg(I,s,L+re,z),Me=Mg(I,s,L,L+re),it=Me>=0&&c[Me];if(h&&!it||!h&&!(le>=0&&c[le])){Ts(mu(M,_),m,I);const Ct=function OA(o,s,c,u,h){const m=new Mi(o,c,fh);return m.multi=[],m.index=s,m.componentProviders=0,Ov(m,h,u&&!c),m}(h?kA:Nv,c.length,h,u,S);!h&&it&&(c[Me].providerFactory=Ct),Oh(m,o,s.length,0),s.push(I),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),c.push(Ct),_.push(Ct)}else Oh(m,o,le>-1?le:Me,Ov(c[h?Me:le],S,!h&&u));!h&&u&&it&&c[Me].componentProviders++}}}function Oh(o,s,c,u){const h=Fl(s),m=function QD(o){return!!o.useClass}(s);if(h||m){const S=(m?se(s.useClass):s).prototype.ngOnDestroy;if(S){const M=o.destroyHooks||(o.destroyHooks=[]);if(!h&&s.multi){const L=M.indexOf(c);-1===L?M.push(c,[u,S]):M[L+1].push(u,S)}else M.push(c,S)}}}function Ov(o,s,c){return c&&o.componentProviders++,o.multi.push(s)-1}function Mg(o,s,c,u){for(let h=c;h<u;h++)if(s[h]===o)return h;return-1}function Nv(o,s,c,u){return Fv(this.multi,[])}function kA(o,s,c,u){const h=this.multi;let m;if(this.providerFactory){const _=this.providerFactory.componentProviders,I=ur(c,c[ot],this.providerFactory.index,u);m=I.slice(0,_),Fv(h,m);for(let S=_;S<I.length;S++)m.push(I[S])}else m=[],Fv(h,m);return m}function Fv(o,s){for(let c=0;c<o.length;c++)s.push((0,o[c])());return s}function Lv(o,s=[]){return c=>{c.providersResolver=(u,h)=>function PA(o,s,c){const u=$t();if(u.firstCreatePass){const h=ai(o);kv(c,u.data,u.blueprint,h,!0),kv(s,u.data,u.blueprint,h,!1)}}(u,h?h(o):o,s)}}class nd{}class Vv{}function qE(o,s){return new FA(o,s??null)}class FA extends nd{constructor(s,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ew(this);const u=Dr(s);this._bootstrapComponents=Fc(u.bootstrap),this._r3Injector=uh(s,c,[{provide:nd,useValue:this},{provide:Bf,useValue:this.componentFactoryResolver}],Ee(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Bv extends Vv{constructor(s){super(),this.moduleType=s}create(s){return new FA(this.moduleType,s)}}class xR extends nd{constructor(s,c,u){super(),this.componentFactoryResolver=new Ew(this),this.instance=null;const h=new Om([...s,{provide:nd,useValue:this},{provide:Bf,useValue:this.componentFactoryResolver}],c||km(),u,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function KE(o,s,c=null){return new xR(o,s,c).injector}let Uv=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const u=KD(0,c.type),h=u.length>0?KE([u],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,h)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=Et({token:o,providedIn:"environment",factory:()=>new o(zt(Ll))}),o})();function LA(o){o.getStandaloneInjector=s=>s.get(Uv).getOrCreateStandaloneInjector(o)}function oI(o){return s=>{setTimeout(o,void 0,s)}}const Gc=class zA extends d.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,c,u){let h=s,m=c||(()=>null),_=u;if(s&&"object"==typeof s){const S=s;h=S.next?.bind(S),m=S.error?.bind(S),_=S.complete?.bind(S)}this.__isAsync&&(m=oI(m),h&&(h=oI(h)),_&&(_=oI(_)));const I=super.subscribe({next:h,error:m,complete:_});return s instanceof K.w0&&s.add(I),I}};function GR(){return this._results[Symbol.iterator]()}class Gv{get changes(){return this._changes||(this._changes=new Gc)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Gv.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=GR)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,c){return this._results.reduce(s,c)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,c){const u=this;u.dirty=!1;const h=function ji(o){return o.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Eu(o,s,c){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++){let h=o[u],m=s[u];if(c&&(h=c(h),m=c(m)),m!==h)return!1}return!0}(u._results,h,c))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Og=(()=>{class o{}return o.__NG_ELEMENT_ID__=KR,o})();const WR=Og,qR=class extends WR{constructor(s,c,u){super(),this._declarationLView=s,this._declarationTContainer=c,this.elementRef=u}createEmbeddedView(s,c){const u=this._declarationTContainer.tView,h=$l(this._declarationLView,u,s,16,null,u.declTNode,null,null,null,null,c||null);h[Ko]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[qr];return null!==_&&(h[qr]=_.createEmbeddedView(u)),Wu(u,h,s),new Xf(h)}};function KR(){return Wv(lr(),be())}function Wv(o,s){return 4&o.type?new qR(s,o,Hu(o,s)):null}let qv=(()=>{class o{}return o.__NG_ELEMENT_ID__=ZR,o})();function ZR(){return qA(lr(),be())}const YR=qv,GA=class extends YR{constructor(s,c,u){super(),this._lContainer=s,this._hostTNode=c,this._hostLView=u}get element(){return Hu(this._hostTNode,this._hostLView)}get injector(){return new La(this._hostTNode,this._hostLView)}get parentInjector(){const s=wr(this._hostTNode,this._hostLView);if(Js(s)){const c=bc(s,this._hostLView),u=Na(s);return new La(c[ot].data[u+8],c)}return new La(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const c=WA(this._lContainer);return null!==c&&c[s]||null}get length(){return this._lContainer.length-Nr}createEmbeddedView(s,c,u){let h,m;"number"==typeof u?h=u:null!=u&&(h=u.index,m=u.injector);const _=s.createEmbeddedView(c||{},m);return this.insert(_,h),_}createComponent(s,c,u,h,m){const _=s&&!function Il(o){return"function"==typeof o}(s);let I;if(_)I=c;else{const z=c||{};I=z.index,u=z.injector,h=z.projectableNodes,m=z.environmentInjector||z.ngModuleRef}const S=_?s:new ep(At(s)),M=u||this.parentInjector;if(!m&&null==S.ngModule){const re=(_?M:this.parentInjector).get(Ll,null);re&&(m=re)}const L=S.create(M,h,void 0,m);return this.insert(L.hostView,I),L}insert(s,c){const u=s._lView,h=u[ot];if(function il(o){return Ui(o[Hn])}(u)){const L=this.indexOf(s);if(-1!==L)this.detach(L);else{const z=u[Hn],re=new GA(z,z[Ar],z[Hn]);re.detach(re.indexOf(s))}}const m=this._adjustIndex(c),_=this._lContainer;!function p(o,s,c,u){const h=Nr+u,m=c.length;u>0&&(c[h-1][An]=s),u<m-Nr?(s[An]=c[h],Iu(c,Nr+u,s)):(c.push(s),s[An]=null),s[Hn]=c;const _=s[Ko];null!==_&&c!==_&&function g(o,s){const c=o[Yo];s[vr]!==s[Hn][Hn][vr]&&(o[$s]=!0),null===c?o[Yo]=[s]:c.push(s)}(_,s);const I=s[qr];null!==I&&I.insertView(o),s[rn]|=64}(h,u,_,m);const I=eh(m,_),S=u[Yt],M=kc(S,_[ms]);return null!==M&&function Qy(o,s,c,u,h,m){u[Tr]=h,u[Ar]=s,Uu(o,u,c,1,h,m)}(h,_[Ar],S,u,M,I),s.attachToViewContainerRef(),Iu(sI(_),m,s),s}move(s,c){return this.insert(s,c)}indexOf(s){const c=WA(this._lContainer);return null!==c?c.indexOf(s):-1}remove(s){const c=this._adjustIndex(s,-1),u=P(this._lContainer,c);u&&(Cc(sI(this._lContainer),c),V(u[ot],u))}detach(s){const c=this._adjustIndex(s,-1),u=P(this._lContainer,c);return u&&null!=Cc(sI(this._lContainer),c)?new Xf(u):null}_adjustIndex(s,c=0){return s??this.length+c}};function WA(o){return o[Mo]}function sI(o){return o[Mo]||(o[Mo]=[])}function qA(o,s){let c;const u=s[o.index];if(Ui(u))c=u;else{let h;if(8&o.type)h=pr(u);else{const m=s[Yt];h=m.createComment("");const _=Jn(o,s);cn(m,kc(m,_),h,function Pf(o,s){return o.nextSibling(s)}(m,_),!1)}s[o.index]=c=vw(u,s,h,o),Jm(s,c)}return new GA(c,o,s)}class aI{constructor(s){this.queryList=s,this.matches=null}clone(){return new aI(this.queryList)}setDirty(){this.queryList.setDirty()}}class cI{constructor(s=[]){this.queries=s}createEmbeddedView(s){const c=s.queries;if(null!==c){const u=null!==s.contentQueries?s.contentQueries[0]:c.length,h=[];for(let m=0;m<u;m++){const _=c.getByIndex(m);h.push(this.queries[_.indexInDeclarationView].clone())}return new cI(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let c=0;c<this.queries.length;c++)null!==nS(s,c).matches&&this.queries[c].setDirty()}}class KA{constructor(s,c,u=null){this.predicate=s,this.flags=c,this.read=u}}class lI{constructor(s=[]){this.queries=s}elementStart(s,c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,c)}elementEnd(s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(s)}embeddedTView(s){let c=null;for(let u=0;u<this.length;u++){const h=null!==c?c.length:0,m=this.getByIndex(u).embeddedTView(s,h);m&&(m.indexInDeclarationView=u,null!==c?c.push(m):c=[m])}return null!==c?new lI(c):null}template(s,c){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,c)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class uI{constructor(s,c=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(s,c){this.isApplyingToNode(c)&&this.matchTNode(s,c)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,c){this.elementStart(s,c)}embeddedTView(s,c){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,c),new uI(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==c;)u=u.parent;return c===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,c){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const m=u[h];this.matchTNodeWithReadOption(s,c,QR(c,m)),this.matchTNodeWithReadOption(s,c,Fa(c,s,m,!1,!1))}else u===Og?4&c.type&&this.matchTNodeWithReadOption(s,c,-1):this.matchTNodeWithReadOption(s,c,Fa(c,s,u,!1,!1))}matchTNodeWithReadOption(s,c,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===Uf||h===qv||h===Og&&4&c.type)this.addMatch(c.index,-2);else{const m=Fa(c,s,h,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,u)}}addMatch(s,c){null===this.matches?this.matches=[s,c]:this.matches.push(s,c)}}function QR(o,s){const c=o.localNames;if(null!==c)for(let u=0;u<c.length;u+=2)if(c[u]===s)return c[u+1];return null}function ZA(o,s,c,u){return-1===c?function JR(o,s){return 11&o.type?Hu(o,s):4&o.type?Wv(o,s):null}(s,o):-2===c?function XR(o,s,c){return c===Uf?Hu(s,o):c===Og?Wv(s,o):c===qv?qA(s,o):void 0}(o,s,u):ur(o,o[ot],c,s)}function YA(o,s,c,u){const h=s[qr].queries[u];if(null===h.matches){const m=o.data,_=c.matches,I=[];for(let S=0;S<_.length;S+=2){const M=_[S];I.push(M<0?null:ZA(s,m[M],_[S+1],c.metadata.read))}h.matches=I}return h.matches}function dI(o,s,c,u){const h=o.queries.getByIndex(c),m=h.matches;if(null!==m){const _=YA(o,s,h,c);for(let I=0;I<m.length;I+=2){const S=m[I];if(S>0)u.push(_[I/2]);else{const M=m[I+1],L=s[-S];for(let z=Nr;z<L.length;z++){const re=L[z];re[Ko]===re[Hn]&&dI(re[ot],re,M,u)}if(null!==L[Yo]){const z=L[Yo];for(let re=0;re<z.length;re++){const le=z[re];dI(le[ot],le,M,u)}}}}}return u}function QA(o){const s=be(),c=$t(),u=Ks();fl(u+1);const h=nS(c,u);if(o.dirty&&function ws(o){return 4==(4&o[rn])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const m=h.crossesNgTemplate?dI(c,s,u,[]):YA(c,s,h,u);o.reset(m,iR),o.notifyOnChanges()}return!0}return!1}function JA(o,s,c){const u=$t();u.firstCreatePass&&(tS(u,new KA(o,s,c),-1),2==(2&s)&&(u.staticViewQueries=!0)),eS(u,be(),s)}function XA(o,s,c,u){const h=$t();if(h.firstCreatePass){const m=lr();tS(h,new KA(s,c,u),m.index),function tP(o,s){const c=o.contentQueries||(o.contentQueries=[]);s!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,s)}(h,o),2==(2&c)&&(h.staticContentQueries=!0)}eS(h,be(),c)}function hI(){return function eP(o,s){return o[qr].queries[s].queryList}(be(),Ks())}function eS(o,s,c){const u=new Gv(4==(4&c));F_(o,s,u,u.destroy),null===s[qr]&&(s[qr]=new cI),s[qr].queries.push(new aI(u))}function tS(o,s,c){null===o.queries&&(o.queries=new lI),o.queries.track(new uI(s,c))}function nS(o,s){return o.queries.getByIndex(s)}function rS(o,s){return Wv(o,s)}function fI(o){return!!Dr(o)}function sd(...o){}const jg=new In("Application Initializer");let $g=(()=>{class o{constructor(c){this.appInits=c,this.resolve=sd,this.reject=sd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(lp(m))c.push(m);else if(Ju(m)){const _=new Promise((I,S)=>{m.subscribe({complete:I,error:S})});c.push(_)}}Promise.all(c).then(()=>{u()}).catch(h=>{this.reject(h)}),0===c.length&&u(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(zt(jg,8))},o.\u0275prov=Et({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const II=new In("AppId",{providedIn:"root",factory:function ad(){return`${Sp()}${Sp()}${Sp()}`}});function Sp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const rb=new In("Platform Initializer"),yS=new In("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ib=new In("AnimationModuleType");let ob=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Et({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Nh=new In("LocaleId",{providedIn:"root",factory:()=>Kn(Nh,_t.Optional|_t.SkipSelf)||function sb(){return typeof $localize<"u"&&$localize.locale||Mh}()}),ab=new In("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class bS{constructor(s,c){this.ngModuleFactory=s,this.componentFactories=c}}let xp=(()=>{class o{compileModuleSync(c){return new Bv(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const u=this.compileModuleSync(c),m=Fc(Dr(c).declarations).reduce((_,I)=>{const S=At(I);return S&&_.push(new ep(S)),_},[]);return new bS(u,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Et({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const DI=(()=>Promise.resolve(0))();function Fh(o){typeof Zone>"u"?DI.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class $o{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gc(!1),this.onMicrotaskEmpty=new Gc(!1),this.onStable=new Gc(!1),this.onError=new Gc(!1),typeof Zone>"u")throw new Ie(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&c,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function cb(){let o=En.requestAnimationFrame,s=En.cancelAnimationFrame;if(typeof Zone<"u"&&o&&s){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function IS(o){const s=()=>{!function AI(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(En,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,qg(o),o.isCheckStableRunning=!0,Wg(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),qg(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,u,h,m,_,I)=>{try{return ub(o),c.invokeTask(h,m,_,I)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&s(),Kg(o)}},onInvoke:(c,u,h,m,_,I,S)=>{try{return ub(o),c.invoke(h,m,_,I,S)}finally{o.shouldCoalesceRunChangeDetection&&s(),Kg(o)}},onHasTask:(c,u,h,m)=>{c.hasTask(h,m),u===h&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,qg(o),Wg(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,u,h,m)=>(c.handleError(h,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$o.isInAngularZone())throw new Ie(909,!1)}static assertNotInAngularZone(){if($o.isInAngularZone())throw new Ie(909,!1)}run(s,c,u){return this._inner.run(s,c,u)}runTask(s,c,u,h){const m=this._inner,_=m.scheduleEventTask("NgZoneEvent: "+h,s,lb,sd,sd);try{return m.runTask(_,c,u)}finally{m.cancelTask(_)}}runGuarded(s,c,u){return this._inner.runGuarded(s,c,u)}runOutsideAngular(s){return this._outer.run(s)}}const lb={};function Wg(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function qg(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function ub(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Kg(o){o._nesting--,Wg(o)}class SI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gc,this.onMicrotaskEmpty=new Gc,this.onStable=new Gc,this.onError=new Gc}run(s,c,u){return s.apply(c,u)}runGuarded(s,c,u){return s.apply(c,u)}runOutsideAngular(s){return s()}runTask(s,c,u,h){return s.apply(c,u)}}const xI=new In(""),Zg=new In("");let vi,db=(()=>{class o{constructor(c,u,h){this._ngZone=c,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vi||(function Vi(o){vi=o}(h),h.addToWindow(u)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$o.assertNotInAngularZone(),Fh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Fh(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(c)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,u,h){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==m),c(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:h})}whenStable(c,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,u,h){return[]}}return o.\u0275fac=function(c){return new(c||o)(zt($o),zt(Yg),zt(Zg))},o.\u0275prov=Et({token:o,factory:o.\u0275fac}),o})(),Yg=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,u){this._applications.set(c,u)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,u=!0){return vi?.findTestabilityInTree(this,c,u)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Et({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Fs=!1;let Qa=null;const MI=new In("AllowMultipleToken"),hb=new In("PlatformDestroyListeners"),RI=new In("appBootstrapListener");class DS{constructor(s,c){this.name=s,this.token=c}}function kI(o,s,c=[]){const u=`Platform: ${s}`,h=new In(u);return(m=[])=>{let _=ey();if(!_||_.injector.get(MI,!1)){const I=[...c,...m,{provide:h,useValue:!0}];o?o(I):function Mp(o){if(Qa&&!Qa.get(MI,!1))throw new Ie(400,!1);Qa=o;const s=o.get(NI);(function Qg(o){const s=o.get(rb,null);s&&s.forEach(c=>c())})(o)}(function Xg(o=[],s){return Wa.create({name:s,providers:[{provide:z0,useValue:"platform"},{provide:hb,useValue:new Set([()=>Qa=null])},...o]})}(I,u))}return function Jg(o){const s=ey();if(!s)throw new Ie(401,!1);return s}()}}function ey(){return Qa?.get(NI)??null}let NI=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,u){const h=function fb(o,s){let c;return c="noop"===o?new SI:("zone.js"===o?void 0:o)||new $o(s),c}(u?.ngZone,function Lh(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(u)),m=[{provide:$o,useValue:h}];return h.run(()=>{const _=Wa.create({providers:m,parent:this.injector,name:c.moduleType.name}),I=c.create(_),S=I.injector.get(jf,null);if(!S)throw new Ie(402,!1);return h.runOutsideAngular(()=>{const M=h.onError.subscribe({next:L=>{S.handleError(L)}});I.onDestroy(()=>{ty(this._modules,I),M.unsubscribe()})}),function pb(o,s,c){try{const u=c();return lp(u)?u.catch(h=>{throw s.runOutsideAngular(()=>o.handleError(h)),h}):u}catch(u){throw s.runOutsideAngular(()=>o.handleError(u)),u}}(S,h,()=>{const M=I.injector.get($g);return M.runInitializers(),M.donePromise.then(()=>(function fA(o){He(o,"Expected localeId to be defined"),"string"==typeof o&&(IE=o.toLowerCase().replace(/_/g,"-"))}(I.injector.get(Nh,Mh)||Mh),this._moduleDoBootstrap(I),I))})})}bootstrapModule(c,u=[]){const h=mb({},u);return function PI(o,s,c){const u=new Bv(c);return Promise.resolve(u)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(c){const u=c.injector.get(cd);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new Ie(-403,!1);c.instance.ngDoBootstrap(u)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ie(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const c=this._injector.get(hb,null);c&&(c.forEach(u=>u()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(zt(Wa))},o.\u0275prov=Et({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function mb(o,s){return Array.isArray(s)?s.reduce(mb,o):{...o,...s}}let cd=(()=>{class o{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(c,u,h){this._zone=c,this._injector=u,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new N.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),_=new N.y(I=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{$o.assertNotInAngularZone(),Fh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{$o.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{S.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ae.T)(m,_.pipe((0,fe.B)()))}bootstrap(c,u){const h=c instanceof b_;if(!this._injector.get($g).done){!h&&kr(c);throw new Ie(405,Fs)}let _;_=h?c:this._injector.get(Bf).resolveComponentFactory(c),this.componentTypes.push(_.componentType);const I=function CS(o){return o.isBoundToModule}(_)?void 0:this._injector.get(nd),M=_.create(Wa.NULL,[],u||_.selector,I),L=M.location.nativeElement,z=M.injector.get(xI,null);return z?.registerApplication(L),M.onDestroy(()=>{this.detachView(M.hostView),ty(this.components,M),z?.unregisterApplication(L)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new Ie(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const u=c;this._views.push(u),u.attachToAppRef(this)}detachView(c){const u=c;ty(this._views,u),u.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const u=this._injector.get(RI,[]);u.push(...this._bootstrapListeners),u.forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>ty(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Ie(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)(zt($o),zt(Ll),zt(jf))},o.\u0275prov=Et({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function ty(o,s){const c=o.indexOf(s);c>-1&&o.splice(c,1)}function AS(){return!1}let LI=(()=>{class o{}return o.__NG_ELEMENT_ID__=kp,o})();function kp(o){return function VI(o,s,c){if(Ia(o)&&!c){const u=br(o.index,s);return new Xf(u,u)}return 47&o.type?new Xf(s[vr],s):null}(lr(),be(),16==(16&o))}class $I{constructor(){}supports(s){return sg(s)}create(s){return new HI(s)}}const Lp=(o,s)=>s;class HI{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Lp}forEachItem(s){let c;for(c=this._itHead;null!==c;c=c._next)s(c)}forEachOperation(s){let c=this._itHead,u=this._removalsHead,h=0,m=null;for(;c||u;){const _=!u||c&&c.currentIndex<sy(u,h,m)?c:u,I=sy(_,h,m),S=_.currentIndex;if(_===u)h--,u=u._nextRemoved;else if(c=c._next,null==_.previousIndex)h++;else{m||(m=[]);const M=I-h,L=S-h;if(M!=L){for(let re=0;re<M;re++){const le=re<m.length?m[re]:m[re]=0,Me=le+re;L<=Me&&Me<M&&(m[re]=le+1)}m[_.previousIndex]=L-M}}I!==S&&s(_,I,S)}}forEachPreviousItem(s){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)s(c)}forEachAddedItem(s){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)s(c)}forEachMovedItem(s){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)s(c)}forEachRemovedItem(s){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)s(c)}forEachIdentityChange(s){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)s(c)}diff(s){if(null==s&&(s=[]),!sg(s))throw new Ie(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,m,_,c=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let I=0;I<this.length;I++)m=s[I],_=this._trackByFn(I,m),null!==c&&Object.is(c.trackById,_)?(u&&(c=this._verifyReinsertion(c,m,_,I)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,_,I),u=!0),c=c._next}else h=0,function xw(o,s){if(Array.isArray(o))for(let c=0;c<o.length;c++)s(o[c]);else{const c=o[Symbol.iterator]();let u;for(;!(u=c.next()).done;)s(u.value)}}(s,I=>{_=this._trackByFn(h,I),null!==c&&Object.is(c.trackById,_)?(u&&(c=this._verifyReinsertion(c,I,_,h)),Object.is(c.item,I)||this._addIdentityChange(c,I)):(c=this._mismatch(c,I,_,h),u=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,c,u,h){let m;return null===s?m=this._itTail:(m=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,c)||this._addIdentityChange(s,c),this._reinsertAfter(s,m,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(s.item,c)||this._addIdentityChange(s,c),this._moveAfter(s,m,h)):s=this._addAfter(new oy(c,u),m,h),s}_verifyReinsertion(s,c,u,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?s=this._reinsertAfter(m,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const c=s._next;this._addToRemovals(this._unlink(s)),s=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,c,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,m=s._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(s,c,u),this._addToMoves(s,u),s}_moveAfter(s,c,u){return this._unlink(s),this._insertAfter(s,c,u),this._addToMoves(s,u),s}_addAfter(s,c,u){return this._insertAfter(s,c,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,c,u){const h=null===c?this._itHead:c._next;return s._next=h,s._prev=c,null===h?this._itTail=s:h._prev=s,null===c?this._itHead=s:c._next=s,null===this._linkedRecords&&(this._linkedRecords=new Ql),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const c=s._prev,u=s._next;return null===c?this._itHead=u:c._next=u,null===u?this._itTail=c:u._prev=c,s}_addToMoves(s,c){return s.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ql),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,c){return s.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class oy{constructor(s,c){this.item=s,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Vp{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,c){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===c||c<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const c=s._prevDup,u=s._nextDup;return null===c?this._head=u:c._nextDup=u,null===u?this._tail=c:u._prevDup=c,null===this._head}}class Ql{constructor(){this.map=new Map}put(s){const c=s.trackById;let u=this.map.get(c);u||(u=new Vp,this.map.set(c,u)),u.add(s)}get(s,c){const h=this.map.get(s);return h?h.get(s,c):null}remove(s){const c=s.trackById;return this.map.get(c).remove(s)&&this.map.delete(c),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sy(o,s,c){const u=o.previousIndex;if(null===u)return u;let h=0;return c&&u<c.length&&(h=c[u]),u+s+h}class zI{constructor(){}supports(s){return s instanceof Map||ag(s)}create(){return new OS}}class OS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let c;for(c=this._mapHead;null!==c;c=c._next)s(c)}forEachPreviousItem(s){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)s(c)}forEachChangedItem(s){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)s(c)}forEachAddedItem(s){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)s(c)}forEachRemovedItem(s){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)s(c)}diff(s){if(s){if(!(s instanceof Map||ag(s)))throw new Ie(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,u),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(h,u);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let u=c;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,c){if(s){const u=s._prev;return c._next=s,c._prev=u,s._prev=c,u&&(u._next=c),s===this._mapHead&&(this._mapHead=c),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(s,c){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,c);const m=h._prev,_=h._next;return m&&(m._next=_),_&&(_._prev=m),h._next=null,h._prev=null,h}const u=new GI(s);return this._records.set(s,u),u.currentValue=c,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,c){Object.is(c,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=c,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,c){s instanceof Map?s.forEach(c):Object.keys(s).forEach(u=>c(s[u],u))}}class GI{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vb(){return new bb([new $I])}let bb=(()=>{class o{constructor(c){this.factories=c}static create(c,u){if(null!=u){const h=u.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:u=>o.create(c,u||vb()),deps:[[o,new Ua,new mi]]}}find(c){const u=this.factories.find(h=>h.supports(c));if(null!=u)return u;throw new Ie(901,!1)}}return o.\u0275prov=Et({token:o,providedIn:"root",factory:vb}),o})();function Ja(){return new $h([new zI])}let $h=(()=>{class o{constructor(c){this.factories=c}static create(c,u){if(u){const h=u.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:u=>o.create(c,u||Ja()),deps:[[o,new Ua,new mi]]}}find(c){const u=this.factories.find(h=>h.supports(c));if(u)return u;throw new Ie(901,!1)}}return o.\u0275prov=Et({token:o,providedIn:"root",factory:Ja}),o})();const Bp=kI(null,"core",[]);let Up=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(zt(cd))},o.\u0275mod=ce({type:o}),o.\u0275inj=Jt({}),o})();function NS(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(St,Oe,U)=>{"use strict";U.d(Oe,{Z:()=>et});var d=U(2090),K=U(4859),N=U(6881),ae=U(1877);class fe{constructor(Ie,Fe){this._delegate=Ie,this.firebase=Fe,(0,N._addComponent)(Ie,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=Ie.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this._delegate.automaticDataCollectionEnabled=Ie}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ie=>{this._delegate.checkDestroyed(),Ie()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(Ie,Fe=N._DEFAULT_ENTRY_NAME){var je;this._delegate.checkDestroyed();const Ve=this._delegate.container.getProvider(Ie);return!Ve.isInitialized()&&"EXPLICIT"===(null===(je=Ve.getComponent())||void 0===je?void 0:je.instantiationMode)&&Ve.initialize(),Ve.getImmediate({identifier:Fe})}_removeServiceInstance(Ie,Fe=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ie).clearInstance(Fe)}_addComponent(Ie){(0,N._addComponent)(this._delegate,Ie)}_addOrOverwriteComponent(Ie){(0,N._addOrOverwriteComponent)(this._delegate,Ie)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Se=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),X=function Te(){const ct=function Ee(ct){const Ie={},Fe={__esModule:!0,initializeApp:function ke(ze,de={}){const nt=N.initializeApp(ze,de);if((0,d.r3)(Ie,nt.name))return Ie[nt.name];const Pt=new ct(nt,Fe);return Ie[nt.name]=Pt,Pt},app:Ve,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function we(ze){const de=ze.name,nt=de.replace("-compat","");if(N._registerComponent(ze)&&"PUBLIC"===ze.type){const Pt=(ht=Ve())=>{if("function"!=typeof ht[nt])throw Se.create("invalid-app-argument",{appName:de});return ht[nt]()};void 0!==ze.serviceProps&&(0,d.ZB)(Pt,ze.serviceProps),Fe[nt]=Pt,ct.prototype[nt]=function(...ht){return this._getService.bind(this,de).apply(this,ze.multipleInstances?ht:[])}}return"PUBLIC"===ze.type?Fe[nt]:null},removeApp:function je(ze){delete Ie[ze]},useAsService:function We(ze,de){return"serverAuth"===de?null:de},modularAPIs:N}};function Ve(ze){if(!(0,d.r3)(Ie,ze=ze||N._DEFAULT_ENTRY_NAME))throw Se.create("no-app",{appName:ze});return Ie[ze]}return Fe.default=Fe,Object.defineProperty(Fe,"apps",{get:function De(){return Object.keys(Ie).map(ze=>Ie[ze])}}),Ve.App=ct,Fe}(fe);return ct.INTERNAL=Object.assign(Object.assign({},ct.INTERNAL),{createFirebaseNamespace:Te,extendNamespace:function Ie(Fe){(0,d.ZB)(ct,Fe)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),ct}(),Y=new ae.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ct=self.firebase.SDK_VERSION;ct&&ct.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const et=X;!function Ne(ct){(0,N.registerVersion)("@firebase/app-compat","0.2.11",ct)}()},6881:(St,Oe,U)=>{"use strict";U.r(Oe),U.d(Oe,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Ii,_DEFAULT_ENTRY_NAME:()=>_r,_addComponent:()=>vt,_addOrOverwriteComponent:()=>Ut,_apps:()=>En,_clearComponents:()=>oi,_components:()=>en,_getProvider:()=>Ir,_registerComponent:()=>ir,_removeServiceInstance:()=>Yn,deleteApp:()=>or,getApp:()=>si,getApps:()=>zt,initializeApp:()=>ln,onLog:()=>ar,registerVersion:()=>sr,setLogLevel:()=>Xr});var d=U(5861),K=U(4859),N=U(1877),ae=U(2090);const fe=(ve,ce)=>ce.some(Ge=>ve instanceof Ge);let $,Se;const X=new WeakMap,Y=new WeakMap,se=new WeakMap,Ze=new WeakMap,Ne=new WeakMap;let Ie={get(ve,ce,Ge){if(ve instanceof IDBTransaction){if("done"===ce)return Y.get(ve);if("objectStoreNames"===ce)return ve.objectStoreNames||se.get(ve);if("store"===ce)return Ge.objectStoreNames[1]?void 0:Ge.objectStore(Ge.objectStoreNames[0])}return ke(ve[ce])},set:(ve,ce,Ge)=>(ve[ce]=Ge,!0),has:(ve,ce)=>ve instanceof IDBTransaction&&("done"===ce||"store"===ce)||ce in ve};function Ve(ve){return"function"==typeof ve?function je(ve){return ve!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Te(){return Se||(Se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ve)?function(...ce){return ve.apply(De(this),ce),ke(X.get(this))}:function(...ce){return ke(ve.apply(De(this),ce))}:function(ce,...Ge){const It=ve.call(De(this),ce,...Ge);return se.set(It,ce.sort?ce.sort():[ce]),ke(It)}}(ve):(ve instanceof IDBTransaction&&function ct(ve){if(Y.has(ve))return;const ce=new Promise((Ge,It)=>{const Bt=()=>{ve.removeEventListener("complete",an),ve.removeEventListener("error",At),ve.removeEventListener("abort",At)},an=()=>{Ge(),Bt()},At=()=>{It(ve.error||new DOMException("AbortError","AbortError")),Bt()};ve.addEventListener("complete",an),ve.addEventListener("error",At),ve.addEventListener("abort",At)});Y.set(ve,ce)}(ve),fe(ve,function Ee(){return $||($=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ve,Ie):ve)}function ke(ve){if(ve instanceof IDBRequest)return function et(ve){const ce=new Promise((Ge,It)=>{const Bt=()=>{ve.removeEventListener("success",an),ve.removeEventListener("error",At)},an=()=>{Ge(ke(ve.result)),Bt()},At=()=>{It(ve.error),Bt()};ve.addEventListener("success",an),ve.addEventListener("error",At)});return ce.then(Ge=>{Ge instanceof IDBCursor&&X.set(Ge,ve)}).catch(()=>{}),Ne.set(ce,ve),ce}(ve);if(Ze.has(ve))return Ze.get(ve);const ce=Ve(ve);return ce!==ve&&(Ze.set(ve,ce),Ne.set(ce,ve)),ce}const De=ve=>Ne.get(ve),ze=["get","getKey","getAll","getAllKeys","count"],de=["put","add","delete","clear"],nt=new Map;function Pt(ve,ce){if(!(ve instanceof IDBDatabase)||ce in ve||"string"!=typeof ce)return;if(nt.get(ce))return nt.get(ce);const Ge=ce.replace(/FromIndex$/,""),It=ce!==Ge,Bt=de.includes(Ge);if(!(Ge in(It?IDBIndex:IDBObjectStore).prototype)||!Bt&&!ze.includes(Ge))return;const an=function(){var At=(0,d.Z)(function*(Tn,...yn){const kr=this.transaction(Tn,Bt?"readwrite":"readonly");let Dr=kr.store;return It&&(Dr=Dr.index(yn.shift())),(yield Promise.all([Dr[Ge](...yn),Bt&&kr.done]))[0]});return function(yn){return At.apply(this,arguments)}}();return nt.set(ce,an),an}!function Fe(ve){Ie=ve(Ie)}(ve=>({...ve,get:(ce,Ge,It)=>Pt(ce,Ge)||ve.get(ce,Ge,It),has:(ce,Ge)=>!!Pt(ce,Ge)||ve.has(ce,Ge)}));class ht{constructor(ce){this.container=ce}getPlatformInfoString(){return this.container.getProviders().map(Ge=>{if(function qt(ve){return"VERSION"===ve.getComponent()?.type}(Ge)){const It=Ge.getImmediate();return`${It.library}/${It.version}`}return null}).filter(Ge=>Ge).join(" ")}}const rt="@firebase/app",pe=new N.Yd("@firebase/app"),_r="[DEFAULT]",Fn={[rt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},En=new Map,en=new Map;function vt(ve,ce){try{ve.container.addComponent(ce)}catch(Ge){pe.debug(`Component ${ce.name} failed to register with FirebaseApp ${ve.name}`,Ge)}}function Ut(ve,ce){ve.container.addOrOverwriteComponent(ce)}function ir(ve){const ce=ve.name;if(en.has(ce))return pe.debug(`There were multiple attempts to register component ${ce}.`),!1;en.set(ce,ve);for(const Ge of En.values())vt(Ge,ve);return!0}function Ir(ve,ce){const Ge=ve.container.getProvider("heartbeat").getImmediate({optional:!0});return Ge&&Ge.triggerHeartbeat(),ve.container.getProvider(ce)}function Yn(ve,ce,Ge=_r){Ir(ve,ce).clearInstance(Ge)}function oi(){en.clear()}const Cr=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class sn{constructor(ce,Ge,It){this._isDeleted=!1,this._options=Object.assign({},ce),this._config=Object.assign({},Ge),this._name=Ge.name,this._automaticDataCollectionEnabled=Ge.automaticDataCollectionEnabled,this._container=It,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ce){this._isDeleted=ce}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}}const Ii="9.22.1";function ln(ve,ce={}){let Ge=ve;"object"!=typeof ce&&(ce={name:ce});const It=Object.assign({name:_r,automaticDataCollectionEnabled:!1},ce),Bt=It.name;if("string"!=typeof Bt||!Bt)throw Cr.create("bad-app-name",{appName:String(Bt)});if(Ge||(Ge=(0,ae.aH)()),!Ge)throw Cr.create("no-options");const an=En.get(Bt);if(an){if((0,ae.vZ)(Ge,an.options)&&(0,ae.vZ)(It,an.config))return an;throw Cr.create("duplicate-app",{appName:Bt})}const At=new K.H0(Bt);for(const yn of en.values())At.addComponent(yn);const Tn=new sn(Ge,It,At);return En.set(Bt,Tn),Tn}function si(ve=_r){const ce=En.get(ve);if(!ce&&ve===_r&&(0,ae.aH)())return ln();if(!ce)throw Cr.create("no-app",{appName:ve});return ce}function zt(){return Array.from(En.values())}function or(ve){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,d.Z)(function*(ve){const ce=ve.name;En.has(ce)&&(En.delete(ce),yield Promise.all(ve.container.getProviders().map(Ge=>Ge.delete())),ve.isDeleted=!0)})).apply(this,arguments)}function sr(ve,ce,Ge){var It;let Bt=null!==(It=Fn[ve])&&void 0!==It?It:ve;Ge&&(Bt+=`-${Ge}`);const an=Bt.match(/\s|\//),At=ce.match(/\s|\//);if(an||At){const Tn=[`Unable to register library "${Bt}" with version "${ce}":`];return an&&Tn.push(`library name "${Bt}" contains illegal characters (whitespace or "/")`),an&&At&&Tn.push("and"),At&&Tn.push(`version name "${ce}" contains illegal characters (whitespace or "/")`),void pe.warn(Tn.join(" "))}ir(new K.wA(`${Bt}-version`,()=>({library:Bt,version:ce}),"VERSION"))}function ar(ve,ce){if(null!==ve&&"function"!=typeof ve)throw Cr.create("invalid-log-argument");(0,N.Am)(ve,ce)}function Xr(ve){(0,N.Ub)(ve)}const Wr="firebase-heartbeat-database",Pr=1,J="firebase-heartbeat-store";let q=null;function B(){return q||(q=function we(ve,ce,{blocked:Ge,upgrade:It,blocking:Bt,terminated:an}={}){const At=indexedDB.open(ve,ce),Tn=ke(At);return It&&At.addEventListener("upgradeneeded",yn=>{It(ke(At.result),yn.oldVersion,yn.newVersion,ke(At.transaction),yn)}),Ge&&At.addEventListener("blocked",yn=>Ge(yn.oldVersion,yn.newVersion,yn)),Tn.then(yn=>{an&&yn.addEventListener("close",()=>an()),Bt&&yn.addEventListener("versionchange",kr=>Bt(kr.oldVersion,kr.newVersion,kr))}).catch(()=>{}),Tn}(Wr,Pr,{upgrade:(ve,ce)=>{0===ce&&ve.createObjectStore(J)}}).catch(ve=>{throw Cr.create("idb-open",{originalErrorMessage:ve.message})})),q}function F(){return(F=(0,d.Z)(function*(ve){try{return yield(yield B()).transaction(J).objectStore(J).get(lt(ve))}catch(ce){if(ce instanceof ae.ZR)pe.warn(ce.message);else{const Ge=Cr.create("idb-get",{originalErrorMessage:ce?.message});pe.warn(Ge.message)}}})).apply(this,arguments)}function te(ve,ce){return xe.apply(this,arguments)}function xe(){return(xe=(0,d.Z)(function*(ve,ce){try{const It=(yield B()).transaction(J,"readwrite");yield It.objectStore(J).put(ce,lt(ve)),yield It.done}catch(Ge){if(Ge instanceof ae.ZR)pe.warn(Ge.message);else{const It=Cr.create("idb-set",{originalErrorMessage:Ge?.message});pe.warn(It.message)}}})).apply(this,arguments)}function lt(ve){return`${ve.name}!${ve.options.appId}`}class nn{constructor(ce){this.container=ce,this._heartbeatsCache=null;const Ge=this.container.getProvider("app").getImmediate();this._storage=new Zt(Ge),this._heartbeatsCachePromise=this._storage.read().then(It=>(this._heartbeatsCache=It,It))}triggerHeartbeat(){var ce=this;return(0,d.Z)(function*(){const It=ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Bt=Lt();if(null===ce._heartbeatsCache&&(ce._heartbeatsCache=yield ce._heartbeatsCachePromise),ce._heartbeatsCache.lastSentHeartbeatDate!==Bt&&!ce._heartbeatsCache.heartbeats.some(an=>an.date===Bt))return ce._heartbeatsCache.heartbeats.push({date:Bt,agent:It}),ce._heartbeatsCache.heartbeats=ce._heartbeatsCache.heartbeats.filter(an=>{const At=new Date(an.date).valueOf();return Date.now()-At<=2592e6}),ce._storage.overwrite(ce._heartbeatsCache)})()}getHeartbeatsHeader(){var ce=this;return(0,d.Z)(function*(){if(null===ce._heartbeatsCache&&(yield ce._heartbeatsCachePromise),null===ce._heartbeatsCache||0===ce._heartbeatsCache.heartbeats.length)return"";const Ge=Lt(),{heartbeatsToSend:It,unsentEntries:Bt}=function Sn(ve,ce=1024){const Ge=[];let It=ve.slice();for(const Bt of ve){const an=Ge.find(At=>At.agent===Bt.agent);if(an){if(an.dates.push(Bt.date),cr(Ge)>ce){an.dates.pop();break}}else if(Ge.push({agent:Bt.agent,dates:[Bt.date]}),cr(Ge)>ce){Ge.pop();break}It=It.slice(1)}return{heartbeatsToSend:Ge,unsentEntries:It}}(ce._heartbeatsCache.heartbeats),an=(0,ae.L)(JSON.stringify({version:2,heartbeats:It}));return ce._heartbeatsCache.lastSentHeartbeatDate=Ge,Bt.length>0?(ce._heartbeatsCache.heartbeats=Bt,yield ce._storage.overwrite(ce._heartbeatsCache)):(ce._heartbeatsCache.heartbeats=[],ce._storage.overwrite(ce._heartbeatsCache)),an})()}}function Lt(){return(new Date).toISOString().substring(0,10)}class Zt{constructor(ce){this.app=ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ce=this;return(0,d.Z)(function*(){return(yield ce._canUseIndexedDBPromise)&&(yield function j(ve){return F.apply(this,arguments)}(ce.app))||{heartbeats:[]}})()}overwrite(ce){var Ge=this;return(0,d.Z)(function*(){var It;if(yield Ge._canUseIndexedDBPromise){const an=yield Ge.read();return te(Ge.app,{lastSentHeartbeatDate:null!==(It=ce.lastSentHeartbeatDate)&&void 0!==It?It:an.lastSentHeartbeatDate,heartbeats:ce.heartbeats})}})()}add(ce){var Ge=this;return(0,d.Z)(function*(){var It;if(yield Ge._canUseIndexedDBPromise){const an=yield Ge.read();return te(Ge.app,{lastSentHeartbeatDate:null!==(It=ce.lastSentHeartbeatDate)&&void 0!==It?It:an.lastSentHeartbeatDate,heartbeats:[...an.heartbeats,...ce.heartbeats]})}})()}}function cr(ve){return(0,ae.L)(JSON.stringify({version:2,heartbeats:ve})).length}!function Qn(ve){ir(new K.wA("platform-logger",ce=>new ht(ce),"PRIVATE")),ir(new K.wA("heartbeat",ce=>new nn(ce),"PRIVATE")),sr(rt,"0.9.11",ve),sr(rt,"0.9.11","esm2017"),sr("fire-js","")}("")},4859:(St,Oe,U)=>{"use strict";U.d(Oe,{H0:()=>Ee,wA:()=>N});var d=U(5861),K=U(2090);class N{constructor(X,Y,se){this.name=X,this.instanceFactory=Y,this.type=se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(X){return this.instantiationMode=X,this}setMultipleInstances(X){return this.multipleInstances=X,this}setServiceProps(X){return this.serviceProps=X,this}setInstanceCreatedCallback(X){return this.onInstanceCreated=X,this}}const ae="[DEFAULT]";class fe{constructor(X,Y){this.name=X,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(X){const Y=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(Y)){const se=new K.BH;if(this.instancesDeferred.set(Y,se),this.isInitialized(Y)||this.shouldAutoInitialize())try{const Ze=this.getOrInitializeService({instanceIdentifier:Y});Ze&&se.resolve(Ze)}catch{}}return this.instancesDeferred.get(Y).promise}getImmediate(X){var Y;const se=this.normalizeInstanceIdentifier(X?.identifier),Ze=null!==(Y=X?.optional)&&void 0!==Y&&Y;if(!this.isInitialized(se)&&!this.shouldAutoInitialize()){if(Ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:se})}catch(Ne){if(Ze)return null;throw Ne}}getComponent(){return this.component}setComponent(X){if(X.name!==this.name)throw Error(`Mismatching Component ${X.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=X,this.shouldAutoInitialize()){if(function Se(Te){return"EAGER"===Te.instantiationMode}(X))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[Y,se]of this.instancesDeferred.entries()){const Ze=this.normalizeInstanceIdentifier(Y);try{const Ne=this.getOrInitializeService({instanceIdentifier:Ze});se.resolve(Ne)}catch{}}}}clearInstance(X=ae){this.instancesDeferred.delete(X),this.instancesOptions.delete(X),this.instances.delete(X)}delete(){var X=this;return(0,d.Z)(function*(){const Y=Array.from(X.instances.values());yield Promise.all([...Y.filter(se=>"INTERNAL"in se).map(se=>se.INTERNAL.delete()),...Y.filter(se=>"_delete"in se).map(se=>se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(X=ae){return this.instances.has(X)}getOptions(X=ae){return this.instancesOptions.get(X)||{}}initialize(X={}){const{options:Y={}}=X,se=this.normalizeInstanceIdentifier(X.instanceIdentifier);if(this.isInitialized(se))throw Error(`${this.name}(${se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ze=this.getOrInitializeService({instanceIdentifier:se,options:Y});for(const[Ne,et]of this.instancesDeferred.entries())se===this.normalizeInstanceIdentifier(Ne)&&et.resolve(Ze);return Ze}onInit(X,Y){var se;const Ze=this.normalizeInstanceIdentifier(Y),Ne=null!==(se=this.onInitCallbacks.get(Ze))&&void 0!==se?se:new Set;Ne.add(X),this.onInitCallbacks.set(Ze,Ne);const et=this.instances.get(Ze);return et&&X(et,Ze),()=>{Ne.delete(X)}}invokeOnInitCallbacks(X,Y){const se=this.onInitCallbacks.get(Y);if(se)for(const Ze of se)try{Ze(X,Y)}catch{}}getOrInitializeService({instanceIdentifier:X,options:Y={}}){let se=this.instances.get(X);if(!se&&this.component&&(se=this.component.instanceFactory(this.container,{instanceIdentifier:(Te=X,Te===ae?void 0:Te),options:Y}),this.instances.set(X,se),this.instancesOptions.set(X,Y),this.invokeOnInitCallbacks(se,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,se)}catch{}var Te;return se||null}normalizeInstanceIdentifier(X=ae){return this.component?this.component.multipleInstances?X:ae:X}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ee{constructor(X){this.name=X,this.providers=new Map}addComponent(X){const Y=this.getProvider(X.name);if(Y.isComponentSet())throw new Error(`Component ${X.name} has already been registered with ${this.name}`);Y.setComponent(X)}addOrOverwriteComponent(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)}getProvider(X){if(this.providers.has(X))return this.providers.get(X);const Y=new fe(X,this);return this.providers.set(X,Y),Y}getProviders(){return Array.from(this.providers.values())}}},1877:(St,Oe,U)=>{"use strict";U.d(Oe,{Am:()=>Te,Ub:()=>Ee,Yd:()=>Se,in:()=>K});const d=[];var K=(()=>{return(X=K||(K={}))[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",K;var X})();const N={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},ae=K.INFO,fe={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},$=(X,Y,...se)=>{if(Y<X.logLevel)return;const Ze=(new Date).toISOString(),Ne=fe[Y];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[Ne](`[${Ze}]  ${X.name}:`,...se)};class Se{constructor(Y){this.name=Y,this._logLevel=ae,this._logHandler=$,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in K))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?N[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...Y),this._logHandler(this,K.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...Y),this._logHandler(this,K.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,K.INFO,...Y),this._logHandler(this,K.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,K.WARN,...Y),this._logHandler(this,K.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...Y),this._logHandler(this,K.ERROR,...Y)}}function Ee(X){d.forEach(Y=>{Y.setLogLevel(X)})}function Te(X,Y){for(const se of d){let Ze=null;Y&&Y.level&&(Ze=N[Y.level]),se.userLogHandler=null===X?null:(Ne,et,...ct)=>{const Ie=ct.map(Fe=>{if(null==Fe)return null;if("string"==typeof Fe)return Fe;if("number"==typeof Fe||"boolean"==typeof Fe)return Fe.toString();if(Fe instanceof Error)return Fe.message;try{return JSON.stringify(Fe)}catch{return null}}).filter(Fe=>Fe).join(" ");et>=(Ze??Ne.logLevel)&&X({level:K[et].toLowerCase(),message:Ie,args:ct,type:Ne.name})}}}},259:(St,Oe,U)=>{"use strict";U.d(Oe,{C6:()=>d.getApps,KN:()=>d.registerVersion,Mq:()=>d.getApp,ZF:()=>d.initializeApp});var d=U(6881);(0,d.registerVersion)("firebase","9.22.1","app")},9260:(St,Oe,U)=>{"use strict";U.d(Oe,{Z:()=>d.Z});var d=U(3942);d.Z.registerVersion("firebase","9.22.1","app-compat")},9568:(St,Oe,U)=>{"use strict";U.r(Oe);var d=U(5861),K=U(3942),N=U(1389),ae=U(2090),Se=(U(6881),U(1877),U(4859));function Ee(){return window}const Te=2e3;function Y(){return Y=(0,d.Z)(function*(B,j,F){var te;const{BuildInfo:xe}=Ee();(0,N.as)(j.sessionId,"AuthEvent did not contain a session ID");const lt=yield function Fe(B){return je.apply(this,arguments)}(j.sessionId),Ft={};return(0,N.at)()?Ft.ibi=xe.packageName:(0,N.au)()?Ft.apn=xe.packageName:(0,N.av)(B,"operation-not-supported-in-this-environment"),xe.displayName&&(Ft.appDisplayName=xe.displayName),Ft.sessionId=lt,(0,N.aw)(B,F,j.type,void 0,null!==(te=j.eventId)&&void 0!==te?te:void 0,Ft)}),Y.apply(this,arguments)}function Ze(){return(Ze=(0,d.Z)(function*(B){const{BuildInfo:j}=Ee(),F={};(0,N.at)()?F.iosBundleId=j.packageName:(0,N.au)()?F.androidPackageName=j.packageName:(0,N.av)(B,"operation-not-supported-in-this-environment"),yield(0,N.ax)(B,F)})).apply(this,arguments)}function ct(){return(ct=(0,d.Z)(function*(B,j,F){const{cordova:te}=Ee();let xe=()=>{};try{yield new Promise((lt,Ft)=>{let kt=null;function nn(){var Zt;lt();const cr=null===(Zt=te.plugins.browsertab)||void 0===Zt?void 0:Zt.close;"function"==typeof cr&&cr(),"function"==typeof F?.close&&F.close()}function Lt(){kt||(kt=window.setTimeout(()=>{Ft((0,N.az)(B,"redirect-cancelled-by-user"))},Te))}function Sn(){"visible"===document?.visibilityState&&Lt()}j.addPassiveListener(nn),document.addEventListener("resume",Lt,!1),(0,N.au)()&&document.addEventListener("visibilitychange",Sn,!1),xe=()=>{j.removePassiveListener(nn),document.removeEventListener("resume",Lt,!1),document.removeEventListener("visibilitychange",Sn,!1),kt&&window.clearTimeout(kt)}})}finally{xe()}})).apply(this,arguments)}function je(){return(je=(0,d.Z)(function*(B){const j=function Ve(B){if((0,N.as)(/[0-9a-zA-Z]+/.test(B),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(B);const j=new ArrayBuffer(B.length),F=new Uint8Array(j);for(let te=0;te<B.length;te++)F[te]=B.charCodeAt(te);return F}(B),F=yield crypto.subtle.digest("SHA-256",j);return Array.from(new Uint8Array(F)).map(xe=>xe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const ke=20;class De extends N.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(j=>{this.resolveInialized=j})}addPassiveListener(j){this.passiveListeners.add(j)}removePassiveListener(j){this.passiveListeners.delete(j)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(j){return this.resolveInialized(),this.passiveListeners.forEach(F=>F(j)),super.onEvent(j)}initialized(){var j=this;return(0,d.Z)(function*(){yield j.initPromise})()}}function ze(B){return de.apply(this,arguments)}function de(){return(de=(0,d.Z)(function*(B){const j=yield ht()._get(qt(B));return j&&(yield ht()._remove(qt(B))),j})).apply(this,arguments)}function Pt(){const B=[],j="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let F=0;F<ke;F++){const te=Math.floor(Math.random()*j.length);B.push(j.charAt(te))}return B.join("")}function ht(){return(0,N.aC)(N.b)}function qt(B){return(0,N.aD)("authEvent",B.config.apiKey,B.name)}function pe(B){if(!B?.includes("?"))return{};const[j,...F]=B.split("?");return(0,ae.zd)(F.join("?"))}const Le=class Pe{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aE,this._overrideRedirectResult=N.aF}_initialize(j){var F=this;return(0,d.Z)(function*(){const te=j._key();let xe=F.eventManagers.get(te);return xe||(xe=new De(j),F.eventManagers.set(te,xe),F.attachCallbackListeners(j,xe)),xe})()}_openPopup(j){(0,N.av)(j,"operation-not-supported-in-this-environment")}_openRedirect(j,F,te,xe){var lt=this;return(0,d.Z)(function*(){!function Ie(B){var j,F,te,xe,lt,Ft,kt,nn,Lt,Sn;const Zt=Ee();(0,N.aA)("function"==typeof(null===(j=Zt?.universalLinks)||void 0===j?void 0:j.subscribe),B,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.aA)(typeof(null===(F=Zt?.BuildInfo)||void 0===F?void 0:F.packageName)<"u",B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.aA)("function"==typeof(null===(lt=null===(xe=null===(te=Zt?.cordova)||void 0===te?void 0:te.plugins)||void 0===xe?void 0:xe.browsertab)||void 0===lt?void 0:lt.openUrl),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aA)("function"==typeof(null===(nn=null===(kt=null===(Ft=Zt?.cordova)||void 0===Ft?void 0:Ft.plugins)||void 0===kt?void 0:kt.browsertab)||void 0===nn?void 0:nn.isAvailable),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aA)("function"==typeof(null===(Sn=null===(Lt=Zt?.cordova)||void 0===Lt?void 0:Lt.InAppBrowser)||void 0===Sn?void 0:Sn.open),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(j);const Ft=yield lt._initialize(j);yield Ft.initialized(),Ft.resetRedirect(),(0,N.aG)(),yield lt._originValidation(j);const kt=function we(B,j,F=null){return{type:j,eventId:F,urlResponse:null,sessionId:Pt(),postBody:null,tenantId:B.tenantId,error:(0,N.az)(B,"no-auth-event")}}(j,te,xe);yield function We(B,j){return ht()._set(qt(B),j)}(j,kt);const nn=yield function X(B,j,F){return Y.apply(this,arguments)}(j,kt,F),Lt=yield function Ne(B){const{cordova:j}=Ee();return new Promise(F=>{j.plugins.browsertab.isAvailable(te=>{let xe=null;te?j.plugins.browsertab.openUrl(B):xe=j.InAppBrowser.open(B,(0,N.ay)()?"_blank":"_system","location=yes"),F(xe)})})}(nn);return function et(B,j,F){return ct.apply(this,arguments)}(j,Ft,Lt)})()}_isIframeWebStorageSupported(j,F){throw new Error("Method not implemented.")}_originValidation(j){const F=j._key();return this.originValidationPromises[F]||(this.originValidationPromises[F]=function se(B){return Ze.apply(this,arguments)}(j)),this.originValidationPromises[F]}attachCallbackListeners(j,F){const{universalLinks:te,handleOpenURL:xe,BuildInfo:lt}=Ee(),Ft=setTimeout((0,d.Z)(function*(){yield ze(j),F.onEvent(Je())}),500),kt=function(){var Sn=(0,d.Z)(function*(Zt){clearTimeout(Ft);const cr=yield ze(j);let Qn=null;cr&&Zt?.url&&(Qn=function nt(B,j){var F,te;const xe=function ii(B){const j=pe(B),F=j.link?decodeURIComponent(j.link):void 0,te=pe(F).link,xe=j.deep_link_id?decodeURIComponent(j.deep_link_id):void 0;return pe(xe).link||xe||te||F||B}(j);if(xe.includes("/__/auth/callback")){const lt=pe(xe),Ft=lt.firebaseError?function rt(B){try{return JSON.parse(B)}catch{return null}}(decodeURIComponent(lt.firebaseError)):null,kt=null===(te=null===(F=Ft?.code)||void 0===F?void 0:F.split("auth/"))||void 0===te?void 0:te[1],nn=kt?(0,N.az)(kt):null;return nn?{type:B.type,eventId:B.eventId,tenantId:B.tenantId,error:nn,urlResponse:null,sessionId:null,postBody:null}:{type:B.type,eventId:B.eventId,tenantId:B.tenantId,sessionId:B.sessionId,urlResponse:xe,postBody:null}}return null}(cr,Zt.url)),F.onEvent(Qn||Je())});return function(cr){return Sn.apply(this,arguments)}}();typeof te<"u"&&"function"==typeof te.subscribe&&te.subscribe(null,kt);const nn=xe,Lt=`${lt.packageName.toLowerCase()}://`;Ee().handleOpenURL=function(){var Sn=(0,d.Z)(function*(Zt){if(Zt.toLowerCase().startsWith(Lt)&&kt({url:Zt}),"function"==typeof nn)try{nn(Zt)}catch(cr){console.error(cr)}});return function(Zt){return Sn.apply(this,arguments)}}()}};function Je(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.az)("no-auth-event")}}const Nn=1e3;function yt(){var B;return(null===(B=self?.location)||void 0===B?void 0:B.protocol)||null}function mn(B=(0,ae.z$)()){return!("file:"!==yt()&&"ionic:"!==yt()&&"capacitor:"!==yt()||!B.toLowerCase().match(/iphone|ipad|ipod|android/))}function Er(){try{const B=self.localStorage,j=N.aL();if(B)return B.setItem(j,"1"),B.removeItem(j),!function Dn(B=(0,ae.z$)()){return function vn(){return(0,ae.w1)()&&11===document?.documentMode}()||function zr(B=(0,ae.z$)()){return/Edge\/\d+/.test(B)}(B)}()||(0,ae.hl)()}catch{return rr()&&(0,ae.hl)()}return!1}function rr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Jr(){return(function Et(){return"http:"===yt()||"https:"===yt()}()||(0,ae.ru)()||mn())&&!function Jt(){return(0,ae.b$)()||(0,ae.UG)()}()&&Er()&&!rr()}function Kt(){return mn()&&typeof document<"u"}function xn(){return(xn=(0,d.Z)(function*(){return!!Kt()&&new Promise(B=>{const j=setTimeout(()=>{B(!1)},Nn);document.addEventListener("deviceready",()=>{clearTimeout(j),B(!0)})})})).apply(this,arguments)}const hn={LOCAL:"local",NONE:"none",SESSION:"session"},$n=N.aA,Zn="persistence";function Fn(B){return En.apply(this,arguments)}function En(){return(En=(0,d.Z)(function*(B){yield B._initializationPromise;const j=vt(),F=N.aD(Zn,B.config.apiKey,B.name);j&&j.setItem(F,B._getPersistence())})).apply(this,arguments)}function vt(){var B;try{return(null===(B=function _t(){return typeof window<"u"?window:null}())||void 0===B?void 0:B.sessionStorage)||null}catch{return null}}const Ut=N.aA;class ir{constructor(){this.browserResolver=N.aC(N.k),this.cordovaResolver=N.aC(Le),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aE,this._overrideRedirectResult=N.aF}_initialize(j){var F=this;return(0,d.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._initialize(j)})()}_openPopup(j,F,te,xe){var lt=this;return(0,d.Z)(function*(){return yield lt.selectUnderlyingResolver(),lt.assertedUnderlyingResolver._openPopup(j,F,te,xe)})()}_openRedirect(j,F,te,xe){var lt=this;return(0,d.Z)(function*(){return yield lt.selectUnderlyingResolver(),lt.assertedUnderlyingResolver._openRedirect(j,F,te,xe)})()}_isIframeWebStorageSupported(j,F){this.assertedUnderlyingResolver._isIframeWebStorageSupported(j,F)}_originValidation(j){return this.assertedUnderlyingResolver._originValidation(j)}get _shouldInitProactively(){return Kt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ut(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var j=this;return(0,d.Z)(function*(){if(j.underlyingResolver)return;const F=yield function Gr(){return xn.apply(this,arguments)}();j.underlyingResolver=F?j.cordovaResolver:j.browserResolver})()}}function Ir(B){return B.unwrap()}function oi(B){return Cr(B)}function Cr(B){const{_tokenResponse:j}=B instanceof ae.ZR?B.customData:B;if(!j)return null;if(!(B instanceof ae.ZR)&&"temporaryProof"in j&&"phoneNumber"in j)return N.P.credentialFromResult(B);const F=j.providerId;if(!F||F===N.p.PASSWORD)return null;let te;switch(F){case N.p.GOOGLE:te=N.V;break;case N.p.FACEBOOK:te=N.U;break;case N.p.GITHUB:te=N.W;break;case N.p.TWITTER:te=N.Z;break;default:const{oauthIdToken:xe,oauthAccessToken:lt,oauthTokenSecret:Ft,pendingToken:kt,nonce:nn}=j;return lt||Ft||xe||kt?kt?F.startsWith("saml.")?N.aO._create(F,kt):N.L._fromParams({providerId:F,signInMethod:F,pendingToken:kt,idToken:xe,accessToken:lt}):new N.X(F).credential({idToken:xe,accessToken:lt,rawNonce:nn}):null}return B instanceof ae.ZR?te.credentialFromError(B):te.credentialFromResult(B)}function sn(B,j){return j.catch(F=>{throw F instanceof ae.ZR&&function Mn(B,j){var F;const te=null===(F=j.customData)||void 0===F?void 0:F._tokenResponse;if("auth/multi-factor-auth-required"===j?.code)j.resolver=new si(B,N.aq(B,j));else if(te){const xe=Cr(j),lt=j;xe&&(lt.credential=xe,lt.tenantId=te.tenantId||void 0,lt.email=te.email||void 0,lt.phoneNumber=te.phoneNumber||void 0)}}(B,F),F}).then(F=>{const xe=F.user;return{operationType:F.operationType,credential:oi(F),additionalUserInfo:N.ao(F),user:zt.getOrCreate(xe)}})}function Ii(B,j){return ln.apply(this,arguments)}function ln(){return(ln=(0,d.Z)(function*(B,j){const F=yield j;return{verificationId:F.verificationId,confirm:te=>sn(B,F.confirm(te))}})).apply(this,arguments)}class si{constructor(j,F){this.resolver=F,this.auth=function Yn(B){return B.wrapped()}(j)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(j){return sn(Ir(this.auth),this.resolver.resolveSignIn(j))}}class zt{constructor(j){this._delegate=j,this.multiFactor=N.ar(j)}static getOrCreate(j){return zt.USER_MAP.has(j)||zt.USER_MAP.set(j,new zt(j)),zt.USER_MAP.get(j)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(j){return this._delegate.getIdTokenResult(j)}getIdToken(j){return this._delegate.getIdToken(j)}linkAndRetrieveDataWithCredential(j){return this.linkWithCredential(j)}linkWithCredential(j){var F=this;return(0,d.Z)(function*(){return sn(F.auth,N.a0(F._delegate,j))})()}linkWithPhoneNumber(j,F){var te=this;return(0,d.Z)(function*(){return Ii(te.auth,N.l(te._delegate,j,F))})()}linkWithPopup(j){var F=this;return(0,d.Z)(function*(){return sn(F.auth,N.d(F._delegate,j,ir))})()}linkWithRedirect(j){var F=this;return(0,d.Z)(function*(){return yield Fn(N.aH(F.auth)),N.g(F._delegate,j,ir)})()}reauthenticateAndRetrieveDataWithCredential(j){return this.reauthenticateWithCredential(j)}reauthenticateWithCredential(j){var F=this;return(0,d.Z)(function*(){return sn(F.auth,N.a1(F._delegate,j))})()}reauthenticateWithPhoneNumber(j,F){return Ii(this.auth,N.r(this._delegate,j,F))}reauthenticateWithPopup(j){return sn(this.auth,N.e(this._delegate,j,ir))}reauthenticateWithRedirect(j){var F=this;return(0,d.Z)(function*(){return yield Fn(N.aH(F.auth)),N.h(F._delegate,j,ir)})()}sendEmailVerification(j){return N.ae(this._delegate,j)}unlink(j){var F=this;return(0,d.Z)(function*(){return yield N.an(F._delegate,j),F})()}updateEmail(j){return N.aj(this._delegate,j)}updatePassword(j){return N.ak(this._delegate,j)}updatePhoneNumber(j){return N.u(this._delegate,j)}updateProfile(j){return N.ai(this._delegate,j)}verifyBeforeUpdateEmail(j,F){return N.af(this._delegate,j,F)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}zt.USER_MAP=new WeakMap;const or=N.aA;let Kn=(()=>{class B{constructor(F,te){if(this.app=F,te.isInitialized())return this._delegate=te.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:xe}=F.options;or(xe,"invalid-api-key",{appName:F.name}),or(xe,"invalid-api-key",{appName:F.name});const lt=typeof window<"u"?ir:void 0;this._delegate=te.initialize({options:{persistence:ar(xe,F.name),popupRedirectResolver:lt}}),this._delegate._updateErrorMap(N.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?zt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(F){this._delegate.languageCode=F}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(F){this._delegate.tenantId=F}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(F,te){N.I(this._delegate,F,te)}applyActionCode(F){return N.a5(this._delegate,F)}checkActionCode(F){return N.a6(this._delegate,F)}confirmPasswordReset(F,te){return N.a4(this._delegate,F,te)}createUserWithEmailAndPassword(F,te){var xe=this;return(0,d.Z)(function*(){return sn(xe._delegate,N.a8(xe._delegate,F,te))})()}fetchProvidersForEmail(F){return this.fetchSignInMethodsForEmail(F)}fetchSignInMethodsForEmail(F){return N.ad(this._delegate,F)}isSignInWithEmailLink(F){return N.ab(this._delegate,F)}getRedirectResult(){var F=this;return(0,d.Z)(function*(){or(Jr(),F._delegate,"operation-not-supported-in-this-environment");const te=yield N.j(F._delegate,ir);return te?sn(F._delegate,Promise.resolve(te)):{credential:null,user:null}})()}addFrameworkForLogging(F){!function He(B,j){(0,N.aH)(B)._logFramework(j)}(this._delegate,F)}onAuthStateChanged(F,te,xe){const{next:lt,error:Ft,complete:kt}=sr(F,te,xe);return this._delegate.onAuthStateChanged(lt,Ft,kt)}onIdTokenChanged(F,te,xe){const{next:lt,error:Ft,complete:kt}=sr(F,te,xe);return this._delegate.onIdTokenChanged(lt,Ft,kt)}sendSignInLinkToEmail(F,te){return N.aa(this._delegate,F,te)}sendPasswordResetEmail(F,te){return N.a3(this._delegate,F,te||void 0)}setPersistence(F){var te=this;return(0,d.Z)(function*(){let xe;switch(function _r(B,j){$n(Object.values(hn).includes(j),B,"invalid-persistence-type"),(0,ae.b$)()?$n(j!==hn.SESSION,B,"unsupported-persistence-type"):(0,ae.UG)()?$n(j===hn.NONE,B,"unsupported-persistence-type"):rr()?$n(j===hn.NONE||j===hn.LOCAL&&(0,ae.hl)(),B,"unsupported-persistence-type"):$n(j===hn.NONE||Er(),B,"unsupported-persistence-type")}(te._delegate,F),F){case hn.SESSION:xe=N.a;break;case hn.LOCAL:xe=(yield N.aC(N.i)._isAvailable())?N.i:N.b;break;case hn.NONE:xe=N.N;break;default:return N.av("argument-error",{appName:te._delegate.name})}return te._delegate.setPersistence(xe)})()}signInAndRetrieveDataWithCredential(F){return this.signInWithCredential(F)}signInAnonymously(){return sn(this._delegate,N._(this._delegate))}signInWithCredential(F){return sn(this._delegate,N.$(this._delegate,F))}signInWithCustomToken(F){return sn(this._delegate,N.a2(this._delegate,F))}signInWithEmailAndPassword(F,te){return sn(this._delegate,N.a9(this._delegate,F,te))}signInWithEmailLink(F,te){return sn(this._delegate,N.ac(this._delegate,F,te))}signInWithPhoneNumber(F,te){return Ii(this._delegate,N.s(this._delegate,F,te))}signInWithPopup(F){var te=this;return(0,d.Z)(function*(){return or(Jr(),te._delegate,"operation-not-supported-in-this-environment"),sn(te._delegate,N.c(te._delegate,F,ir))})()}signInWithRedirect(F){var te=this;return(0,d.Z)(function*(){return or(Jr(),te._delegate,"operation-not-supported-in-this-environment"),yield Fn(te._delegate),N.f(te._delegate,F,ir)})()}updateCurrentUser(F){return this._delegate.updateCurrentUser(F)}verifyPasswordResetCode(F){return N.a7(this._delegate,F)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return B.Persistence=hn,B})();function sr(B,j,F){let te=B;"function"!=typeof B&&({next:te,error:j,complete:F}=B);const xe=te;return{next:Ft=>xe(Ft&&zt.getOrCreate(Ft)),error:j,complete:F}}function ar(B,j){const F=function en(B,j){const F=vt();if(!F)return[];const te=N.aD(Zn,B,j);switch(F.getItem(te)){case hn.NONE:return[N.N];case hn.LOCAL:return[N.i,N.a];case hn.SESSION:return[N.a];default:return[]}}(B,j);if(typeof self<"u"&&!F.includes(N.i)&&F.push(N.i),typeof window<"u")for(const te of[N.b,N.a])F.includes(te)||F.push(te);return F.includes(N.N)||F.push(N.N),F}class Xr{constructor(){this.providerId="phone",this._delegate=new N.P(Ir(K.Z.auth()))}static credential(j,F){return N.P.credential(j,F)}verifyPhoneNumber(j,F){return this._delegate.verifyPhoneNumber(j,F)}unwrap(){return this._delegate}}Xr.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,Xr.PROVIDER_ID=N.P.PROVIDER_ID;const Wr=N.aA;class Pr{constructor(j,F,te=K.Z.app()){var xe;Wr(null===(xe=te.options)||void 0===xe?void 0:xe.apiKey,"invalid-api-key",{appName:te.name}),this._delegate=new N.R(j,F,te.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function q(B){B.INTERNAL.registerComponent(new Se.wA("auth-compat",j=>{const F=j.getProvider("app-compat").getImmediate(),te=j.getProvider("auth");return new Kn(F,te)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.Q,FacebookAuthProvider:N.U,GithubAuthProvider:N.W,GoogleAuthProvider:N.V,OAuthProvider:N.X,SAMLAuthProvider:N.Y,PhoneAuthProvider:Xr,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:Pr,TwitterAuthProvider:N.Z,Auth:Kn,AuthCredential:N.J,Error:ae.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),B.registerVersion("@firebase/auth-compat","0.4.2")}(K.Z)},5861:(St,Oe,U)=>{"use strict";function d(N,ae,fe,$,Se,Ee,Te){try{var X=N[Ee](Te),Y=X.value}catch(se){return void fe(se)}X.done?ae(Y):Promise.resolve(Y).then($,Se)}function K(N){return function(){var ae=this,fe=arguments;return new Promise(function($,Se){var Ee=N.apply(ae,fe);function Te(Y){d(Ee,$,Se,Te,X,"next",Y)}function X(Y){d(Ee,$,Se,Te,X,"throw",Y)}Te(void 0)})}}U.d(Oe,{Z:()=>K})},7582:(St,Oe,U)=>{"use strict";function ae(pe,Ae){var Pe={};for(var Le in pe)Object.prototype.hasOwnProperty.call(pe,Le)&&Ae.indexOf(Le)<0&&(Pe[Le]=pe[Le]);if(null!=pe&&"function"==typeof Object.getOwnPropertySymbols){var Je=0;for(Le=Object.getOwnPropertySymbols(pe);Je<Le.length;Je++)Ae.indexOf(Le[Je])<0&&Object.prototype.propertyIsEnumerable.call(pe,Le[Je])&&(Pe[Le[Je]]=pe[Le[Je]])}return Pe}function se(pe,Ae,Pe,Le){return new(Pe||(Pe=Promise))(function(He,Be){function bt(Et){try{yt(Le.next(Et))}catch(mn){Be(mn)}}function Nn(Et){try{yt(Le.throw(Et))}catch(mn){Be(mn)}}function yt(Et){Et.done?He(Et.value):function Je(He){return He instanceof Pe?He:new Pe(function(Be){Be(He)})}(Et.value).then(bt,Nn)}yt((Le=Le.apply(pe,Ae||[])).next())})}function ke(pe){return this instanceof ke?(this.v=pe,this):new ke(pe)}function De(pe,Ae,Pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,Le=Pe.apply(pe,Ae||[]),He=[];return Je={},Be("next"),Be("throw"),Be("return"),Je[Symbol.asyncIterator]=function(){return this},Je;function Be(Jt){Le[Jt]&&(Je[Jt]=function(vn){return new Promise(function(zr,Dn){He.push([Jt,vn,zr,Dn])>1||bt(Jt,vn)})})}function bt(Jt,vn){try{!function Nn(Jt){Jt.value instanceof ke?Promise.resolve(Jt.value.v).then(yt,Et):mn(He[0][2],Jt)}(Le[Jt](vn))}catch(zr){mn(He[0][3],zr)}}function yt(Jt){bt("next",Jt)}function Et(Jt){bt("throw",Jt)}function mn(Jt,vn){Jt(vn),He.shift(),He.length&&bt(He[0][0],He[0][1])}}function We(pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,Ae=pe[Symbol.asyncIterator];return Ae?Ae.call(pe):(pe=function ct(pe){var Ae="function"==typeof Symbol&&Symbol.iterator,Pe=Ae&&pe[Ae],Le=0;if(Pe)return Pe.call(pe);if(pe&&"number"==typeof pe.length)return{next:function(){return pe&&Le>=pe.length&&(pe=void 0),{value:pe&&pe[Le++],done:!pe}}};throw new TypeError(Ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(pe),Pe={},Le("next"),Le("throw"),Le("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe);function Le(He){Pe[He]=pe[He]&&function(Be){return new Promise(function(bt,Nn){!function Je(He,Be,bt,Nn){Promise.resolve(Nn).then(function(yt){He({value:yt,done:bt})},Be)}(bt,Nn,(Be=pe[He](Be)).done,Be.value)})}}}U.d(Oe,{FC:()=>De,KL:()=>We,_T:()=>ae,mG:()=>se,qq:()=>ke})}},St=>{St(St.s=4528)}]);